{"version":3,"sources":["webpack:///./app/assets/javascripts/oxalis/view/tracing_layout_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/action_bar_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/action-bar/dataset_actions_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/action-bar/merge_modal_view.coffee","webpack:///./app/assets/javascripts/oxalis/model/skeletontracing/user_annotation_collection.coffee","webpack:///./app/assets/javascripts/admin/views/selection_view.coffee","webpack:///./app/assets/javascripts/admin/views/selection_item_view.coffee","webpack:///./app/assets/javascripts/admin/models/user/user_collection.coffee","webpack:///./app/assets/javascripts/admin/models/pagination_collection.coffee","webpack:///./app/assets/javascripts/admin/models/team/team_collection.coffee","webpack:///./app/assets/javascripts/admin/models/team/team_model.coffee","webpack:///./app/assets/javascripts/admin/models/sorted_collection.coffee","webpack:///./app/assets/javascripts/admin/models/tasktype/task_type_collection.coffee","webpack:///./app/assets/javascripts/admin/models/tasktype/task_type_model.coffee","webpack:///./app/assets/javascripts/libs/format_utils.coffee","webpack:///./~/moment/moment.js","webpack:///./~/moment/locale ^\\.\\/.*$","webpack:///./~/moment/locale/af.js","webpack:///./~/moment/locale/ar.js","webpack:///./~/moment/locale/ar-ma.js","webpack:///./~/moment/locale/ar-sa.js","webpack:///./~/moment/locale/ar-tn.js","webpack:///./~/moment/locale/az.js","webpack:///./~/moment/locale/be.js","webpack:///./~/moment/locale/bg.js","webpack:///./~/moment/locale/bn.js","webpack:///./~/moment/locale/bo.js","webpack:///./~/moment/locale/br.js","webpack:///./~/moment/locale/bs.js","webpack:///./~/moment/locale/ca.js","webpack:///./~/moment/locale/cs.js","webpack:///./~/moment/locale/cv.js","webpack:///./~/moment/locale/cy.js","webpack:///./~/moment/locale/da.js","webpack:///./~/moment/locale/de.js","webpack:///./~/moment/locale/de-at.js","webpack:///./~/moment/locale/dv.js","webpack:///./~/moment/locale/el.js","webpack:///./~/moment/locale/en-au.js","webpack:///./~/moment/locale/en-ca.js","webpack:///./~/moment/locale/en-gb.js","webpack:///./~/moment/locale/en-ie.js","webpack:///./~/moment/locale/en-nz.js","webpack:///./~/moment/locale/eo.js","webpack:///./~/moment/locale/es.js","webpack:///./~/moment/locale/es-do.js","webpack:///./~/moment/locale/et.js","webpack:///./~/moment/locale/eu.js","webpack:///./~/moment/locale/fa.js","webpack:///./~/moment/locale/fi.js","webpack:///./~/moment/locale/fo.js","webpack:///./~/moment/locale/fr.js","webpack:///./~/moment/locale/fr-ca.js","webpack:///./~/moment/locale/fr-ch.js","webpack:///./~/moment/locale/fy.js","webpack:///./~/moment/locale/gd.js","webpack:///./~/moment/locale/gl.js","webpack:///./~/moment/locale/he.js","webpack:///./~/moment/locale/hi.js","webpack:///./~/moment/locale/hr.js","webpack:///./~/moment/locale/hu.js","webpack:///./~/moment/locale/hy-am.js","webpack:///./~/moment/locale/id.js","webpack:///./~/moment/locale/is.js","webpack:///./~/moment/locale/it.js","webpack:///./~/moment/locale/ja.js","webpack:///./~/moment/locale/jv.js","webpack:///./~/moment/locale/ka.js","webpack:///./~/moment/locale/kk.js","webpack:///./~/moment/locale/km.js","webpack:///./~/moment/locale/ko.js","webpack:///./~/moment/locale/ky.js","webpack:///./~/moment/locale/lb.js","webpack:///./~/moment/locale/lo.js","webpack:///./~/moment/locale/lt.js","webpack:///./~/moment/locale/lv.js","webpack:///./~/moment/locale/me.js","webpack:///./~/moment/locale/mk.js","webpack:///./~/moment/locale/ml.js","webpack:///./~/moment/locale/mr.js","webpack:///./~/moment/locale/ms.js","webpack:///./~/moment/locale/ms-my.js","webpack:///./~/moment/locale/my.js","webpack:///./~/moment/locale/nb.js","webpack:///./~/moment/locale/ne.js","webpack:///./~/moment/locale/nl.js","webpack:///./~/moment/locale/nn.js","webpack:///./~/moment/locale/pa-in.js","webpack:///./~/moment/locale/pl.js","webpack:///./~/moment/locale/pt.js","webpack:///./~/moment/locale/pt-br.js","webpack:///./~/moment/locale/ro.js","webpack:///./~/moment/locale/ru.js","webpack:///./~/moment/locale/se.js","webpack:///./~/moment/locale/si.js","webpack:///./~/moment/locale/sk.js","webpack:///./~/moment/locale/sl.js","webpack:///./~/moment/locale/sq.js","webpack:///./~/moment/locale/sr.js","webpack:///./~/moment/locale/sr-cyrl.js","webpack:///./~/moment/locale/ss.js","webpack:///./~/moment/locale/sv.js","webpack:///./~/moment/locale/sw.js","webpack:///./~/moment/locale/ta.js","webpack:///./~/moment/locale/te.js","webpack:///./~/moment/locale/th.js","webpack:///./~/moment/locale/tl-ph.js","webpack:///./~/moment/locale/tlh.js","webpack:///./~/moment/locale/tr.js","webpack:///./~/moment/locale/tzl.js","webpack:///./~/moment/locale/tzm.js","webpack:///./~/moment/locale/tzm-latn.js","webpack:///./~/moment/locale/uk.js","webpack:///./~/moment/locale/uz.js","webpack:///./~/moment/locale/vi.js","webpack:///./~/moment/locale/x-pseudo.js","webpack:///./~/moment/locale/zh-cn.js","webpack:///./~/moment/locale/zh-tw.js","webpack:///./app/assets/javascripts/admin/models/project/project_collection.coffee","webpack:///./app/assets/javascripts/admin/models/project/project_model.coffee","webpack:///external \"jsRoutes\"","webpack:///./app/assets/javascripts/oxalis/view/action-bar/share_modal_view.coffee","webpack:///./~/clipboard-js/clipboard.js","webpack:///./~/timers-browserify/main.js","webpack:///./app/assets/javascripts/oxalis/view/action-bar/dataset_position_view.coffee","webpack:///./app/assets/javascripts/libs/utils.coffee","webpack:///./app/assets/javascripts/libs/mjs.coffee","webpack:///./~/mjs/index.js","webpack:///./app/assets/javascripts/oxalis/view/action-bar/view_modes_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/action-bar/volume_actions_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/action-bar/skeleton_actions_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/tab_views/skeleton_plane_tab_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/abstract_tab_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/settings_views/skeleton_tracing_settings_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/settings_views/settings_view.coffee","webpack:///./~/backbone-subviews/backbone.subviews.js","webpack:///./app/assets/javascripts/oxalis/view/settings/category_views/tree_category_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/setting_views/number_setting_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/setting_views/abstract_setting_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/setting_views/checkbox_setting_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/category_views/category_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/category_views/node_category_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/setting_views/slider_setting_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/setting_views/button_setting_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/category_views/bounding_box_category_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/setting_views/text_input_setting_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/settings_views/plane_user_settings_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/category_views/controls_category_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/category_views/viewport_category_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/setting_views/dropdown_setting_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/category_views/tdview_category_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/category_views/isosurface_category_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/category_views/segmentation_category_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/category_views/abstracttree_category_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/settings_views/dataset_settings_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/category_views/colors_category_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/settings_views/layer_color_settings_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/setting_views/color_setting_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/category_views/quality_category_view.coffee","webpack:///./app/assets/javascripts/oxalis/model/settings/backbone_to_oxalis_adapter_model.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/tab_views/skeleton_arbitrary_tab_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/settings_views/arbitrary_user_settings_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/category_views/flight_category_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/tab_views/volume_tab_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/settings_views/volume_tracing_settings_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/category_views/cell_category_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/tab_views/viewmode_tab_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/settings/settings_views/help_logo_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/skeletontracing/skeletontracing_right_menu_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/skeletontracing/right-menu/comment_tab_view.coffee","webpack:///./app/assets/javascripts/libs/input.coffee","webpack:///./~/keyboardjs/index.js","webpack:///./~/keyboardjs/lib/keyboard.js","webpack:///./~/keyboardjs/lib/locale.js","webpack:///./~/keyboardjs/lib/key-combo.js","webpack:///./~/keyboardjs/locales/us.js","webpack:///./app/assets/javascripts/oxalis/view/skeletontracing/right-menu/comment_tab_item_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/skeletontracing/right-menu/abstract_tree_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/skeletontracing/abstract_tree_renderer.coffee","webpack:///./app/assets/javascripts/oxalis/view/skeletontracing/right-menu/list_tree_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/skeletontracing/right-menu/list_tree_item_view.coffee","webpack:///./~/three.js/examples/js/math/ColorConverter.js","webpack:///./~/three.js/build/three.js","webpack:///./app/assets/javascripts/oxalis/view/viewmode/right-menu/dataset_info_view.coffee","webpack:///./app/assets/javascripts/oxalis/controller/viewmodes/arbitrary_controller.coffee","webpack:///./~/tween.js/src/Tween.js","webpack:///./app/assets/javascripts/oxalis/geometries/arbitrary_plane.coffee","webpack:///./app/assets/javascripts/oxalis/geometries/materials/arbitrary_plane_material_factory.coffee","webpack:///./app/assets/javascripts/oxalis/geometries/materials/abstract_plane_material_factory.coffee","webpack:///./app/assets/javascripts/oxalis/geometries/materials/abstract_material_factory.coffee","webpack:///./app/assets/javascripts/oxalis/geometries/crosshair.coffee","webpack:///./app/assets/javascripts/oxalis/view/arbitrary_view.coffee","webpack:///./app/assets/javascripts/oxalis/geometries/arbitrary_plane_info.coffee","webpack:///./app/assets/javascripts/oxalis/view/volumetracing/volumetracing_right_menu_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/volumetracing/right-menu/mapping_info_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/viewmode/viewmode_right_menu_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/user_scripts_modal.coffee","webpack:///./app/assets/javascripts/oxalis/view/tracing_view.coffee","webpack:///./app/assets/javascripts/oxalis/controller.coffee","webpack:///./~/stats.js/src/Stats.js","webpack:///./app/assets/javascripts/oxalis/controller/viewmodes/plane_controller.coffee","webpack:///./~/three.js/examples/js/controls/TrackballControls.js","webpack:///./app/assets/javascripts/oxalis/controller/camera_controller.coffee","webpack:///./app/assets/javascripts/oxalis/model.coffee","webpack:///./app/assets/javascripts/oxalis/model/binary.coffee","webpack:///./app/assets/javascripts/oxalis/model/binary/interpolation_collector.coffee","webpack:///./app/assets/javascripts/oxalis/model/binary/cube.coffee","webpack:///./app/assets/javascripts/oxalis/model/binary/bucket.coffee","webpack:///./app/assets/javascripts/oxalis/model/binary/arbitrary_cube_adapter.coffee","webpack:///./app/assets/javascripts/oxalis/model/binary/temporal_bucket_manager.coffee","webpack:///./app/assets/javascripts/oxalis/model/binary/pullqueue.coffee","webpack:///./app/assets/javascripts/libs/multipart_data.coffee","webpack:///./app/assets/javascripts/oxalis/model/binary/pushqueue.coffee","webpack:///./app/assets/javascripts/oxalis/model/binary/plane2d.coffee","webpack:///./app/assets/javascripts/oxalis/model/dimensions.coffee","webpack:///./app/assets/javascripts/oxalis/model/binary/ping_strategy.coffee","webpack:///./app/assets/javascripts/oxalis/model/binary/ping_strategy_3d.coffee","webpack:///./app/assets/javascripts/oxalis/model/binary/polyhedron_rasterizer.coffee","webpack:///./app/assets/javascripts/oxalis/model/binary/bounding_box.coffee","webpack:///./app/assets/javascripts/oxalis/model/binary/mappings.coffee","webpack:///./app/assets/javascripts/libs/pipeline.coffee","webpack:///./app/assets/javascripts/libs/deferred.coffee","webpack:///./app/assets/javascripts/oxalis/model/skeletontracing/skeletontracing.coffee","webpack:///./app/assets/javascripts/libs/color_generator.coffee","webpack:///./app/assets/javascripts/oxalis/model/skeletontracing/tracepoint.coffee","webpack:///./app/assets/javascripts/oxalis/model/skeletontracing/tracetree.coffee","webpack:///./app/assets/javascripts/oxalis/model/skeletontracing/skeletontracing_statelogger.coffee","webpack:///./app/assets/javascripts/oxalis/model/statelogger.coffee","webpack:///./app/assets/javascripts/oxalis/model/helpers/restriction_handler.coffee","webpack:///./app/assets/javascripts/oxalis/model/skeletontracing/tracingparser.coffee","webpack:///./app/assets/javascripts/oxalis/model/right-menu/comments_collection.coffee","webpack:///./app/assets/javascripts/oxalis/model/user.coffee","webpack:///./app/assets/javascripts/oxalis/model/dataset_configuration.coffee","webpack:///./app/assets/javascripts/libs/nested_obj_model.coffee","webpack:///./app/assets/javascripts/oxalis/model/volumetracing/volumetracing.coffee","webpack:///./app/assets/javascripts/oxalis/model/volumetracing/volumecell.coffee","webpack:///./app/assets/javascripts/oxalis/model/volumetracing/volumelayer.coffee","webpack:///./app/assets/javascripts/libs/drawing.coffee","webpack:///./app/assets/javascripts/oxalis/model/volumetracing/volumetracing_statelogger.coffee","webpack:///./app/assets/javascripts/oxalis/model/binarydata_connection_info.coffee","webpack:///./app/assets/javascripts/oxalis/model/scaleinfo.coffee","webpack:///./app/assets/javascripts/oxalis/model/flycam2d.coffee","webpack:///./app/assets/javascripts/oxalis/model/flycam3d.coffee","webpack:///./app/assets/javascripts/oxalis/view.coffee","webpack:///./app/assets/javascripts/oxalis/view/modal.coffee","webpack:///./app/assets/javascripts/oxalis/view/plane_view.coffee","webpack:///./app/assets/javascripts/oxalis/controller/annotations/skeletontracing_controller.coffee","webpack:///./app/assets/javascripts/oxalis/controller/annotations/volumetracing_controller.coffee","webpack:///./app/assets/javascripts/oxalis/controller/combinations/skeletontracing_arbitrary_controller.coffee","webpack:///./app/assets/javascripts/oxalis/controller/combinations/skeletontracing_plane_controller.coffee","webpack:///./app/assets/javascripts/oxalis/controller/combinations/volumetracing_plane_controller.coffee","webpack:///./app/assets/javascripts/oxalis/controller/combinations/minimal_skeletontracing_arbitrary_controller.coffee","webpack:///./app/assets/javascripts/oxalis/controller/scene_controller.coffee","webpack:///./app/assets/javascripts/oxalis/geometries/plane.coffee","webpack:///./app/assets/javascripts/oxalis/geometries/materials/plane_material_factory.coffee","webpack:///./app/assets/javascripts/oxalis/geometries/skeleton.coffee","webpack:///./app/assets/javascripts/oxalis/geometries/tree.coffee","webpack:///./app/assets/javascripts/libs/resizable_buffer.coffee","webpack:///./app/assets/javascripts/oxalis/geometries/materials/particle_material_factory.coffee","webpack:///./app/assets/javascripts/oxalis/geometries/cube.coffee","webpack:///./app/assets/javascripts/oxalis/geometries/contourgeometry.coffee","webpack:///./app/assets/javascripts/oxalis/geometries/volumegeometry.coffee","webpack:///./app/assets/javascripts/oxalis/view/polygons/polygon_factory.coffee","webpack:///./app/assets/javascripts/oxalis/view/polygons/tlt.coffee","webpack:///./app/assets/javascripts/oxalis/controller/url_manager.coffee","webpack:///./app/assets/javascripts/oxalis/view/skeletontracing/skeletontracing_view.coffee","webpack:///./app/assets/javascripts/oxalis/view/volumetracing/volumetracing_view.coffee"],"names":[],"mappings":";;;;AAAA;GAAA;;;;;AAAA,cAA+B,oBAAQ,EAAR;;AAC/B,OAA+B,oBAAQ,EAAR;;AAC/B,iBAA+B,oBAAQ,EAAR;;AAC/B,wBAA+B,oBAAQ,GAAR;;AAC/B,4BAA+B,oBAAQ,GAAR;;AAC/B,iBAA+B,oBAAQ,GAAR;;AAC/B,mBAA+B,oBAAQ,GAAR;;AAC/B,gCAA+B,oBAAQ,GAAR;;AAC/B,8BAA+B,oBAAQ,GAAR;;AAC/B,yBAA+B,oBAAQ,GAAR;;AAC/B,wBAA+B,oBAAQ,GAAR;;AAC/B,eAA+B,oBAAQ,GAAR;;AAC/B,oBAA+B,oBAAQ,GAAR;;AAC/B,eAA+B,oBAAQ,GAAR;;AAC/B,aAA+B,oBAAQ,EAAR;;AAC/B,gCAA+B,oBAAQ,GAAR;;AAC/B,SAA+B,oBAAQ,GAAR;;AAEzB;;;;;;;;+BAEJ,SAAS;;+BAET,YAAY;;+BAEZ,gBAAgB,CAAC,CAAC,QAAF,CAAW,qSAAX;;+BAYhB,eAAe,CAAC,CAAC,QAAF,CAAW,iKAAX;;+BAQf,cAAc;KACZ,IAAG,IAAC,cAAD,EAAH;cACE,IAAC,eADH;MAAA;cAGE,IAAC,cAHH;;GADY;;+BAMd,KACE;KAAA,aAAc,aAAd;KACA,iBAAkB,iBADlB;;;+BAGF,UACE;KAAA,aAAc,aAAd;KACA,aAAc,aADd;KAEA,oBAAqB,UAFrB;KAGA,YAAa,gBAHb;KAIA,gBAAiB,gBAJjB;;;+BAMF,SACE;KAAA,8CAA+C,aAA/C;KACA,6CAA8C,aAD9C;;;+BAIF,aAAa,SAAC,OAAD;KAEX,IAAC,QAAD,GAAW,CAAC,CAAC,MAAF,CACT,EADS,EAET,OAFS,EAGT;OAAA,OAAY,gBAAY,OAAZ,CAAZ;MAHS;KAMX,IAAC,MAAD,GAAS,IAAC,QAAO,CAAC;KAClB,IAAC,QAAO,CAAC,YAAT,GAA4B,iCAA6B,IAAC,MAA9B;KAE5B,IAAC,SAAD,CAAU,IAAV,EAAa,QAAb,EAAuB,IAAC,YAAxB;KACA,IAAC,SAAD,CAAU,GAAG,CAAC,IAAd,EAAoB,eAApB,EAAqC,IAAC,gBAAtC;KACA,IAAC,SAAD,CAAU,IAAC,MAAX,EAAkB,aAAlB,EAAiC,IAAC,eAAlC;KACA,IAAC,SAAD,CAAU,IAAC,MAAX,EAAkB,MAAlB,EAA0B,IAAC,cAA3B;KACA,EAAE,MAAF,CAAS,CAAC,EAAV,CAAa,QAAb,EAAuB,IAAC,gBAAe,CAAC,IAAjB,CAAsB,IAAtB,CAAvB;KAEA,EAAE,kBAAF,CACE,CAAC,WADH,CACe,MADf,CAEE,CAAC,EAFH,CAEM,OAFN,EAEe,IAAC,qBAFhB;YAIA,GAAG,CAAC,MAAJ,GAAiB,qBAAiB,IAAC,QAAlB;GArBN;;+BAwBb,cAAc,SAAC,GAAD;YAEZ,IAAC,gBAAD;GAFY;;+BAKd,kBAAkB;AAEhB;KAAA,IAAG,IAAC,eAAD,EAAH;OAEE,eAAe,IAAC,GAAE,CAAC,SAAS,CAAC,QAAd;OACf,sBAAsB,IAAC,GAAE,CAAC,aAAa,CAAC,QAAlB,EAA4B,CAAC;OAEnD,WAAW,MAAM,CAAC,UAAP,GAAoB,YAAY,CAAC,IAAjC,GAAwC,mBAAxC,GAA8D,IAAC;OAE1E,IAAG,YAAY,CAAC,IAAb,GAAoB,MAAM,CAAC,UAA3B,IAA0C,WAAW,GAAxD;gBACE,IAAC,GAAE,CAAC,SAAS,CAAC,KAAd,CAAoB,QAApB,EADF;QAPF;;GAFgB;;+BAalB,gBAAgB;AAEd;KAAA,IAAC,OAAD;KAEA,gBAAoB,kBAAc,IAAC,QAAf;KACpB,cAAkB,gBAAY,IAAC,QAAb;KAElB,IAAC,iBAAgB,CAAC,IAAlB,CAAuB,WAAvB,EAAoC;OAAA,gBAAiB,IAAjB;MAApC;KAEA,IAAG,CAAI,IAAC,MAAK,CAAC,QAAQ,CAAC,sBAAvB;AACE,cADF;;KAGA,IAAC,UAAS,CAAC,IAAX,CAAgB,aAAhB,EAA+B;OAAA,gBAAiB,IAAjB;MAA/B;KAEA,IAAG,IAAC,eAAD,EAAH;OACE,IAAC,cAAD,GAAqB,iCAA6B,IAAC,QAA9B,EADvB;MAAA,MAEK,IAAG,IAAC,aAAD,EAAH;OACH,IAAC,cAAD,GAAqB,+BAA2B,IAAC,QAA5B,EADlB;MAAA;OAGH,IAAC,cAAD,GAAqB,0BAAsB,IAAC,QAAvB,EAHlB;;KAKL,IAAC,UAAS,CAAC,IAAX,CAAgB,IAAC,cAAjB;KACA,IAAC,eAAD;YACA,IAAC,0BAAD;GAvBc;;+BA0BhB,uBAAuB,SAAC,KAAD;AAErB;KAAA,KAAK,CAAC,cAAN;KACA,YAAgB;KAChB,IAAC,aAAY,CAAC,IAAd,CAAmB,SAAnB;YACA,SAAS,CAAC,IAAV;GALqB;;+BAQvB,4BAA4B;AAI1B;KAAA,IAAU,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAvB,CAA+B,mBAA/B,IAAsD,CAAtD,IAA+D,iCAAzE;AAAA;;KAEA,WAAW,IAAC,MAAK,CAAC,OAAO,CAAC,IAAI,CAAC;KAC/B,QAAQ,+BAA6B,QAAQ,CAAC;KAC9C,IAAG,QAAQ,CAAC,WAAZ;OACE,OAAO,uEAAqE,QAAQ,CAAC,YADvF;MAAA;OAGE,OAAO,sDAHT;;YAIA,KAAK,CAAC,IAAN,CAAW,IAAX,EAAiB,KAAjB;GAZ0B;;+BAe5B,iBAAiB;AAIf;KAAA,KAAc,IAAC,MAAK,CAAC,WAArB;AAAA;;KAEA,IAAG,IAAC,eAAD,EAAH;OACE,mBAAsB,IAAC,gBAAD,EAAH,GAA2B,wBAA3B,GAAyD;OAC5E,kBAAsB,qBAAiB,IAAC,QAAlB,EAFxB;MAAA,MAGK,IAAG,IAAC,aAAD,EAAH;OACH,kBAAsB,kBAAc,IAAC,QAAf,EADnB;MAAA;OAGH,kBAAsB,oBAAgB,IAAC,QAAjB,EAHnB;;YAKL,IAAC,SAAQ,CAAC,IAAV,CAAe,eAAf;GAde;;+BAiBjB,gBAAgB;AAEd,YAAO,IAAC,MAAK,CAAC,GAAP,CAAW,aAAX,MAA6B,SAAS,CAAC;GAFhC;;+BAKhB,iBAAiB;AAEf;AAAA,YAAO,WAAC,MAAK,CAAC,GAAP,CAAW,MAAX,gBAAsB,SAAS,CAAC,cAAhC,gBAAkD,IAAC,cAAD;GAF1C;;+BAKjB,eAAe;AAEb,YAAO,IAAC,MAAK,CAAC,GAAP,CAAW,MAAX,MAAsB,SAAS,CAAC,WAAhC,IAA+C,IAAC,cAAD;GAFzC;;+BAKf,kBAAkB;AAEhB;AAAA,kBAAO,IAAC,MAAK,CAAC,GAAP,CAAW,MAAX,gBAAsB,SAAS,CAAC,eAAhC;GAFS;;+BAKlB,YAAY;KAEV,EAAE,kBAAF,CACE,CAAC,QADH,CACY,MADZ,CAEE,CAAC,GAFH,CAEO,OAFP;YAGA,GAAG,CAAC,MAAJ,GAAa;GALH;;;;IAhLkB,UAAU,CAAC;;AAuL3C,OAAM,CAAC,OAAP,GAAiB;;;;;;;;ACzMjB;GAAA;;;AAAA,KAAsB,oBAAQ,CAAR;;AACtB,cAAsB,oBAAQ,EAAR;;AACtB,sBAAsB,oBAAQ,EAAR;;AACtB,uBAAsB,oBAAQ,GAAR;;AACtB,iBAAsB,oBAAQ,GAAR;;AACtB,qBAAsB,oBAAQ,GAAR;;AACtB,uBAAsB,oBAAQ,GAAR;;AACtB,aAAsB,oBAAQ,EAAR;;AAEhB;;;;;;;2BAEJ,YAAY;;2BAEZ,WAAW,CAAC,CAAC,QAAF,CAAW,yoBAAX;;2BA4BX,kBAAkB;YAEhB;OAAA,aAAc,IAAC,YAAD,EAAd;OACA,cAAe,IAAC,aAAD,EADf;;GAFgB;;2BAMlB,UACE;KAAA,wBAAyB,kBAAzB;KACA,mBAAoB,mBADpB;KAEA,aAAc,aAFd;KAGA,iBAAkB,iBAHlB;KAIA,mBAAoB,mBAJpB;;;2BAOF,aAAa,SAAC,OAAD;KAEX,IAAC,oBAAD,GAA2B,wBAAoB,OAApB;KAE3B,IAAG,IAAC,YAAD,EAAH;OACE,IAAC,mBAAD,GAA0B,uBAAmB,OAAnB;OAE1B,IAAG,IAAC,aAAD,EAAH;SACE,IAAC,kBAAD,GAAyB,sBAAkB,OAAlB,EAD3B;QAAA;SAGE,IAAC,cAAD,GAAqB,kBAAc,OAAd;SACrB,IAAC,oBAAD,GAA2B,wBAAoB,OAApB,EAJ7B;QAHF;;YAUA,IAAC,SAAD,CAAU,IAAV,EAAa,QAAb,EAAuB,IAAC,YAAxB;GAdW;;2BAiBb,cAAc;KAEZ,IAAC,gBAAe,CAAC,IAAjB,CAAsB,IAAC,oBAAvB;KAEA,IAAG,IAAC,YAAD,EAAH;OACE,IAAC,qBAAoB,CAAC,IAAtB,CAA2B,IAAC,mBAA5B;OAEA,IAAG,IAAC,aAAD,EAAH;gBACE,IAAC,cAAa,CAAC,IAAf,CAAoB,IAAC,kBAArB,EADF;QAAA;SAGE,IAAC,UAAS,CAAC,IAAX,CAAgB,IAAC,cAAjB;gBACA,IAAC,gBAAe,CAAC,IAAjB,CAAsB,IAAC,oBAAvB,EAJF;QAHF;;GAJY;;2BAcd,cAAc;AAEZ,YAAO,IAAC,MAAK,CAAC,GAAP,CAAW,aAAX,MAA6B,SAAS,CAAC;GAFlC;;2BAKd,eAAe;AAEb,YAAO,IAAC,MAAK,CAAC,GAAP,CAAW,MAAX,MAAsB,SAAS,CAAC;GAF1B;;;;IAlFW,UAAU,CAAC;;AAuFvC,OAAM,CAAC,OAAP,GAAiB;;;;;;;AChGjB;GAAA;;;AAAA,KAAiB,oBAAQ,CAAR;;AACjB,cAAiB,oBAAQ,EAAR;;AACjB,OAAiB,oBAAQ,EAAR;;AACjB,SAAiB,oBAAQ,EAAR;;AACjB,WAAiB,oBAAQ,EAAR;;AACjB,kBAAiB,oBAAQ,EAAR;;AACjB,kBAAiB,oBAAQ,GAAR;;AACjB,aAAiB,oBAAQ,EAAR;;AAEX;;;;;;;gCAEJ,WAAW,CAAC,CAAC,QAAF,CAAW,osCAAX;;gCA0BX,kBAAkB;YAEhB;OAAA,gBAAiB,IAAC,eAAD,EAAjB;;GAFgB;;gCAIlB,SACE;KAAA,8BAA+B,eAA/B;KACA,gCAAiC,iBADjC;KAEA,4BAA6B,aAF7B;KAGA,6BAA8B,cAH9B;KAIA,6BAA8B,cAJ9B;KAKA,iCAAkC,aALlC;;;gCAOF,KACE;KAAA,gBAAiB,sBAAjB;;;gCAGF,gBAAgB,SAAC,GAAD;KAEd,GAAG,CAAC,cAAJ;YACA,IAAC,YAAD,EAAc,CAAC,IAAf,CAAqB;cAAA;SACnB,IAAG,QAAQ,2DAAR,CAAH;kBACE,GAAG,CAAC,MAAM,CAAC,OAAX,CAAmB,GAAG,CAAC,aAAa,CAAC,IAArC,EADF;;OADmB;KAAA,QAArB;GAHc;;gCAShB,kBAAkB,SAAC,GAAD;KAEhB,GAAG,CAAC,cAAJ;YACA,IAAC,YAAD,EAAc,CAAC,IAAf,CAAqB;cAAA;gBACnB,MAAM,CAAC,IAAP,CAAY,KAAC,MAAK,CAAC,OAAO,CAAC,WAA3B,EAAwC,QAAxC;OADmB;KAAA,QAArB;GAHgB;;gCAQlB,cAAc,SAAC,GAAD;KAEZ,IAAG,GAAH;OACE,GAAG,CAAC,cAAJ,GADF;;AAGA,YAAO,IAAC,MAAK,CAAC,IAAP;GALK;;gCAOd,eAAe;AAEb;KAAA,YAAgB,mBAAe;OAAE,OAAD,IAAC,MAAF;MAAf;KAChB,IAAC,GAAE,CAAC,YAAY,CAAC,IAAjB,CAAsB,SAAS,CAAC,MAAV,EAAkB,CAAC,EAAzC;YACA,SAAS,CAAC,IAAV;GAJa;;gCAOf,eAAe;AAGX;KAAA,QAAQ,IAAC,MAAK,CAAC,eAAP,IAA0B,IAAC,MAAK,CAAC;KACzC,KAAK,CAAC,WAAW,CAAC,IAAlB;KAEA,YAAgB,mBAAe;OAAE,OAAD,IAAC,MAAF;MAAf;KAChB,IAAC,GAAE,CAAC,YAAY,CAAC,IAAjB,CAAsB,SAAS,CAAC,MAAV,EAAkB,CAAC,EAAzC;YACA,SAAS,CAAC,IAAV;GARW;;gCAWf,iBAAiB;AAEf,YAAO,CAAC,CAAC,QAAF,CAAW,SAAS,CAAC,cAArB,EAAqC,IAAC,MAAK,CAAC,GAAP,CAAW,MAAX,CAArC;GAFQ;;gCAKjB,cAAc;AAEZ;KAAA,cAAc,IAAC,MAAK,CAAC,eAAP,IAA0B,IAAC,MAAK,CAAC;YAE/C,WAAW,CAAC,WAAW,CAAC,IAAxB,EACI,CAAC,IADL,CACU;cAAA;gBAAG,OAAO,CAAC,CAAR,CAAU,OAAO,CAAC,cAAR,CAAuB,kBAAgB,KAAC,MAAK,CAAC,WAAvB,GAAmC,GAAnC,GAAsC,KAAC,MAAK,CAAC,SAA7C,GAAuD,SAA9E,CAAV;OAAH;KAAA,QADV,CAEI,CAAC,IAFL,CAEU;cAAA;gBACJ,OAAO,CAAC,CAAR,CAAU,OAAO,CAAC,WAAR,CAAoB,qBAApB,CAAV,CAAqD,CAAC,IAAtD,CACE,SAAC,UAAD;AACE;WAAA,oBAAoB,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,EAArB,oDAA8C,CAAE,IAAI,CAAC;WACzE,yBAA4B,iBAAH,GAA0B,oBAA1B,GAAoD;kBAC7E,GAAG,CAAC,MAAM,CAAC,OAAX,CAAmB,kBAAgB,UAAU,CAAC,GAA3B,GAA+B,GAA/B,GAAkC,UAAU,CAAC,EAA7C,GAAkD,sBAArE;SAHF,CADF,EAKE;kBAEE,WAAW,CAAC;oBAAG,GAAG,CAAC,MAAM,CAAC,OAAX,CAAmB,YAAnB;WAAH,CAAD,CAAX,EAAkD,IAAlD;SAFF,CALF;OADI;KAAA,QAFV;GAJY;;;;IA3FiB,UAAU,CAAC;;AA6G5C,OAAM,CAAC,OAAP,GAAiB;;;;;;;ACtHjB;GAAA;;;AAAA,KAA2B,oBAAQ,CAAR;;AAC3B,cAA2B,oBAAQ,EAAR;;AAC3B,SAA2B,oBAAQ,EAAR;;AAC3B,WAA2B,oBAAQ,EAAR;;AAC3B,OAA2B,oBAAQ,EAAR;;AAC3B,4BAA2B,oBAAQ,EAAR;;AAC3B,iBAA2B,oBAAQ,EAAR;;AAC3B,kBAA2B,oBAAQ,EAAR;;AAC3B,kBAA2B,oBAAQ,EAAR;;AAC3B,sBAA2B,oBAAQ,EAAR;;AAC3B,qBAA2B,oBAAQ,GAAR;;AAC3B,gBAA2B,oBAAQ,GAAR;;AAC3B,YAA2B,oBAAQ,GAAR;;AAErB;;;;;;;4BAEJ,YAAY;;4BACZ,WAAW,CAAC,CAAC,QAAF,CAAW,2tGAAX;;4BAqFX,UACE;KAAA,YAAgB,YAAhB;KACA,WAAgB,UADhB;;;4BAGF,SACE;KAAA,0BAAoC,eAApC;KACA,wBAAoC,cADpC;KAEA,oBAAoC,UAFpC;KAGA,2BAAoC,aAHpC;KAIA,mCAAoC,aAJpC;KAKA,4BAAoC,kBALpC;KAMA,uBAAoC,aANpC;;;4BAQF,KACE;KAAA,YAAyB,YAAzB;KACA,WAAyB,UADzB;KAEA,eAAyB,cAFzB;KAGA,wBAAyB,0BAHzB;KAIA,mBAAyB,oBAJzB;KAKA,kBAAyB,mBALzB;KAMA,aAAyB,OANzB;;;4BASF,aAAa;YAEX,IAAC,IAAD,GAAO;GAFI;;4BAKb,OAAO;KAEL,IAAC,IAAG,CAAC,KAAL,CAAW,MAAX;YAEA,OAAO,CAAC,WAAR,CAAoB,WAApB,CAAgC,CAAC,IAAjC,CAAuC;cAAA,SAAC,IAAD;SAErC,KAAC,sBAAD,GAA6B,kBAC3B;WAAA,YAAkB,wBAAlB;WACA,kBACE;aAAA,YAAY;AAAG,sBAAO,KAAE,CAAC,IAAC,MAAK,CAAC,GAAP,CAAW,SAAX,CAAD;aAAZ,CAAZ;YAFF;UAD2B;SAK7B,KAAC,qBAAD,GAA4B,kBAC1B;WAAA,YAAkB,uBAAlB;WACA,kBACE;aAAA,YAAY;AAAG,sBAAO,KAAE,CAAC,IAAC,MAAK,CAAC,GAAP,CAAW,MAAX,CAAD;aAAZ,CAAZ;YAFF;UAD0B;SAM5B,KAAC,SAAW,CAAC,IAAb,CAAkB,KAAC,sBAAnB;gBACA,KAAC,QAAW,CAAC,IAAb,CAAkB,KAAC,qBAAnB;OAdqC;KAAA,QAAvC;GAJK;;4BAqBP,gBAAgB;AAEd;KAAA,aAAa,IAAC,GAAE,CAAC,QAAQ,CAAC,IAAb,CAAkB,kBAAlB,CAAqC,CAAC,IAAtC,CAA2C,IAA3C;KACb,MAAM,mCAAiC,UAAjC,GAA4C,SAA5C,GAAoD,CAAC,IAAC,MAAK,CAAC,GAAP,CAAW,aAAX,CAAD,CAApD,GAA+E,GAA/E,GAAiF,CAAC,IAAC,MAAK,CAAC,GAAP,CAAW,WAAX,CAAD;YACvF,IAAC,MAAD,CAAO,GAAP;GAJc;;4BAOhB,eAAe;AAEb;KAAA,YAAY,IAAC,GAAE,CAAC,OAAO,CAAC,IAAZ,CAAiB,kBAAjB,CAAoC,CAAC,IAArC,CAA0C,OAA1C;KACZ,MAAM,kCAAgC,SAAhC,GAA0C,SAA1C,GAAkD,CAAC,IAAC,MAAK,CAAC,GAAP,CAAW,aAAX,CAAD,CAAlD,GAA6E,GAA7E,GAA+E,CAAC,IAAC,MAAK,CAAC,GAAP,CAAW,WAAX,CAAD;YACrF,IAAC,MAAD,CAAO,GAAP;GAJa;;4BAOf,WAAW;AAET;KAAA,IAAG,IAAC,IAAJ;OACE,MAAM,kBAAgB,IAAC,IAAG,CAAC,GAArB,GAAyB,GAAzB,GAA4B,IAAC,IAAG,CAAC,EAAjC,GAAoC,SAApC,GAA4C,CAAC,IAAC,MAAK,CAAC,GAAP,CAAW,aAAX,CAAD,CAA5C,GAAuE,GAAvE,GAAyE,CAAC,IAAC,MAAK,CAAC,GAAP,CAAW,WAAX,CAAD;cAC/E,IAAC,MAAD,CAAO,GAAP,EAFF;MAAA;cAIE,KAAK,CAAC,KAAN,CAAY,wBAAZ,EAJF;;GAFS;;4BASX,mBAAmB;AAEjB;KAAA,gBAAgB,IAAC,GAAE,CAAC,WAAW,CAAC,IAAhB,CAAqB,OAArB,CAA6B,CAAC,GAA9B;YAChB,IAAC,WAAD,CAAY,aAAZ,CAA0B,CAAC,IAA3B,CAAiC;cAAA;AAC/B;SAAA,MAAM,gCAA8B,aAA9B,GAA4C,SAA5C,GAAoD,CAAC,KAAC,MAAK,CAAC,GAAP,CAAW,aAAX,CAAD,CAApD,GAA+E,GAA/E,GAAiF,CAAC,KAAC,MAAK,CAAC,GAAP,CAAW,WAAX,CAAD;gBACvF,KAAC,MAAD,CAAO,GAAP;OAF+B;KAAA,QAAjC;GAHiB;;4BASnB,QAAQ,SAAC,GAAD;AAEN;KAAA,WAAW,QAAQ,CAAC,cAAT,CAAwB,oBAAxB,CAA6C,CAAC;YAEzD,OAAO,CAAC,WAAR,CAAuB,GAAD,GAAK,GAAL,GAAQ,QAA9B,CAAyC,CAAC,IAA1C,CAAgD,SAAC,UAAD;AAE9C;OAAA,KAAK,CAAC,OAAN,CAAc,UAAU,CAAC,QAAzB;OAEA,cAAc,kBAAgB,UAAU,CAAC,GAA3B,GAA+B,GAA/B,GAAkC,UAAU,CAAC;cAE3D,GAAG,CAAC,MAAM,CAAC,OAAX,CAAmB,WAAnB;KAN8C,CAAhD;GAJM;;4BAeR,cAAc,SAAC,KAAD;KAEZ,IAAG,IAAC,GAAE,CAAC,SAAU,GAAE,CAAC,KAAK,CAAC,MAA1B;cACE,IAAC,GAAE,CAAC,oBAAoB,CAAC,MAAzB,GADF;;GAFY;;4BAMd,aAAa,SAAC,KAAD;KAEX,IAAC,GAAE,CAAC,eAAe,CAAC,WAApB,CAAgC,MAAhC,EAAwC,KAAxC;YACA,IAAC,GAAE,CAAC,cAAc,CAAC,WAAnB,CAA+B,MAA/B,EAAuC,CAAC,KAAxC;GAHW;;4BAMb,cAAc,SAAC,KAAD;AAEZ;KAAA,KAAK,CAAC,cAAN;KACA,IAAC,WAAD,CAAY,KAAZ;KAEA,OAAO,IAAC,GAAE,CAAC;YAEX,OAAO,CAAC,MAAR,CACE,OAAO,CAAC,4BAAR,CACE,IAAI,CAAC,IAAL,CAAU,QAAV,CADF,EAEE;OAAA,MAAW,aAAS,IAAK,GAAd,CAAX;MAFF,CAGC,CAAC,IAHF,CAGO;cAAA,SAAC,IAAD;SACL,KAAC,IAAD,GAAO,IAAI,CAAC;gBACZ,KAAK,CAAC,OAAN,CAAc,IAAI,CAAC,QAAnB;OAFK;KAAA,QAHP,CADF,EAQE;cAAA;gBAAG,KAAC,WAAD,CAAY,IAAZ;OAAH;KAAA,QARF;GAPY;;4BAmBd,aAAa,SAAC,EAAD;YAEX,OAAO,CAAC,WAAR,CAAoB,iBAAe,EAAf,GAAkB,UAAtC;GAFW;;;;IAvNc,UAAU,CAAC;;AA4NxC,OAAM,CAAC,OAAP,GAAiB;;;;;;;AC1OjB;GAAA;;;AAAA,KAAuB,oBAAQ,CAAR;;AACvB,YAAuB,oBAAQ,CAAR;;AAEjB;;;;;;;sCAEJ,MAAM;YAAG,gBAAc,IAAC,OAAf,GAAsB;GAAzB;;sCAEN,aAAa,SAAC,MAAD,EAAS,OAAT;KAEX,IAAC,OAAD,GAAU,OAAO,CAAC;YAClB,IAAC,YAAD,GAAe,OAAO,CAAC;GAHZ;;sCAKb,QAAQ,SAAC,QAAD;KACN,IAAG,IAAC,YAAJ;AACE,cAAO,CAAC,CAAC,MAAF,CAAS,QAAT,EAAmB;SAAA,aAAc,IAAC,YAAf;QAAnB,EADT;MAAA;AAGE,cAAO,SAHT;;GADM;;;;IAT6B,QAAQ,CAAC;;AAgBhD,OAAM,CAAC,OAAP,GAAiB;;;;;;;ACnBjB;GAAA;;;AAAA,KAAoB,oBAAQ,CAAR;;AACpB,cAAoB,oBAAQ,EAAR;;AACpB,qBAAoB,oBAAQ,EAAR;;AAEd;;;;;;;2BAEJ,UAAU;;2BACV,YAAY;;2BACZ,aAAa;AACX,YAAO;OACL,MAAO,IAAC,QAAO,CAAC,IADX;OAEL,UAAW,IAAC,QAAO,CAAC,QAFf;;GADI;;2BAMb,YAAY;;2BAEZ,aAAa,SAAC,OAAD;KAGX,IAAG,OAAO,CAAC,WAAX;OACE,IAAC,SAAD,CAAU,IAAV,EAAa,MAAb,EAAqB,IAAC,YAAtB,EADF;;YAGA,IAAC,WAAU,CAAC,KAAZ,CACE;OAAA,MAAO,OAAO,CAAC,IAAf;MADF;GANW;;2BAWb,cAAc;YAEZ,IAAC,IAAG,CAAC,OAAL,CAAa,mBAAb;GAFY;;;;IAvBY,UAAU,CAAC;;AA4BvC,OAAM,CAAC,OAAP,GAAiB;;;;;;;AChCjB;GAAA;;;AAAA,KAAa,oBAAQ,CAAR;;AACb,cAAa,oBAAQ,EAAR;;AAEP;;;;;;;+BAEJ,UAAU;;+BACV,aAAa;AAEX;KAAA,WACE;OAAA,IAAK,IAAC,MAAK,CAAC,GAAP,CAAW,IAAX,CAAL;OACA,OAAQ,IAAC,QAAO,CAAC,UAAT,EADR;;KAGF,IAAG,IAAC,QAAO,CAAC,WAAZ;aACmB,CAAC,CAAC,KAAF,CAAQ,IAAC,QAAO,CAAC,WAAjB,MAAf,cAAK;OACP,IAAG,IAAC,MAAK,CAAC,GAAP,CAAW,GAAX,MAAmB,KAAtB;SACE,CAAC,CAAC,MAAF,CAAS,QAAT,EAAmB;WAAA,UAAW,IAAX;UAAnB,EADF;QAFF;;AAKA,YAAO;GAXI;;+BAab,WAAW,CAAC,CAAC,QAAF,CAAW,cAAX;;+BAIX,aAAa,SAAC,OAAD;KAGX,IAAC,WAAD,GAAc,OAAO,CAAC;KAGtB,IAAC,WAAD,GAAc,OAAO,CAAC;YAEtB,IAAC,SAAD,CAAU,IAAV,EAAa,QAAb,EAAuB,IAAC,YAAxB;GARW;;+BAWb,gBAAgB;AAEd;KAAA,QAAW,IAAC,WAAJ,GAAoB,IAAC,WAAD,EAApB,GAAuC,IAAC,WAAD;AAE/C,YAAO;OACL,OAAQ,IAAC,WAAD,EADH;OAEL,OAAQ,KAFH;OAGL,IAAK,IAAC,MAAK,CAAC,GAAP,CAAW,IAAX,CAHA;;GAJO;;;;IA/Bc,UAAU,CAAC;;AA0C3C,OAAM,CAAC,OAAP,GAAiB;;;;;;;AC7CjB;GAAA;;;AAAA,wBAAuB,oBAAQ,EAAR;;AAEjB;;;;;;;4BAEJ,MAAM;;4BACN,gBAAgB;;4BAEhB,QACE;KAAA,UAAW,EAAX;;;;;IANyB;;AAQ7B,OAAM,CAAC,OAAP,GAAiB;;;;;;;ACVjB;GAAA;;AAAA,KAAqB,oBAAQ,CAAR;;AACrB,YAAqB,oBAAQ,CAAR;;AAEf;GAEU,8BAAC,MAAD,EAAS,OAAT;AAEZ;KAAA,CAAC,CAAC,MAAF,CAAS,IAAT,EAAe,QAAQ,CAAC,MAAxB;KAEA,sBAAG,OAAO,CAAE,uBAAZ;OACE,IAAC,eAAD,GAAkB,OAAO,CAAC,eAD5B;MAAA;OAGE,IAAC,eAAD,GAAsB,YAAQ,CAAC,UAAT,CAAoB,MAApB,EAA4B,OAA5B;OACtB,IAAG,IAAC,WAAJ;SACE,IAAC,WAAU,CAAC,IAAZ,CAAiB,IAAC,eAAlB,EAAkC,MAAlC,EAA0C,OAA1C,EADF;QAJF;;KAOA,IAAG,kBAAH;OACE,IAAC,eAAc,CAAC,KAAhB,GAAwB,IAAC,OAD3B;;KAEA,IAAG,gBAAH;OACE,IAAC,eAAc,CAAC,GAAhB,GAAwB,IAAC,KAD3B;;KAEA,IAAG,kBAAH;OACE,IAAC,eAAc,CAAC,KAAhB,GAAwB,IAAC,OAD3B;;KAEA,IAAG,wBAAH;OACE,IAAC,eAAc,CAAC,WAAhB,GAA8B,IAAC,aADjC;;KAGA,IAAC,cAAD,GAAiB,IAAC,eAAc,CAAC,MAAM,CAAC,KAAvB;KACjB,IAAC,MAAD,GAAS,CAAC,CAAC,QAAF,6CAA6B,EAA7B,EACP;OAAA,UAAW,EAAX;OACA,aAAc,CADd;OAEA,SAAU,IAFV;OAGA,QAAS,IAHT;OAIA,kBAAmB,IAJnB;OAKA,aAAc,EALd;MADO;KAST,IAAG,IAAC,cAAJ;OACE,IAAC,QAAD,CAAS,IAAC,cAAV,EAAyB,KAAzB,EADF;;KAGA,IAAC,OAAD,GAAU,IAAI,CAAC,GAAL,CAAS,IAAC,MAAK,CAAC,QAAhB,EAA0B,IAAC,eAAc,CAAC,MAA1C;KACV,IAAC,OAAD,GAAU,IAAC,cAAa,CAAC,KAAf,CAAqB,CAArB,EAAwB,IAAC,OAAzB;KAEV,IAAC,SAAD,CAAU,IAAC,eAAX,EAA2B,OAA3B,EAAoC,IAAC,OAArC;KACA,IAAC,SAAD,CAAU,IAAC,eAAX,EAA2B,KAA3B,EAAkC,IAAC,kBAAD,CAAmB,KAAnB,CAAlC;KACA,IAAC,SAAD,CAAU,IAAC,eAAX,EAA2B,QAA3B,EAAqC,IAAC,kBAAD,CAAmB,QAAnB,CAArC;KACA,IAAC,SAAD,CAAU,IAAC,eAAX,EAA2B,MAA3B,EAAmC,IAAC,kBAAD,CAAmB,MAAnB,CAAnC;KAEA,IAAC,OAAD,GAAU,CAAC,CAAC,QAAF,CAAW,IAAC,OAAZ,EAAoB,EAApB;AACV;GA1CY;;kCA6Cd,MAAM;YACJ,IAAC,eAAc,CAAC,GAAG,CAAC,KAApB,CAA0B,IAAC,eAA3B,EAA2C,SAA3C;GADI;;kCAGN,SAAS;YACP,IAAC,eAAc,CAAC,MAAM,CAAC,KAAvB,CAA6B,IAAC,eAA9B,EAA8C,SAA9C;GADO;;kCAGT,MAAM;YACJ,IAAC,eAAc,CAAC,GAAG,CAAC,KAApB,CAA0B,IAAC,eAA3B,EAA2C,SAA3C;GADI;;kCAGN,QAAQ;YACN,IAAC,eAAc,CAAC,KAAK,CAAC,KAAtB,CAA4B,IAAC,eAA7B,EAA6C,SAA7C;GADM;;kCAGR,SAAS;YACP,IAAC,eAAc,CAAC,MAAM,CAAC,KAAvB,CAA6B,IAAC,eAA9B,EAA8C,SAA9C;GADO;;kCAGT,QAAQ;YACN,IAAC,eAAc,CAAC,KAAK,CAAC,KAAtB,CAA4B,IAAC,eAA7B,EAA6C,SAA7C;GADM;;kCAIR,cAAc,SAAC,QAAD;KACZ,IAAC,MAAK,CAAC,QAAP,GAAkB;KAClB,IAAC,OAAD;GAFY;;kCAMd,aAAa,SAAC,KAAD,EAAQ,KAAR;KACX,IAAC,QAAD,CAAS,KAAT,EAAgB,KAAhB;GADW;;kCAKb,UAAU,SAAC,KAAD,EAAQ,KAAR;KAER,IAAG,UAAS,KAAZ;OACE,QAAQ,EADV;;KAEA,IAAG,UAAS,MAAZ;OACE,QAAQ,CAAC,EADX;;KAGA,IAAC,MAAK,CAAC,OAAP,GAAiB,SAAC,IAAD,EAAO,KAAP;AACf;OAAA,YAAa,IAAI,CAAC,GAAL,CAAS,KAAT;OACb,aAAa,KAAK,CAAC,GAAN,CAAU,KAAV;OACN,IAAG,CAAC,CAAC,QAAF,CAAW,SAAX,KAAyB,CAAC,CAAC,QAAF,CAAW,UAAX,CAA5B;SACH,IAAG,QAAQ,CAAX;kBACE,SAAS,CAAC,aAAV,CAAwB,UAAxB,EADF;UAAA;kBAGE,UAAU,CAAC,aAAX,CAAyB,SAAzB,EAHF;UADG;QAAA;SAMH,IAAG,QAAQ,CAAX;kBACE,YAAY,WADd;UAAA;kBAGE,aAAa,UAHf;UANG;;KAHQ;KAcjB,IAAC,OAAD;GArBQ;;kCAyBV,sBAAsB,SAAC,MAAD;KAEpB,IAAC,MAAK,CAAC,gBAAP,GAA0B;GAFN;;kCAMtB,YAAY,SAAC,MAAD,EAAS,KAAT;AAEV;KAAA,IAAG,UAAS,EAAT,IAAe,CAAI,CAAC,CAAC,QAAF,CAAW,KAAX,CAAtB;OACE,IAAC,MAAK,CAAC,WAAP,GAAqB;OACrB,IAAC,MAAK,CAAC,MAAP,GAAgB,KAFlB;MAAA;OAIE,QAAQ,CAAC,CAAC,GAAF,CAAM,KAAK,CAAC,KAAN,CAAY,OAAZ,CAAN,EAA4B,SAAC,OAAD;gBAAa,OAAO,CAAC,WAAR;OAAb,CAA5B;OACR,UAAU,MAAM,CAAC,CAAC,IAAF,CAAO,KAAP,CAAa,CAAC,IAAd,CAAmB,GAAnB,CAAN,GAAgC;OAC1C,SAAa,WAAO,OAAP,EAAgB,KAAhB;OAEb,IAAC,MAAK,CAAC,WAAP,GAAqB;OACrB,IAAC,MAAK,CAAC,MAAP,GAAgB,SAAC,KAAD;AACd,gBAAO,CAAC,CAAC,GAAF,CAAM,MAAN,EAAc,SAAC,SAAD;AACnB;WAAA,QAAQ,KAAK,CAAC,GAAN,CAAU,SAAV;WACR,IAAG,aAAH;AACE,oBAAO,CAAC,CAAC,KAAK,CAAC,QAAN,EAAgB,CAAC,KAAjB,CAAuB,MAAvB,EADX;YAAA;AAGE,oBAAO,MAHT;;SAFmB,CAAd;OADO,EATlB;;KAkBA,IAAC,OAAD;GApBU;;kCAwBZ,KAAK,SAAC,KAAD;AACH,YAAO,IAAC,cAAc;GADnB;;kCAGL,MAAM,SAAC,KAAD;AACJ,YAAO,IAAC,GAAD,CAAI,KAAJ;GADH;;kCAGN,QAAQ;AACN;KAAA,mBAAuB,yBAAqB,IAArB,EAA2B;OAChD,gBAAiB,IAAC,eAD8B;MAA3B;KAGvB,gBAAgB,CAAC,WAAjB,CAA6B,IAAC,MAAK,CAAC,QAApC;AACA,YAAO;GALD;;kCAQR,iBAAiB;AACf,YAAO,IAAI,CAAC,IAAL,CAAU,IAAC,cAAa,CAAC,MAAf,GAAwB,IAAC,MAAK,CAAC,QAAzC,IAAqD;GAD7C;;kCAGjB,oBAAoB,SAAC,SAAD;AAClB,YAAO;AACL;OADM;OACN,IAAC,OAAD;OACA,IAAC,QAAD,aAAS,UAAW,0BAApB;KAFK;GADW;;kCAMpB,eAAe;AACb;KAAA,SAAS,IAAC,eAAc,CAAC,MAAM,CAAC,KAAvB;KAET,IAAG,mCAAH;OACE,SAAS,MAAM,CAAC,MAAP,CAAc,IAAC,MAAK,CAAC,gBAArB,EADX;;KAGA,IAAG,yBAAH;OACE,SAAS,MAAM,CAAC,MAAP,CAAc,IAAC,MAAK,CAAC,MAArB,EADX;;KAGA,IAAG,0BAAH;OACE,SAAS,MAAM,CAAC,IAAP,CAAY,IAAC,MAAK,CAAC,OAAnB,EADX;;KAGA,IAAC,cAAD,GAAiB;KACjB,IAAC,MAAK,CAAC,WAAP,GAAqB,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,IAAI,CAAC,GAAL,CAC/B,IAAC,eAAD,EAD+B,EAE/B,IAAC,MAAK,CAAC,WAFwB,CAAZ;GAbR;;kCAoBf,SAAS;KACP,IAAC,aAAD;KACA,IAAC,OAAD,GAAU,IAAC,cAAa,CAAC,KAAf,CACR,IAAC,MAAK,CAAC,WAAP,GAAqB,IAAC,MAAK,CAAC,QADpB,EAER,IAAI,CAAC,GAAL,CACE,CAAC,IAAC,MAAK,CAAC,WAAP,GAAqB,CAAtB,IAA2B,IAAC,MAAK,CAAC,QADpC,EAEE,IAAC,cAAa,CAAC,MAFjB,CAFQ;KAMV,IAAC,OAAD,GAAU,IAAC,OAAM,CAAC;KAClB,IAAC,QAAD,CAAS,OAAT;GATO;;kCAaT,oBAAoB;AAClB,YAAO;OACL,WAAY,CADP;OAEL,UAAW,IAAC,eAAD,EAFN;OAGL,aAAc,IAAC,MAAK,CAAC,WAHhB;OAIL,UAAW,IAAC,MAAK,CAAC,QAJb;;GADW;;kCASpB,kBAAkB;KAChB,IAAC,QAAD,CAAS,IAAC,MAAK,CAAC,WAAP,GAAqB,CAA9B;GADgB;;kCAKlB,cAAc;KACZ,IAAC,QAAD,CAAS,IAAC,MAAK,CAAC,WAAP,GAAqB,CAA9B;GADY;;kCAKd,eAAe;KACb,IAAC,QAAD,CAAS,CAAT;GADa;;kCAKf,cAAc;KACZ,IAAC,QAAD,CAAS,IAAC,eAAD,EAAT;GADY;;kCAKd,UAAU,SAAC,SAAD;KACR,IAAG,MAAK,SAAL,IAAK,SAAL,GAAiB,IAAI,CAAC,IAAL,CAAU,IAAC,cAAa,CAAC,MAAf,GAAwB,IAAC,MAAK,CAAC,QAAzC,CAAjB,CAAH;OACE,IAAC,MAAK,CAAC,WAAP,GAAqB;OACrB,IAAC,OAAD,GAFF;;GADQ;;kCAMV,SAAS;YACP,IAAC,OAAM,CAAC,GAAR,CAAY,SAAC,KAAD;cAAW,KAAK,CAAC,MAAN;KAAX,CAAZ;GADO;;kCAIT,YAAY;AAEV,YAAO,IAAC,eAAc,CAAC,SAAS,CAAC,KAA1B,CAAgC,IAAC,eAAjC,EAAiD,SAAjD;GAFG;;;;;;AAKd,OAAM,CAAC,OAAP,GAAiB;;;;;;;AC3OjB;GAAA;;;AAAA,KAAuB,oBAAQ,CAAR;;AACvB,YAAuB,oBAAQ,CAAR;;AACvB,aAAuB,oBAAQ,EAAR;;AACvB,oBAAuB,oBAAQ,EAAR;;AAEjB;;;;;;;4BAEJ,MAAM;;4BACN,QAAQ;;4BACR,gBAAgB;;;;IAJW;;AAM7B,OAAM,CAAC,OAAP,GAAiB;;;;;;;ACXjB;GAAA;;;AAAA,KAAW,oBAAQ,CAAR;;AACX,YAAW,oBAAQ,CAAR;;AAEL;;;;;;;uBAEJ,UAAU;;uBAEV,WACE;KAAA,MAAO,EAAP;KACA,OAAQ,EADR;KAEA,OAAQ;OACJ;SAAC,MAAO,OAAR;QADI,EAEJ;SAAC,MAAO,MAAR;QAFI;MAFR;KAMA,YAAa,MANb;;;;;IALoB,QAAQ,CAAC;;AAajC,OAAM,CAAC,OAAP,GAAiB;;;;;;;AChBjB;GAAA;;;AAAA,YAAW,oBAAQ,CAAR;;AAEL;;;;;;;8BAEJ,aAAa;KAEX,IAAG,IAAC,cAAJ;cACE,IAAC,QAAD,CAAS,IAAC,cAAV,EAAyB,KAAzB,EADF;;GAFW;;8BAMb,UAAU,SAAC,KAAD,EAAQ,aAAR;KAER,IAAG,kBAAiB,KAApB;OACE,gBAAgB,EADlB;;KAEA,IAAG,kBAAiB,MAApB;OACE,gBAAgB,CAAC,EADnB;;KAIA,IAAC,WAAD,GAAc,SAAC,IAAD,EAAO,KAAP;AACZ;OAAA,YAAa,IAAI,CAAC,GAAL,CAAS,KAAT;OACb,aAAa,KAAK,CAAC,GAAN,CAAU,KAAV;OACN,IAAG,CAAC,CAAC,QAAF,CAAW,SAAX,KAAyB,CAAC,CAAC,QAAF,CAAW,UAAX,CAA5B;SACH,IAAG,gBAAgB,CAAnB;kBACE,SAAS,CAAC,aAAV,CAAwB,UAAxB,EADF;UAAA;kBAGE,UAAU,CAAC,aAAX,CAAyB,SAAzB,EAHF;UADG;QAAA;SAMH,IAAG,gBAAgB,CAAnB;kBACE,YAAY,WADd;UAAA;kBAGE,aAAa,UAHf;UANG;;KAHK;YAcd,IAAC,KAAD;GAtBQ;;;;IARmB,QAAQ,CAAC;;AAiCxC,OAAM,CAAC,OAAP,GAAiB;;;;;;;;ACnCjB;GAAA;;;AAAA,KAAmB,oBAAQ,CAAR;;AACnB,iBAAmB,oBAAQ,EAAR;;AACnB,oBAAmB,oBAAQ,EAAR;;AAEb;;;;;;;gCAEJ,MAAM;;gCACN,QAAQ;;gCACR,gBAAgB;;gCAEhB,QAAQ,SAAC,SAAD;AAEN,YAAO,CAAC,CAAC,GAAF,CAAM,SAAN,EAAiB,aAAa,UAAE,MAAhC;GAFD;;gCAKR,UAAU,SAAC,IAAD;KAEP,OAAQ,IAAC,MAAD,CAAO,CAAC,IAAD,CAAP;YACT,IAAC,IAAD,CAAK,IAAL;GAHQ;;;;IAXqB;;AAgBjC,OAAM,CAAC,OAAP,GAAiB;;;;;;;ACpBjB;GAAA;;;AAAA,KAAc,oBAAQ,CAAR;;AACd,eAAc,oBAAQ,EAAR;;AAER;;;;;;;2BAEJ,MAAM;YAAG,oBAAkB,IAAC;GAAtB;;2BAEN,QAAQ,SAAC,QAAD;KAEN,QAAQ,CAAC,aAAT,GAAyB,WAAW,CAAC,UAAZ,CAAuB,QAAQ,CAAC,EAAhC;KACzB,QAAQ,CAAC,kBAAT,GAA8B,WAAW,CAAC,eAAZ,CAA4B,QAAQ,CAAC,WAArC;AAE9B,YAAO;GALD;;2BAQR,UAAU;AAER;KAAA,UAAU;OAAA,KAAM,oBAAiB,CAAC,IAAC,IAAD,CAAK,IAAL,CAAD,CAAjB,GAA6B,SAAnC;;YACV,2CAAM,OAAN;GAHQ;;;;IAZgB,QAAQ,CAAC;;AAiBrC,OAAM,CAAC,OAAP,GAAiB;;;;;;;ACpBjB;;AAAA,KAAS,oBAAQ,CAAR;;AACT,UAAS,oBAAQ,EAAR;;AAEH;;;GAEJ,WAAC,cAAD,GAAiB,SAAC,OAAD;AAEf;KAAA,IAAI,MAAM,CAAC,QAAP,CAAgB;OAAA,SAAS,OAAT;MAAhB;KACJ,MAAoC,CAAE,CAAC,CAAC,IAAF,EAAF,EAAY,CAAC,CAAC,KAAF,EAAZ,EAAuB,CAAC,CAAC,OAAF,EAAvB,EAAoC,CAAC,CAAC,OAAF,EAApC,CAApC,EAAE,aAAF,EAAQ,cAAR,EAAe,gBAAf,EAAwB;AAExB,YAAO,CACD,SAAQ,CAAR,IAAc,UAAS,CAAvB,IAA6B,YAAW,CAA5C,GACK,OAAD,GAAS,GADb,GAEQ,SAAQ,CAAR,IAAc,UAAS,CAA1B,GACA,OAAD,GAAS,IAAT,GAAa,OAAb,GAAqB,GADpB,GAEG,SAAQ,CAAX,GACA,KAAD,GAAO,IAAP,GAAW,OAAX,GAAmB,IAAnB,GAAuB,OAAvB,GAA+B,GAD9B,GAGA,IAAD,GAAM,IAAN,GAAU,KAAV,GAAgB,IAAhB,GAAoB,OAApB,GAA4B,IAA5B,GAAgC,OAAhC,GAAwC,GARvC;GALQ;;GAiBjB,WAAC,WAAD,GAAc,SAAC,EAAD;AAEZ,YAAO,EAAE,CAAC,KAAH,CAAS,CAAC,CAAV;GAFK;;GAKd,WAAC,gBAAD,GAAmB,SAAC,IAAD,EAAO,SAAP;;OAAO,YAAY;;KAEpC,IAAG,IAAI,CAAC,MAAL,GAAc,SAAd,IAA4B,YAAY,CAA3C;cACE,IAAI,CAAC,KAAL,CAAW,CAAX,EAAc,YAAY,CAA1B,IAA+B,OADjC;MAAA;cAGE,KAHF;;GAFiB;;;AAQnB;;;;GAGA,WAAC,WAAD,GAAc;AAEZ,YAAO,QAAQ,CAAC,MAAT,CAAgB,kBAAhB;GAFK;;;;;;AAIhB,OAAM,CAAC,OAAP,GAAiB;;;;;;;AC1CjB;AACA;AACA;AACA;AACA;;AAEA,EAAC;AACD;AACA;AACA;AACA,EAAC,oBAAoB;;AAErB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,gBAAgB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA,4BAA2B,SAAS;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,uFAAsF,IAAI;AAC1F;;AAEA;AACA,4BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC;AACrC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,mCAAkC,IAAI;;AAEtC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iCAAgC;AAChC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAwB,iCAAiC;AACzD;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,4BAA2B,wBAAwB;AACnD;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6LAA4L,IAAI;;AAEhM,sEAAqE,IAAI;;AAEzE;;AAEA;;AAEA;AACA;AACA;AACA,+BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,2CAA0C,YAAY;AACtD;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA,wBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,+BAA8B;AAC9B,iCAAgC;AAChC,8BAA6B,EAAE,EAAE;AACjC,8BAA6B,EAAE,EAAE;AACjC,mCAAkC,EAAE,EAAE;AACtC,kCAAiC;AACjC,sCAAqC;AACrC,0CAAyC;AACzC,8BAA6B,IAAI,EAAE;AACnC,8BAA6B,IAAI,EAAE;AACnC,mCAAkC,IAAI,EAAE;;AAExC,gCAA+B;AAC/B,qCAAoC;;AAEpC,+CAA8C;AAC9C,sDAAqD;;AAErD,yCAAwC,IAAI,IAAI;;AAEhD;AACA;AACA,iIAAgI,IAAI;;;AAGpI;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA,+CAA8C;AAC9C;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,kBAAkB;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,wBAAuB,iBAAiB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,QAAQ;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,QAAQ;AAC3B;AACA;AACA;AACA,oBAAmB,QAAQ;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAmB,OAAO;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,YAAY;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4CAA2C,EAAE,IAAI,EAAE;AACnD,yCAAwC,EAAE,IAAI,EAAE;;AAEhD;;AAEA;AACA,kCAAiC,EAAE;AACnC,4BAA2B,EAAE;AAC7B,8BAA6B,EAAE;AAC/B,4BAA2B,EAAE;AAC7B,0BAAyB,EAAE,IAAI,EAAE;AACjC,yBAAwB,EAAE;AAC1B,gCAA+B,GAAG;AAClC,0BAAyB,EAAE;AAC3B;AACA,4BAA2B,EAAE,IAAI,EAAE;AACnC,2BAA0B,EAAE,IAAI,EAAE;AAClC,yBAAwB,EAAE;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,6CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAmB,+BAA+B;AAClD;AACA;;AAEA;AACA,eAAc,OAAO;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,oBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oBAAmB,sBAAsB;AACzC;AACA,uCAAsC;AACtC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,0CAAyC,gBAAgB;AACzD;;AAEA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yEAAwE,EAAE;;AAE1E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS,6BAA6B;AACtC;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB;;AAEnB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,qBAAoB;AACpB;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B,cAAc;AACxC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4CAA2C,qBAAqB;AAChE,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4CAA2C,qBAAqB;AAChE,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yBAAwB;AACxB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;;;AAGL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,yBAAwB,mBAAmB;AAC3C;AACA;;AAEA;AACA;AACA;;AAEA,sBAAqB,mBAAmB;AACxC;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;;AAEL;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,EAAC,G;;;;;;;AClmID;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,uDAAuD;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvNA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA,6FAA4F;AAC5F,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACxED;AACA;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACxID;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC3DD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACvGD;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACzDD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA,gCAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACxGD;AACA;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACrID;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACzFD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACtHD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACtHD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC3GD;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC9ID;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AChFD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wBAAuB,QAAQ;AAC/B;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,wBAAuB,QAAQ;AAC/B;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,wBAAuB,QAAQ;AAC/B;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,4BAA2B,IAAI;AAC/B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC3KD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC9DD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC;AACnC,kBAAiB;AACjB;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC/ED;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC3DD;AACA;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC7ED;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC9ED;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AClGD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;AAE3B;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,yEAAwE;AACxE;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,kCAAiC;AACjC,iCAAgC;AAChC,iCAAgC;AAChC,gCAA+B;AAC/B;AACA;AACA;AACA,0DAAyD;AACzD;AACA,2DAA0D;AAC1D;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC;AACrC,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACjGD;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACjED;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC9DD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AClED;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AClED;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACjED;AACA;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACxED;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,4BAA2B,IAAI;AAC/B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AChFD;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,4BAA2B,IAAI;AAC/B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC/ED;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC/ED;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACjED;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACzGD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC1GD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC3DD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC/DD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC3DD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC/DD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACxED;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,4BAA2B,IAAI;AAC/B;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC3ED;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,4BAA2B,IAAI;AAC/B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC5ED;AACA;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AClGD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC3HD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AChJD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC5GD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT,2BAA0B,IAAI,IAAI,IAAI;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC9FD;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AClFD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC9HD;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,4BAA2B,IAAI;AAC/B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACrED;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,4BAA2B,IAAI;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC3ED;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AClFD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,qCAAoC,IAAI,IAAI,IAAI;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACxFD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACtFD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACzDD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,4BAA2B,IAAI;AAC/B;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACnED;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;;AAI3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACvFD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACvID;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,gCAA+B,IAAI;AACnC;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACrED;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACpHD;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AChGD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC9GD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACzFD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AChFD;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iDAAgD;AAChD,+CAA8C;AAC9C,iDAAgD;AAChD,6CAA4C;AAC5C,8CAA6C;AAC7C,8CAA6C;AAC7C,+CAA8C;AAC9C,+CAA8C;AAC9C,gDAA+C;AAC/C,8CAA6C;AAC7C,gDAA+C;AAC/C;AACA;AACA;AACA;AACA,mDAAkD;AAClD,iDAAgD;AAChD,kDAAiD;AACjD,+CAA8C;AAC9C,gDAA+C;AAC/C,gDAA+C;AAC/C,iDAAgD;AAChD,kDAAiD;AACjD,mDAAkD;AAClD,gDAA+C;AAC/C,iDAAgD;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC9JD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACjFD;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AClFD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC5FD;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC9DD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC1HD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACxED;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC3DD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC3HD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACxGD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C;AAC5C,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AChED;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C;AAC5C,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC5DD;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC1ED;AACA;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACtLD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;;AAI3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC5DD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACtED;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACrJD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACjKD;AACA;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACrED;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC7GD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC7GD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;;AAI3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACxFD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACpED;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC1DD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,iCAAgC;AAChC,cAAa;AACb,gCAA+B;AAC/B,cAAa;AACb,mCAAkC;AAClC,cAAa;AACb,mCAAkC;AAClC,cAAa;AACb,gCAA+B;AAC/B,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AChID;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,4BAA2B,IAAI;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACxFD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AClED;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC7DD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACvHD;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA,gCAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACzFD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;;AAI3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,EAAC,G;;;;;;AC1FD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACzDD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACzDD;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACjJD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACzDD;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC9ED;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;ACnED;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT,2BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA,EAAC,G;;;;;;AC9HD;AACA;AACA;AACA;;AAEA,EAAC;AACD,SACA;AACA;AACA;AACA,EAAC,0BAA0B;;;AAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AAC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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,aAAY,iBAAiB,EAAE,YAAY,gCAAgC;;AAE3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAW;AACX;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAW;AACX;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAa;AACb;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,aAAa;AAC3B,eAAc,aAAa;AAC3B,eAAc,aAAa;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAa,YAAY,YAAY;AACrC,cAAa,YAAY,YAAY;AACrC,cAAa,YAAY,aAAa;AACtC,qBAAoB,mBAAmB,mBAAmB;;AAE1D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB,aAAa;AAC9B,cAAa,aAAa;AAC1B,cAAa,cAAc;AAC3B,cAAa,aAAa;AAC1B,cAAa,cAAc;AAC3B,eAAc,eAAe;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,aAAa;AAC3B,eAAc,aAAa;AAC3B,eAAc,cAAc;AAC5B,eAAc,aAAa;AAC3B,eAAc,cAAc;AAC5B,gBAAe,eAAe;AAC9B;AACA;;AAEA;AACA;;AAEA,eAAc,aAAa,aAAa;AACxC,eAAc,aAAa,aAAa;AACxC,eAAc,aAAa,eAAe;AAC1C,gBAAe,cAAc,eAAe;;AAE5C;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,E;;;;;;ACr6DA;GAAA;;;;AAAA,cAAa,oBAAQ,EAAR;;AACb,OAAa,oBAAQ,EAAR;;AACb,aAAa,oBAAQ,EAAR;;AAEP;;;;;;;2BAEJ,WAAW,CAAC,CA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A,kBAAiB,4BAA4B;AAC7C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAoB,uBAAuB;;AAE3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qDAAoD,QAAQ;;AAE5D;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sBAAqB,QAAQ;AAC7B,uBAAsB,mCAAmC;;AAEzD;AACA;AACA;;AAEA;AACA,sBAAqB,QAAQ;AAC7B,uBAAsB,mCAAmC;;AAEzD;AACA;AACA;;AAEA;AACA,sBAAqB,QAAQ;AAC7B,uBAAsB,mCAAmC;;AAEzD;AACA;AACA;;AAEA;AACA,sBAAqB,QAAQ;AAC7B,sBAAqB,uBAAuB;AAC5C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA,oBAAmB,6BAA6B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;;AAEA,uBAAsB;AACtB,qCAAoC,sBAAsB;AAC1D;;AAEA;AACA;;;AAGA,kBAAiB,2BAA2B;AAC5C;AACA;;AAEA;AACA,sBAAqB,sBAAsB;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,wBAAuB,8BAA8B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAsB;;AAEtB,kBAAiB,mCAAmC;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;AC1WA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB,0BAA0B;AAC/C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;;AAEA;AACA,kBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,qBAAqB;AACxC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL,sBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA;AACA,sBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB,gCAAgC;AACjD;AACA;AACA,sBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;;;;;ACrJA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAkB,yBAAyB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA;AACA;AACA,uCAAsC,cAAc;AACpD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK,cAAc;;AAEnB;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA;;AAEA,kBAAiB,2BAA2B;AAC5C;AACA;;AAEA,oBAAmB,qBAAqB;AACxC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAkB,eAAe;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,mBAAmB;;AAE7B;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAiB,qBAAqB;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;;;;;ACjIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAAyE;AACzE,4EAA2E;AAC3E;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;;AAEA;AACA,yBAAwB,eAAe;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,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EA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,IAAG;;AAEH;;AAEA;AACA;AACA;AACA;;AAEA,IAAG;;AAEH;;AAEA;AACA;AACA;AACA;;AAEA,IAAG;;AAEH;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,IAAG;;AAEH;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA,GAAE;;;AAGF;;AAEA;;AAEA,2BAA0B;AAC1B,2BAA0B;AAC1B;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;AACA;;AAEA,IAAG;;AAEH;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,2BAA0B;AAC1B,2BAA0B;AAC1B,2BAA0B;AAC1B;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;AACA,2DAA0D;;AAE1D;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,IAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;AACA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,2BAA0B;AAC1B,2BAA0B;AAC1B,2BAA0B;AAC1B,2BAA0B;AAC1B;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,IAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,iBAAgB;;AAEhB;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,uCAAsC;;AAEtC;;AAEA;AACA;AACA;;AAEA,MAAK;;AAEL;AACA;AACA;;AAEA;;AAEA,KAAI,sBAAsB;;AAE1B;;AAEA;AACA;AACA;;AAEA,MAAK;;AAEL;AACA;AACA;;AAEA;;AAEA,KAAI,OAAO;;AAEX;;AAEA;AACA;AACA;;AAEA,MAAK;;AAEL;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,gBAAe;;AAEf;;AAEA;;AAEA;AACA;AACA,0CAAyC;;AAEzC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,KAAI;;AAEJ;AACA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;AACA;;AAEA,KAAI;;AAEJ;AACA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;AACA;;AAEA,KAAI;;AAEJ;AACA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;AACA;;AAEA,KAAI;;AAEJ;AACA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;AACA;;AAEA,KAAI;;AAEJ;AACA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;AACA;;AAEA,KAAI;;AAEJ;AACA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,IAAG;;AAEH;AACA;AACA;;AAEA,IAAG;;AAEH;AACA;AACA;;AAEA,IAAG;;AAEH;AACA;AACA;;AAEA,IAAG;;AAEH;AACA;AACA;;AAEA,IAAG;;AAEH;AACA;AACA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;AAGA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;AACA;;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EA;;AAEA;;AAEA;;AAEA;;AAEA,EAAC;;AAED;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,qBAAoB,YAAY;;AAEhC;;AAEA;;AAEA,qBAAoB,YAAY;;AAEhC;;AAEA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;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AEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,2CAA0C;;AAE1C;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,2CAA0C;AAC1C;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,2CAA0C;AAC1C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;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ACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,IAAG;;AAEH;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,oDAAmD,QAAQ;;AAE3D;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,oDAAmD,QAAQ;;AAE3D;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AA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;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,OAAM;;AAEN,6CAA4C,QAAQ;;AAEpD;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA,OAAM;;AAEN;;AAEA;;AAEA;;AAEA,6CAA4C,QAAQ;;AAEpD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,OAAM;;AAEN,6CAA4C,QAAQ;;AAEpD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,OAAM;;AAEN,6CAA4C,QAAQ;;AAEpD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,MAAK;;AAEL;;AAEA,6CAA4C,QAAQ;;AAEpD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,OAAM;;AAEN,6CAA4C,QAAQ;;AAEpD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,OAAM;;AAEN,6CAA4C,QAAQ;;AAEpD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,MAAK;;AAEL;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,gBAAe,QAAQ;;AAEvB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,0CAAyC,QAAQ;;AAEjD;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,0HAAyH;;AAEzH,UAAS;;AAET;;AAEA;;AAEA,WAAU;;AAEV;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,wGAAuG;;AAEvG;AACA,uDAAsD;AACtD;;AAEA;;AAEA;;AAEA,KAAI;;AAEJ;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,SAAQ;;AAER;;AAEA;;AAEA,UAAS;;AAET;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,QAAO;;AAEP;;AAEA;;AAEA,SAAQ;;AAER;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,QAAO;;AAEP;;AAEA;;AAEA,SAAQ;;AAER;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;;AAEA,wEAAuE,QAAQ;;AAE/E;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,MAAK;;;AAGL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,MAAK;;;AAGL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,MAAK;;;AAGL;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,KAAI;;AAEJ;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,IAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,IAAG;;AAEH;;AAEA;AACA;AACA;;AAEA,gBAAe,QAAQ;;AAEvB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,KAAI;;AAEJ;;AAEA,KAAI;;AAEJ;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;AAGA;;AAEA;;AAEA,MAAK;;AAEL;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,QAAQ;;AAE9C;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,QAAO;;AAEP;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,QAAQ;;AAE9C;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,wCAAuC,QAAQ;;AAE/C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA,uBAAsB,WAAW;;AAEjC;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,2CAA0C,QAAQ;;AAElD;AACA;;AAEA;;AAEA;;AAEA;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH,uCAAsC,0DAA0D,EAAE;;AAElG;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,IAAG;;AAEH;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,KAAI;;AAEJ;AACA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;AACA;;AAEA,MAAK;;AAEL;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,2CAA0C,QAAQ;;AAElD;AACA;;AAEA;;AAEA,kCAAiC;;AAEjC;;AAEA;;AAEA;;AAEA,6CAA4C;;AAE5C;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,8CAA6C;;AAE7C;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,qDAAoD,QAAQ;;AAE5D;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,KAAI;;AAEJ;;AAEA,KAAI;;AAEJ;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAI;;AAEJ;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,KAAI;;AAEJ;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,KAAI;AACJ;;AAEA;AACA;;AAEA,KAAI;;AAEJ;;AAEA,KAAI;;AAEJ;;AAEA,KAAI;;AAEJ;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA,4DAA2D,QAAQ;;AAEnE;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;;AAGA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA,IAAG;;AAEH;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,oCAAmC,QAAQ;;AAE3C;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,oCAAmC,QAAQ;;AAE3C;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA,IAAG;;AAEH;;AAEA,IAAG;;AAEH;;AAEA,IAAG;;AAEH;;AAEA,IAAG;;AAEH;;AAEA,IAAG;;AAEH;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,gBAAe,0BAA0B;;AAEzC;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,gBAAe,0BAA0B;;AAEzC;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,KAAI;;AAEJ;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,KAAI;;AAEJ;AACA;;AAEA,KAAI;;AAEJ;;AAEA,KAAI;;AAEJ;;AAEA,KAAI;;AAEJ;;AAEA,KAAI;;AAEJ;AACA;AACA;;AAEA,KAAI;;AAEJ;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AA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ACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,uCAAsC,QAAQ;;AAE9C;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,WAAU;;AAEV;;AAEA;;AAEA;;AAEA,uCAAsC,QAAQ;;AAE9C;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;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AACA;;AAEA;AACA;AACA;AACA;AACA,iCAAgC,MAAM;AACtC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,GAAE;AACF;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;AACA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA,GAAE;;AAEF;;AAEA;AACA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAE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","file":"1.1.js","sourcesContent":["Marionette                   = require(\"backbone.marionette\")\napp                          = require(\"app\")\nActionBarView                = require(\"./action_bar_view\")\nSkeletonPlaneTabView         = require(\"./settings/tab_views/skeleton_plane_tab_view\")\nSkeletonArbitraryTabView     = require(\"./settings/tab_views/skeleton_arbitrary_tab_view\")\nVolumeTabView                = require(\"./settings/tab_views/volume_tab_view\")\nViewmodeTabView              = require(\"./settings/tab_views/viewmode_tab_view\")\nSkeletonTracingRightMenuView = require(\"./skeletontracing/skeletontracing_right_menu_view\")\nVolumeTracingRightMenuView   = require(\"./volumetracing/volumetracing_right_menu_view\")\nViewmodeRightMenuView        = require(\"./viewmode/viewmode_right_menu_view\")\nUserScriptsModalView         = require(\"./user_scripts_modal\")\nTracingView                  = require(\"./tracing_view\")\nOxalisController             = require(\"oxalis/controller\")\nOxalisModel                  = require(\"oxalis/model\")\nConstants                    = require(\"oxalis/constants\")\nBackboneToOxalisAdapterModel = require(\"oxalis/model/settings/backbone_to_oxalis_adapter_model\")\nModal                        = require(\"oxalis/view/modal\")\n\nclass TracingLayoutView extends Marionette.LayoutView\n\n  MARGIN : 40\n\n  className : \"text-nowrap\"\n\n  traceTemplate : _.template(\"\"\"\n    <div id=\"action-bar\"></div>\n    <div id=\"sliding-canvas\">\n      <div id=\"settings-menu-wrapper\" class=\"navmenu-fixed-left offcanvas\">\n        <div id=\"settings-menu\"></div>\n      </div>\n      <div id=\"tracing\"></div>\n      <div id=\"right-menu\"></div>\n    </div>\n    <div class=\"modal-wrapper\"></div>\n   \"\"\")\n\n  viewTemplate : _.template(\"\"\"\n    <div id=\"action-bar\"></div>\n    <div id=\"settings-menu\"></div>\n    <div id=\"tracing\"></div>\n    <div id=\"right-menu\"></div>\n    <div class=\"modal-wrapper\"></div>\n  \"\"\")\n\n  getTemplate : ->\n    if @isTracingMode()\n      @traceTemplate\n    else\n      @viewTemplate\n\n  ui :\n    \"rightMenu\" : \"#right-menu\"\n    \"slidingCanvas\" : \"#sliding-canvas\"\n\n  regions :\n    \"actionBar\" : \"#action-bar\"\n    \"rightMenu\" : \"#right-menu\"\n    \"tracingContainer\" : \"#tracing\"\n    \"settings\" : \"#settings-menu\"\n    \"modalWrapper\" : \".modal-wrapper\"\n\n  events:\n    \"hidden.bs.offcanvas #settings-menu-wrapper\" : \"doneSliding\"\n    \"shown.bs.offcanvas #settings-menu-wrapper\" : \"doneSliding\"\n\n\n  initialize : (options) ->\n\n    @options = _.extend(\n      {},\n      options,\n      model : new OxalisModel(options)\n    )\n\n    @model = @options.model\n    @options.adapterModel = new BackboneToOxalisAdapterModel(@model)\n\n    @listenTo(@, \"render\", @afterRender)\n    @listenTo(app.vent, \"planes:resize\", @resizeRightMenu)\n    @listenTo(@model, \"change:mode\", @renderSettings)\n    @listenTo(@model, \"sync\", @renderRegions)\n    $(window).on(\"resize\", @resizeRightMenu.bind(@))\n\n    $(\"#add-script-link\")\n      .removeClass(\"hide\")\n      .on(\"click\", @showUserScriptsModal)\n\n    app.oxalis = new OxalisController(@options)\n\n\n  doneSliding : (evt) ->\n\n    @resizeRightMenu()\n\n\n  resizeRightMenu : ->\n\n    if @isSkeletonMode()\n\n      menuPosition = @ui.rightMenu.position()\n      slidingCanvasOffset = @ui.slidingCanvas.position().left\n\n      newWidth = window.innerWidth - menuPosition.left - slidingCanvasOffset - @MARGIN\n\n      if menuPosition.left < window.innerWidth and newWidth > 350\n        @ui.rightMenu.width(newWidth)\n\n\n  renderRegions : ->\n\n    @render()\n\n    actionBarView = new ActionBarView(@options)\n    tracingView = new TracingView(@options)\n\n    @tracingContainer.show(tracingView, preventDestroy : true)\n\n    if not @model.settings.advancedOptionsAllowed\n      return\n\n    @actionBar.show(actionBarView, preventDestroy : true)\n\n    if @isSkeletonMode()\n      @rightMenuView = new SkeletonTracingRightMenuView(@options)\n    else if @isVolumeMode()\n      @rightMenuView = new VolumeTracingRightMenuView(@options)\n    else\n      @rightMenuView = new ViewmodeRightMenuView(@options)\n\n    @rightMenu.show(@rightMenuView)\n    @renderSettings()\n    @maybeShowNewTaskTypeModal()\n\n\n  showUserScriptsModal : (event) =>\n\n    event.preventDefault()\n    modalView = new UserScriptsModalView()\n    @modalWrapper.show(modalView)\n    modalView.show()\n\n\n  maybeShowNewTaskTypeModal : ->\n\n    # Users can aquire new tasks directly in the tracing view. Occasionally,\n    # the start working on a new TaskType and new to be instructed.\n    return if window.location.search.indexOf(\"differentTaskType\") < 0 or not @model.tracing.task?\n\n    taskType = @model.tracing.task.type\n    title = \"Attention, new Task Type: #{taskType.summary}\"\n    if taskType.description\n      text = \"You are now tracing a new task with the following description:<br>#{taskType.description}\"\n    else\n      text = \"You are now tracing a new task with no description.\"\n    Modal.show(text, title)\n\n\n  renderSettings : ->\n\n    # This method will be invoked again once the model is initialized as part of\n    # the \"sync\" event callback.\n    return unless @model.initialized\n\n    if @isSkeletonMode()\n      settingsTabClass = if @isArbitraryMode() then SkeletonArbitraryTabView else SkeletonPlaneTabView\n      settingsTabView = new settingsTabClass(@options)\n    else if @isVolumeMode()\n      settingsTabView = new VolumeTabView(@options)\n    else\n      settingsTabView = new ViewmodeTabView(@options)\n\n    @settings.show(settingsTabView)\n\n\n  isTracingMode : ->\n\n    return @model.get(\"controlMode\") != Constants.CONTROL_MODE_VIEW\n\n\n  isSkeletonMode : ->\n\n    return @model.get(\"mode\") in Constants.MODES_SKELETON && @isTracingMode()\n\n\n  isVolumeMode : ->\n\n    return @model.get(\"mode\") == Constants.MODE_VOLUME && @isTracingMode()\n\n\n  isArbitraryMode : ->\n\n    return @model.get(\"mode\") in Constants.MODES_ARBITRARY\n\n\n  onDestroy : ->\n\n    $(\"#add-script-link\")\n      .addClass(\"hide\")\n      .off(\"click\")\n    app.oxalis = null\n\nmodule.exports = TracingLayoutView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/tracing_layout_view.coffee\n **/","_                   = require(\"lodash\")\nMarionette          = require(\"backbone.marionette\")\nDatasetActionsView  = require(\"./action-bar/dataset_actions_view\")\nDatasetPositionView = require(\"./action-bar/dataset_position_view\")\nViewModesView       = require(\"./action-bar/view_modes_view\")\nVolumeActionsView   = require(\"./action-bar/volume_actions_view\")\nSkeletonActionsView = require(\"./action-bar/skeleton_actions_view\")\nConstants           = require(\"../constants\")\n\nclass ActionBarView extends Marionette.LayoutView\n\n  className : \"container-fluid\"\n\n  template : _.template(\"\"\"\n\n    <% if (isTraceMode) { %>\n      <a href=\"#\" id=\"menu-toggle-button\" class=\"btn btn-default\"\n        data-toggle=\"offcanvas\"\n        data-target=\"#settings-menu-wrapper\"\n        data-canvas=\"#sliding-canvas\"\n        data-placement=\"left\"\n        data-autohide=\"false\"\n        data-disable-scrolling=\"false\"><i class=\"fa fa-bars\"></i>Menu</a>\n    <% } %>\n\n    <% if (isTraceMode) { %>\n      <div id=\"dataset-actions\"></div>\n    <% } %>\n\n    <div id=\"dataset-position\"></div>\n\n    <% if (isVolumeMode) { %>\n      <div id=\"volume-actions\"></div>\n    <% } %>\n\n    <% if (isTraceMode) { %>\n      <div id=\"view-modes\"></div>\n      <div id=\"skeleton-actions\"></div>\n    <% } %>\n  \"\"\")\n\n  templateHelpers : ->\n\n    isTraceMode : @isTraceMode()\n    isVolumeMode : @isVolumeMode()\n\n\n  regions :\n    \"datasetActionButtons\" : \"#dataset-actions\"\n    \"datasetPosition\" : \"#dataset-position\"\n    \"viewModes\" : \"#view-modes\"\n    \"volumeActions\" : \"#volume-actions\"\n    \"skeletonActions\" : \"#skeleton-actions\"\n\n\n  initialize : (options) ->\n\n    @datasetPositionView = new DatasetPositionView(options)\n\n    if @isTraceMode()\n      @datasetActionsView = new DatasetActionsView(options)\n\n      if @isVolumeMode()\n        @volumeActionsView = new VolumeActionsView(options)\n      else\n        @viewModesView = new ViewModesView(options)\n        @skeletonActionsView = new SkeletonActionsView(options)\n\n\n    @listenTo(@, \"render\", @afterRender)\n\n\n  afterRender : ->\n\n    @datasetPosition.show(@datasetPositionView)\n\n    if @isTraceMode()\n      @datasetActionButtons.show(@datasetActionsView)\n\n      if @isVolumeMode()\n        @volumeActions.show(@volumeActionsView)\n      else\n        @viewModes.show(@viewModesView)\n        @skeletonActions.show(@skeletonActionsView)\n\n\n  isTraceMode : ->\n\n    return @model.get(\"controlMode\") == Constants.CONTROL_MODE_TRACE\n\n\n  isVolumeMode : ->\n\n    return @model.get(\"mode\") == Constants.MODE_VOLUME\n\n\nmodule.exports = ActionBarView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/action_bar_view.coffee\n **/","_              = require(\"lodash\")\nMarionette     = require(\"backbone.marionette\")\napp            = require(\"app\")\nToast          = require(\"libs/toast\")\nRequest        = require(\"libs/request\")\nMergeModalView = require(\"./merge_modal_view\")\nShareModalView = require(\"./share_modal_view\")\nConstants      = require(\"oxalis/constants\")\n\nclass DatasetActionsView extends Marionette.ItemView\n\n  template : _.template(\"\"\"\n    <% if(tracing.restrictions.allowUpdate){ %>\n      <a href=\"#\" class=\"btn btn-primary\" id=\"trace-save-button\">Save</a>\n    <% } else { %>\n      <button class=\"btn btn-primary disabled\">Read only</button>\n    <% } %>\n    <div class=\"btn-group btn-group\">\n      <% if(tracing.restrictions.allowFinish) { %>\n        <a href=\"/annotations/<%- tracingType %>/<%- tracingId %>/finishAndRedirect\" class=\"btn btn-default\" id=\"trace-finish-button\"><i class=\"fa fa-check-circle-o\"></i>Archive</a>\n      <% }%>\n      <% if(tracing.restrictions.allowDownload || ! tracing.downloadUrl) { %>\n        <a class=\"btn btn-default\" id=\"trace-download-button\"><i class=\"fa fa-download\"></i>Download</a>\n      <% }%>\n      <button class=\"btn btn-default\" id=\"trace-share-button\"><i class=\"fa fa-share-alt\"></i>Share</button>\n    </div>\n\n    <% if(tracing.restrictions.allowFinish && tracing.task) { %>\n        <button class=\"btn btn-default\" id=\"trace-next-task-button\"><i class=\"fa fa-step-forward\"></i>Finish and Get Next Task</button>\n    <% } %>\n\n    <% if (isSkeletonMode) { %>\n      <div class=\"btn btn-default\" id=\"trace-merge-button\"><i class=\"fa fa-folder-open\"></i>Merge Tracing</div>\n      <div class=\"merge-modal-wrapper\"></div>\n    <% } %>\n  \"\"\")\n\n  templateHelpers : ->\n\n    isSkeletonMode : @isSkeletonMode()\n\n  events :\n    \"click #trace-finish-button\" : \"finishTracing\"\n    \"click #trace-download-button\" : \"downloadTracing\"\n    \"click #trace-save-button\" : \"saveTracing\"\n    \"click #trace-merge-button\" : \"mergeTracing\"\n    \"click #trace-share-button\" : \"shareTracing\"\n    \"click #trace-next-task-button\" : \"getNextTask\"\n\n  ui :\n    \"modalWrapper\" : \".merge-modal-wrapper\"\n\n\n  finishTracing : (evt) ->\n\n    evt.preventDefault()\n    @saveTracing().then( =>\n      if confirm(\"Are you sure you want to permanently finish this tracing?\")\n        app.router.loadURL(evt.currentTarget.href)\n    )\n\n\n  downloadTracing : (evt) ->\n\n    evt.preventDefault()\n    @saveTracing().then( =>\n      window.open(@model.tracing.downloadUrl, \"_blank\")\n    )\n\n\n  saveTracing : (evt) ->\n\n    if evt\n      evt.preventDefault()\n\n    return @model.save()\n\n  mergeTracing : ->\n\n    modalView = new MergeModalView({@model})\n    @ui.modalWrapper.html(modalView.render().el)\n    modalView.show()\n\n\n  shareTracing : ->\n\n      # save the progress\n      model = @model.skeletonTracing || @model.volumeTracing\n      model.stateLogger.save()\n\n      modalView = new ShareModalView({@model})\n      @ui.modalWrapper.html(modalView.render().el)\n      modalView.show()\n\n\n  isSkeletonMode : ->\n\n    return _.contains(Constants.MODES_SKELETON, @model.get(\"mode\"))\n\n\n  getNextTask : ->\n\n    tracingType = @model.skeletonTracing || @model.volumeTracing\n\n    tracingType.stateLogger.save()\n        .then(=> Request.$(Request.triggerRequest(\"/annotations/#{@model.tracingType}/#{@model.tracingId}/finish\")))\n        .then(=>\n          Request.$(Request.receiveJSON(\"/user/tasks/request\")).then(\n            (annotation) =>\n              differentTaskType = annotation.task.type.id != @model.tracing.task?.type.id\n              differentTaskTypeParam = if differentTaskType then \"?differentTaskType\" else \"\"\n              app.router.loadURL(\"/annotations/#{annotation.typ}/#{annotation.id}#{differentTaskTypeParam}\")\n            ->\n              # Wait a while so users have a chance to read the error message\n              setTimeout((-> app.router.loadURL(\"/dashboard\")), 2000)\n          )\n        )\n\nmodule.exports = DatasetActionsView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/action-bar/dataset_actions_view.coffee\n **/","_                        = require(\"lodash\")\nMarionette               = require(\"backbone.marionette\")\nToast                    = require(\"libs/toast\")\nRequest                  = require(\"libs/request\")\napp                      = require(\"app\")\nUserAnnotationCollection = require(\"oxalis/model/skeletontracing/user_annotation_collection\")\nSelectionView            = require(\"admin/views/selection_view\")\nUserCollection           = require(\"admin/models/user/user_collection\")\nTeamCollection           = require(\"admin/models/team/team_collection\")\nTaskTypeCollection       = require(\"admin/models/tasktype/task_type_collection\")\nProjectCollection        = require(\"admin/models/project/project_collection\")\nProjectModel             = require(\"admin/models/project/project_model\")\njsRoutes                 = require(\"routes\")\n\nclass MergeModalView extends Marionette.LayoutView\n\n  className : \"modal fade\"\n  template : _.template(\"\"\"\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n          <h4 class=\"modal-title\">Merge</h4>\n        </div>\n        <div class=\"modal-body container-fluid\">\n          <div class=\"form-group\">\n            <label for=\"task-type\">Task type</label>\n            <div class=\"row\">\n              <div class=\"col-md-10 task-type\"></div>\n              <div class=\"col-md-2\">\n                <button class=\"btn btn-primary\" id=\"task-type-merge\">Merge</button>\n              </div>\n            </div>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"project\">Project</label>\n            <div class=\"row\">\n              <div class=\"col-md-10 project\"></div>\n              <div class=\"col-md-2\">\n                <button class=\"btn btn-primary\" id=\"project-merge\">Merge</button>\n              </div>\n            </div>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"nml\">NML</label>\n            <div class=\"row\">\n              <div class=\"col-md-10\">\n                <form action=\"<%- jsRoutes.controllers.admin.NMLIO.upload().url %>\"\n                    method=\"POST\"\n                    enctype=\"multipart/form-data\"\n                    id=\"upload-and-explore-form\"\n                    class=\"inline-block\">\n\n                    <div class=\"fileinput fileinput-new input-group\" data-provides=\"fileinput\">\n                      <div class=\"form-control\" data-trigger=\"fileinput\">\n                        <span class=\"fileinput-filename\"></span>\n                      </div>\n                      <span class=\"input-group-addon btn btn-default btn-file\">\n                        <span class=\"fileinput-new\">\n                          <i class=\"fa fa-upload\"></i>\n                          Upload NML\n                        </span>\n                        <span class=\"fileinput-exists\">\n                          <i class=\"fa fa-upload hide\" id=\"form-upload-icon\"></i>\n                          <i class=\"fa fa-spinner fa-spin\" id=\"form-spinner-icon\"></i>\n                          Change</span>\n                        <input type=\"file\" name=\"nmlFile\" accept=\".nml\">\n                      </span>\n                    </div>\n                </form>\n              </div>\n              <div class=\"col-md-2\">\n                <button class=\"btn btn-primary\" id=\"nml-merge\">Merge</button>\n              </div>\n            </div>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"explorative\">Explorative annotations</label>\n            <div class=\"row\">\n              <div class=\"col-md-10 explorative\">\n                <input type=\"text\" class=\"form-control\" placeholder=\"Explorative annotation id\"></input>\n              </div>\n              <div class=\"col-md-2\">\n                <button class=\"btn btn-primary\" id=\"explorative-merge\">Merge</button>\n              </div>\n            </div>\n          </div>\n          <hr>\n          <div class=\"checkbox hidden\">\n            <label>\n              <input type=\"checkbox\" id=\"checkbox-read-only\">\n              The merged tracing will be read-only.\n            </label>\n          </div>\n          <div>\n            The merged tracing will be saved as a new explorative tracing.\n          </div>\n        </div>\n      </div>\n    </div>\n  \"\"\")\n\n  regions :\n    \"tasktype\"    : \".task-type\"\n    \"project\"     : \".project\"\n\n  events :\n    \"click #task-type-merge\"          : \"mergeTaskType\"\n    \"click #project-merge\"            : \"mergeProject\"\n    \"click #nml-merge\"                : \"mergeNml\"\n    \"change input[type=file]\"         : \"selectFiles\"\n    \"submit @ui.uploadAndExploreForm\" : \"uploadFiles\"\n    \"click #explorative-merge\"        : \"mergeExplorative\"\n    \"change.bs.fileinput\"             : \"selectFiles\"\n\n  ui :\n    \"tasktype\"             : \".task-type\"\n    \"project\"              : \".project\"\n    \"explorative\"          : \".explorative\"\n    \"uploadAndExploreForm\" : \"#upload-and-explore-form\"\n    \"formSpinnerIcon\"      : \"#form-spinner-icon\"\n    \"formUploadIcon\"       : \"#form-upload-icon\"\n    \"fileInput\"            : \":file\"\n\n\n  initialize : ->\n\n    @nml = undefined\n\n\n  show : ->\n\n    @$el.modal(\"show\")\n\n    Request.receiveJSON(\"/api/user\").then( (user) =>\n\n      @taskTypeSelectionView = new SelectionView(\n        collection : new  TaskTypeCollection()\n        childViewOptions :\n          modelValue: -> return \"#{@model.get(\"summary\")}\"\n      )\n      @projectSelectionView = new SelectionView(\n        collection : new  ProjectCollection()\n        childViewOptions :\n          modelValue: -> return \"#{@model.get(\"name\")}\"\n      )\n\n      @tasktype   .show(@taskTypeSelectionView)\n      @project    .show(@projectSelectionView)\n    )\n\n  mergeTaskType : ->\n\n    taskTypeId = @ui.tasktype.find(\"select :selected\").prop(\"id\")\n    url = \"/annotations/CompoundTaskType/#{taskTypeId}/merge/#{@model.get(\"tracingType\")}/#{@model.get(\"tracingId\")}\"\n    @merge(url)\n\n\n  mergeProject : ->\n\n    projectId = @ui.project.find(\"select :selected\").prop(\"value\")\n    url = \"/annotations/CompoundProject/#{projectId}/merge/#{@model.get(\"tracingType\")}/#{@model.get(\"tracingId\")}\"\n    @merge(url)\n\n\n  mergeNml : ->\n\n    if @nml\n      url = \"/annotations/#{@nml.typ}/#{@nml.id}/merge/#{@model.get(\"tracingType\")}/#{@model.get(\"tracingId\")}\"\n      @merge(url)\n    else\n      Toast.error(\"Please upload NML file\")\n\n\n  mergeExplorative : ->\n\n    explorativeId = @ui.explorative.find(\"input\").val()\n    @validateId(explorativeId).then( =>\n      url = \"/annotations/Explorational/#{explorativeId}/merge/#{@model.get(\"tracingType\")}/#{@model.get(\"tracingId\")}\"\n      @merge(url)\n    )\n\n\n  merge : (url) ->\n\n    readOnly = document.getElementById('checkbox-read-only').checked\n\n    Request.receiveJSON(\"#{url}/#{readOnly}\").then( (annotation) ->\n\n      Toast.message(annotation.messages)\n\n      redirectUrl = \"/annotations/#{annotation.typ}/#{annotation.id}\"\n\n      app.router.loadURL(redirectUrl)\n\n    )\n\n\n  selectFiles : (event) ->\n\n    if @ui.fileInput[0].files.length\n      @ui.uploadAndExploreForm.submit()\n\n\n  toggleIcon : (state) ->\n\n    @ui.formSpinnerIcon.toggleClass(\"hide\", state)\n    @ui.formUploadIcon.toggleClass(\"hide\", !state)\n\n\n  uploadFiles : (event) ->\n\n    event.preventDefault()\n    @toggleIcon(false)\n\n    form = @ui.uploadAndExploreForm\n\n    Request.always(\n      Request.sendMultipartFormReceiveJSON(\n        form.attr(\"action\")\n        data : new FormData(form[0])\n      ).then((data) =>\n        @nml = data.annotation\n        Toast.message(data.messages)\n      )\n      => @toggleIcon(true)\n    )\n\n\n  validateId : (id) ->\n\n    Request.receiveJSON(\"/api/find?q=#{id}&type=id\")\n\n\nmodule.exports = MergeModalView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/action-bar/merge_modal_view.coffee\n **/","_                    = require(\"lodash\")\nBackbone             = require(\"backbone\")\n\nclass UserAnnotationCollection extends Backbone.Collection\n\n  url : -> \"/api/users/#{@userId}/annotations\"\n\n  initialize : (models, options) ->\n\n    @userId = options.userId\n    @dataSetName = options.dataSetName\n\n  parse : (response) ->\n    if @dataSetName\n      return _.filter(response, dataSetName : @dataSetName)\n    else\n      return response\n\n\nmodule.exports = UserAnnotationCollection\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/skeletontracing/user_annotation_collection.coffee\n **/","_                 = require(\"lodash\")\nMarionette        = require(\"backbone.marionette\")\nSelectionItemView = require(\"./selection_item_view\")\n\nclass SelectionView extends Marionette.CollectionView\n\n  tagName : \"select\"\n  className : \"form-control\"\n  attributes : ->\n    return {\n      name : @options.name\n      required : @options.required\n    }\n\n  childView : SelectionItemView\n\n  initialize : (options) ->\n\n    # append an empty option if the emptyOption option was supplied\n    if options.emptyOption\n      @listenTo(@, \"show\", @afterRender)\n\n    @collection.fetch(\n      data : options.data\n    )\n\n\n  afterRender : ->\n\n    @$el.prepend(\"<option></option>\")\n\n\nmodule.exports = SelectionView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/admin/views/selection_view.coffee\n **/","_          = require(\"lodash\")\nMarionette = require(\"backbone.marionette\")\n\nclass SelectionItemView extends Marionette.ItemView\n\n  tagName : \"option\"\n  attributes : ->\n\n    defaults =\n      id : @model.get(\"id\")\n      value : @options.modelValue()\n\n    if @options.defaultItem\n      [[key, value]] = _.pairs(@options.defaultItem)\n      if @model.get(key) == value\n        _.extend(defaults, selected : true)\n\n    return defaults\n\n  template : _.template(\"\"\"\n    <%- label %>\n  \"\"\")\n\n  initialize : (options) ->\n\n    # a function to retrieve the option's value\n    @modelValue = options.modelValue\n\n    # a function to retrieve the option's label (displayed text)\n    @modelLabel = options.modelLabel\n\n    @listenTo(@, \"render\", @afterRender)\n\n\n  serializeData : ->\n\n    label = if @modelLabel then @modelLabel() else @modelValue()\n\n    return {\n      value : @modelValue()\n      label : label\n      id : @model.get(\"id\")\n    }\n\n\nmodule.exports = SelectionItemView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/admin/views/selection_item_view.coffee\n **/","PaginationCollection = require(\"../pagination_collection\")\n\nclass UserCollection extends PaginationCollection\n\n  url : \"/api/users\"\n  sortAttribute : \"firstName\"\n\n  state :\n    pageSize : 50\n\nmodule.exports = UserCollection\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/admin/models/user/user_collection.coffee\n **/","_                  = require(\"lodash\")\nBackbone           = require(\"backbone\")\n\nclass PaginationCollection\n\n  constructor : (models, options) ->\n\n    _.extend(this, Backbone.Events)\n\n    if options?.fullCollection\n      @fullCollection = options.fullCollection\n    else\n      @fullCollection = new Backbone.Collection(models, options)\n      if @initialize\n        @initialize.call(@fullCollection, models, options)\n\n    if @model?\n      @fullCollection.model = @model\n    if @url?\n      @fullCollection.url   = @url\n    if @parse?\n      @fullCollection.parse = @parse\n    if @idAttribute?\n      @fullCollection.idAttribute = @idAttribute\n\n    @currentModels = @fullCollection.models.slice()\n    @state = _.defaults(_.clone(@state) ? {},\n      pageSize : 10\n      currentPage : 0\n      sorting : null\n      filter : null\n      collectionFilter : null\n      filterQuery : \"\"\n    )\n\n    if @sortAttribute\n      @setSort(@sortAttribute, \"asc\")\n\n    @length = Math.min(@state.pageSize, @fullCollection.length)\n    @models = @currentModels.slice(0, @length)\n\n    @listenTo(@fullCollection, \"reset\", @_reset)\n    @listenTo(@fullCollection, \"add\", @_passthroughEvent(\"add\"))\n    @listenTo(@fullCollection, \"remove\", @_passthroughEvent(\"remove\"))\n    @listenTo(@fullCollection, \"sync\", @_passthroughEvent(\"sync\"))\n\n    @_reset = _.debounce(@_reset, 50)\n    return\n\n\n  add : ->\n    @fullCollection.add.apply(@fullCollection, arguments)\n\n  remove : ->\n    @fullCollection.remove.apply(@fullCollection, arguments)\n\n  set : ->\n    @fullCollection.set.apply(@fullCollection, arguments)\n\n  fetch : ->\n    @fullCollection.fetch.apply(@fullCollection, arguments)\n\n  create : ->\n    @fullCollection.create.apply(@fullCollection, arguments)\n\n  reset : ->\n    @fullCollection.reset.apply(@fullCollection, arguments)\n\n\n  setPageSize : (pageSize) ->\n    @state.pageSize = pageSize\n    @_reset()\n    return\n\n\n  setSorting : (field, order) ->\n    @setSort(field, order)\n    return\n\n\n  setSort : (field, order) ->\n\n    if order == \"asc\"\n      order = 1\n    if order == \"desc\"\n      order = -1\n\n    @state.sorting = (left, right) ->\n      leftValue  = left.get(field)\n      rightValue = right.get(field)\n      return if _.isString(leftValue) && _.isString(rightValue)\n          if order > 0\n            leftValue.localeCompare(rightValue)\n          else\n            rightValue.localeCompare(leftValue)\n        else\n          if order > 0\n            leftValue - rightValue\n          else\n            rightValue - leftValue\n\n    @_reset()\n    return\n\n\n  setCollectionFilter : (filter) ->\n\n    @state.collectionFilter = filter\n    return\n\n\n  setFilter : (fields, query) ->\n\n    if query == '' or not _.isString(query)\n      @state.filterQuery = \"\"\n      @state.filter = null\n    else\n      words = _.map(query.match(/\\w+/ig), (element) -> element.toLowerCase())\n      pattern = \"(\" + _.uniq(words).join(\"|\") + \")\"\n      regexp = new RegExp(pattern, \"igm\")\n\n      @state.filterQuery = query\n      @state.filter = (model) ->\n        return _.any(fields, (fieldName) ->\n          value = model.get(fieldName)\n          if value?\n            return !!value.toString().match(regexp)\n          else\n            return false\n        )\n\n    @_reset()\n    return\n\n\n  at : (index) ->\n    return @currentModels[index]\n\n  get : (index) ->\n    return @at(index)\n\n  clone : ->\n    clonedCollection = new PaginationCollection(null, {\n      fullCollection : @fullCollection\n    })\n    clonedCollection.setPageSize(@state.pageSize)\n    return clonedCollection\n\n\n  _lastPageIndex : ->\n    return Math.ceil(@currentModels.length / @state.pageSize) - 1\n\n  _passthroughEvent : (eventType) ->\n    return (args...) ->\n      @_reset()\n      @trigger(eventType, args...)\n      return\n\n  _resetModels : ->\n    models = @fullCollection.models.slice()\n\n    if @state.collectionFilter?\n      models = models.filter(@state.collectionFilter)\n\n    if @state.filter?\n      models = models.filter(@state.filter)\n\n    if @state.sorting?\n      models = models.sort(@state.sorting)\n\n    @currentModels = models\n    @state.currentPage = Math.max(0, Math.min(\n      @_lastPageIndex(),\n      @state.currentPage))\n\n    return\n\n\n  _reset : ->\n    @_resetModels()\n    @models = @currentModels.slice(\n      @state.currentPage * @state.pageSize,\n      Math.min(\n        (@state.currentPage + 1) * @state.pageSize,\n        @currentModels.length))\n\n    @length = @models.length\n    @trigger(\"reset\")\n    return\n\n\n  getPaginationInfo : ->\n    return {\n      firstPage : 0\n      lastPage : @_lastPageIndex()\n      currentPage : @state.currentPage\n      pageSize : @state.pageSize\n    }\n\n\n  getPreviousPage : ->\n    @getPage(@state.currentPage - 1)\n    return\n\n\n  getNextPage : ->\n    @getPage(@state.currentPage + 1)\n    return\n\n\n  getFirstPage : ->\n    @getPage(0)\n    return\n\n\n  getLastPage : ->\n    @getPage(@_lastPageIndex())\n    return\n\n\n  getPage : (pageIndex) ->\n    if 0 <= pageIndex < Math.ceil(@currentModels.length / @state.pageSize)\n      @state.currentPage = pageIndex\n      @_reset()\n    return\n\n  toJSON : ->\n    @models.map((model) -> model.toJSON())\n\n\n  findWhere : ->\n\n    return @fullCollection.findWhere.apply(@fullCollection, arguments)\n\n\nmodule.exports = PaginationCollection\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/admin/models/pagination_collection.coffee\n **/","_                    = require(\"lodash\")\nBackbone             = require(\"backbone\")\nTeamModel            = require(\"./team_model\")\nSortedCollection     = require(\"../sorted_collection\")\n\nclass TeamCollection extends SortedCollection\n\n  url : \"/api/teams\"\n  model : TeamModel\n  sortAttribute : \"name\"\n\nmodule.exports = TeamCollection\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/admin/models/team/team_collection.coffee\n **/","_        = require(\"lodash\")\nBackbone = require(\"backbone\")\n\nclass TeamModel extends Backbone.Model\n\n  urlRoot : \"/api/teams\"\n\n  defaults :\n    name : \"\"\n    owner : \"\"\n    roles : [\n        {name : \"admin\"},\n        {name : \"user\"}\n    ]\n    isEditable : \"true\"\n\nmodule.exports = TeamModel\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/admin/models/team/team_model.coffee\n **/","Backbone = require(\"backbone\")\n\nclass SortedCollection extends Backbone.Collection\n\n  initialize : ->\n\n    if @sortAttribute\n      @setSort(@sortAttribute, \"asc\")\n\n\n  setSort : (field, sortDirection) ->\n\n    if sortDirection == \"asc\"\n      sortDirection = 1\n    if sortDirection == \"desc\"\n      sortDirection = -1\n\n    # Set your comparator function, pass the field.\n    @comparator = (left, right) ->\n      leftValue  = left.get(field)\n      rightValue = right.get(field)\n      return if _.isString(leftValue) && _.isString(rightValue)\n          if sortDirection > 0\n            leftValue.localeCompare(rightValue)\n          else\n            rightValue.localeCompare(leftValue)\n        else\n          if sortDirection > 0\n            leftValue - rightValue\n          else\n            rightValue - leftValue\n\n    @sort()\n\n\nmodule.exports = SortedCollection\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/admin/models/sorted_collection.coffee\n **/","_                = require(\"lodash\")\nTaskTypeModel    = require(\"./task_type_model\")\nSortedCollection = require(\"../sorted_collection\")\n\nclass TaskTypeCollection extends SortedCollection\n\n  url : \"/api/taskTypes\"\n  model : TaskTypeModel\n  sortAttribute : \"summary\"\n\n  parse : (responses) ->\n\n    return _.map(responses, TaskTypeModel::parse)\n\n\n  addJSON : (item) ->\n\n    [item] = @parse([item])\n    @add(item)\n\nmodule.exports = TaskTypeCollection\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/admin/models/tasktype/task_type_collection.coffee\n **/","_           = require(\"lodash\")\nFormatUtils = require(\"libs/format_utils\")\n\nclass TaskTypeModel extends Backbone.Model\n\n  url : -> \"/api/taskTypes/#{@id}\"\n\n  parse : (response) ->\n\n    response.formattedHash = FormatUtils.formatHash(response.id)\n    response.formattedShortText = FormatUtils.formatShortText(response.description)\n\n    return response\n\n\n  destroy : ->\n\n    options = url : \"/api/taskTypes/#{@get('id')}/delete\"\n    super(options)\n\nmodule.exports = TaskTypeModel\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/admin/models/tasktype/task_type_model.coffee\n **/","_      = require(\"lodash\")\nmoment = require(\"moment\")\n\nclass FormatUtils\n\n  @formatSeconds : (seconds) ->\n\n    t = moment.duration(seconds: seconds)\n    [ days, hours, minutes, seconds ] = [ t.days(), t.hours(), t.minutes(), t.seconds() ]\n\n    return (\n      if  days == 0 and hours == 0 and minutes == 0\n        \"#{seconds}s\"\n      else if days == 0 and hours == 0\n        \"#{minutes}m #{seconds}s\"\n      else if days == 0\n        \"#{hours}h #{minutes}m #{seconds}s\"\n      else\n        \"#{days}d #{hours}h #{minutes}m #{seconds}s\"\n    )\n\n\n  @formatHash : (id) ->\n\n    return id.slice(-6)\n\n\n  @formatShortText : (text, maxLength = 100) ->\n\n    if text.length > maxLength and maxLength > 4\n      text.slice(0, maxLength - 4) + \" ...\"\n    else\n      text\n\n\n  ###*\n   * Return current date and time\n   ###\n  @formatDate : ->\n\n    return moment().format(\"YYYY-MM-DD HH:mm\")\n\nmodule.exports = FormatUtils\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/libs/format_utils.coffee\n **/","//! moment.js\n//! version : 2.14.1\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.moment = factory()\n}(this, function () { 'use strict';\n\n    var hookCallback;\n\n    function utils_hooks__hooks () {\n        return hookCallback.apply(null, arguments);\n    }\n\n    // This is done to register the method called with moment()\n    // without creating circular dependencies.\n    function setHookCallback (callback) {\n        hookCallback = callback;\n    }\n\n    function isArray(input) {\n        return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';\n    }\n\n    function isObject(input) {\n        return Object.prototype.toString.call(input) === '[object Object]';\n    }\n\n    function isObjectEmpty(obj) {\n        var k;\n        for (k in obj) {\n            // even if its not own property I'd still call it non-empty\n            return false;\n        }\n        return true;\n    }\n\n    function isDate(input) {\n        return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';\n    }\n\n    function map(arr, fn) {\n        var res = [], i;\n        for (i = 0; i < arr.length; ++i) {\n            res.push(fn(arr[i], i));\n        }\n        return res;\n    }\n\n    function hasOwnProp(a, b) {\n        return Object.prototype.hasOwnProperty.call(a, b);\n    }\n\n    function extend(a, b) {\n        for (var i in b) {\n            if (hasOwnProp(b, i)) {\n                a[i] = b[i];\n            }\n        }\n\n        if (hasOwnProp(b, 'toString')) {\n            a.toString = b.toString;\n        }\n\n        if (hasOwnProp(b, 'valueOf')) {\n            a.valueOf = b.valueOf;\n        }\n\n        return a;\n    }\n\n    function create_utc__createUTC (input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, true).utc();\n    }\n\n    function defaultParsingFlags() {\n        // We need to deep clone this object.\n        return {\n            empty           : false,\n            unusedTokens    : [],\n            unusedInput     : [],\n            overflow        : -2,\n            charsLeftOver   : 0,\n            nullInput       : false,\n            invalidMonth    : null,\n            invalidFormat   : false,\n            userInvalidated : false,\n            iso             : false,\n            parsedDateParts : [],\n            meridiem        : null\n        };\n    }\n\n    function getParsingFlags(m) {\n        if (m._pf == null) {\n            m._pf = defaultParsingFlags();\n        }\n        return m._pf;\n    }\n\n    var some;\n    if (Array.prototype.some) {\n        some = Array.prototype.some;\n    } else {\n        some = function (fun) {\n            var t = Object(this);\n            var len = t.length >>> 0;\n\n            for (var i = 0; i < len; i++) {\n                if (i in t && fun.call(this, t[i], i, t)) {\n                    return true;\n                }\n            }\n\n            return false;\n        };\n    }\n\n    function valid__isValid(m) {\n        if (m._isValid == null) {\n            var flags = getParsingFlags(m);\n            var parsedParts = some.call(flags.parsedDateParts, function (i) {\n                return i != null;\n            });\n            m._isValid = !isNaN(m._d.getTime()) &&\n                flags.overflow < 0 &&\n                !flags.empty &&\n                !flags.invalidMonth &&\n                !flags.invalidWeekday &&\n                !flags.nullInput &&\n                !flags.invalidFormat &&\n                !flags.userInvalidated &&\n                (!flags.meridiem || (flags.meridiem && parsedParts));\n\n            if (m._strict) {\n                m._isValid = m._isValid &&\n                    flags.charsLeftOver === 0 &&\n                    flags.unusedTokens.length === 0 &&\n                    flags.bigHour === undefined;\n            }\n        }\n        return m._isValid;\n    }\n\n    function valid__createInvalid (flags) {\n        var m = create_utc__createUTC(NaN);\n        if (flags != null) {\n            extend(getParsingFlags(m), flags);\n        }\n        else {\n            getParsingFlags(m).userInvalidated = true;\n        }\n\n        return m;\n    }\n\n    function isUndefined(input) {\n        return input === void 0;\n    }\n\n    // Plugins that add properties should also add the key here (null value),\n    // so we can properly clone ourselves.\n    var momentProperties = utils_hooks__hooks.momentProperties = [];\n\n    function copyConfig(to, from) {\n        var i, prop, val;\n\n        if (!isUndefined(from._isAMomentObject)) {\n            to._isAMomentObject = from._isAMomentObject;\n        }\n        if (!isUndefined(from._i)) {\n            to._i = from._i;\n        }\n        if (!isUndefined(from._f)) {\n            to._f = from._f;\n        }\n        if (!isUndefined(from._l)) {\n            to._l = from._l;\n        }\n        if (!isUndefined(from._strict)) {\n            to._strict = from._strict;\n        }\n        if (!isUndefined(from._tzm)) {\n            to._tzm = from._tzm;\n        }\n        if (!isUndefined(from._isUTC)) {\n            to._isUTC = from._isUTC;\n        }\n        if (!isUndefined(from._offset)) {\n            to._offset = from._offset;\n        }\n        if (!isUndefined(from._pf)) {\n            to._pf = getParsingFlags(from);\n        }\n        if (!isUndefined(from._locale)) {\n            to._locale = from._locale;\n        }\n\n        if (momentProperties.length > 0) {\n            for (i in momentProperties) {\n                prop = momentProperties[i];\n                val = from[prop];\n                if (!isUndefined(val)) {\n                    to[prop] = val;\n                }\n            }\n        }\n\n        return to;\n    }\n\n    var updateInProgress = false;\n\n    // Moment prototype object\n    function Moment(config) {\n        copyConfig(this, config);\n        this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n        // Prevent infinite loop in case updateOffset creates new moment\n        // objects.\n        if (updateInProgress === false) {\n            updateInProgress = true;\n            utils_hooks__hooks.updateOffset(this);\n            updateInProgress = false;\n        }\n    }\n\n    function isMoment (obj) {\n        return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);\n    }\n\n    function absFloor (number) {\n        if (number < 0) {\n            // -0 -> 0\n            return Math.ceil(number) || 0;\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function toInt(argumentForCoercion) {\n        var coercedNumber = +argumentForCoercion,\n            value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            value = absFloor(coercedNumber);\n        }\n\n        return value;\n    }\n\n    // compare two arrays, return the number of differences\n    function compareArrays(array1, array2, dontConvert) {\n        var len = Math.min(array1.length, array2.length),\n            lengthDiff = Math.abs(array1.length - array2.length),\n            diffs = 0,\n            i;\n        for (i = 0; i < len; i++) {\n            if ((dontConvert && array1[i] !== array2[i]) ||\n                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n                diffs++;\n            }\n        }\n        return diffs + lengthDiff;\n    }\n\n    function warn(msg) {\n        if (utils_hooks__hooks.suppressDeprecationWarnings === false &&\n                (typeof console !==  'undefined') && console.warn) {\n            console.warn('Deprecation warning: ' + msg);\n        }\n    }\n\n    function deprecate(msg, fn) {\n        var firstTime = true;\n\n        return extend(function () {\n            if (utils_hooks__hooks.deprecationHandler != null) {\n                utils_hooks__hooks.deprecationHandler(null, msg);\n            }\n            if (firstTime) {\n                warn(msg + '\\nArguments: ' + Array.prototype.slice.call(arguments).join(', ') + '\\n' + (new Error()).stack);\n                firstTime = false;\n            }\n            return fn.apply(this, arguments);\n        }, fn);\n    }\n\n    var deprecations = {};\n\n    function deprecateSimple(name, msg) {\n        if (utils_hooks__hooks.deprecationHandler != null) {\n            utils_hooks__hooks.deprecationHandler(name, msg);\n        }\n        if (!deprecations[name]) {\n            warn(msg);\n            deprecations[name] = true;\n        }\n    }\n\n    utils_hooks__hooks.suppressDeprecationWarnings = false;\n    utils_hooks__hooks.deprecationHandler = null;\n\n    function isFunction(input) {\n        return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';\n    }\n\n    function locale_set__set (config) {\n        var prop, i;\n        for (i in config) {\n            prop = config[i];\n            if (isFunction(prop)) {\n                this[i] = prop;\n            } else {\n                this['_' + i] = prop;\n            }\n        }\n        this._config = config;\n        // Lenient ordinal parsing accepts just a number in addition to\n        // number + (possibly) stuff coming from _ordinalParseLenient.\n        this._ordinalParseLenient = new RegExp(this._ordinalParse.source + '|' + (/\\d{1,2}/).source);\n    }\n\n    function mergeConfigs(parentConfig, childConfig) {\n        var res = extend({}, parentConfig), prop;\n        for (prop in childConfig) {\n            if (hasOwnProp(childConfig, prop)) {\n                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                    res[prop] = {};\n                    extend(res[prop], parentConfig[prop]);\n                    extend(res[prop], childConfig[prop]);\n                } else if (childConfig[prop] != null) {\n                    res[prop] = childConfig[prop];\n                } else {\n                    delete res[prop];\n                }\n            }\n        }\n        for (prop in parentConfig) {\n            if (hasOwnProp(parentConfig, prop) &&\n                    !hasOwnProp(childConfig, prop) &&\n                    isObject(parentConfig[prop])) {\n                // make sure changes to properties don't modify parent config\n                res[prop] = extend({}, res[prop]);\n            }\n        }\n        return res;\n    }\n\n    function Locale(config) {\n        if (config != null) {\n            this.set(config);\n        }\n    }\n\n    var keys;\n\n    if (Object.keys) {\n        keys = Object.keys;\n    } else {\n        keys = function (obj) {\n            var i, res = [];\n            for (i in obj) {\n                if (hasOwnProp(obj, i)) {\n                    res.push(i);\n                }\n            }\n            return res;\n        };\n    }\n\n    var defaultCalendar = {\n        sameDay : '[Today at] LT',\n        nextDay : '[Tomorrow at] LT',\n        nextWeek : 'dddd [at] LT',\n        lastDay : '[Yesterday at] LT',\n        lastWeek : '[Last] dddd [at] LT',\n        sameElse : 'L'\n    };\n\n    function locale_calendar__calendar (key, mom, now) {\n        var output = this._calendar[key] || this._calendar['sameElse'];\n        return isFunction(output) ? output.call(mom, now) : output;\n    }\n\n    var defaultLongDateFormat = {\n        LTS  : 'h:mm:ss A',\n        LT   : 'h:mm A',\n        L    : 'MM/DD/YYYY',\n        LL   : 'MMMM D, YYYY',\n        LLL  : 'MMMM D, YYYY h:mm A',\n        LLLL : 'dddd, MMMM D, YYYY h:mm A'\n    };\n\n    function longDateFormat (key) {\n        var format = this._longDateFormat[key],\n            formatUpper = this._longDateFormat[key.toUpperCase()];\n\n        if (format || !formatUpper) {\n            return format;\n        }\n\n        this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {\n            return val.slice(1);\n        });\n\n        return this._longDateFormat[key];\n    }\n\n    var defaultInvalidDate = 'Invalid date';\n\n    function invalidDate () {\n        return this._invalidDate;\n    }\n\n    var defaultOrdinal = '%d';\n    var defaultOrdinalParse = /\\d{1,2}/;\n\n    function ordinal (number) {\n        return this._ordinal.replace('%d', number);\n    }\n\n    var defaultRelativeTime = {\n        future : 'in %s',\n        past   : '%s ago',\n        s  : 'a few seconds',\n        m  : 'a minute',\n        mm : '%d minutes',\n        h  : 'an hour',\n        hh : '%d hours',\n        d  : 'a day',\n        dd : '%d days',\n        M  : 'a month',\n        MM : '%d months',\n        y  : 'a year',\n        yy : '%d years'\n    };\n\n    function relative__relativeTime (number, withoutSuffix, string, isFuture) {\n        var output = this._relativeTime[string];\n        return (isFunction(output)) ?\n            output(number, withoutSuffix, string, isFuture) :\n            output.replace(/%d/i, number);\n    }\n\n    function pastFuture (diff, output) {\n        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n        return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n    }\n\n    var aliases = {};\n\n    function addUnitAlias (unit, shorthand) {\n        var lowerCase = unit.toLowerCase();\n        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n    }\n\n    function normalizeUnits(units) {\n        return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;\n    }\n\n    function normalizeObjectUnits(inputObject) {\n        var normalizedInput = {},\n            normalizedProp,\n            prop;\n\n        for (prop in inputObject) {\n            if (hasOwnProp(inputObject, prop)) {\n                normalizedProp = normalizeUnits(prop);\n                if (normalizedProp) {\n                    normalizedInput[normalizedProp] = inputObject[prop];\n                }\n            }\n        }\n\n        return normalizedInput;\n    }\n\n    var priorities = {};\n\n    function addUnitPriority(unit, priority) {\n        priorities[unit] = priority;\n    }\n\n    function getPrioritizedUnits(unitsObj) {\n        var units = [];\n        for (var u in unitsObj) {\n            units.push({unit: u, priority: priorities[u]});\n        }\n        units.sort(function (a, b) {\n            return a.priority - b.priority;\n        });\n        return units;\n    }\n\n    function makeGetSet (unit, keepTime) {\n        return function (value) {\n            if (value != null) {\n                get_set__set(this, unit, value);\n                utils_hooks__hooks.updateOffset(this, keepTime);\n                return this;\n            } else {\n                return get_set__get(this, unit);\n            }\n        };\n    }\n\n    function get_set__get (mom, unit) {\n        return mom.isValid() ?\n            mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;\n    }\n\n    function get_set__set (mom, unit, value) {\n        if (mom.isValid()) {\n            mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n        }\n    }\n\n    // MOMENTS\n\n    function stringGet (units) {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units]();\n        }\n        return this;\n    }\n\n\n    function stringSet (units, value) {\n        if (typeof units === 'object') {\n            units = normalizeObjectUnits(units);\n            var prioritized = getPrioritizedUnits(units);\n            for (var i = 0; i < prioritized.length; i++) {\n                this[prioritized[i].unit](units[prioritized[i].unit]);\n            }\n        } else {\n            units = normalizeUnits(units);\n            if (isFunction(this[units])) {\n                return this[units](value);\n            }\n        }\n        return this;\n    }\n\n    function zeroFill(number, targetLength, forceSign) {\n        var absNumber = '' + Math.abs(number),\n            zerosToFill = targetLength - absNumber.length,\n            sign = number >= 0;\n        return (sign ? (forceSign ? '+' : '') : '-') +\n            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;\n    }\n\n    var formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;\n\n    var localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\n\n    var formatFunctions = {};\n\n    var formatTokenFunctions = {};\n\n    // token:    'M'\n    // padded:   ['MM', 2]\n    // ordinal:  'Mo'\n    // callback: function () { this.month() + 1 }\n    function addFormatToken (token, padded, ordinal, callback) {\n        var func = callback;\n        if (typeof callback === 'string') {\n            func = function () {\n                return this[callback]();\n            };\n        }\n        if (token) {\n            formatTokenFunctions[token] = func;\n        }\n        if (padded) {\n            formatTokenFunctions[padded[0]] = function () {\n                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n            };\n        }\n        if (ordinal) {\n            formatTokenFunctions[ordinal] = function () {\n                return this.localeData().ordinal(func.apply(this, arguments), token);\n            };\n        }\n    }\n\n    function removeFormattingTokens(input) {\n        if (input.match(/\\[[\\s\\S]/)) {\n            return input.replace(/^\\[|\\]$/g, '');\n        }\n        return input.replace(/\\\\/g, '');\n    }\n\n    function makeFormatFunction(format) {\n        var array = format.match(formattingTokens), i, length;\n\n        for (i = 0, length = array.length; i < length; i++) {\n            if (formatTokenFunctions[array[i]]) {\n                array[i] = formatTokenFunctions[array[i]];\n            } else {\n                array[i] = removeFormattingTokens(array[i]);\n            }\n        }\n\n        return function (mom) {\n            var output = '', i;\n            for (i = 0; i < length; i++) {\n                output += array[i] instanceof Function ? array[i].call(mom, format) : array[i];\n            }\n            return output;\n        };\n    }\n\n    // format date using native date object\n    function formatMoment(m, format) {\n        if (!m.isValid()) {\n            return m.localeData().invalidDate();\n        }\n\n        format = expandFormat(format, m.localeData());\n        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);\n\n        return formatFunctions[format](m);\n    }\n\n    function expandFormat(format, locale) {\n        var i = 5;\n\n        function replaceLongDateFormatTokens(input) {\n            return locale.longDateFormat(input) || input;\n        }\n\n        localFormattingTokens.lastIndex = 0;\n        while (i >= 0 && localFormattingTokens.test(format)) {\n            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n            localFormattingTokens.lastIndex = 0;\n            i -= 1;\n        }\n\n        return format;\n    }\n\n    var match1         = /\\d/;            //       0 - 9\n    var match2         = /\\d\\d/;          //      00 - 99\n    var match3         = /\\d{3}/;         //     000 - 999\n    var match4         = /\\d{4}/;         //    0000 - 9999\n    var match6         = /[+-]?\\d{6}/;    // -999999 - 999999\n    var match1to2      = /\\d\\d?/;         //       0 - 99\n    var match3to4      = /\\d\\d\\d\\d?/;     //     999 - 9999\n    var match5to6      = /\\d\\d\\d\\d\\d\\d?/; //   99999 - 999999\n    var match1to3      = /\\d{1,3}/;       //       0 - 999\n    var match1to4      = /\\d{1,4}/;       //       0 - 9999\n    var match1to6      = /[+-]?\\d{1,6}/;  // -999999 - 999999\n\n    var matchUnsigned  = /\\d+/;           //       0 - inf\n    var matchSigned    = /[+-]?\\d+/;      //    -inf - inf\n\n    var matchOffset    = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\n    var matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n\n    var matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\n\n    // any word (or two) characters or numbers including two/three word month in arabic.\n    // includes scottish gaelic two word and hyphenated months\n    var matchWord = /[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i;\n\n\n    var regexes = {};\n\n    function addRegexToken (token, regex, strictRegex) {\n        regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {\n            return (isStrict && strictRegex) ? strictRegex : regex;\n        };\n    }\n\n    function getParseRegexForToken (token, config) {\n        if (!hasOwnProp(regexes, token)) {\n            return new RegExp(unescapeFormat(token));\n        }\n\n        return regexes[token](config._strict, config._locale);\n    }\n\n    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n    function unescapeFormat(s) {\n        return regexEscape(s.replace('\\\\', '').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n            return p1 || p2 || p3 || p4;\n        }));\n    }\n\n    function regexEscape(s) {\n        return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    }\n\n    var tokens = {};\n\n    function addParseToken (token, callback) {\n        var i, func = callback;\n        if (typeof token === 'string') {\n            token = [token];\n        }\n        if (typeof callback === 'number') {\n            func = function (input, array) {\n                array[callback] = toInt(input);\n            };\n        }\n        for (i = 0; i < token.length; i++) {\n            tokens[token[i]] = func;\n        }\n    }\n\n    function addWeekParseToken (token, callback) {\n        addParseToken(token, function (input, array, config, token) {\n            config._w = config._w || {};\n            callback(input, config._w, config, token);\n        });\n    }\n\n    function addTimeToArrayFromToken(token, input, config) {\n        if (input != null && hasOwnProp(tokens, token)) {\n            tokens[token](input, config._a, config, token);\n        }\n    }\n\n    var YEAR = 0;\n    var MONTH = 1;\n    var DATE = 2;\n    var HOUR = 3;\n    var MINUTE = 4;\n    var SECOND = 5;\n    var MILLISECOND = 6;\n    var WEEK = 7;\n    var WEEKDAY = 8;\n\n    var indexOf;\n\n    if (Array.prototype.indexOf) {\n        indexOf = Array.prototype.indexOf;\n    } else {\n        indexOf = function (o) {\n            // I know\n            var i;\n            for (i = 0; i < this.length; ++i) {\n                if (this[i] === o) {\n                    return i;\n                }\n            }\n            return -1;\n        };\n    }\n\n    function daysInMonth(year, month) {\n        return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();\n    }\n\n    // FORMATTING\n\n    addFormatToken('M', ['MM', 2], 'Mo', function () {\n        return this.month() + 1;\n    });\n\n    addFormatToken('MMM', 0, 0, function (format) {\n        return this.localeData().monthsShort(this, format);\n    });\n\n    addFormatToken('MMMM', 0, 0, function (format) {\n        return this.localeData().months(this, format);\n    });\n\n    // ALIASES\n\n    addUnitAlias('month', 'M');\n\n    // PRIORITY\n\n    addUnitPriority('month', 8);\n\n    // PARSING\n\n    addRegexToken('M',    match1to2);\n    addRegexToken('MM',   match1to2, match2);\n    addRegexToken('MMM',  function (isStrict, locale) {\n        return locale.monthsShortRegex(isStrict);\n    });\n    addRegexToken('MMMM', function (isStrict, locale) {\n        return locale.monthsRegex(isStrict);\n    });\n\n    addParseToken(['M', 'MM'], function (input, array) {\n        array[MONTH] = toInt(input) - 1;\n    });\n\n    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n        var month = config._locale.monthsParse(input, token, config._strict);\n        // if we didn't find a month name, mark the date as invalid.\n        if (month != null) {\n            array[MONTH] = month;\n        } else {\n            getParsingFlags(config).invalidMonth = input;\n        }\n    });\n\n    // LOCALES\n\n    var MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s+)+MMMM?/;\n    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');\n    function localeMonths (m, format) {\n        return isArray(this._months) ? this._months[m.month()] :\n            this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];\n    }\n\n    var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');\n    function localeMonthsShort (m, format) {\n        return isArray(this._monthsShort) ? this._monthsShort[m.month()] :\n            this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];\n    }\n\n    function units_month__handleStrictParse(monthName, format, strict) {\n        var i, ii, mom, llc = monthName.toLocaleLowerCase();\n        if (!this._monthsParse) {\n            // this is not used\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n            for (i = 0; i < 12; ++i) {\n                mom = create_utc__createUTC([2000, i]);\n                this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();\n                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeMonthsParse (monthName, format, strict) {\n        var i, mom, regex;\n\n        if (this._monthsParseExact) {\n            return units_month__handleStrictParse.call(this, monthName, format, strict);\n        }\n\n        if (!this._monthsParse) {\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n        }\n\n        // TODO: add sorting\n        // Sorting makes sure if one month (or abbr) is a prefix of another\n        // see sorting in computeMonthsParse\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = create_utc__createUTC([2000, i]);\n            if (strict && !this._longMonthsParse[i]) {\n                this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');\n                this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');\n            }\n            if (!strict && !this._monthsParse[i]) {\n                regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {\n                return i;\n            } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {\n                return i;\n            } else if (!strict && this._monthsParse[i].test(monthName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function setMonth (mom, value) {\n        var dayOfMonth;\n\n        if (!mom.isValid()) {\n            // No op\n            return mom;\n        }\n\n        if (typeof value === 'string') {\n            if (/^\\d+$/.test(value)) {\n                value = toInt(value);\n            } else {\n                value = mom.localeData().monthsParse(value);\n                // TODO: Another silent failure?\n                if (typeof value !== 'number') {\n                    return mom;\n                }\n            }\n        }\n\n        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n        return mom;\n    }\n\n    function getSetMonth (value) {\n        if (value != null) {\n            setMonth(this, value);\n            utils_hooks__hooks.updateOffset(this, true);\n            return this;\n        } else {\n            return get_set__get(this, 'Month');\n        }\n    }\n\n    function getDaysInMonth () {\n        return daysInMonth(this.year(), this.month());\n    }\n\n    var defaultMonthsShortRegex = matchWord;\n    function monthsShortRegex (isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsShortStrictRegex;\n            } else {\n                return this._monthsShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsShortRegex')) {\n                this._monthsShortRegex = defaultMonthsShortRegex;\n            }\n            return this._monthsShortStrictRegex && isStrict ?\n                this._monthsShortStrictRegex : this._monthsShortRegex;\n        }\n    }\n\n    var defaultMonthsRegex = matchWord;\n    function monthsRegex (isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsStrictRegex;\n            } else {\n                return this._monthsRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                this._monthsRegex = defaultMonthsRegex;\n            }\n            return this._monthsStrictRegex && isStrict ?\n                this._monthsStrictRegex : this._monthsRegex;\n        }\n    }\n\n    function computeMonthsParse () {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var shortPieces = [], longPieces = [], mixedPieces = [],\n            i, mom;\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = create_utc__createUTC([2000, i]);\n            shortPieces.push(this.monthsShort(mom, ''));\n            longPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.monthsShort(mom, ''));\n        }\n        // Sorting makes sure if one month (or abbr) is a prefix of another it\n        // will match the longer piece.\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 12; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n        }\n        for (i = 0; i < 24; i++) {\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._monthsShortRegex = this._monthsRegex;\n        this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n        this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n    }\n\n    // FORMATTING\n\n    addFormatToken('Y', 0, 0, function () {\n        var y = this.year();\n        return y <= 9999 ? '' + y : '+' + y;\n    });\n\n    addFormatToken(0, ['YY', 2], 0, function () {\n        return this.year() % 100;\n    });\n\n    addFormatToken(0, ['YYYY',   4],       0, 'year');\n    addFormatToken(0, ['YYYYY',  5],       0, 'year');\n    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n    // ALIASES\n\n    addUnitAlias('year', 'y');\n\n    // PRIORITIES\n\n    addUnitPriority('year', 1);\n\n    // PARSING\n\n    addRegexToken('Y',      matchSigned);\n    addRegexToken('YY',     match1to2, match2);\n    addRegexToken('YYYY',   match1to4, match4);\n    addRegexToken('YYYYY',  match1to6, match6);\n    addRegexToken('YYYYYY', match1to6, match6);\n\n    addParseToken(['YYYYY', 'YYYYYY'], YEAR);\n    addParseToken('YYYY', function (input, array) {\n        array[YEAR] = input.length === 2 ? utils_hooks__hooks.parseTwoDigitYear(input) : toInt(input);\n    });\n    addParseToken('YY', function (input, array) {\n        array[YEAR] = utils_hooks__hooks.parseTwoDigitYear(input);\n    });\n    addParseToken('Y', function (input, array) {\n        array[YEAR] = parseInt(input, 10);\n    });\n\n    // HELPERS\n\n    function daysInYear(year) {\n        return isLeapYear(year) ? 366 : 365;\n    }\n\n    function isLeapYear(year) {\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n\n    // HOOKS\n\n    utils_hooks__hooks.parseTwoDigitYear = function (input) {\n        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n    };\n\n    // MOMENTS\n\n    var getSetYear = makeGetSet('FullYear', true);\n\n    function getIsLeapYear () {\n        return isLeapYear(this.year());\n    }\n\n    function createDate (y, m, d, h, M, s, ms) {\n        //can't just apply() to create a date:\n        //http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply\n        var date = new Date(y, m, d, h, M, s, ms);\n\n        //the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0 && isFinite(date.getFullYear())) {\n            date.setFullYear(y);\n        }\n        return date;\n    }\n\n    function createUTCDate (y) {\n        var date = new Date(Date.UTC.apply(null, arguments));\n\n        //the Date.UTC function remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0 && isFinite(date.getUTCFullYear())) {\n            date.setUTCFullYear(y);\n        }\n        return date;\n    }\n\n    // start-of-first-week - start-of-year\n    function firstWeekOffset(year, dow, doy) {\n        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n            fwd = 7 + dow - doy,\n            // first-week day local weekday -- which local weekday is fwd\n            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n        return -fwdlw + fwd - 1;\n    }\n\n    //http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n        var localWeekday = (7 + weekday - dow) % 7,\n            weekOffset = firstWeekOffset(year, dow, doy),\n            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n            resYear, resDayOfYear;\n\n        if (dayOfYear <= 0) {\n            resYear = year - 1;\n            resDayOfYear = daysInYear(resYear) + dayOfYear;\n        } else if (dayOfYear > daysInYear(year)) {\n            resYear = year + 1;\n            resDayOfYear = dayOfYear - daysInYear(year);\n        } else {\n            resYear = year;\n            resDayOfYear = dayOfYear;\n        }\n\n        return {\n            year: resYear,\n            dayOfYear: resDayOfYear\n        };\n    }\n\n    function weekOfYear(mom, dow, doy) {\n        var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n            resWeek, resYear;\n\n        if (week < 1) {\n            resYear = mom.year() - 1;\n            resWeek = week + weeksInYear(resYear, dow, doy);\n        } else if (week > weeksInYear(mom.year(), dow, doy)) {\n            resWeek = week - weeksInYear(mom.year(), dow, doy);\n            resYear = mom.year() + 1;\n        } else {\n            resYear = mom.year();\n            resWeek = week;\n        }\n\n        return {\n            week: resWeek,\n            year: resYear\n        };\n    }\n\n    function weeksInYear(year, dow, doy) {\n        var weekOffset = firstWeekOffset(year, dow, doy),\n            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n    }\n\n    // FORMATTING\n\n    addFormatToken('w', ['ww', 2], 'wo', 'week');\n    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n    // ALIASES\n\n    addUnitAlias('week', 'w');\n    addUnitAlias('isoWeek', 'W');\n\n    // PRIORITIES\n\n    addUnitPriority('week', 5);\n    addUnitPriority('isoWeek', 5);\n\n    // PARSING\n\n    addRegexToken('w',  match1to2);\n    addRegexToken('ww', match1to2, match2);\n    addRegexToken('W',  match1to2);\n    addRegexToken('WW', match1to2, match2);\n\n    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {\n        week[token.substr(0, 1)] = toInt(input);\n    });\n\n    // HELPERS\n\n    // LOCALES\n\n    function localeWeek (mom) {\n        return weekOfYear(mom, this._week.dow, this._week.doy).week;\n    }\n\n    var defaultLocaleWeek = {\n        dow : 0, // Sunday is the first day of the week.\n        doy : 6  // The week that contains Jan 1st is the first week of the year.\n    };\n\n    function localeFirstDayOfWeek () {\n        return this._week.dow;\n    }\n\n    function localeFirstDayOfYear () {\n        return this._week.doy;\n    }\n\n    // MOMENTS\n\n    function getSetWeek (input) {\n        var week = this.localeData().week(this);\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    function getSetISOWeek (input) {\n        var week = weekOfYear(this, 1, 4).week;\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('d', 0, 'do', 'day');\n\n    addFormatToken('dd', 0, 0, function (format) {\n        return this.localeData().weekdaysMin(this, format);\n    });\n\n    addFormatToken('ddd', 0, 0, function (format) {\n        return this.localeData().weekdaysShort(this, format);\n    });\n\n    addFormatToken('dddd', 0, 0, function (format) {\n        return this.localeData().weekdays(this, format);\n    });\n\n    addFormatToken('e', 0, 0, 'weekday');\n    addFormatToken('E', 0, 0, 'isoWeekday');\n\n    // ALIASES\n\n    addUnitAlias('day', 'd');\n    addUnitAlias('weekday', 'e');\n    addUnitAlias('isoWeekday', 'E');\n\n    // PRIORITY\n    addUnitPriority('day', 11);\n    addUnitPriority('weekday', 11);\n    addUnitPriority('isoWeekday', 11);\n\n    // PARSING\n\n    addRegexToken('d',    match1to2);\n    addRegexToken('e',    match1to2);\n    addRegexToken('E',    match1to2);\n    addRegexToken('dd',   function (isStrict, locale) {\n        return locale.weekdaysMinRegex(isStrict);\n    });\n    addRegexToken('ddd',   function (isStrict, locale) {\n        return locale.weekdaysShortRegex(isStrict);\n    });\n    addRegexToken('dddd',   function (isStrict, locale) {\n        return locale.weekdaysRegex(isStrict);\n    });\n\n    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n        var weekday = config._locale.weekdaysParse(input, token, config._strict);\n        // if we didn't get a weekday name, mark the date as invalid\n        if (weekday != null) {\n            week.d = weekday;\n        } else {\n            getParsingFlags(config).invalidWeekday = input;\n        }\n    });\n\n    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n        week[token] = toInt(input);\n    });\n\n    // HELPERS\n\n    function parseWeekday(input, locale) {\n        if (typeof input !== 'string') {\n            return input;\n        }\n\n        if (!isNaN(input)) {\n            return parseInt(input, 10);\n        }\n\n        input = locale.weekdaysParse(input);\n        if (typeof input === 'number') {\n            return input;\n        }\n\n        return null;\n    }\n\n    function parseIsoWeekday(input, locale) {\n        if (typeof input === 'string') {\n            return locale.weekdaysParse(input) % 7 || 7;\n        }\n        return isNaN(input) ? null : input;\n    }\n\n    // LOCALES\n\n    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');\n    function localeWeekdays (m, format) {\n        return isArray(this._weekdays) ? this._weekdays[m.day()] :\n            this._weekdays[this._weekdays.isFormat.test(format) ? 'format' : 'standalone'][m.day()];\n    }\n\n    var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');\n    function localeWeekdaysShort (m) {\n        return this._weekdaysShort[m.day()];\n    }\n\n    var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');\n    function localeWeekdaysMin (m) {\n        return this._weekdaysMin[m.day()];\n    }\n\n    function day_of_week__handleStrictParse(weekdayName, format, strict) {\n        var i, ii, mom, llc = weekdayName.toLocaleLowerCase();\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._minWeekdaysParse = [];\n\n            for (i = 0; i < 7; ++i) {\n                mom = create_utc__createUTC([2000, 1]).day(i);\n                this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();\n                this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();\n                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeWeekdaysParse (weekdayName, format, strict) {\n        var i, mom, regex;\n\n        if (this._weekdaysParseExact) {\n            return day_of_week__handleStrictParse.call(this, weekdayName, format, strict);\n        }\n\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._minWeekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._fullWeekdaysParse = [];\n        }\n\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n\n            mom = create_utc__createUTC([2000, 1]).day(i);\n            if (strict && !this._fullWeekdaysParse[i]) {\n                this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\.?') + '$', 'i');\n                this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\.?') + '$', 'i');\n                this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\.?') + '$', 'i');\n            }\n            if (!this._weekdaysParse[i]) {\n                regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function getSetDayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n        if (input != null) {\n            input = parseWeekday(input, this.localeData());\n            return this.add(input - day, 'd');\n        } else {\n            return day;\n        }\n    }\n\n    function getSetLocaleDayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n        return input == null ? weekday : this.add(input - weekday, 'd');\n    }\n\n    function getSetISODayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n\n        // behaves the same as moment#day except\n        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n        // as a setter, sunday should belong to the previous week.\n\n        if (input != null) {\n            var weekday = parseIsoWeekday(input, this.localeData());\n            return this.day(this.day() % 7 ? weekday : weekday - 7);\n        } else {\n            return this.day() || 7;\n        }\n    }\n\n    var defaultWeekdaysRegex = matchWord;\n    function weekdaysRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysStrictRegex;\n            } else {\n                return this._weekdaysRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                this._weekdaysRegex = defaultWeekdaysRegex;\n            }\n            return this._weekdaysStrictRegex && isStrict ?\n                this._weekdaysStrictRegex : this._weekdaysRegex;\n        }\n    }\n\n    var defaultWeekdaysShortRegex = matchWord;\n    function weekdaysShortRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysShortStrictRegex;\n            } else {\n                return this._weekdaysShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n                this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n            }\n            return this._weekdaysShortStrictRegex && isStrict ?\n                this._weekdaysShortStrictRegex : this._weekdaysShortRegex;\n        }\n    }\n\n    var defaultWeekdaysMinRegex = matchWord;\n    function weekdaysMinRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysMinStrictRegex;\n            } else {\n                return this._weekdaysMinRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n                this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n            }\n            return this._weekdaysMinStrictRegex && isStrict ?\n                this._weekdaysMinStrictRegex : this._weekdaysMinRegex;\n        }\n    }\n\n\n    function computeWeekdaysParse () {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],\n            i, mom, minp, shortp, longp;\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n            mom = create_utc__createUTC([2000, 1]).day(i);\n            minp = this.weekdaysMin(mom, '');\n            shortp = this.weekdaysShort(mom, '');\n            longp = this.weekdays(mom, '');\n            minPieces.push(minp);\n            shortPieces.push(shortp);\n            longPieces.push(longp);\n            mixedPieces.push(minp);\n            mixedPieces.push(shortp);\n            mixedPieces.push(longp);\n        }\n        // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n        // will match the longer piece.\n        minPieces.sort(cmpLenRev);\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 7; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._weekdaysShortRegex = this._weekdaysRegex;\n        this._weekdaysMinRegex = this._weekdaysRegex;\n\n        this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n        this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n        this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');\n    }\n\n    // FORMATTING\n\n    function hFormat() {\n        return this.hours() % 12 || 12;\n    }\n\n    function kFormat() {\n        return this.hours() || 24;\n    }\n\n    addFormatToken('H', ['HH', 2], 0, 'hour');\n    addFormatToken('h', ['hh', 2], 0, hFormat);\n    addFormatToken('k', ['kk', 2], 0, kFormat);\n\n    addFormatToken('hmm', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('hmmss', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2);\n    });\n\n    addFormatToken('Hmm', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('Hmmss', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2);\n    });\n\n    function meridiem (token, lowercase) {\n        addFormatToken(token, 0, 0, function () {\n            return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);\n        });\n    }\n\n    meridiem('a', true);\n    meridiem('A', false);\n\n    // ALIASES\n\n    addUnitAlias('hour', 'h');\n\n    // PRIORITY\n    addUnitPriority('hour', 13);\n\n    // PARSING\n\n    function matchMeridiem (isStrict, locale) {\n        return locale._meridiemParse;\n    }\n\n    addRegexToken('a',  matchMeridiem);\n    addRegexToken('A',  matchMeridiem);\n    addRegexToken('H',  match1to2);\n    addRegexToken('h',  match1to2);\n    addRegexToken('HH', match1to2, match2);\n    addRegexToken('hh', match1to2, match2);\n\n    addRegexToken('hmm', match3to4);\n    addRegexToken('hmmss', match5to6);\n    addRegexToken('Hmm', match3to4);\n    addRegexToken('Hmmss', match5to6);\n\n    addParseToken(['H', 'HH'], HOUR);\n    addParseToken(['a', 'A'], function (input, array, config) {\n        config._isPm = config._locale.isPM(input);\n        config._meridiem = input;\n    });\n    addParseToken(['h', 'hh'], function (input, array, config) {\n        array[HOUR] = toInt(input);\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmmss', function (input, array, config) {\n        var pos1 = input.length - 4;\n        var pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('Hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n    });\n    addParseToken('Hmmss', function (input, array, config) {\n        var pos1 = input.length - 4;\n        var pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n    });\n\n    // LOCALES\n\n    function localeIsPM (input) {\n        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n        // Using charAt should be more compatible.\n        return ((input + '').toLowerCase().charAt(0) === 'p');\n    }\n\n    var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\n    function localeMeridiem (hours, minutes, isLower) {\n        if (hours > 11) {\n            return isLower ? 'pm' : 'PM';\n        } else {\n            return isLower ? 'am' : 'AM';\n        }\n    }\n\n\n    // MOMENTS\n\n    // Setting the hour should keep the time, because the user explicitly\n    // specified which hour he wants. So trying to maintain the same hour (in\n    // a new timezone) makes sense. Adding/subtracting hours does not follow\n    // this rule.\n    var getSetHour = makeGetSet('Hours', true);\n\n    var baseConfig = {\n        calendar: defaultCalendar,\n        longDateFormat: defaultLongDateFormat,\n        invalidDate: defaultInvalidDate,\n        ordinal: defaultOrdinal,\n        ordinalParse: defaultOrdinalParse,\n        relativeTime: defaultRelativeTime,\n\n        months: defaultLocaleMonths,\n        monthsShort: defaultLocaleMonthsShort,\n\n        week: defaultLocaleWeek,\n\n        weekdays: defaultLocaleWeekdays,\n        weekdaysMin: defaultLocaleWeekdaysMin,\n        weekdaysShort: defaultLocaleWeekdaysShort,\n\n        meridiemParse: defaultLocaleMeridiemParse\n    };\n\n    // internal storage for locale config files\n    var locales = {};\n    var globalLocale;\n\n    function normalizeLocale(key) {\n        return key ? key.toLowerCase().replace('_', '-') : key;\n    }\n\n    // pick the locale from the array\n    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\n    function chooseLocale(names) {\n        var i = 0, j, next, locale, split;\n\n        while (i < names.length) {\n            split = normalizeLocale(names[i]).split('-');\n            j = split.length;\n            next = normalizeLocale(names[i + 1]);\n            next = next ? next.split('-') : null;\n            while (j > 0) {\n                locale = loadLocale(split.slice(0, j).join('-'));\n                if (locale) {\n                    return locale;\n                }\n                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                    //the next array item is better than a shallower substring of this one\n                    break;\n                }\n                j--;\n            }\n            i++;\n        }\n        return null;\n    }\n\n    function loadLocale(name) {\n        var oldLocale = null;\n        // TODO: Find a better way to register and load all the locales in Node\n        if (!locales[name] && (typeof module !== 'undefined') &&\n                module && module.exports) {\n            try {\n                oldLocale = globalLocale._abbr;\n                require('./locale/' + name);\n                // because defineLocale currently also sets the global locale, we\n                // want to undo that for lazy loaded locales\n                locale_locales__getSetGlobalLocale(oldLocale);\n            } catch (e) { }\n        }\n        return locales[name];\n    }\n\n    // This function will load locale and then set the global locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    function locale_locales__getSetGlobalLocale (key, values) {\n        var data;\n        if (key) {\n            if (isUndefined(values)) {\n                data = locale_locales__getLocale(key);\n            }\n            else {\n                data = defineLocale(key, values);\n            }\n\n            if (data) {\n                // moment.duration._locale = moment._locale = data;\n                globalLocale = data;\n            }\n        }\n\n        return globalLocale._abbr;\n    }\n\n    function defineLocale (name, config) {\n        if (config !== null) {\n            var parentConfig = baseConfig;\n            config.abbr = name;\n            if (locales[name] != null) {\n                deprecateSimple('defineLocaleOverride',\n                        'use moment.updateLocale(localeName, config) to change ' +\n                        'an existing locale. moment.defineLocale(localeName, ' +\n                        'config) should only be used for creating a new locale ' +\n                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');\n                parentConfig = locales[name]._config;\n            } else if (config.parentLocale != null) {\n                if (locales[config.parentLocale] != null) {\n                    parentConfig = locales[config.parentLocale]._config;\n                } else {\n                    // treat as if there is no base config\n                    deprecateSimple('parentLocaleUndefined',\n                            'specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/');\n                }\n            }\n            locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n            // backwards compat for now: also set the locale\n            locale_locales__getSetGlobalLocale(name);\n\n            return locales[name];\n        } else {\n            // useful for testing\n            delete locales[name];\n            return null;\n        }\n    }\n\n    function updateLocale(name, config) {\n        if (config != null) {\n            var locale, parentConfig = baseConfig;\n            // MERGE\n            if (locales[name] != null) {\n                parentConfig = locales[name]._config;\n            }\n            config = mergeConfigs(parentConfig, config);\n            locale = new Locale(config);\n            locale.parentLocale = locales[name];\n            locales[name] = locale;\n\n            // backwards compat for now: also set the locale\n            locale_locales__getSetGlobalLocale(name);\n        } else {\n            // pass null for config to unupdate, useful for tests\n            if (locales[name] != null) {\n                if (locales[name].parentLocale != null) {\n                    locales[name] = locales[name].parentLocale;\n                } else if (locales[name] != null) {\n                    delete locales[name];\n                }\n            }\n        }\n        return locales[name];\n    }\n\n    // returns locale data\n    function locale_locales__getLocale (key) {\n        var locale;\n\n        if (key && key._locale && key._locale._abbr) {\n            key = key._locale._abbr;\n        }\n\n        if (!key) {\n            return globalLocale;\n        }\n\n        if (!isArray(key)) {\n            //short-circuit everything else\n            locale = loadLocale(key);\n            if (locale) {\n                return locale;\n            }\n            key = [key];\n        }\n\n        return chooseLocale(key);\n    }\n\n    function locale_locales__listLocales() {\n        return keys(locales);\n    }\n\n    function checkOverflow (m) {\n        var overflow;\n        var a = m._a;\n\n        if (a && getParsingFlags(m).overflow === -2) {\n            overflow =\n                a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :\n                a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :\n                a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :\n                a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :\n                a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :\n                a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :\n                -1;\n\n            if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n                overflow = DATE;\n            }\n            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n                overflow = WEEK;\n            }\n            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n                overflow = WEEKDAY;\n            }\n\n            getParsingFlags(m).overflow = overflow;\n        }\n\n        return m;\n    }\n\n    // iso 8601 regex\n    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\n    var extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n    var basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n\n    var tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/;\n\n    var isoDates = [\n        ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n        ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n        ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n        ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n        ['YYYY-DDD', /\\d{4}-\\d{3}/],\n        ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n        ['YYYYYYMMDD', /[+-]\\d{10}/],\n        ['YYYYMMDD', /\\d{8}/],\n        // YYYYMM is NOT allowed by the standard\n        ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n        ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n        ['YYYYDDD', /\\d{7}/]\n    ];\n\n    // iso time formats and regexes\n    var isoTimes = [\n        ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n        ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n        ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n        ['HH:mm', /\\d\\d:\\d\\d/],\n        ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n        ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n        ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n        ['HHmm', /\\d\\d\\d\\d/],\n        ['HH', /\\d\\d/]\n    ];\n\n    var aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n    // date from iso format\n    function configFromISO(config) {\n        var i, l,\n            string = config._i,\n            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n            allowTime, dateFormat, timeFormat, tzFormat;\n\n        if (match) {\n            getParsingFlags(config).iso = true;\n\n            for (i = 0, l = isoDates.length; i < l; i++) {\n                if (isoDates[i][1].exec(match[1])) {\n                    dateFormat = isoDates[i][0];\n                    allowTime = isoDates[i][2] !== false;\n                    break;\n                }\n            }\n            if (dateFormat == null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[3]) {\n                for (i = 0, l = isoTimes.length; i < l; i++) {\n                    if (isoTimes[i][1].exec(match[3])) {\n                        // match[2] should be 'T' or space\n                        timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                        break;\n                    }\n                }\n                if (timeFormat == null) {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            if (!allowTime && timeFormat != null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[4]) {\n                if (tzRegex.exec(match[4])) {\n                    tzFormat = 'Z';\n                } else {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n            configFromStringAndFormat(config);\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // date from iso format or fallback\n    function configFromString(config) {\n        var matched = aspNetJsonRegex.exec(config._i);\n\n        if (matched !== null) {\n            config._d = new Date(+matched[1]);\n            return;\n        }\n\n        configFromISO(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n            utils_hooks__hooks.createFromInputFallback(config);\n        }\n    }\n\n    utils_hooks__hooks.createFromInputFallback = deprecate(\n        'moment construction falls back to js Date. This is ' +\n        'discouraged and will be removed in upcoming major ' +\n        'release. Please refer to ' +\n        'http://momentjs.com/guides/#/warnings/js-date/ for more info.',\n        function (config) {\n            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n        }\n    );\n\n    // Pick the first defined of two or three arguments.\n    function defaults(a, b, c) {\n        if (a != null) {\n            return a;\n        }\n        if (b != null) {\n            return b;\n        }\n        return c;\n    }\n\n    function currentDateArray(config) {\n        // hooks is actually the exported moment object\n        var nowValue = new Date(utils_hooks__hooks.now());\n        if (config._useUTC) {\n            return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];\n        }\n        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n    }\n\n    // convert an array to a date.\n    // the array should mirror the parameters below\n    // note: all values past the year are optional and will default to the lowest possible value.\n    // [year, month, day , hour, minute, second, millisecond]\n    function configFromArray (config) {\n        var i, date, input = [], currentDate, yearToUse;\n\n        if (config._d) {\n            return;\n        }\n\n        currentDate = currentDateArray(config);\n\n        //compute day of the year from weeks and weekdays\n        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n            dayOfYearFromWeekInfo(config);\n        }\n\n        //if the day of the year is set, figure out what it is\n        if (config._dayOfYear) {\n            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n            if (config._dayOfYear > daysInYear(yearToUse)) {\n                getParsingFlags(config)._overflowDayOfYear = true;\n            }\n\n            date = createUTCDate(yearToUse, 0, config._dayOfYear);\n            config._a[MONTH] = date.getUTCMonth();\n            config._a[DATE] = date.getUTCDate();\n        }\n\n        // Default to current date.\n        // * if no year, month, day of month are given, default to today\n        // * if day of month is given, default month and year\n        // * if month is given, default only year\n        // * if year is given, don't default anything\n        for (i = 0; i < 3 && config._a[i] == null; ++i) {\n            config._a[i] = input[i] = currentDate[i];\n        }\n\n        // Zero out whatever was not defaulted, including time\n        for (; i < 7; i++) {\n            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n        }\n\n        // Check for 24:00:00.000\n        if (config._a[HOUR] === 24 &&\n                config._a[MINUTE] === 0 &&\n                config._a[SECOND] === 0 &&\n                config._a[MILLISECOND] === 0) {\n            config._nextDay = true;\n            config._a[HOUR] = 0;\n        }\n\n        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\n        // Apply timezone offset from input. The actual utcOffset can be changed\n        // with parseZone.\n        if (config._tzm != null) {\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n        }\n\n        if (config._nextDay) {\n            config._a[HOUR] = 24;\n        }\n    }\n\n    function dayOfYearFromWeekInfo(config) {\n        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;\n\n        w = config._w;\n        if (w.GG != null || w.W != null || w.E != null) {\n            dow = 1;\n            doy = 4;\n\n            // TODO: We need to take the current isoWeekYear, but that depends on\n            // how we interpret now (local, utc, fixed offset). So create\n            // a now version of current config (take local/utc/offset flags, and\n            // create now).\n            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(local__createLocal(), 1, 4).year);\n            week = defaults(w.W, 1);\n            weekday = defaults(w.E, 1);\n            if (weekday < 1 || weekday > 7) {\n                weekdayOverflow = true;\n            }\n        } else {\n            dow = config._locale._week.dow;\n            doy = config._locale._week.doy;\n\n            weekYear = defaults(w.gg, config._a[YEAR], weekOfYear(local__createLocal(), dow, doy).year);\n            week = defaults(w.w, 1);\n\n            if (w.d != null) {\n                // weekday -- low day numbers are considered next week\n                weekday = w.d;\n                if (weekday < 0 || weekday > 6) {\n                    weekdayOverflow = true;\n                }\n            } else if (w.e != null) {\n                // local weekday -- counting starts from begining of week\n                weekday = w.e + dow;\n                if (w.e < 0 || w.e > 6) {\n                    weekdayOverflow = true;\n                }\n            } else {\n                // default to begining of week\n                weekday = dow;\n            }\n        }\n        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n            getParsingFlags(config)._overflowWeeks = true;\n        } else if (weekdayOverflow != null) {\n            getParsingFlags(config)._overflowWeekday = true;\n        } else {\n            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n            config._a[YEAR] = temp.year;\n            config._dayOfYear = temp.dayOfYear;\n        }\n    }\n\n    // constant that refers to the ISO standard\n    utils_hooks__hooks.ISO_8601 = function () {};\n\n    // date from string and format string\n    function configFromStringAndFormat(config) {\n        // TODO: Move this to another part of the creation flow to prevent circular deps\n        if (config._f === utils_hooks__hooks.ISO_8601) {\n            configFromISO(config);\n            return;\n        }\n\n        config._a = [];\n        getParsingFlags(config).empty = true;\n\n        // This array is used to make a Date, either with `new Date` or `Date.UTC`\n        var string = '' + config._i,\n            i, parsedInput, tokens, token, skipped,\n            stringLength = string.length,\n            totalParsedInputLength = 0;\n\n        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n        for (i = 0; i < tokens.length; i++) {\n            token = tokens[i];\n            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n            // console.log('token', token, 'parsedInput', parsedInput,\n            //         'regex', getParseRegexForToken(token, config));\n            if (parsedInput) {\n                skipped = string.substr(0, string.indexOf(parsedInput));\n                if (skipped.length > 0) {\n                    getParsingFlags(config).unusedInput.push(skipped);\n                }\n                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n                totalParsedInputLength += parsedInput.length;\n            }\n            // don't parse if it's not a known token\n            if (formatTokenFunctions[token]) {\n                if (parsedInput) {\n                    getParsingFlags(config).empty = false;\n                }\n                else {\n                    getParsingFlags(config).unusedTokens.push(token);\n                }\n                addTimeToArrayFromToken(token, parsedInput, config);\n            }\n            else if (config._strict && !parsedInput) {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n        }\n\n        // add remaining unparsed input length to the string\n        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;\n        if (string.length > 0) {\n            getParsingFlags(config).unusedInput.push(string);\n        }\n\n        // clear _12h flag if hour is <= 12\n        if (config._a[HOUR] <= 12 &&\n            getParsingFlags(config).bigHour === true &&\n            config._a[HOUR] > 0) {\n            getParsingFlags(config).bigHour = undefined;\n        }\n\n        getParsingFlags(config).parsedDateParts = config._a.slice(0);\n        getParsingFlags(config).meridiem = config._meridiem;\n        // handle meridiem\n        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\n\n        configFromArray(config);\n        checkOverflow(config);\n    }\n\n\n    function meridiemFixWrap (locale, hour, meridiem) {\n        var isPm;\n\n        if (meridiem == null) {\n            // nothing to do\n            return hour;\n        }\n        if (locale.meridiemHour != null) {\n            return locale.meridiemHour(hour, meridiem);\n        } else if (locale.isPM != null) {\n            // Fallback\n            isPm = locale.isPM(meridiem);\n            if (isPm && hour < 12) {\n                hour += 12;\n            }\n            if (!isPm && hour === 12) {\n                hour = 0;\n            }\n            return hour;\n        } else {\n            // this is not supposed to happen\n            return hour;\n        }\n    }\n\n    // date from string and array of format strings\n    function configFromStringAndArray(config) {\n        var tempConfig,\n            bestMoment,\n\n            scoreToBeat,\n            i,\n            currentScore;\n\n        if (config._f.length === 0) {\n            getParsingFlags(config).invalidFormat = true;\n            config._d = new Date(NaN);\n            return;\n        }\n\n        for (i = 0; i < config._f.length; i++) {\n            currentScore = 0;\n            tempConfig = copyConfig({}, config);\n            if (config._useUTC != null) {\n                tempConfig._useUTC = config._useUTC;\n            }\n            tempConfig._f = config._f[i];\n            configFromStringAndFormat(tempConfig);\n\n            if (!valid__isValid(tempConfig)) {\n                continue;\n            }\n\n            // if there is any input that was not parsed add a penalty for that format\n            currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n            //or tokens\n            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n            getParsingFlags(tempConfig).score = currentScore;\n\n            if (scoreToBeat == null || currentScore < scoreToBeat) {\n                scoreToBeat = currentScore;\n                bestMoment = tempConfig;\n            }\n        }\n\n        extend(config, bestMoment || tempConfig);\n    }\n\n    function configFromObject(config) {\n        if (config._d) {\n            return;\n        }\n\n        var i = normalizeObjectUnits(config._i);\n        config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {\n            return obj && parseInt(obj, 10);\n        });\n\n        configFromArray(config);\n    }\n\n    function createFromConfig (config) {\n        var res = new Moment(checkOverflow(prepareConfig(config)));\n        if (res._nextDay) {\n            // Adding is smart enough around DST\n            res.add(1, 'd');\n            res._nextDay = undefined;\n        }\n\n        return res;\n    }\n\n    function prepareConfig (config) {\n        var input = config._i,\n            format = config._f;\n\n        config._locale = config._locale || locale_locales__getLocale(config._l);\n\n        if (input === null || (format === undefined && input === '')) {\n            return valid__createInvalid({nullInput: true});\n        }\n\n        if (typeof input === 'string') {\n            config._i = input = config._locale.preparse(input);\n        }\n\n        if (isMoment(input)) {\n            return new Moment(checkOverflow(input));\n        } else if (isArray(format)) {\n            configFromStringAndArray(config);\n        } else if (isDate(input)) {\n            config._d = input;\n        } else if (format) {\n            configFromStringAndFormat(config);\n        }  else {\n            configFromInput(config);\n        }\n\n        if (!valid__isValid(config)) {\n            config._d = null;\n        }\n\n        return config;\n    }\n\n    function configFromInput(config) {\n        var input = config._i;\n        if (input === undefined) {\n            config._d = new Date(utils_hooks__hooks.now());\n        } else if (isDate(input)) {\n            config._d = new Date(input.valueOf());\n        } else if (typeof input === 'string') {\n            configFromString(config);\n        } else if (isArray(input)) {\n            config._a = map(input.slice(0), function (obj) {\n                return parseInt(obj, 10);\n            });\n            configFromArray(config);\n        } else if (typeof(input) === 'object') {\n            configFromObject(config);\n        } else if (typeof(input) === 'number') {\n            // from milliseconds\n            config._d = new Date(input);\n        } else {\n            utils_hooks__hooks.createFromInputFallback(config);\n        }\n    }\n\n    function createLocalOrUTC (input, format, locale, strict, isUTC) {\n        var c = {};\n\n        if (typeof(locale) === 'boolean') {\n            strict = locale;\n            locale = undefined;\n        }\n\n        if ((isObject(input) && isObjectEmpty(input)) ||\n                (isArray(input) && input.length === 0)) {\n            input = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c._isAMomentObject = true;\n        c._useUTC = c._isUTC = isUTC;\n        c._l = locale;\n        c._i = input;\n        c._f = format;\n        c._strict = strict;\n\n        return createFromConfig(c);\n    }\n\n    function local__createLocal (input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, false);\n    }\n\n    var prototypeMin = deprecate(\n        'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\n        function () {\n            var other = local__createLocal.apply(null, arguments);\n            if (this.isValid() && other.isValid()) {\n                return other < this ? this : other;\n            } else {\n                return valid__createInvalid();\n            }\n        }\n    );\n\n    var prototypeMax = deprecate(\n        'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\n        function () {\n            var other = local__createLocal.apply(null, arguments);\n            if (this.isValid() && other.isValid()) {\n                return other > this ? this : other;\n            } else {\n                return valid__createInvalid();\n            }\n        }\n    );\n\n    // Pick a moment m from moments so that m[fn](other) is true for all\n    // other. This relies on the function fn to be transitive.\n    //\n    // moments should either be an array of moment objects or an array, whose\n    // first element is an array of moment objects.\n    function pickBy(fn, moments) {\n        var res, i;\n        if (moments.length === 1 && isArray(moments[0])) {\n            moments = moments[0];\n        }\n        if (!moments.length) {\n            return local__createLocal();\n        }\n        res = moments[0];\n        for (i = 1; i < moments.length; ++i) {\n            if (!moments[i].isValid() || moments[i][fn](res)) {\n                res = moments[i];\n            }\n        }\n        return res;\n    }\n\n    // TODO: Use [].sort instead?\n    function min () {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isBefore', args);\n    }\n\n    function max () {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isAfter', args);\n    }\n\n    var now = function () {\n        return Date.now ? Date.now() : +(new Date());\n    };\n\n    function Duration (duration) {\n        var normalizedInput = normalizeObjectUnits(duration),\n            years = normalizedInput.year || 0,\n            quarters = normalizedInput.quarter || 0,\n            months = normalizedInput.month || 0,\n            weeks = normalizedInput.week || 0,\n            days = normalizedInput.day || 0,\n            hours = normalizedInput.hour || 0,\n            minutes = normalizedInput.minute || 0,\n            seconds = normalizedInput.second || 0,\n            milliseconds = normalizedInput.millisecond || 0;\n\n        // representation for dateAddRemove\n        this._milliseconds = +milliseconds +\n            seconds * 1e3 + // 1000\n            minutes * 6e4 + // 1000 * 60\n            hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n        // Because of dateAddRemove treats 24 hours as different from a\n        // day when working around DST, we need to store them separately\n        this._days = +days +\n            weeks * 7;\n        // It is impossible translate months into days without knowing\n        // which months you are are talking about, so we have to store\n        // it separately.\n        this._months = +months +\n            quarters * 3 +\n            years * 12;\n\n        this._data = {};\n\n        this._locale = locale_locales__getLocale();\n\n        this._bubble();\n    }\n\n    function isDuration (obj) {\n        return obj instanceof Duration;\n    }\n\n    // FORMATTING\n\n    function offset (token, separator) {\n        addFormatToken(token, 0, 0, function () {\n            var offset = this.utcOffset();\n            var sign = '+';\n            if (offset < 0) {\n                offset = -offset;\n                sign = '-';\n            }\n            return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);\n        });\n    }\n\n    offset('Z', ':');\n    offset('ZZ', '');\n\n    // PARSING\n\n    addRegexToken('Z',  matchShortOffset);\n    addRegexToken('ZZ', matchShortOffset);\n    addParseToken(['Z', 'ZZ'], function (input, array, config) {\n        config._useUTC = true;\n        config._tzm = offsetFromString(matchShortOffset, input);\n    });\n\n    // HELPERS\n\n    // timezone chunker\n    // '+10:00' > ['10',  '00']\n    // '-1530'  > ['-15', '30']\n    var chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\n    function offsetFromString(matcher, string) {\n        var matches = ((string || '').match(matcher) || []);\n        var chunk   = matches[matches.length - 1] || [];\n        var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n        var minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n        return parts[0] === '+' ? minutes : -minutes;\n    }\n\n    // Return a moment from input, that is local/utc/zone equivalent to model.\n    function cloneWithOffset(input, model) {\n        var res, diff;\n        if (model._isUTC) {\n            res = model.clone();\n            diff = (isMoment(input) || isDate(input) ? input.valueOf() : local__createLocal(input).valueOf()) - res.valueOf();\n            // Use low-level api, because this fn is low-level api.\n            res._d.setTime(res._d.valueOf() + diff);\n            utils_hooks__hooks.updateOffset(res, false);\n            return res;\n        } else {\n            return local__createLocal(input).local();\n        }\n    }\n\n    function getDateOffset (m) {\n        // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n        // https://github.com/moment/moment/pull/1871\n        return -Math.round(m._d.getTimezoneOffset() / 15) * 15;\n    }\n\n    // HOOKS\n\n    // This function will be called whenever a moment is mutated.\n    // It is intended to keep the offset in sync with the timezone.\n    utils_hooks__hooks.updateOffset = function () {};\n\n    // MOMENTS\n\n    // keepLocalTime = true means only change the timezone, without\n    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n    // +0200, so we adjust the time as needed, to be valid.\n    //\n    // Keeping the time actually adds/subtracts (one hour)\n    // from the actual represented time. That is why we call updateOffset\n    // a second time. In case it wants us to change the offset again\n    // _changeInProgress == true case, then we have to adjust, because\n    // there is no such time in the given timezone.\n    function getSetOffset (input, keepLocalTime) {\n        var offset = this._offset || 0,\n            localAdjust;\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        if (input != null) {\n            if (typeof input === 'string') {\n                input = offsetFromString(matchShortOffset, input);\n            } else if (Math.abs(input) < 16) {\n                input = input * 60;\n            }\n            if (!this._isUTC && keepLocalTime) {\n                localAdjust = getDateOffset(this);\n            }\n            this._offset = input;\n            this._isUTC = true;\n            if (localAdjust != null) {\n                this.add(localAdjust, 'm');\n            }\n            if (offset !== input) {\n                if (!keepLocalTime || this._changeInProgress) {\n                    add_subtract__addSubtract(this, create__createDuration(input - offset, 'm'), 1, false);\n                } else if (!this._changeInProgress) {\n                    this._changeInProgress = true;\n                    utils_hooks__hooks.updateOffset(this, true);\n                    this._changeInProgress = null;\n                }\n            }\n            return this;\n        } else {\n            return this._isUTC ? offset : getDateOffset(this);\n        }\n    }\n\n    function getSetZone (input, keepLocalTime) {\n        if (input != null) {\n            if (typeof input !== 'string') {\n                input = -input;\n            }\n\n            this.utcOffset(input, keepLocalTime);\n\n            return this;\n        } else {\n            return -this.utcOffset();\n        }\n    }\n\n    function setOffsetToUTC (keepLocalTime) {\n        return this.utcOffset(0, keepLocalTime);\n    }\n\n    function setOffsetToLocal (keepLocalTime) {\n        if (this._isUTC) {\n            this.utcOffset(0, keepLocalTime);\n            this._isUTC = false;\n\n            if (keepLocalTime) {\n                this.subtract(getDateOffset(this), 'm');\n            }\n        }\n        return this;\n    }\n\n    function setOffsetToParsedOffset () {\n        if (this._tzm) {\n            this.utcOffset(this._tzm);\n        } else if (typeof this._i === 'string') {\n            this.utcOffset(offsetFromString(matchOffset, this._i));\n        }\n        return this;\n    }\n\n    function hasAlignedHourOffset (input) {\n        if (!this.isValid()) {\n            return false;\n        }\n        input = input ? local__createLocal(input).utcOffset() : 0;\n\n        return (this.utcOffset() - input) % 60 === 0;\n    }\n\n    function isDaylightSavingTime () {\n        return (\n            this.utcOffset() > this.clone().month(0).utcOffset() ||\n            this.utcOffset() > this.clone().month(5).utcOffset()\n        );\n    }\n\n    function isDaylightSavingTimeShifted () {\n        if (!isUndefined(this._isDSTShifted)) {\n            return this._isDSTShifted;\n        }\n\n        var c = {};\n\n        copyConfig(c, this);\n        c = prepareConfig(c);\n\n        if (c._a) {\n            var other = c._isUTC ? create_utc__createUTC(c._a) : local__createLocal(c._a);\n            this._isDSTShifted = this.isValid() &&\n                compareArrays(c._a, other.toArray()) > 0;\n        } else {\n            this._isDSTShifted = false;\n        }\n\n        return this._isDSTShifted;\n    }\n\n    function isLocal () {\n        return this.isValid() ? !this._isUTC : false;\n    }\n\n    function isUtcOffset () {\n        return this.isValid() ? this._isUTC : false;\n    }\n\n    function isUtc () {\n        return this.isValid() ? this._isUTC && this._offset === 0 : false;\n    }\n\n    // ASP.NET json date format regex\n    var aspNetRegex = /^(\\-)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)\\.?(\\d{3})?\\d*)?$/;\n\n    // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n    // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n    // and further modified to allow for strings containing both week and day\n    var isoRegex = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;\n\n    function create__createDuration (input, key) {\n        var duration = input,\n            // matching against regexp is expensive, do it on demand\n            match = null,\n            sign,\n            ret,\n            diffRes;\n\n        if (isDuration(input)) {\n            duration = {\n                ms : input._milliseconds,\n                d  : input._days,\n                M  : input._months\n            };\n        } else if (typeof input === 'number') {\n            duration = {};\n            if (key) {\n                duration[key] = input;\n            } else {\n                duration.milliseconds = input;\n            }\n        } else if (!!(match = aspNetRegex.exec(input))) {\n            sign = (match[1] === '-') ? -1 : 1;\n            duration = {\n                y  : 0,\n                d  : toInt(match[DATE])        * sign,\n                h  : toInt(match[HOUR])        * sign,\n                m  : toInt(match[MINUTE])      * sign,\n                s  : toInt(match[SECOND])      * sign,\n                ms : toInt(match[MILLISECOND]) * sign\n            };\n        } else if (!!(match = isoRegex.exec(input))) {\n            sign = (match[1] === '-') ? -1 : 1;\n            duration = {\n                y : parseIso(match[2], sign),\n                M : parseIso(match[3], sign),\n                w : parseIso(match[4], sign),\n                d : parseIso(match[5], sign),\n                h : parseIso(match[6], sign),\n                m : parseIso(match[7], sign),\n                s : parseIso(match[8], sign)\n            };\n        } else if (duration == null) {// checks for null or undefined\n            duration = {};\n        } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {\n            diffRes = momentsDifference(local__createLocal(duration.from), local__createLocal(duration.to));\n\n            duration = {};\n            duration.ms = diffRes.milliseconds;\n            duration.M = diffRes.months;\n        }\n\n        ret = new Duration(duration);\n\n        if (isDuration(input) && hasOwnProp(input, '_locale')) {\n            ret._locale = input._locale;\n        }\n\n        return ret;\n    }\n\n    create__createDuration.fn = Duration.prototype;\n\n    function parseIso (inp, sign) {\n        // We'd normally use ~~inp for this, but unfortunately it also\n        // converts floats to ints.\n        // inp may be undefined, so careful calling replace on it.\n        var res = inp && parseFloat(inp.replace(',', '.'));\n        // apply sign while we're at it\n        return (isNaN(res) ? 0 : res) * sign;\n    }\n\n    function positiveMomentsDifference(base, other) {\n        var res = {milliseconds: 0, months: 0};\n\n        res.months = other.month() - base.month() +\n            (other.year() - base.year()) * 12;\n        if (base.clone().add(res.months, 'M').isAfter(other)) {\n            --res.months;\n        }\n\n        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));\n\n        return res;\n    }\n\n    function momentsDifference(base, other) {\n        var res;\n        if (!(base.isValid() && other.isValid())) {\n            return {milliseconds: 0, months: 0};\n        }\n\n        other = cloneWithOffset(other, base);\n        if (base.isBefore(other)) {\n            res = positiveMomentsDifference(base, other);\n        } else {\n            res = positiveMomentsDifference(other, base);\n            res.milliseconds = -res.milliseconds;\n            res.months = -res.months;\n        }\n\n        return res;\n    }\n\n    function absRound (number) {\n        if (number < 0) {\n            return Math.round(-1 * number) * -1;\n        } else {\n            return Math.round(number);\n        }\n    }\n\n    // TODO: remove 'name' arg after deprecation is removed\n    function createAdder(direction, name) {\n        return function (val, period) {\n            var dur, tmp;\n            //invert the arguments, but complain about it\n            if (period !== null && !isNaN(+period)) {\n                deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +\n                'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');\n                tmp = val; val = period; period = tmp;\n            }\n\n            val = typeof val === 'string' ? +val : val;\n            dur = create__createDuration(val, period);\n            add_subtract__addSubtract(this, dur, direction);\n            return this;\n        };\n    }\n\n    function add_subtract__addSubtract (mom, duration, isAdding, updateOffset) {\n        var milliseconds = duration._milliseconds,\n            days = absRound(duration._days),\n            months = absRound(duration._months);\n\n        if (!mom.isValid()) {\n            // No op\n            return;\n        }\n\n        updateOffset = updateOffset == null ? true : updateOffset;\n\n        if (milliseconds) {\n            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n        }\n        if (days) {\n            get_set__set(mom, 'Date', get_set__get(mom, 'Date') + days * isAdding);\n        }\n        if (months) {\n            setMonth(mom, get_set__get(mom, 'Month') + months * isAdding);\n        }\n        if (updateOffset) {\n            utils_hooks__hooks.updateOffset(mom, days || months);\n        }\n    }\n\n    var add_subtract__add      = createAdder(1, 'add');\n    var add_subtract__subtract = createAdder(-1, 'subtract');\n\n    function getCalendarFormat(myMoment, now) {\n        var diff = myMoment.diff(now, 'days', true);\n        return diff < -6 ? 'sameElse' :\n                diff < -1 ? 'lastWeek' :\n                diff < 0 ? 'lastDay' :\n                diff < 1 ? 'sameDay' :\n                diff < 2 ? 'nextDay' :\n                diff < 7 ? 'nextWeek' : 'sameElse';\n    }\n\n    function moment_calendar__calendar (time, formats) {\n        // We want to compare the start of today, vs this.\n        // Getting start-of-today depends on whether we're local/utc/offset or not.\n        var now = time || local__createLocal(),\n            sod = cloneWithOffset(now, this).startOf('day'),\n            format = utils_hooks__hooks.calendarFormat(this, sod) || 'sameElse';\n\n        var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);\n\n        return this.format(output || this.localeData().calendar(format, this, local__createLocal(now)));\n    }\n\n    function clone () {\n        return new Moment(this);\n    }\n\n    function isAfter (input, units) {\n        var localInput = isMoment(input) ? input : local__createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n        if (units === 'millisecond') {\n            return this.valueOf() > localInput.valueOf();\n        } else {\n            return localInput.valueOf() < this.clone().startOf(units).valueOf();\n        }\n    }\n\n    function isBefore (input, units) {\n        var localInput = isMoment(input) ? input : local__createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n        if (units === 'millisecond') {\n            return this.valueOf() < localInput.valueOf();\n        } else {\n            return this.clone().endOf(units).valueOf() < localInput.valueOf();\n        }\n    }\n\n    function isBetween (from, to, units, inclusivity) {\n        inclusivity = inclusivity || '()';\n        return (inclusivity[0] === '(' ? this.isAfter(from, units) : !this.isBefore(from, units)) &&\n            (inclusivity[1] === ')' ? this.isBefore(to, units) : !this.isAfter(to, units));\n    }\n\n    function isSame (input, units) {\n        var localInput = isMoment(input) ? input : local__createLocal(input),\n            inputMs;\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units || 'millisecond');\n        if (units === 'millisecond') {\n            return this.valueOf() === localInput.valueOf();\n        } else {\n            inputMs = localInput.valueOf();\n            return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();\n        }\n    }\n\n    function isSameOrAfter (input, units) {\n        return this.isSame(input, units) || this.isAfter(input,units);\n    }\n\n    function isSameOrBefore (input, units) {\n        return this.isSame(input, units) || this.isBefore(input,units);\n    }\n\n    function diff (input, units, asFloat) {\n        var that,\n            zoneDelta,\n            delta, output;\n\n        if (!this.isValid()) {\n            return NaN;\n        }\n\n        that = cloneWithOffset(input, this);\n\n        if (!that.isValid()) {\n            return NaN;\n        }\n\n        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n        units = normalizeUnits(units);\n\n        if (units === 'year' || units === 'month' || units === 'quarter') {\n            output = monthDiff(this, that);\n            if (units === 'quarter') {\n                output = output / 3;\n            } else if (units === 'year') {\n                output = output / 12;\n            }\n        } else {\n            delta = this - that;\n            output = units === 'second' ? delta / 1e3 : // 1000\n                units === 'minute' ? delta / 6e4 : // 1000 * 60\n                units === 'hour' ? delta / 36e5 : // 1000 * 60 * 60\n                units === 'day' ? (delta - zoneDelta) / 864e5 : // 1000 * 60 * 60 * 24, negate dst\n                units === 'week' ? (delta - zoneDelta) / 6048e5 : // 1000 * 60 * 60 * 24 * 7, negate dst\n                delta;\n        }\n        return asFloat ? output : absFloor(output);\n    }\n\n    function monthDiff (a, b) {\n        // difference in months\n        var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),\n            // b is in (anchor - 1 month, anchor + 1 month)\n            anchor = a.clone().add(wholeMonthDiff, 'months'),\n            anchor2, adjust;\n\n        if (b - anchor < 0) {\n            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor - anchor2);\n        } else {\n            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor2 - anchor);\n        }\n\n        //check for negative zero, return zero if negative zero\n        return -(wholeMonthDiff + adjust) || 0;\n    }\n\n    utils_hooks__hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\n    utils_hooks__hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\n    function toString () {\n        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n    }\n\n    function moment_format__toISOString () {\n        var m = this.clone().utc();\n        if (0 < m.year() && m.year() <= 9999) {\n            if (isFunction(Date.prototype.toISOString)) {\n                // native implementation is ~50x faster, use it when we can\n                return this.toDate().toISOString();\n            } else {\n                return formatMoment(m, 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n            }\n        } else {\n            return formatMoment(m, 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n        }\n    }\n\n    function format (inputString) {\n        if (!inputString) {\n            inputString = this.isUtc() ? utils_hooks__hooks.defaultFormatUtc : utils_hooks__hooks.defaultFormat;\n        }\n        var output = formatMoment(this, inputString);\n        return this.localeData().postformat(output);\n    }\n\n    function from (time, withoutSuffix) {\n        if (this.isValid() &&\n                ((isMoment(time) && time.isValid()) ||\n                 local__createLocal(time).isValid())) {\n            return create__createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function fromNow (withoutSuffix) {\n        return this.from(local__createLocal(), withoutSuffix);\n    }\n\n    function to (time, withoutSuffix) {\n        if (this.isValid() &&\n                ((isMoment(time) && time.isValid()) ||\n                 local__createLocal(time).isValid())) {\n            return create__createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function toNow (withoutSuffix) {\n        return this.to(local__createLocal(), withoutSuffix);\n    }\n\n    // If passed a locale key, it will set the locale for this\n    // instance.  Otherwise, it will return the locale configuration\n    // variables for this instance.\n    function locale (key) {\n        var newLocaleData;\n\n        if (key === undefined) {\n            return this._locale._abbr;\n        } else {\n            newLocaleData = locale_locales__getLocale(key);\n            if (newLocaleData != null) {\n                this._locale = newLocaleData;\n            }\n            return this;\n        }\n    }\n\n    var lang = deprecate(\n        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n        function (key) {\n            if (key === undefined) {\n                return this.localeData();\n            } else {\n                return this.locale(key);\n            }\n        }\n    );\n\n    function localeData () {\n        return this._locale;\n    }\n\n    function startOf (units) {\n        units = normalizeUnits(units);\n        // the following switch intentionally omits break keywords\n        // to utilize falling through the cases.\n        switch (units) {\n            case 'year':\n                this.month(0);\n                /* falls through */\n            case 'quarter':\n            case 'month':\n                this.date(1);\n                /* falls through */\n            case 'week':\n            case 'isoWeek':\n            case 'day':\n            case 'date':\n                this.hours(0);\n                /* falls through */\n            case 'hour':\n                this.minutes(0);\n                /* falls through */\n            case 'minute':\n                this.seconds(0);\n                /* falls through */\n            case 'second':\n                this.milliseconds(0);\n        }\n\n        // weeks are a special case\n        if (units === 'week') {\n            this.weekday(0);\n        }\n        if (units === 'isoWeek') {\n            this.isoWeekday(1);\n        }\n\n        // quarters are also special\n        if (units === 'quarter') {\n            this.month(Math.floor(this.month() / 3) * 3);\n        }\n\n        return this;\n    }\n\n    function endOf (units) {\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond') {\n            return this;\n        }\n\n        // 'date' is an alias for 'day', so it should be considered as such.\n        if (units === 'date') {\n            units = 'day';\n        }\n\n        return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');\n    }\n\n    function to_type__valueOf () {\n        return this._d.valueOf() - ((this._offset || 0) * 60000);\n    }\n\n    function unix () {\n        return Math.floor(this.valueOf() / 1000);\n    }\n\n    function toDate () {\n        return new Date(this.valueOf());\n    }\n\n    function toArray () {\n        var m = this;\n        return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];\n    }\n\n    function toObject () {\n        var m = this;\n        return {\n            years: m.year(),\n            months: m.month(),\n            date: m.date(),\n            hours: m.hours(),\n            minutes: m.minutes(),\n            seconds: m.seconds(),\n            milliseconds: m.milliseconds()\n        };\n    }\n\n    function toJSON () {\n        // new Date(NaN).toJSON() === null\n        return this.isValid() ? this.toISOString() : null;\n    }\n\n    function moment_valid__isValid () {\n        return valid__isValid(this);\n    }\n\n    function parsingFlags () {\n        return extend({}, getParsingFlags(this));\n    }\n\n    function invalidAt () {\n        return getParsingFlags(this).overflow;\n    }\n\n    function creationData() {\n        return {\n            input: this._i,\n            format: this._f,\n            locale: this._locale,\n            isUTC: this._isUTC,\n            strict: this._strict\n        };\n    }\n\n    // FORMATTING\n\n    addFormatToken(0, ['gg', 2], 0, function () {\n        return this.weekYear() % 100;\n    });\n\n    addFormatToken(0, ['GG', 2], 0, function () {\n        return this.isoWeekYear() % 100;\n    });\n\n    function addWeekYearFormatToken (token, getter) {\n        addFormatToken(0, [token, token.length], 0, getter);\n    }\n\n    addWeekYearFormatToken('gggg',     'weekYear');\n    addWeekYearFormatToken('ggggg',    'weekYear');\n    addWeekYearFormatToken('GGGG',  'isoWeekYear');\n    addWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n    // ALIASES\n\n    addUnitAlias('weekYear', 'gg');\n    addUnitAlias('isoWeekYear', 'GG');\n\n    // PRIORITY\n\n    addUnitPriority('weekYear', 1);\n    addUnitPriority('isoWeekYear', 1);\n\n\n    // PARSING\n\n    addRegexToken('G',      matchSigned);\n    addRegexToken('g',      matchSigned);\n    addRegexToken('GG',     match1to2, match2);\n    addRegexToken('gg',     match1to2, match2);\n    addRegexToken('GGGG',   match1to4, match4);\n    addRegexToken('gggg',   match1to4, match4);\n    addRegexToken('GGGGG',  match1to6, match6);\n    addRegexToken('ggggg',  match1to6, match6);\n\n    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {\n        week[token.substr(0, 2)] = toInt(input);\n    });\n\n    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n        week[token] = utils_hooks__hooks.parseTwoDigitYear(input);\n    });\n\n    // MOMENTS\n\n    function getSetWeekYear (input) {\n        return getSetWeekYearHelper.call(this,\n                input,\n                this.week(),\n                this.weekday(),\n                this.localeData()._week.dow,\n                this.localeData()._week.doy);\n    }\n\n    function getSetISOWeekYear (input) {\n        return getSetWeekYearHelper.call(this,\n                input, this.isoWeek(), this.isoWeekday(), 1, 4);\n    }\n\n    function getISOWeeksInYear () {\n        return weeksInYear(this.year(), 1, 4);\n    }\n\n    function getWeeksInYear () {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n    }\n\n    function getSetWeekYearHelper(input, week, weekday, dow, doy) {\n        var weeksTarget;\n        if (input == null) {\n            return weekOfYear(this, dow, doy).year;\n        } else {\n            weeksTarget = weeksInYear(input, dow, doy);\n            if (week > weeksTarget) {\n                week = weeksTarget;\n            }\n            return setWeekAll.call(this, input, week, weekday, dow, doy);\n        }\n    }\n\n    function setWeekAll(weekYear, week, weekday, dow, doy) {\n        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n        this.year(date.getUTCFullYear());\n        this.month(date.getUTCMonth());\n        this.date(date.getUTCDate());\n        return this;\n    }\n\n    // FORMATTING\n\n    addFormatToken('Q', 0, 'Qo', 'quarter');\n\n    // ALIASES\n\n    addUnitAlias('quarter', 'Q');\n\n    // PRIORITY\n\n    addUnitPriority('quarter', 7);\n\n    // PARSING\n\n    addRegexToken('Q', match1);\n    addParseToken('Q', function (input, array) {\n        array[MONTH] = (toInt(input) - 1) * 3;\n    });\n\n    // MOMENTS\n\n    function getSetQuarter (input) {\n        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n    }\n\n    // FORMATTING\n\n    addFormatToken('D', ['DD', 2], 'Do', 'date');\n\n    // ALIASES\n\n    addUnitAlias('date', 'D');\n\n    // PRIOROITY\n    addUnitPriority('date', 9);\n\n    // PARSING\n\n    addRegexToken('D',  match1to2);\n    addRegexToken('DD', match1to2, match2);\n    addRegexToken('Do', function (isStrict, locale) {\n        return isStrict ? locale._ordinalParse : locale._ordinalParseLenient;\n    });\n\n    addParseToken(['D', 'DD'], DATE);\n    addParseToken('Do', function (input, array) {\n        array[DATE] = toInt(input.match(match1to2)[0], 10);\n    });\n\n    // MOMENTS\n\n    var getSetDayOfMonth = makeGetSet('Date', true);\n\n    // FORMATTING\n\n    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n    // ALIASES\n\n    addUnitAlias('dayOfYear', 'DDD');\n\n    // PRIORITY\n    addUnitPriority('dayOfYear', 4);\n\n    // PARSING\n\n    addRegexToken('DDD',  match1to3);\n    addRegexToken('DDDD', match3);\n    addParseToken(['DDD', 'DDDD'], function (input, array, config) {\n        config._dayOfYear = toInt(input);\n    });\n\n    // HELPERS\n\n    // MOMENTS\n\n    function getSetDayOfYear (input) {\n        var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;\n        return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('m', ['mm', 2], 0, 'minute');\n\n    // ALIASES\n\n    addUnitAlias('minute', 'm');\n\n    // PRIORITY\n\n    addUnitPriority('minute', 14);\n\n    // PARSING\n\n    addRegexToken('m',  match1to2);\n    addRegexToken('mm', match1to2, match2);\n    addParseToken(['m', 'mm'], MINUTE);\n\n    // MOMENTS\n\n    var getSetMinute = makeGetSet('Minutes', false);\n\n    // FORMATTING\n\n    addFormatToken('s', ['ss', 2], 0, 'second');\n\n    // ALIASES\n\n    addUnitAlias('second', 's');\n\n    // PRIORITY\n\n    addUnitPriority('second', 15);\n\n    // PARSING\n\n    addRegexToken('s',  match1to2);\n    addRegexToken('ss', match1to2, match2);\n    addParseToken(['s', 'ss'], SECOND);\n\n    // MOMENTS\n\n    var getSetSecond = makeGetSet('Seconds', false);\n\n    // FORMATTING\n\n    addFormatToken('S', 0, 0, function () {\n        return ~~(this.millisecond() / 100);\n    });\n\n    addFormatToken(0, ['SS', 2], 0, function () {\n        return ~~(this.millisecond() / 10);\n    });\n\n    addFormatToken(0, ['SSS', 3], 0, 'millisecond');\n    addFormatToken(0, ['SSSS', 4], 0, function () {\n        return this.millisecond() * 10;\n    });\n    addFormatToken(0, ['SSSSS', 5], 0, function () {\n        return this.millisecond() * 100;\n    });\n    addFormatToken(0, ['SSSSSS', 6], 0, function () {\n        return this.millisecond() * 1000;\n    });\n    addFormatToken(0, ['SSSSSSS', 7], 0, function () {\n        return this.millisecond() * 10000;\n    });\n    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n        return this.millisecond() * 100000;\n    });\n    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n        return this.millisecond() * 1000000;\n    });\n\n\n    // ALIASES\n\n    addUnitAlias('millisecond', 'ms');\n\n    // PRIORITY\n\n    addUnitPriority('millisecond', 16);\n\n    // PARSING\n\n    addRegexToken('S',    match1to3, match1);\n    addRegexToken('SS',   match1to3, match2);\n    addRegexToken('SSS',  match1to3, match3);\n\n    var token;\n    for (token = 'SSSS'; token.length <= 9; token += 'S') {\n        addRegexToken(token, matchUnsigned);\n    }\n\n    function parseMs(input, array) {\n        array[MILLISECOND] = toInt(('0.' + input) * 1000);\n    }\n\n    for (token = 'S'; token.length <= 9; token += 'S') {\n        addParseToken(token, parseMs);\n    }\n    // MOMENTS\n\n    var getSetMillisecond = makeGetSet('Milliseconds', false);\n\n    // FORMATTING\n\n    addFormatToken('z',  0, 0, 'zoneAbbr');\n    addFormatToken('zz', 0, 0, 'zoneName');\n\n    // MOMENTS\n\n    function getZoneAbbr () {\n        return this._isUTC ? 'UTC' : '';\n    }\n\n    function getZoneName () {\n        return this._isUTC ? 'Coordinated Universal Time' : '';\n    }\n\n    var momentPrototype__proto = Moment.prototype;\n\n    momentPrototype__proto.add               = add_subtract__add;\n    momentPrototype__proto.calendar          = moment_calendar__calendar;\n    momentPrototype__proto.clone             = clone;\n    momentPrototype__proto.diff              = diff;\n    momentPrototype__proto.endOf             = endOf;\n    momentPrototype__proto.format            = format;\n    momentPrototype__proto.from              = from;\n    momentPrototype__proto.fromNow           = fromNow;\n    momentPrototype__proto.to                = to;\n    momentPrototype__proto.toNow             = toNow;\n    momentPrototype__proto.get               = stringGet;\n    momentPrototype__proto.invalidAt         = invalidAt;\n    momentPrototype__proto.isAfter           = isAfter;\n    momentPrototype__proto.isBefore          = isBefore;\n    momentPrototype__proto.isBetween         = isBetween;\n    momentPrototype__proto.isSame            = isSame;\n    momentPrototype__proto.isSameOrAfter     = isSameOrAfter;\n    momentPrototype__proto.isSameOrBefore    = isSameOrBefore;\n    momentPrototype__proto.isValid           = moment_valid__isValid;\n    momentPrototype__proto.lang              = lang;\n    momentPrototype__proto.locale            = locale;\n    momentPrototype__proto.localeData        = localeData;\n    momentPrototype__proto.max               = prototypeMax;\n    momentPrototype__proto.min               = prototypeMin;\n    momentPrototype__proto.parsingFlags      = parsingFlags;\n    momentPrototype__proto.set               = stringSet;\n    momentPrototype__proto.startOf           = startOf;\n    momentPrototype__proto.subtract          = add_subtract__subtract;\n    momentPrototype__proto.toArray           = toArray;\n    momentPrototype__proto.toObject          = toObject;\n    momentPrototype__proto.toDate            = toDate;\n    momentPrototype__proto.toISOString       = moment_format__toISOString;\n    momentPrototype__proto.toJSON            = toJSON;\n    momentPrototype__proto.toString          = toString;\n    momentPrototype__proto.unix              = unix;\n    momentPrototype__proto.valueOf           = to_type__valueOf;\n    momentPrototype__proto.creationData      = creationData;\n\n    // Year\n    momentPrototype__proto.year       = getSetYear;\n    momentPrototype__proto.isLeapYear = getIsLeapYear;\n\n    // Week Year\n    momentPrototype__proto.weekYear    = getSetWeekYear;\n    momentPrototype__proto.isoWeekYear = getSetISOWeekYear;\n\n    // Quarter\n    momentPrototype__proto.quarter = momentPrototype__proto.quarters = getSetQuarter;\n\n    // Month\n    momentPrototype__proto.month       = getSetMonth;\n    momentPrototype__proto.daysInMonth = getDaysInMonth;\n\n    // Week\n    momentPrototype__proto.week           = momentPrototype__proto.weeks        = getSetWeek;\n    momentPrototype__proto.isoWeek        = momentPrototype__proto.isoWeeks     = getSetISOWeek;\n    momentPrototype__proto.weeksInYear    = getWeeksInYear;\n    momentPrototype__proto.isoWeeksInYear = getISOWeeksInYear;\n\n    // Day\n    momentPrototype__proto.date       = getSetDayOfMonth;\n    momentPrototype__proto.day        = momentPrototype__proto.days             = getSetDayOfWeek;\n    momentPrototype__proto.weekday    = getSetLocaleDayOfWeek;\n    momentPrototype__proto.isoWeekday = getSetISODayOfWeek;\n    momentPrototype__proto.dayOfYear  = getSetDayOfYear;\n\n    // Hour\n    momentPrototype__proto.hour = momentPrototype__proto.hours = getSetHour;\n\n    // Minute\n    momentPrototype__proto.minute = momentPrototype__proto.minutes = getSetMinute;\n\n    // Second\n    momentPrototype__proto.second = momentPrototype__proto.seconds = getSetSecond;\n\n    // Millisecond\n    momentPrototype__proto.millisecond = momentPrototype__proto.milliseconds = getSetMillisecond;\n\n    // Offset\n    momentPrototype__proto.utcOffset            = getSetOffset;\n    momentPrototype__proto.utc                  = setOffsetToUTC;\n    momentPrototype__proto.local                = setOffsetToLocal;\n    momentPrototype__proto.parseZone            = setOffsetToParsedOffset;\n    momentPrototype__proto.hasAlignedHourOffset = hasAlignedHourOffset;\n    momentPrototype__proto.isDST                = isDaylightSavingTime;\n    momentPrototype__proto.isLocal              = isLocal;\n    momentPrototype__proto.isUtcOffset          = isUtcOffset;\n    momentPrototype__proto.isUtc                = isUtc;\n    momentPrototype__proto.isUTC                = isUtc;\n\n    // Timezone\n    momentPrototype__proto.zoneAbbr = getZoneAbbr;\n    momentPrototype__proto.zoneName = getZoneName;\n\n    // Deprecations\n    momentPrototype__proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);\n    momentPrototype__proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);\n    momentPrototype__proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);\n    momentPrototype__proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);\n    momentPrototype__proto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);\n\n    var momentPrototype = momentPrototype__proto;\n\n    function moment__createUnix (input) {\n        return local__createLocal(input * 1000);\n    }\n\n    function moment__createInZone () {\n        return local__createLocal.apply(null, arguments).parseZone();\n    }\n\n    function preParsePostFormat (string) {\n        return string;\n    }\n\n    var prototype__proto = Locale.prototype;\n\n    prototype__proto.calendar        = locale_calendar__calendar;\n    prototype__proto.longDateFormat  = longDateFormat;\n    prototype__proto.invalidDate     = invalidDate;\n    prototype__proto.ordinal         = ordinal;\n    prototype__proto.preparse        = preParsePostFormat;\n    prototype__proto.postformat      = preParsePostFormat;\n    prototype__proto.relativeTime    = relative__relativeTime;\n    prototype__proto.pastFuture      = pastFuture;\n    prototype__proto.set             = locale_set__set;\n\n    // Month\n    prototype__proto.months            =        localeMonths;\n    prototype__proto.monthsShort       =        localeMonthsShort;\n    prototype__proto.monthsParse       =        localeMonthsParse;\n    prototype__proto.monthsRegex       = monthsRegex;\n    prototype__proto.monthsShortRegex  = monthsShortRegex;\n\n    // Week\n    prototype__proto.week = localeWeek;\n    prototype__proto.firstDayOfYear = localeFirstDayOfYear;\n    prototype__proto.firstDayOfWeek = localeFirstDayOfWeek;\n\n    // Day of Week\n    prototype__proto.weekdays       =        localeWeekdays;\n    prototype__proto.weekdaysMin    =        localeWeekdaysMin;\n    prototype__proto.weekdaysShort  =        localeWeekdaysShort;\n    prototype__proto.weekdaysParse  =        localeWeekdaysParse;\n\n    prototype__proto.weekdaysRegex       =        weekdaysRegex;\n    prototype__proto.weekdaysShortRegex  =        weekdaysShortRegex;\n    prototype__proto.weekdaysMinRegex    =        weekdaysMinRegex;\n\n    // Hours\n    prototype__proto.isPM = localeIsPM;\n    prototype__proto.meridiem = localeMeridiem;\n\n    function lists__get (format, index, field, setter) {\n        var locale = locale_locales__getLocale();\n        var utc = create_utc__createUTC().set(setter, index);\n        return locale[field](utc, format);\n    }\n\n    function listMonthsImpl (format, index, field) {\n        if (typeof format === 'number') {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n\n        if (index != null) {\n            return lists__get(format, index, field, 'month');\n        }\n\n        var i;\n        var out = [];\n        for (i = 0; i < 12; i++) {\n            out[i] = lists__get(format, i, field, 'month');\n        }\n        return out;\n    }\n\n    // ()\n    // (5)\n    // (fmt, 5)\n    // (fmt)\n    // (true)\n    // (true, 5)\n    // (true, fmt, 5)\n    // (true, fmt)\n    function listWeekdaysImpl (localeSorted, format, index, field) {\n        if (typeof localeSorted === 'boolean') {\n            if (typeof format === 'number') {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        } else {\n            format = localeSorted;\n            index = format;\n            localeSorted = false;\n\n            if (typeof format === 'number') {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        }\n\n        var locale = locale_locales__getLocale(),\n            shift = localeSorted ? locale._week.dow : 0;\n\n        if (index != null) {\n            return lists__get(format, (index + shift) % 7, field, 'day');\n        }\n\n        var i;\n        var out = [];\n        for (i = 0; i < 7; i++) {\n            out[i] = lists__get(format, (i + shift) % 7, field, 'day');\n        }\n        return out;\n    }\n\n    function lists__listMonths (format, index) {\n        return listMonthsImpl(format, index, 'months');\n    }\n\n    function lists__listMonthsShort (format, index) {\n        return listMonthsImpl(format, index, 'monthsShort');\n    }\n\n    function lists__listWeekdays (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n    }\n\n    function lists__listWeekdaysShort (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n    }\n\n    function lists__listWeekdaysMin (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n    }\n\n    locale_locales__getSetGlobalLocale('en', {\n        ordinalParse: /\\d{1,2}(th|st|nd|rd)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (toInt(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        }\n    });\n\n    // Side effect imports\n    utils_hooks__hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', locale_locales__getSetGlobalLocale);\n    utils_hooks__hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', locale_locales__getLocale);\n\n    var mathAbs = Math.abs;\n\n    function duration_abs__abs () {\n        var data           = this._data;\n\n        this._milliseconds = mathAbs(this._milliseconds);\n        this._days         = mathAbs(this._days);\n        this._months       = mathAbs(this._months);\n\n        data.milliseconds  = mathAbs(data.milliseconds);\n        data.seconds       = mathAbs(data.seconds);\n        data.minutes       = mathAbs(data.minutes);\n        data.hours         = mathAbs(data.hours);\n        data.months        = mathAbs(data.months);\n        data.years         = mathAbs(data.years);\n\n        return this;\n    }\n\n    function duration_add_subtract__addSubtract (duration, input, value, direction) {\n        var other = create__createDuration(input, value);\n\n        duration._milliseconds += direction * other._milliseconds;\n        duration._days         += direction * other._days;\n        duration._months       += direction * other._months;\n\n        return duration._bubble();\n    }\n\n    // supports only 2.0-style add(1, 's') or add(duration)\n    function duration_add_subtract__add (input, value) {\n        return duration_add_subtract__addSubtract(this, input, value, 1);\n    }\n\n    // supports only 2.0-style subtract(1, 's') or subtract(duration)\n    function duration_add_subtract__subtract (input, value) {\n        return duration_add_subtract__addSubtract(this, input, value, -1);\n    }\n\n    function absCeil (number) {\n        if (number < 0) {\n            return Math.floor(number);\n        } else {\n            return Math.ceil(number);\n        }\n    }\n\n    function bubble () {\n        var milliseconds = this._milliseconds;\n        var days         = this._days;\n        var months       = this._months;\n        var data         = this._data;\n        var seconds, minutes, hours, years, monthsFromDays;\n\n        // if we have a mix of positive and negative values, bubble down first\n        // check: https://github.com/moment/moment/issues/2166\n        if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||\n                (milliseconds <= 0 && days <= 0 && months <= 0))) {\n            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n            days = 0;\n            months = 0;\n        }\n\n        // The following code bubbles up values, see the tests for\n        // examples of what that means.\n        data.milliseconds = milliseconds % 1000;\n\n        seconds           = absFloor(milliseconds / 1000);\n        data.seconds      = seconds % 60;\n\n        minutes           = absFloor(seconds / 60);\n        data.minutes      = minutes % 60;\n\n        hours             = absFloor(minutes / 60);\n        data.hours        = hours % 24;\n\n        days += absFloor(hours / 24);\n\n        // convert days to months\n        monthsFromDays = absFloor(daysToMonths(days));\n        months += monthsFromDays;\n        days -= absCeil(monthsToDays(monthsFromDays));\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        data.days   = days;\n        data.months = months;\n        data.years  = years;\n\n        return this;\n    }\n\n    function daysToMonths (days) {\n        // 400 years have 146097 days (taking into account leap year rules)\n        // 400 years have 12 months === 4800\n        return days * 4800 / 146097;\n    }\n\n    function monthsToDays (months) {\n        // the reverse of daysToMonths\n        return months * 146097 / 4800;\n    }\n\n    function as (units) {\n        var days;\n        var months;\n        var milliseconds = this._milliseconds;\n\n        units = normalizeUnits(units);\n\n        if (units === 'month' || units === 'year') {\n            days   = this._days   + milliseconds / 864e5;\n            months = this._months + daysToMonths(days);\n            return units === 'month' ? months : months / 12;\n        } else {\n            // handle milliseconds separately because of floating point math errors (issue #1867)\n            days = this._days + Math.round(monthsToDays(this._months));\n            switch (units) {\n                case 'week'   : return days / 7     + milliseconds / 6048e5;\n                case 'day'    : return days         + milliseconds / 864e5;\n                case 'hour'   : return days * 24    + milliseconds / 36e5;\n                case 'minute' : return days * 1440  + milliseconds / 6e4;\n                case 'second' : return days * 86400 + milliseconds / 1000;\n                // Math.floor prevents floating point math errors here\n                case 'millisecond': return Math.floor(days * 864e5) + milliseconds;\n                default: throw new Error('Unknown unit ' + units);\n            }\n        }\n    }\n\n    // TODO: Use this.as('ms')?\n    function duration_as__valueOf () {\n        return (\n            this._milliseconds +\n            this._days * 864e5 +\n            (this._months % 12) * 2592e6 +\n            toInt(this._months / 12) * 31536e6\n        );\n    }\n\n    function makeAs (alias) {\n        return function () {\n            return this.as(alias);\n        };\n    }\n\n    var asMilliseconds = makeAs('ms');\n    var asSeconds      = makeAs('s');\n    var asMinutes      = makeAs('m');\n    var asHours        = makeAs('h');\n    var asDays         = makeAs('d');\n    var asWeeks        = makeAs('w');\n    var asMonths       = makeAs('M');\n    var asYears        = makeAs('y');\n\n    function duration_get__get (units) {\n        units = normalizeUnits(units);\n        return this[units + 's']();\n    }\n\n    function makeGetter(name) {\n        return function () {\n            return this._data[name];\n        };\n    }\n\n    var milliseconds = makeGetter('milliseconds');\n    var seconds      = makeGetter('seconds');\n    var minutes      = makeGetter('minutes');\n    var hours        = makeGetter('hours');\n    var days         = makeGetter('days');\n    var months       = makeGetter('months');\n    var years        = makeGetter('years');\n\n    function weeks () {\n        return absFloor(this.days() / 7);\n    }\n\n    var round = Math.round;\n    var thresholds = {\n        s: 45,  // seconds to minute\n        m: 45,  // minutes to hour\n        h: 22,  // hours to day\n        d: 26,  // days to month\n        M: 11   // months to year\n    };\n\n    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n    }\n\n    function duration_humanize__relativeTime (posNegDuration, withoutSuffix, locale) {\n        var duration = create__createDuration(posNegDuration).abs();\n        var seconds  = round(duration.as('s'));\n        var minutes  = round(duration.as('m'));\n        var hours    = round(duration.as('h'));\n        var days     = round(duration.as('d'));\n        var months   = round(duration.as('M'));\n        var years    = round(duration.as('y'));\n\n        var a = seconds < thresholds.s && ['s', seconds]  ||\n                minutes <= 1           && ['m']           ||\n                minutes < thresholds.m && ['mm', minutes] ||\n                hours   <= 1           && ['h']           ||\n                hours   < thresholds.h && ['hh', hours]   ||\n                days    <= 1           && ['d']           ||\n                days    < thresholds.d && ['dd', days]    ||\n                months  <= 1           && ['M']           ||\n                months  < thresholds.M && ['MM', months]  ||\n                years   <= 1           && ['y']           || ['yy', years];\n\n        a[2] = withoutSuffix;\n        a[3] = +posNegDuration > 0;\n        a[4] = locale;\n        return substituteTimeAgo.apply(null, a);\n    }\n\n    // This function allows you to set the rounding function for relative time strings\n    function duration_humanize__getSetRelativeTimeRounding (roundingFunction) {\n        if (roundingFunction === undefined) {\n            return round;\n        }\n        if (typeof(roundingFunction) === 'function') {\n            round = roundingFunction;\n            return true;\n        }\n        return false;\n    }\n\n    // This function allows you to set a threshold for relative time strings\n    function duration_humanize__getSetRelativeTimeThreshold (threshold, limit) {\n        if (thresholds[threshold] === undefined) {\n            return false;\n        }\n        if (limit === undefined) {\n            return thresholds[threshold];\n        }\n        thresholds[threshold] = limit;\n        return true;\n    }\n\n    function humanize (withSuffix) {\n        var locale = this.localeData();\n        var output = duration_humanize__relativeTime(this, !withSuffix, locale);\n\n        if (withSuffix) {\n            output = locale.pastFuture(+this, output);\n        }\n\n        return locale.postformat(output);\n    }\n\n    var iso_string__abs = Math.abs;\n\n    function iso_string__toISOString() {\n        // for ISO strings we do not use the normal bubbling rules:\n        //  * milliseconds bubble up until they become hours\n        //  * days do not bubble at all\n        //  * months bubble up until they become years\n        // This is because there is no context-free conversion between hours and days\n        // (think of clock changes)\n        // and also not between days and months (28-31 days per month)\n        var seconds = iso_string__abs(this._milliseconds) / 1000;\n        var days         = iso_string__abs(this._days);\n        var months       = iso_string__abs(this._months);\n        var minutes, hours, years;\n\n        // 3600 seconds -> 60 minutes -> 1 hour\n        minutes           = absFloor(seconds / 60);\n        hours             = absFloor(minutes / 60);\n        seconds %= 60;\n        minutes %= 60;\n\n        // 12 months -> 1 year\n        years  = absFloor(months / 12);\n        months %= 12;\n\n\n        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n        var Y = years;\n        var M = months;\n        var D = days;\n        var h = hours;\n        var m = minutes;\n        var s = seconds;\n        var total = this.asSeconds();\n\n        if (!total) {\n            // this is the same as C#'s (Noda) and python (isodate)...\n            // but not other JS (goog.date)\n            return 'P0D';\n        }\n\n        return (total < 0 ? '-' : '') +\n            'P' +\n            (Y ? Y + 'Y' : '') +\n            (M ? M + 'M' : '') +\n            (D ? D + 'D' : '') +\n            ((h || m || s) ? 'T' : '') +\n            (h ? h + 'H' : '') +\n            (m ? m + 'M' : '') +\n            (s ? s + 'S' : '');\n    }\n\n    var duration_prototype__proto = Duration.prototype;\n\n    duration_prototype__proto.abs            = duration_abs__abs;\n    duration_prototype__proto.add            = duration_add_subtract__add;\n    duration_prototype__proto.subtract       = duration_add_subtract__subtract;\n    duration_prototype__proto.as             = as;\n    duration_prototype__proto.asMilliseconds = asMilliseconds;\n    duration_prototype__proto.asSeconds      = asSeconds;\n    duration_prototype__proto.asMinutes      = asMinutes;\n    duration_prototype__proto.asHours        = asHours;\n    duration_prototype__proto.asDays         = asDays;\n    duration_prototype__proto.asWeeks        = asWeeks;\n    duration_prototype__proto.asMonths       = asMonths;\n    duration_prototype__proto.asYears        = asYears;\n    duration_prototype__proto.valueOf        = duration_as__valueOf;\n    duration_prototype__proto._bubble        = bubble;\n    duration_prototype__proto.get            = duration_get__get;\n    duration_prototype__proto.milliseconds   = milliseconds;\n    duration_prototype__proto.seconds        = seconds;\n    duration_prototype__proto.minutes        = minutes;\n    duration_prototype__proto.hours          = hours;\n    duration_prototype__proto.days           = days;\n    duration_prototype__proto.weeks          = weeks;\n    duration_prototype__proto.months         = months;\n    duration_prototype__proto.years          = years;\n    duration_prototype__proto.humanize       = humanize;\n    duration_prototype__proto.toISOString    = iso_string__toISOString;\n    duration_prototype__proto.toString       = iso_string__toISOString;\n    duration_prototype__proto.toJSON         = iso_string__toISOString;\n    duration_prototype__proto.locale         = locale;\n    duration_prototype__proto.localeData     = localeData;\n\n    // Deprecations\n    duration_prototype__proto.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', iso_string__toISOString);\n    duration_prototype__proto.lang = lang;\n\n    // Side effect imports\n\n    // FORMATTING\n\n    addFormatToken('X', 0, 0, 'unix');\n    addFormatToken('x', 0, 0, 'valueOf');\n\n    // PARSING\n\n    addRegexToken('x', matchSigned);\n    addRegexToken('X', matchTimestamp);\n    addParseToken('X', function (input, array, config) {\n        config._d = new Date(parseFloat(input, 10) * 1000);\n    });\n    addParseToken('x', function (input, array, config) {\n        config._d = new Date(toInt(input));\n    });\n\n    // Side effect imports\n\n\n    utils_hooks__hooks.version = '2.14.1';\n\n    setHookCallback(local__createLocal);\n\n    utils_hooks__hooks.fn                    = momentPrototype;\n    utils_hooks__hooks.min                   = min;\n    utils_hooks__hooks.max                   = max;\n    utils_hooks__hooks.now                   = now;\n    utils_hooks__hooks.utc                   = create_utc__createUTC;\n    utils_hooks__hooks.unix                  = moment__createUnix;\n    utils_hooks__hooks.months                = lists__listMonths;\n    utils_hooks__hooks.isDate                = isDate;\n    utils_hooks__hooks.locale                = locale_locales__getSetGlobalLocale;\n    utils_hooks__hooks.invalid               = valid__createInvalid;\n    utils_hooks__hooks.duration              = create__createDuration;\n    utils_hooks__hooks.isMoment              = isMoment;\n    utils_hooks__hooks.weekdays              = lists__listWeekdays;\n    utils_hooks__hooks.parseZone             = moment__createInZone;\n    utils_hooks__hooks.localeData            = locale_locales__getLocale;\n    utils_hooks__hooks.isDuration            = isDuration;\n    utils_hooks__hooks.monthsShort           = lists__listMonthsShort;\n    utils_hooks__hooks.weekdaysMin           = lists__listWeekdaysMin;\n    utils_hooks__hooks.defineLocale          = defineLocale;\n    utils_hooks__hooks.updateLocale          = updateLocale;\n    utils_hooks__hooks.locales               = locale_locales__listLocales;\n    utils_hooks__hooks.weekdaysShort         = lists__listWeekdaysShort;\n    utils_hooks__hooks.normalizeUnits        = normalizeUnits;\n    utils_hooks__hooks.relativeTimeRounding = duration_humanize__getSetRelativeTimeRounding;\n    utils_hooks__hooks.relativeTimeThreshold = duration_humanize__getSetRelativeTimeThreshold;\n    utils_hooks__hooks.calendarFormat        = getCalendarFormat;\n    utils_hooks__hooks.prototype             = momentPrototype;\n\n    var _moment = utils_hooks__hooks;\n\n    return _moment;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/moment.js\n ** module id = 78\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","var map = {\n\t\"./af\": 80,\n\t\"./af.js\": 80,\n\t\"./ar\": 81,\n\t\"./ar-ma\": 82,\n\t\"./ar-ma.js\": 82,\n\t\"./ar-sa\": 83,\n\t\"./ar-sa.js\": 83,\n\t\"./ar-tn\": 84,\n\t\"./ar-tn.js\": 84,\n\t\"./ar.js\": 81,\n\t\"./az\": 85,\n\t\"./az.js\": 85,\n\t\"./be\": 86,\n\t\"./be.js\": 86,\n\t\"./bg\": 87,\n\t\"./bg.js\": 87,\n\t\"./bn\": 88,\n\t\"./bn.js\": 88,\n\t\"./bo\": 89,\n\t\"./bo.js\": 89,\n\t\"./br\": 90,\n\t\"./br.js\": 90,\n\t\"./bs\": 91,\n\t\"./bs.js\": 91,\n\t\"./ca\": 92,\n\t\"./ca.js\": 92,\n\t\"./cs\": 93,\n\t\"./cs.js\": 93,\n\t\"./cv\": 94,\n\t\"./cv.js\": 94,\n\t\"./cy\": 95,\n\t\"./cy.js\": 95,\n\t\"./da\": 96,\n\t\"./da.js\": 96,\n\t\"./de\": 97,\n\t\"./de-at\": 98,\n\t\"./de-at.js\": 98,\n\t\"./de.js\": 97,\n\t\"./dv\": 99,\n\t\"./dv.js\": 99,\n\t\"./el\": 100,\n\t\"./el.js\": 100,\n\t\"./en-au\": 101,\n\t\"./en-au.js\": 101,\n\t\"./en-ca\": 102,\n\t\"./en-ca.js\": 102,\n\t\"./en-gb\": 103,\n\t\"./en-gb.js\": 103,\n\t\"./en-ie\": 104,\n\t\"./en-ie.js\": 104,\n\t\"./en-nz\": 105,\n\t\"./en-nz.js\": 105,\n\t\"./eo\": 106,\n\t\"./eo.js\": 106,\n\t\"./es\": 107,\n\t\"./es-do\": 108,\n\t\"./es-do.js\": 108,\n\t\"./es.js\": 107,\n\t\"./et\": 109,\n\t\"./et.js\": 109,\n\t\"./eu\": 110,\n\t\"./eu.js\": 110,\n\t\"./fa\": 111,\n\t\"./fa.js\": 111,\n\t\"./fi\": 112,\n\t\"./fi.js\": 112,\n\t\"./fo\": 113,\n\t\"./fo.js\": 113,\n\t\"./fr\": 114,\n\t\"./fr-ca\": 115,\n\t\"./fr-ca.js\": 115,\n\t\"./fr-ch\": 116,\n\t\"./fr-ch.js\": 116,\n\t\"./fr.js\": 114,\n\t\"./fy\": 117,\n\t\"./fy.js\": 117,\n\t\"./gd\": 118,\n\t\"./gd.js\": 118,\n\t\"./gl\": 119,\n\t\"./gl.js\": 119,\n\t\"./he\": 120,\n\t\"./he.js\": 120,\n\t\"./hi\": 121,\n\t\"./hi.js\": 121,\n\t\"./hr\": 122,\n\t\"./hr.js\": 122,\n\t\"./hu\": 123,\n\t\"./hu.js\": 123,\n\t\"./hy-am\": 124,\n\t\"./hy-am.js\": 124,\n\t\"./id\": 125,\n\t\"./id.js\": 125,\n\t\"./is\": 126,\n\t\"./is.js\": 126,\n\t\"./it\": 127,\n\t\"./it.js\": 127,\n\t\"./ja\": 128,\n\t\"./ja.js\": 128,\n\t\"./jv\": 129,\n\t\"./jv.js\": 129,\n\t\"./ka\": 130,\n\t\"./ka.js\": 130,\n\t\"./kk\": 131,\n\t\"./kk.js\": 131,\n\t\"./km\": 132,\n\t\"./km.js\": 132,\n\t\"./ko\": 133,\n\t\"./ko.js\": 133,\n\t\"./ky\": 134,\n\t\"./ky.js\": 134,\n\t\"./lb\": 135,\n\t\"./lb.js\": 135,\n\t\"./lo\": 136,\n\t\"./lo.js\": 136,\n\t\"./lt\": 137,\n\t\"./lt.js\": 137,\n\t\"./lv\": 138,\n\t\"./lv.js\": 138,\n\t\"./me\": 139,\n\t\"./me.js\": 139,\n\t\"./mk\": 140,\n\t\"./mk.js\": 140,\n\t\"./ml\": 141,\n\t\"./ml.js\": 141,\n\t\"./mr\": 142,\n\t\"./mr.js\": 142,\n\t\"./ms\": 143,\n\t\"./ms-my\": 144,\n\t\"./ms-my.js\": 144,\n\t\"./ms.js\": 143,\n\t\"./my\": 145,\n\t\"./my.js\": 145,\n\t\"./nb\": 146,\n\t\"./nb.js\": 146,\n\t\"./ne\": 147,\n\t\"./ne.js\": 147,\n\t\"./nl\": 148,\n\t\"./nl.js\": 148,\n\t\"./nn\": 149,\n\t\"./nn.js\": 149,\n\t\"./pa-in\": 150,\n\t\"./pa-in.js\": 150,\n\t\"./pl\": 151,\n\t\"./pl.js\": 151,\n\t\"./pt\": 152,\n\t\"./pt-br\": 153,\n\t\"./pt-br.js\": 153,\n\t\"./pt.js\": 152,\n\t\"./ro\": 154,\n\t\"./ro.js\": 154,\n\t\"./ru\": 155,\n\t\"./ru.js\": 155,\n\t\"./se\": 156,\n\t\"./se.js\": 156,\n\t\"./si\": 157,\n\t\"./si.js\": 157,\n\t\"./sk\": 158,\n\t\"./sk.js\": 158,\n\t\"./sl\": 159,\n\t\"./sl.js\": 159,\n\t\"./sq\": 160,\n\t\"./sq.js\": 160,\n\t\"./sr\": 161,\n\t\"./sr-cyrl\": 162,\n\t\"./sr-cyrl.js\": 162,\n\t\"./sr.js\": 161,\n\t\"./ss\": 163,\n\t\"./ss.js\": 163,\n\t\"./sv\": 164,\n\t\"./sv.js\": 164,\n\t\"./sw\": 165,\n\t\"./sw.js\": 165,\n\t\"./ta\": 166,\n\t\"./ta.js\": 166,\n\t\"./te\": 167,\n\t\"./te.js\": 167,\n\t\"./th\": 168,\n\t\"./th.js\": 168,\n\t\"./tl-ph\": 169,\n\t\"./tl-ph.js\": 169,\n\t\"./tlh\": 170,\n\t\"./tlh.js\": 170,\n\t\"./tr\": 171,\n\t\"./tr.js\": 171,\n\t\"./tzl\": 172,\n\t\"./tzl.js\": 172,\n\t\"./tzm\": 173,\n\t\"./tzm-latn\": 174,\n\t\"./tzm-latn.js\": 174,\n\t\"./tzm.js\": 173,\n\t\"./uk\": 175,\n\t\"./uk.js\": 175,\n\t\"./uz\": 176,\n\t\"./uz.js\": 176,\n\t\"./vi\": 177,\n\t\"./vi.js\": 177,\n\t\"./x-pseudo\": 178,\n\t\"./x-pseudo.js\": 178,\n\t\"./zh-cn\": 179,\n\t\"./zh-cn.js\": 179,\n\t\"./zh-tw\": 180,\n\t\"./zh-tw.js\": 180\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 79;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale ^\\.\\/.*$\n ** module id = 79\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Afrikaans [af]\n//! author : Werner Mollentze : https://github.com/wernerm\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var af = moment.defineLocale('af', {\n        months : 'Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember'.split('_'),\n        monthsShort : 'Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des'.split('_'),\n        weekdays : 'Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag'.split('_'),\n        weekdaysShort : 'Son_Maa_Din_Woe_Don_Vry_Sat'.split('_'),\n        weekdaysMin : 'So_Ma_Di_Wo_Do_Vr_Sa'.split('_'),\n        meridiemParse: /vm|nm/i,\n        isPM : function (input) {\n            return /^nm$/i.test(input);\n        },\n        meridiem : function (hours, minutes, isLower) {\n            if (hours < 12) {\n                return isLower ? 'vm' : 'VM';\n            } else {\n                return isLower ? 'nm' : 'NM';\n            }\n        },\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd, D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay : '[Vandag om] LT',\n            nextDay : '[Mre om] LT',\n            nextWeek : 'dddd [om] LT',\n            lastDay : '[Gister om] LT',\n            lastWeek : '[Laas] dddd [om] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'oor %s',\n            past : '%s gelede',\n            s : '\\'n paar sekondes',\n            m : '\\'n minuut',\n            mm : '%d minute',\n            h : '\\'n uur',\n            hh : '%d ure',\n            d : '\\'n dag',\n            dd : '%d dae',\n            M : '\\'n maand',\n            MM : '%d maande',\n            y : '\\'n jaar',\n            yy : '%d jaar'\n        },\n        ordinalParse: /\\d{1,2}(ste|de)/,\n        ordinal : function (number) {\n            return number + ((number === 1 || number === 8 || number >= 20) ? 'ste' : 'de'); // Thanks to Joris Rling : https://github.com/jjupiter\n        },\n        week : {\n            dow : 1, // Maandag is die eerste dag van die week.\n            doy : 4  // Die week wat die 4de Januarie bevat is die eerste week van die jaar.\n        }\n    });\n\n    return af;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/af.js\n ** module id = 80\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Arabic [ar]\n//! author : Abdel Said: https://github.com/abdelsaid\n//! changes in months, weekdays: Ahmed Elkhatib\n//! Native plural forms: forabi https://github.com/forabi\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var symbolMap = {\n        '1': '',\n        '2': '',\n        '3': '',\n        '4': '',\n        '5': '',\n        '6': '',\n        '7': '',\n        '8': '',\n        '9': '',\n        '0': ''\n    }, numberMap = {\n        '': '1',\n        '': '2',\n        '': '3',\n        '': '4',\n        '': '5',\n        '': '6',\n        '': '7',\n        '': '8',\n        '': '9',\n        '': '0'\n    }, pluralForm = function (n) {\n        return n === 0 ? 0 : n === 1 ? 1 : n === 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5;\n    }, plurals = {\n        s : ['  ', ' ', ['', ''], '%d ', '%d ', '%d '],\n        m : ['  ', ' ', ['', ''], '%d ', '%d ', '%d '],\n        h : ['  ', ' ', ['', ''], '%d ', '%d ', '%d '],\n        d : ['  ', ' ', ['', ''], '%d ', '%d ', '%d '],\n        M : ['  ', ' ', ['', ''], '%d ', '%d ', '%d '],\n        y : ['  ', ' ', ['', ''], '%d ', '%d ', '%d ']\n    }, pluralize = function (u) {\n        return function (number, withoutSuffix, string, isFuture) {\n            var f = pluralForm(number),\n                str = plurals[u][pluralForm(number)];\n            if (f === 2) {\n                str = str[withoutSuffix ? 0 : 1];\n            }\n            return str.replace(/%d/i, number);\n        };\n    }, months = [\n        '  ',\n        ' ',\n        ' ',\n        ' ',\n        ' ',\n        ' ',\n        ' ',\n        ' ',\n        ' ',\n        '  ',\n        '  ',\n        '  '\n    ];\n\n    var ar = moment.defineLocale('ar', {\n        months : months,\n        monthsShort : months,\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'D/\\u200FM/\\u200FYYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd D MMMM YYYY HH:mm'\n        },\n        meridiemParse: /|/,\n        isPM : function (input) {\n            return '' === input;\n        },\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 12) {\n                return '';\n            } else {\n                return '';\n            }\n        },\n        calendar : {\n            sameDay: '[  ] LT',\n            nextDay: '[  ] LT',\n            nextWeek: 'dddd [ ] LT',\n            lastDay: '[  ] LT',\n            lastWeek: 'dddd [ ] LT',\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : ' %s',\n            past : ' %s',\n            s : pluralize('s'),\n            m : pluralize('m'),\n            mm : pluralize('m'),\n            h : pluralize('h'),\n            hh : pluralize('h'),\n            d : pluralize('d'),\n            dd : pluralize('d'),\n            M : pluralize('M'),\n            MM : pluralize('M'),\n            y : pluralize('y'),\n            yy : pluralize('y')\n        },\n        preparse: function (string) {\n            return string.replace(/\\u200f/g, '').replace(/[]/g, function (match) {\n                return numberMap[match];\n            }).replace(//g, ',');\n        },\n        postformat: function (string) {\n            return string.replace(/\\d/g, function (match) {\n                return symbolMap[match];\n            }).replace(/,/g, '');\n        },\n        week : {\n            dow : 6, // Saturday is the first day of the week.\n            doy : 12  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return ar;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/ar.js\n ** module id = 81\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Arabic (Morocco) [ar-ma]\n//! author : ElFadili Yassine : https://github.com/ElFadiliY\n//! author : Abdel Said : https://github.com/abdelsaid\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var ar_ma = moment.defineLocale('ar-ma', {\n        months : '___________'.split('_'),\n        monthsShort : '___________'.split('_'),\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay: '[  ] LT',\n            nextDay: '[  ] LT',\n            nextWeek: 'dddd [ ] LT',\n            lastDay: '[  ] LT',\n            lastWeek: 'dddd [ ] LT',\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : ' %s',\n            past : ' %s',\n            s : '',\n            m : '',\n            mm : '%d ',\n            h : '',\n            hh : '%d ',\n            d : '',\n            dd : '%d ',\n            M : '',\n            MM : '%d ',\n            y : '',\n            yy : '%d '\n        },\n        week : {\n            dow : 6, // Saturday is the first day of the week.\n            doy : 12  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return ar_ma;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/ar-ma.js\n ** module id = 82\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Arabic (Saudi Arabia) [ar-sa]\n//! author : Suhail Alkowaileet : https://github.com/xsoh\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var symbolMap = {\n        '1': '',\n        '2': '',\n        '3': '',\n        '4': '',\n        '5': '',\n        '6': '',\n        '7': '',\n        '8': '',\n        '9': '',\n        '0': ''\n    }, numberMap = {\n        '': '1',\n        '': '2',\n        '': '3',\n        '': '4',\n        '': '5',\n        '': '6',\n        '': '7',\n        '': '8',\n        '': '9',\n        '': '0'\n    };\n\n    var ar_sa = moment.defineLocale('ar-sa', {\n        months : '___________'.split('_'),\n        monthsShort : '___________'.split('_'),\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd D MMMM YYYY HH:mm'\n        },\n        meridiemParse: /|/,\n        isPM : function (input) {\n            return '' === input;\n        },\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 12) {\n                return '';\n            } else {\n                return '';\n            }\n        },\n        calendar : {\n            sameDay: '[  ] LT',\n            nextDay: '[  ] LT',\n            nextWeek: 'dddd [ ] LT',\n            lastDay: '[  ] LT',\n            lastWeek: 'dddd [ ] LT',\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : ' %s',\n            past : ' %s',\n            s : '',\n            m : '',\n            mm : '%d ',\n            h : '',\n            hh : '%d ',\n            d : '',\n            dd : '%d ',\n            M : '',\n            MM : '%d ',\n            y : '',\n            yy : '%d '\n        },\n        preparse: function (string) {\n            return string.replace(/[]/g, function (match) {\n                return numberMap[match];\n            }).replace(//g, ',');\n        },\n        postformat: function (string) {\n            return string.replace(/\\d/g, function (match) {\n                return symbolMap[match];\n            }).replace(/,/g, '');\n        },\n        week : {\n            dow : 6, // Saturday is the first day of the week.\n            doy : 12  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return ar_sa;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/ar-sa.js\n ** module id = 83\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale  :  Arabic (Tunisia) [ar-tn]\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var ar_tn = moment.defineLocale('ar-tn', {\n        months: '___________'.split('_'),\n        monthsShort: '___________'.split('_'),\n        weekdays: '______'.split('_'),\n        weekdaysShort: '______'.split('_'),\n        weekdaysMin: '______'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat: {\n            LT: 'HH:mm',\n            LTS: 'HH:mm:ss',\n            L: 'DD/MM/YYYY',\n            LL: 'D MMMM YYYY',\n            LLL: 'D MMMM YYYY HH:mm',\n            LLLL: 'dddd D MMMM YYYY HH:mm'\n        },\n        calendar: {\n            sameDay: '[  ] LT',\n            nextDay: '[  ] LT',\n            nextWeek: 'dddd [ ] LT',\n            lastDay: '[  ] LT',\n            lastWeek: 'dddd [ ] LT',\n            sameElse: 'L'\n        },\n        relativeTime: {\n            future: ' %s',\n            past: ' %s',\n            s: '',\n            m: '',\n            mm: '%d ',\n            h: '',\n            hh: '%d ',\n            d: '',\n            dd: '%d ',\n            M: '',\n            MM: '%d ',\n            y: '',\n            yy: '%d '\n        },\n        week: {\n            dow: 1, // Monday is the first day of the week.\n            doy: 4 // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return ar_tn;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/ar-tn.js\n ** module id = 84\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Azerbaijani [az]\n//! author : topchiyev : https://github.com/topchiyev\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var suffixes = {\n        1: '-inci',\n        5: '-inci',\n        8: '-inci',\n        70: '-inci',\n        80: '-inci',\n        2: '-nci',\n        7: '-nci',\n        20: '-nci',\n        50: '-nci',\n        3: '-nc',\n        4: '-nc',\n        100: '-nc',\n        6: '-nc',\n        9: '-uncu',\n        10: '-uncu',\n        30: '-uncu',\n        60: '-nc',\n        90: '-nc'\n    };\n\n    var az = moment.defineLocale('az', {\n        months : 'yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr'.split('_'),\n        monthsShort : 'yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek'.split('_'),\n        weekdays : 'Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb'.split('_'),\n        weekdaysShort : 'Baz_BzE_Ax_r_CAx_Cm_n'.split('_'),\n        weekdaysMin : 'Bz_BE_A__CA_C_'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd, D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay : '[bugn saat] LT',\n            nextDay : '[sabah saat] LT',\n            nextWeek : '[gln hft] dddd [saat] LT',\n            lastDay : '[dnn] LT',\n            lastWeek : '[ken hft] dddd [saat] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : '%s sonra',\n            past : '%s vvl',\n            s : 'birne saniyy',\n            m : 'bir dqiq',\n            mm : '%d dqiq',\n            h : 'bir saat',\n            hh : '%d saat',\n            d : 'bir gn',\n            dd : '%d gn',\n            M : 'bir ay',\n            MM : '%d ay',\n            y : 'bir il',\n            yy : '%d il'\n        },\n        meridiemParse: /gec|shr|gndz|axam/,\n        isPM : function (input) {\n            return /^(gndz|axam)$/.test(input);\n        },\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 4) {\n                return 'gec';\n            } else if (hour < 12) {\n                return 'shr';\n            } else if (hour < 17) {\n                return 'gndz';\n            } else {\n                return 'axam';\n            }\n        },\n        ordinalParse: /\\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,\n        ordinal : function (number) {\n            if (number === 0) {  // special case for zero\n                return number + '-nc';\n            }\n            var a = number % 10,\n                b = number % 100 - a,\n                c = number >= 100 ? 100 : null;\n            return number + (suffixes[a] || suffixes[b] || suffixes[c]);\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return az;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/az.js\n ** module id = 85\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Belarusian [be]\n//! author : Dmitry Demidov : https://github.com/demidov91\n//! author: Praleska: http://praleska.pro/\n//! Author : Menelion Elensle : https://github.com/Oire\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    function plural(word, num) {\n        var forms = word.split('_');\n        return num % 10 === 1 && num % 100 !== 11 ? forms[0] : (num % 10 >= 2 && num % 10 <= 4 && (num % 100 < 10 || num % 100 >= 20) ? forms[1] : forms[2]);\n    }\n    function relativeTimeWithPlural(number, withoutSuffix, key) {\n        var format = {\n            'mm': withoutSuffix ? '__' : '__',\n            'hh': withoutSuffix ? '__' : '__',\n            'dd': '__',\n            'MM': '__',\n            'yy': '__'\n        };\n        if (key === 'm') {\n            return withoutSuffix ? '' : '';\n        }\n        else if (key === 'h') {\n            return withoutSuffix ? '' : '';\n        }\n        else {\n            return number + ' ' + plural(format[key], +number);\n        }\n    }\n\n    var be = moment.defineLocale('be', {\n        months : {\n            format: '___________'.split('_'),\n            standalone: '___________'.split('_')\n        },\n        monthsShort : '___________'.split('_'),\n        weekdays : {\n            format: '______'.split('_'),\n            standalone: '______'.split('_'),\n            isFormat: /\\[ ?[] ?(?:|)? ?\\] ?dddd/\n        },\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D MMMM YYYY .',\n            LLL : 'D MMMM YYYY ., HH:mm',\n            LLLL : 'dddd, D MMMM YYYY ., HH:mm'\n        },\n        calendar : {\n            sameDay: '[ ] LT',\n            nextDay: '[ ] LT',\n            lastDay: '[ ] LT',\n            nextWeek: function () {\n                return '[] dddd [] LT';\n            },\n            lastWeek: function () {\n                switch (this.day()) {\n                    case 0:\n                    case 3:\n                    case 5:\n                    case 6:\n                        return '[ ] dddd [] LT';\n                    case 1:\n                    case 2:\n                    case 4:\n                        return '[ ] dddd [] LT';\n                }\n            },\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : ' %s',\n            past : '%s ',\n            s : ' ',\n            m : relativeTimeWithPlural,\n            mm : relativeTimeWithPlural,\n            h : relativeTimeWithPlural,\n            hh : relativeTimeWithPlural,\n            d : '',\n            dd : relativeTimeWithPlural,\n            M : '',\n            MM : relativeTimeWithPlural,\n            y : '',\n            yy : relativeTimeWithPlural\n        },\n        meridiemParse: /|||/,\n        isPM : function (input) {\n            return /^(|)$/.test(input);\n        },\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 4) {\n                return '';\n            } else if (hour < 12) {\n                return '';\n            } else if (hour < 17) {\n                return '';\n            } else {\n                return '';\n            }\n        },\n        ordinalParse: /\\d{1,2}-(||)/,\n        ordinal: function (number, period) {\n            switch (period) {\n                case 'M':\n                case 'd':\n                case 'DDD':\n                case 'w':\n                case 'W':\n                    return (number % 10 === 2 || number % 10 === 3) && (number % 100 !== 12 && number % 100 !== 13) ? number + '-' : number + '-';\n                case 'D':\n                    return number + '-';\n                default:\n                    return number;\n            }\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return be;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/be.js\n ** module id = 86\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Bulgarian [bg]\n//! author : Krasen Borisov : https://github.com/kraz\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var bg = moment.defineLocale('bg', {\n        months : '___________'.split('_'),\n        monthsShort : '___________'.split('_'),\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'H:mm',\n            LTS : 'H:mm:ss',\n            L : 'D.MM.YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY H:mm',\n            LLLL : 'dddd, D MMMM YYYY H:mm'\n        },\n        calendar : {\n            sameDay : '[ ] LT',\n            nextDay : '[ ] LT',\n            nextWeek : 'dddd [] LT',\n            lastDay : '[ ] LT',\n            lastWeek : function () {\n                switch (this.day()) {\n                    case 0:\n                    case 3:\n                    case 6:\n                        return '[ ] dddd [] LT';\n                    case 1:\n                    case 2:\n                    case 4:\n                    case 5:\n                        return '[ ] dddd [] LT';\n                }\n            },\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : ' %s',\n            past : ' %s',\n            s : ' ',\n            m : '',\n            mm : '%d ',\n            h : '',\n            hh : '%d ',\n            d : '',\n            dd : '%d ',\n            M : '',\n            MM : '%d ',\n            y : '',\n            yy : '%d '\n        },\n        ordinalParse: /\\d{1,2}-(|||||)/,\n        ordinal : function (number) {\n            var lastDigit = number % 10,\n                last2Digits = number % 100;\n            if (number === 0) {\n                return number + '-';\n            } else if (last2Digits === 0) {\n                return number + '-';\n            } else if (last2Digits > 10 && last2Digits < 20) {\n                return number + '-';\n            } else if (lastDigit === 1) {\n                return number + '-';\n            } else if (lastDigit === 2) {\n                return number + '-';\n            } else if (lastDigit === 7 || lastDigit === 8) {\n                return number + '-';\n            } else {\n                return number + '-';\n            }\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return bg;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/bg.js\n ** module id = 87\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Bengali [bn]\n//! author : Kaushik Gandhi : https://github.com/kaushikgandhi\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var symbolMap = {\n        '1': '',\n        '2': '',\n        '3': '',\n        '4': '',\n        '5': '',\n        '6': '',\n        '7': '',\n        '8': '',\n        '9': '',\n        '0': ''\n    },\n    numberMap = {\n        '': '1',\n        '': '2',\n        '': '3',\n        '': '4',\n        '': '5',\n        '': '6',\n        '': '7',\n        '': '8',\n        '': '9',\n        '': '0'\n    };\n\n    var bn = moment.defineLocale('bn', {\n        months : '___________'.split('_'),\n        monthsShort : '___________'.split('_'),\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'A h:mm ',\n            LTS : 'A h:mm:ss ',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY, A h:mm ',\n            LLLL : 'dddd, D MMMM YYYY, A h:mm '\n        },\n        calendar : {\n            sameDay : '[] LT',\n            nextDay : '[] LT',\n            nextWeek : 'dddd, LT',\n            lastDay : '[] LT',\n            lastWeek : '[] dddd, LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : '%s ',\n            past : '%s ',\n            s : ' ',\n            m : ' ',\n            mm : '%d ',\n            h : ' ',\n            hh : '%d ',\n            d : ' ',\n            dd : '%d ',\n            M : ' ',\n            MM : '%d ',\n            y : ' ',\n            yy : '%d '\n        },\n        preparse: function (string) {\n            return string.replace(/[]/g, function (match) {\n                return numberMap[match];\n            });\n        },\n        postformat: function (string) {\n            return string.replace(/\\d/g, function (match) {\n                return symbolMap[match];\n            });\n        },\n        meridiemParse: /||||/,\n        meridiemHour : function (hour, meridiem) {\n            if (hour === 12) {\n                hour = 0;\n            }\n            if ((meridiem === '' && hour >= 4) ||\n                    (meridiem === '' && hour < 5) ||\n                    meridiem === '') {\n                return hour + 12;\n            } else {\n                return hour;\n            }\n        },\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 4) {\n                return '';\n            } else if (hour < 10) {\n                return '';\n            } else if (hour < 17) {\n                return '';\n            } else if (hour < 20) {\n                return '';\n            } else {\n                return '';\n            }\n        },\n        week : {\n            dow : 0, // Sunday is the first day of the week.\n            doy : 6  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return bn;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/bn.js\n ** module id = 88\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Tibetan [bo]\n//! author : Thupten N. Chakrishar : https://github.com/vajradog\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var symbolMap = {\n        '1': '',\n        '2': '',\n        '3': '',\n        '4': '',\n        '5': '',\n        '6': '',\n        '7': '',\n        '8': '',\n        '9': '',\n        '0': ''\n    },\n    numberMap = {\n        '': '1',\n        '': '2',\n        '': '3',\n        '': '4',\n        '': '5',\n        '': '6',\n        '': '7',\n        '': '8',\n        '': '9',\n        '': '0'\n    };\n\n    var bo = moment.defineLocale('bo', {\n        months : '___________'.split('_'),\n        monthsShort : '___________'.split('_'),\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'A h:mm',\n            LTS : 'A h:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY, A h:mm',\n            LLLL : 'dddd, D MMMM YYYY, A h:mm'\n        },\n        calendar : {\n            sameDay : '[] LT',\n            nextDay : '[] LT',\n            nextWeek : '[], LT',\n            lastDay : '[] LT',\n            lastWeek : '[] dddd, LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : '%s ',\n            past : '%s ',\n            s : '',\n            m : '',\n            mm : '%d ',\n            h : '',\n            hh : '%d ',\n            d : '',\n            dd : '%d ',\n            M : '',\n            MM : '%d ',\n            y : '',\n            yy : '%d '\n        },\n        preparse: function (string) {\n            return string.replace(/[]/g, function (match) {\n                return numberMap[match];\n            });\n        },\n        postformat: function (string) {\n            return string.replace(/\\d/g, function (match) {\n                return symbolMap[match];\n            });\n        },\n        meridiemParse: /||||/,\n        meridiemHour : function (hour, meridiem) {\n            if (hour === 12) {\n                hour = 0;\n            }\n            if ((meridiem === '' && hour >= 4) ||\n                    (meridiem === '' && hour < 5) ||\n                    meridiem === '') {\n                return hour + 12;\n            } else {\n                return hour;\n            }\n        },\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 4) {\n                return '';\n            } else if (hour < 10) {\n                return '';\n            } else if (hour < 17) {\n                return '';\n            } else if (hour < 20) {\n                return '';\n            } else {\n                return '';\n            }\n        },\n        week : {\n            dow : 0, // Sunday is the first day of the week.\n            doy : 6  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return bo;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/bo.js\n ** module id = 89\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Breton [br]\n//! author : Jean-Baptiste Le Duigou : https://github.com/jbleduigou\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    function relativeTimeWithMutation(number, withoutSuffix, key) {\n        var format = {\n            'mm': 'munutenn',\n            'MM': 'miz',\n            'dd': 'devezh'\n        };\n        return number + ' ' + mutation(format[key], number);\n    }\n    function specialMutationForYears(number) {\n        switch (lastNumber(number)) {\n            case 1:\n            case 3:\n            case 4:\n            case 5:\n            case 9:\n                return number + ' bloaz';\n            default:\n                return number + ' vloaz';\n        }\n    }\n    function lastNumber(number) {\n        if (number > 9) {\n            return lastNumber(number % 10);\n        }\n        return number;\n    }\n    function mutation(text, number) {\n        if (number === 2) {\n            return softMutation(text);\n        }\n        return text;\n    }\n    function softMutation(text) {\n        var mutationTable = {\n            'm': 'v',\n            'b': 'v',\n            'd': 'z'\n        };\n        if (mutationTable[text.charAt(0)] === undefined) {\n            return text;\n        }\n        return mutationTable[text.charAt(0)] + text.substring(1);\n    }\n\n    var br = moment.defineLocale('br', {\n        months : 'Genver_C\\'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu'.split('_'),\n        monthsShort : 'Gen_C\\'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker'.split('_'),\n        weekdays : 'Sul_Lun_Meurzh_Merc\\'her_Yaou_Gwener_Sadorn'.split('_'),\n        weekdaysShort : 'Sul_Lun_Meu_Mer_Yao_Gwe_Sad'.split('_'),\n        weekdaysMin : 'Su_Lu_Me_Mer_Ya_Gw_Sa'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'h[e]mm A',\n            LTS : 'h[e]mm:ss A',\n            L : 'DD/MM/YYYY',\n            LL : 'D [a viz] MMMM YYYY',\n            LLL : 'D [a viz] MMMM YYYY h[e]mm A',\n            LLLL : 'dddd, D [a viz] MMMM YYYY h[e]mm A'\n        },\n        calendar : {\n            sameDay : '[Hiziv da] LT',\n            nextDay : '[Warc\\'hoazh da] LT',\n            nextWeek : 'dddd [da] LT',\n            lastDay : '[Dec\\'h da] LT',\n            lastWeek : 'dddd [paset da] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'a-benn %s',\n            past : '%s \\'zo',\n            s : 'un nebeud segondenno',\n            m : 'ur vunutenn',\n            mm : relativeTimeWithMutation,\n            h : 'un eur',\n            hh : '%d eur',\n            d : 'un devezh',\n            dd : relativeTimeWithMutation,\n            M : 'ur miz',\n            MM : relativeTimeWithMutation,\n            y : 'ur bloaz',\n            yy : specialMutationForYears\n        },\n        ordinalParse: /\\d{1,2}(a|vet)/,\n        ordinal : function (number) {\n            var output = (number === 1) ? 'a' : 'vet';\n            return number + output;\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return br;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/br.js\n ** module id = 90\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Bosnian [bs]\n//! author : Nedim Cholich : https://github.com/frontyard\n//! based on (hr) translation by Bojan Markovi\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    function translate(number, withoutSuffix, key) {\n        var result = number + ' ';\n        switch (key) {\n            case 'm':\n                return withoutSuffix ? 'jedna minuta' : 'jedne minute';\n            case 'mm':\n                if (number === 1) {\n                    result += 'minuta';\n                } else if (number === 2 || number === 3 || number === 4) {\n                    result += 'minute';\n                } else {\n                    result += 'minuta';\n                }\n                return result;\n            case 'h':\n                return withoutSuffix ? 'jedan sat' : 'jednog sata';\n            case 'hh':\n                if (number === 1) {\n                    result += 'sat';\n                } else if (number === 2 || number === 3 || number === 4) {\n                    result += 'sata';\n                } else {\n                    result += 'sati';\n                }\n                return result;\n            case 'dd':\n                if (number === 1) {\n                    result += 'dan';\n                } else {\n                    result += 'dana';\n                }\n                return result;\n            case 'MM':\n                if (number === 1) {\n                    result += 'mjesec';\n                } else if (number === 2 || number === 3 || number === 4) {\n                    result += 'mjeseca';\n                } else {\n                    result += 'mjeseci';\n                }\n                return result;\n            case 'yy':\n                if (number === 1) {\n                    result += 'godina';\n                } else if (number === 2 || number === 3 || number === 4) {\n                    result += 'godine';\n                } else {\n                    result += 'godina';\n                }\n                return result;\n        }\n    }\n\n    var bs = moment.defineLocale('bs', {\n        months : 'januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar'.split('_'),\n        monthsShort : 'jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.'.split('_'),\n        monthsParseExact: true,\n        weekdays : 'nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota'.split('_'),\n        weekdaysShort : 'ned._pon._uto._sri._et._pet._sub.'.split('_'),\n        weekdaysMin : 'ne_po_ut_sr_e_pe_su'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'H:mm',\n            LTS : 'H:mm:ss',\n            L : 'DD. MM. YYYY',\n            LL : 'D. MMMM YYYY',\n            LLL : 'D. MMMM YYYY H:mm',\n            LLLL : 'dddd, D. MMMM YYYY H:mm'\n        },\n        calendar : {\n            sameDay  : '[danas u] LT',\n            nextDay  : '[sutra u] LT',\n            nextWeek : function () {\n                switch (this.day()) {\n                    case 0:\n                        return '[u] [nedjelju] [u] LT';\n                    case 3:\n                        return '[u] [srijedu] [u] LT';\n                    case 6:\n                        return '[u] [subotu] [u] LT';\n                    case 1:\n                    case 2:\n                    case 4:\n                    case 5:\n                        return '[u] dddd [u] LT';\n                }\n            },\n            lastDay  : '[juer u] LT',\n            lastWeek : function () {\n                switch (this.day()) {\n                    case 0:\n                    case 3:\n                        return '[prolu] dddd [u] LT';\n                    case 6:\n                        return '[prole] [subote] [u] LT';\n                    case 1:\n                    case 2:\n                    case 4:\n                    case 5:\n                        return '[proli] dddd [u] LT';\n                }\n            },\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'za %s',\n            past   : 'prije %s',\n            s      : 'par sekundi',\n            m      : translate,\n            mm     : translate,\n            h      : translate,\n            hh     : translate,\n            d      : 'dan',\n            dd     : translate,\n            M      : 'mjesec',\n            MM     : translate,\n            y      : 'godinu',\n            yy     : translate\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return bs;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/bs.js\n ** module id = 91\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Catalan [ca]\n//! author : Juan G. Hurtado : https://github.com/juanghurtado\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var ca = moment.defineLocale('ca', {\n        months : 'gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre'.split('_'),\n        monthsShort : 'gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.'.split('_'),\n        monthsParseExact : true,\n        weekdays : 'diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte'.split('_'),\n        weekdaysShort : 'dg._dl._dt._dc._dj._dv._ds.'.split('_'),\n        weekdaysMin : 'Dg_Dl_Dt_Dc_Dj_Dv_Ds'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'H:mm',\n            LTS : 'H:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY H:mm',\n            LLLL : 'dddd D MMMM YYYY H:mm'\n        },\n        calendar : {\n            sameDay : function () {\n                return '[avui a ' + ((this.hours() !== 1) ? 'les' : 'la') + '] LT';\n            },\n            nextDay : function () {\n                return '[dem a ' + ((this.hours() !== 1) ? 'les' : 'la') + '] LT';\n            },\n            nextWeek : function () {\n                return 'dddd [a ' + ((this.hours() !== 1) ? 'les' : 'la') + '] LT';\n            },\n            lastDay : function () {\n                return '[ahir a ' + ((this.hours() !== 1) ? 'les' : 'la') + '] LT';\n            },\n            lastWeek : function () {\n                return '[el] dddd [passat a ' + ((this.hours() !== 1) ? 'les' : 'la') + '] LT';\n            },\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'en %s',\n            past : 'fa %s',\n            s : 'uns segons',\n            m : 'un minut',\n            mm : '%d minuts',\n            h : 'una hora',\n            hh : '%d hores',\n            d : 'un dia',\n            dd : '%d dies',\n            M : 'un mes',\n            MM : '%d mesos',\n            y : 'un any',\n            yy : '%d anys'\n        },\n        ordinalParse: /\\d{1,2}(r|n|t||a)/,\n        ordinal : function (number, period) {\n            var output = (number === 1) ? 'r' :\n                (number === 2) ? 'n' :\n                (number === 3) ? 'r' :\n                (number === 4) ? 't' : '';\n            if (period === 'w' || period === 'W') {\n                output = 'a';\n            }\n            return number + output;\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return ca;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/ca.js\n ** module id = 92\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Czech [cs]\n//! author : petrbela : https://github.com/petrbela\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var months = 'leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec'.split('_'),\n        monthsShort = 'led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro'.split('_');\n    function plural(n) {\n        return (n > 1) && (n < 5) && (~~(n / 10) !== 1);\n    }\n    function translate(number, withoutSuffix, key, isFuture) {\n        var result = number + ' ';\n        switch (key) {\n            case 's':  // a few seconds / in a few seconds / a few seconds ago\n                return (withoutSuffix || isFuture) ? 'pr sekund' : 'pr sekundami';\n            case 'm':  // a minute / in a minute / a minute ago\n                return withoutSuffix ? 'minuta' : (isFuture ? 'minutu' : 'minutou');\n            case 'mm': // 9 minutes / in 9 minutes / 9 minutes ago\n                if (withoutSuffix || isFuture) {\n                    return result + (plural(number) ? 'minuty' : 'minut');\n                } else {\n                    return result + 'minutami';\n                }\n                break;\n            case 'h':  // an hour / in an hour / an hour ago\n                return withoutSuffix ? 'hodina' : (isFuture ? 'hodinu' : 'hodinou');\n            case 'hh': // 9 hours / in 9 hours / 9 hours ago\n                if (withoutSuffix || isFuture) {\n                    return result + (plural(number) ? 'hodiny' : 'hodin');\n                } else {\n                    return result + 'hodinami';\n                }\n                break;\n            case 'd':  // a day / in a day / a day ago\n                return (withoutSuffix || isFuture) ? 'den' : 'dnem';\n            case 'dd': // 9 days / in 9 days / 9 days ago\n                if (withoutSuffix || isFuture) {\n                    return result + (plural(number) ? 'dny' : 'dn');\n                } else {\n                    return result + 'dny';\n                }\n                break;\n            case 'M':  // a month / in a month / a month ago\n                return (withoutSuffix || isFuture) ? 'msc' : 'mscem';\n            case 'MM': // 9 months / in 9 months / 9 months ago\n                if (withoutSuffix || isFuture) {\n                    return result + (plural(number) ? 'msce' : 'msc');\n                } else {\n                    return result + 'msci';\n                }\n                break;\n            case 'y':  // a year / in a year / a year ago\n                return (withoutSuffix || isFuture) ? 'rok' : 'rokem';\n            case 'yy': // 9 years / in 9 years / 9 years ago\n                if (withoutSuffix || isFuture) {\n                    return result + (plural(number) ? 'roky' : 'let');\n                } else {\n                    return result + 'lety';\n                }\n                break;\n        }\n    }\n\n    var cs = moment.defineLocale('cs', {\n        months : months,\n        monthsShort : monthsShort,\n        monthsParse : (function (months, monthsShort) {\n            var i, _monthsParse = [];\n            for (i = 0; i < 12; i++) {\n                // use custom parser to solve problem with July (ervenec)\n                _monthsParse[i] = new RegExp('^' + months[i] + '$|^' + monthsShort[i] + '$', 'i');\n            }\n            return _monthsParse;\n        }(months, monthsShort)),\n        shortMonthsParse : (function (monthsShort) {\n            var i, _shortMonthsParse = [];\n            for (i = 0; i < 12; i++) {\n                _shortMonthsParse[i] = new RegExp('^' + monthsShort[i] + '$', 'i');\n            }\n            return _shortMonthsParse;\n        }(monthsShort)),\n        longMonthsParse : (function (months) {\n            var i, _longMonthsParse = [];\n            for (i = 0; i < 12; i++) {\n                _longMonthsParse[i] = new RegExp('^' + months[i] + '$', 'i');\n            }\n            return _longMonthsParse;\n        }(months)),\n        weekdays : 'nedle_pondl_ter_steda_tvrtek_ptek_sobota'.split('_'),\n        weekdaysShort : 'ne_po_t_st_t_p_so'.split('_'),\n        weekdaysMin : 'ne_po_t_st_t_p_so'.split('_'),\n        longDateFormat : {\n            LT: 'H:mm',\n            LTS : 'H:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D. MMMM YYYY',\n            LLL : 'D. MMMM YYYY H:mm',\n            LLLL : 'dddd D. MMMM YYYY H:mm',\n            l : 'D. M. YYYY'\n        },\n        calendar : {\n            sameDay: '[dnes v] LT',\n            nextDay: '[ztra v] LT',\n            nextWeek: function () {\n                switch (this.day()) {\n                    case 0:\n                        return '[v nedli v] LT';\n                    case 1:\n                    case 2:\n                        return '[v] dddd [v] LT';\n                    case 3:\n                        return '[ve stedu v] LT';\n                    case 4:\n                        return '[ve tvrtek v] LT';\n                    case 5:\n                        return '[v ptek v] LT';\n                    case 6:\n                        return '[v sobotu v] LT';\n                }\n            },\n            lastDay: '[vera v] LT',\n            lastWeek: function () {\n                switch (this.day()) {\n                    case 0:\n                        return '[minulou nedli v] LT';\n                    case 1:\n                    case 2:\n                        return '[minul] dddd [v] LT';\n                    case 3:\n                        return '[minulou stedu v] LT';\n                    case 4:\n                    case 5:\n                        return '[minul] dddd [v] LT';\n                    case 6:\n                        return '[minulou sobotu v] LT';\n                }\n            },\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : 'za %s',\n            past : 'ped %s',\n            s : translate,\n            m : translate,\n            mm : translate,\n            h : translate,\n            hh : translate,\n            d : translate,\n            dd : translate,\n            M : translate,\n            MM : translate,\n            y : translate,\n            yy : translate\n        },\n        ordinalParse : /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return cs;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/cs.js\n ** module id = 93\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Chuvash [cv]\n//! author : Anatoly Mironov : https://github.com/mirontoli\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var cv = moment.defineLocale('cv', {\n        months : '___________'.split('_'),\n        monthsShort : '___________'.split('_'),\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD-MM-YYYY',\n            LL : 'YYYY [] MMMM [] D[-]',\n            LLL : 'YYYY [] MMMM [] D[-], HH:mm',\n            LLLL : 'dddd, YYYY [] MMMM [] D[-], HH:mm'\n        },\n        calendar : {\n            sameDay: '[] LT []',\n            nextDay: '[] LT []',\n            lastDay: '[] LT []',\n            nextWeek: '[] dddd LT []',\n            lastWeek: '[] dddd LT []',\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : function (output) {\n                var affix = /$/i.exec(output) ? '' : /$/i.exec(output) ? '' : '';\n                return output + affix;\n            },\n            past : '%s ',\n            s : '- ',\n            m : ' ',\n            mm : '%d ',\n            h : ' ',\n            hh : '%d ',\n            d : ' ',\n            dd : '%d ',\n            M : ' ',\n            MM : '%d ',\n            y : ' ',\n            yy : '%d '\n        },\n        ordinalParse: /\\d{1,2}-/,\n        ordinal : '%d-',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return cv;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/cv.js\n ** module id = 94\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Welsh [cy]\n//! author : Robert Allen\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var cy = moment.defineLocale('cy', {\n        months: 'Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr'.split('_'),\n        monthsShort: 'Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag'.split('_'),\n        weekdays: 'Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn'.split('_'),\n        weekdaysShort: 'Sul_Llun_Maw_Mer_Iau_Gwe_Sad'.split('_'),\n        weekdaysMin: 'Su_Ll_Ma_Me_Ia_Gw_Sa'.split('_'),\n        weekdaysParseExact : true,\n        // time formats are the same as en-gb\n        longDateFormat: {\n            LT: 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L: 'DD/MM/YYYY',\n            LL: 'D MMMM YYYY',\n            LLL: 'D MMMM YYYY HH:mm',\n            LLLL: 'dddd, D MMMM YYYY HH:mm'\n        },\n        calendar: {\n            sameDay: '[Heddiw am] LT',\n            nextDay: '[Yfory am] LT',\n            nextWeek: 'dddd [am] LT',\n            lastDay: '[Ddoe am] LT',\n            lastWeek: 'dddd [diwethaf am] LT',\n            sameElse: 'L'\n        },\n        relativeTime: {\n            future: 'mewn %s',\n            past: '%s yn l',\n            s: 'ychydig eiliadau',\n            m: 'munud',\n            mm: '%d munud',\n            h: 'awr',\n            hh: '%d awr',\n            d: 'diwrnod',\n            dd: '%d diwrnod',\n            M: 'mis',\n            MM: '%d mis',\n            y: 'blwyddyn',\n            yy: '%d flynedd'\n        },\n        ordinalParse: /\\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,\n        // traditional ordinal numbers above 31 are not commonly used in colloquial Welsh\n        ordinal: function (number) {\n            var b = number,\n                output = '',\n                lookup = [\n                    '', 'af', 'il', 'ydd', 'ydd', 'ed', 'ed', 'ed', 'fed', 'fed', 'fed', // 1af to 10fed\n                    'eg', 'fed', 'eg', 'eg', 'fed', 'eg', 'eg', 'fed', 'eg', 'fed' // 11eg to 20fed\n                ];\n            if (b > 20) {\n                if (b === 40 || b === 50 || b === 60 || b === 80 || b === 100) {\n                    output = 'fed'; // not 30ain, 70ain or 90ain\n                } else {\n                    output = 'ain';\n                }\n            } else if (b > 0) {\n                output = lookup[b];\n            }\n            return number + output;\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return cy;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/cy.js\n ** module id = 95\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Danish [da]\n//! author : Ulrik Nielsen : https://github.com/mrbase\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var da = moment.defineLocale('da', {\n        months : 'januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december'.split('_'),\n        monthsShort : 'jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec'.split('_'),\n        weekdays : 'sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag'.split('_'),\n        weekdaysShort : 'sn_man_tir_ons_tor_fre_lr'.split('_'),\n        weekdaysMin : 's_ma_ti_on_to_fr_l'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D. MMMM YYYY',\n            LLL : 'D. MMMM YYYY HH:mm',\n            LLLL : 'dddd [d.] D. MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay : '[I dag kl.] LT',\n            nextDay : '[I morgen kl.] LT',\n            nextWeek : 'dddd [kl.] LT',\n            lastDay : '[I gr kl.] LT',\n            lastWeek : '[sidste] dddd [kl] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'om %s',\n            past : '%s siden',\n            s : 'f sekunder',\n            m : 'et minut',\n            mm : '%d minutter',\n            h : 'en time',\n            hh : '%d timer',\n            d : 'en dag',\n            dd : '%d dage',\n            M : 'en mned',\n            MM : '%d mneder',\n            y : 'et r',\n            yy : '%d r'\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return da;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/da.js\n ** module id = 96\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : German [de]\n//! author : lluchs : https://github.com/lluchs\n//! author: Menelion Elensle: https://github.com/Oire\n//! author : Mikolaj Dadela : https://github.com/mik01aj\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    function processRelativeTime(number, withoutSuffix, key, isFuture) {\n        var format = {\n            'm': ['eine Minute', 'einer Minute'],\n            'h': ['eine Stunde', 'einer Stunde'],\n            'd': ['ein Tag', 'einem Tag'],\n            'dd': [number + ' Tage', number + ' Tagen'],\n            'M': ['ein Monat', 'einem Monat'],\n            'MM': [number + ' Monate', number + ' Monaten'],\n            'y': ['ein Jahr', 'einem Jahr'],\n            'yy': [number + ' Jahre', number + ' Jahren']\n        };\n        return withoutSuffix ? format[key][0] : format[key][1];\n    }\n\n    var de = moment.defineLocale('de', {\n        months : 'Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember'.split('_'),\n        monthsShort : 'Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.'.split('_'),\n        monthsParseExact : true,\n        weekdays : 'Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag'.split('_'),\n        weekdaysShort : 'So._Mo._Di._Mi._Do._Fr._Sa.'.split('_'),\n        weekdaysMin : 'So_Mo_Di_Mi_Do_Fr_Sa'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT: 'HH:mm',\n            LTS: 'HH:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D. MMMM YYYY',\n            LLL : 'D. MMMM YYYY HH:mm',\n            LLLL : 'dddd, D. MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay: '[heute um] LT [Uhr]',\n            sameElse: 'L',\n            nextDay: '[morgen um] LT [Uhr]',\n            nextWeek: 'dddd [um] LT [Uhr]',\n            lastDay: '[gestern um] LT [Uhr]',\n            lastWeek: '[letzten] dddd [um] LT [Uhr]'\n        },\n        relativeTime : {\n            future : 'in %s',\n            past : 'vor %s',\n            s : 'ein paar Sekunden',\n            m : processRelativeTime,\n            mm : '%d Minuten',\n            h : processRelativeTime,\n            hh : '%d Stunden',\n            d : processRelativeTime,\n            dd : processRelativeTime,\n            M : processRelativeTime,\n            MM : processRelativeTime,\n            y : processRelativeTime,\n            yy : processRelativeTime\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return de;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/de.js\n ** module id = 97\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : German (Austria) [de-at]\n//! author : lluchs : https://github.com/lluchs\n//! author: Menelion Elensle: https://github.com/Oire\n//! author : Martin Groller : https://github.com/MadMG\n//! author : Mikolaj Dadela : https://github.com/mik01aj\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    function processRelativeTime(number, withoutSuffix, key, isFuture) {\n        var format = {\n            'm': ['eine Minute', 'einer Minute'],\n            'h': ['eine Stunde', 'einer Stunde'],\n            'd': ['ein Tag', 'einem Tag'],\n            'dd': [number + ' Tage', number + ' Tagen'],\n            'M': ['ein Monat', 'einem Monat'],\n            'MM': [number + ' Monate', number + ' Monaten'],\n            'y': ['ein Jahr', 'einem Jahr'],\n            'yy': [number + ' Jahre', number + ' Jahren']\n        };\n        return withoutSuffix ? format[key][0] : format[key][1];\n    }\n\n    var de_at = moment.defineLocale('de-at', {\n        months : 'Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember'.split('_'),\n        monthsShort : 'Jn._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.'.split('_'),\n        monthsParseExact : true,\n        weekdays : 'Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag'.split('_'),\n        weekdaysShort : 'So._Mo._Di._Mi._Do._Fr._Sa.'.split('_'),\n        weekdaysMin : 'So_Mo_Di_Mi_Do_Fr_Sa'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT: 'HH:mm',\n            LTS: 'HH:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D. MMMM YYYY',\n            LLL : 'D. MMMM YYYY HH:mm',\n            LLLL : 'dddd, D. MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay: '[heute um] LT [Uhr]',\n            sameElse: 'L',\n            nextDay: '[morgen um] LT [Uhr]',\n            nextWeek: 'dddd [um] LT [Uhr]',\n            lastDay: '[gestern um] LT [Uhr]',\n            lastWeek: '[letzten] dddd [um] LT [Uhr]'\n        },\n        relativeTime : {\n            future : 'in %s',\n            past : 'vor %s',\n            s : 'ein paar Sekunden',\n            m : processRelativeTime,\n            mm : '%d Minuten',\n            h : processRelativeTime,\n            hh : '%d Stunden',\n            d : processRelativeTime,\n            dd : processRelativeTime,\n            M : processRelativeTime,\n            MM : processRelativeTime,\n            y : processRelativeTime,\n            yy : processRelativeTime\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return de_at;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/de-at.js\n ** module id = 98\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Maldivian [dv]\n//! author : Jawish Hameed : https://github.com/jawish\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var months = [\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        ''\n    ], weekdays = [\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        ''\n    ];\n\n    var dv = moment.defineLocale('dv', {\n        months : months,\n        monthsShort : months,\n        weekdays : weekdays,\n        weekdaysShort : weekdays,\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'D/M/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd D MMMM YYYY HH:mm'\n        },\n        meridiemParse: /|/,\n        isPM : function (input) {\n            return '' === input;\n        },\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 12) {\n                return '';\n            } else {\n                return '';\n            }\n        },\n        calendar : {\n            sameDay : '[] LT',\n            nextDay : '[] LT',\n            nextWeek : 'dddd LT',\n            lastDay : '[] LT',\n            lastWeek : '[] dddd LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : ' %s',\n            past : ' %s',\n            s : '',\n            m : '',\n            mm : ' %d',\n            h : '',\n            hh : ' %d',\n            d : '',\n            dd : ' %d',\n            M : '',\n            MM : ' %d',\n            y : '',\n            yy : ' %d'\n        },\n        preparse: function (string) {\n            return string.replace(//g, ',');\n        },\n        postformat: function (string) {\n            return string.replace(/,/g, '');\n        },\n        week : {\n            dow : 7,  // Sunday is the first day of the week.\n            doy : 12  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return dv;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/dv.js\n ** module id = 99\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Greek [el]\n//! author : Aggelos Karalias : https://github.com/mehiel\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n    function isFunction(input) {\n        return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';\n    }\n\n\n    var el = moment.defineLocale('el', {\n        monthsNominativeEl : '___________'.split('_'),\n        monthsGenitiveEl : '___________'.split('_'),\n        months : function (momentToFormat, format) {\n            if (/D/.test(format.substring(0, format.indexOf('MMMM')))) { // if there is a day number before 'MMMM'\n                return this._monthsGenitiveEl[momentToFormat.month()];\n            } else {\n                return this._monthsNominativeEl[momentToFormat.month()];\n            }\n        },\n        monthsShort : '___________'.split('_'),\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        meridiem : function (hours, minutes, isLower) {\n            if (hours > 11) {\n                return isLower ? '' : '';\n            } else {\n                return isLower ? '' : '';\n            }\n        },\n        isPM : function (input) {\n            return ((input + '').toLowerCase()[0] === '');\n        },\n        meridiemParse : /[]\\.??\\.?/i,\n        longDateFormat : {\n            LT : 'h:mm A',\n            LTS : 'h:mm:ss A',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY h:mm A',\n            LLLL : 'dddd, D MMMM YYYY h:mm A'\n        },\n        calendarEl : {\n            sameDay : '[ {}] LT',\n            nextDay : '[ {}] LT',\n            nextWeek : 'dddd [{}] LT',\n            lastDay : '[ {}] LT',\n            lastWeek : function () {\n                switch (this.day()) {\n                    case 6:\n                        return '[ ] dddd [{}] LT';\n                    default:\n                        return '[ ] dddd [{}] LT';\n                }\n            },\n            sameElse : 'L'\n        },\n        calendar : function (key, mom) {\n            var output = this._calendarEl[key],\n                hours = mom && mom.hours();\n            if (isFunction(output)) {\n                output = output.apply(mom);\n            }\n            return output.replace('{}', (hours % 12 === 1 ? '' : ''));\n        },\n        relativeTime : {\n            future : ' %s',\n            past : '%s ',\n            s : ' ',\n            m : ' ',\n            mm : '%d ',\n            h : ' ',\n            hh : '%d ',\n            d : ' ',\n            dd : '%d ',\n            M : ' ',\n            MM : '%d ',\n            y : ' ',\n            yy : '%d '\n        },\n        ordinalParse: /\\d{1,2}/,\n        ordinal: '%d',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4st is the first week of the year.\n        }\n    });\n\n    return el;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/el.js\n ** module id = 100\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : English (Australia) [en-au]\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var en_au = moment.defineLocale('en-au', {\n        months : 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),\n        monthsShort : 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n        weekdays : 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n        weekdaysShort : 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n        weekdaysMin : 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\n        longDateFormat : {\n            LT : 'h:mm A',\n            LTS : 'h:mm:ss A',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY h:mm A',\n            LLLL : 'dddd, D MMMM YYYY h:mm A'\n        },\n        calendar : {\n            sameDay : '[Today at] LT',\n            nextDay : '[Tomorrow at] LT',\n            nextWeek : 'dddd [at] LT',\n            lastDay : '[Yesterday at] LT',\n            lastWeek : '[Last] dddd [at] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'in %s',\n            past : '%s ago',\n            s : 'a few seconds',\n            m : 'a minute',\n            mm : '%d minutes',\n            h : 'an hour',\n            hh : '%d hours',\n            d : 'a day',\n            dd : '%d days',\n            M : 'a month',\n            MM : '%d months',\n            y : 'a year',\n            yy : '%d years'\n        },\n        ordinalParse: /\\d{1,2}(st|nd|rd|th)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (~~(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return en_au;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/en-au.js\n ** module id = 101\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : English (Canada) [en-ca]\n//! author : Jonathan Abourbih : https://github.com/jonbca\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var en_ca = moment.defineLocale('en-ca', {\n        months : 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),\n        monthsShort : 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n        weekdays : 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n        weekdaysShort : 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n        weekdaysMin : 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\n        longDateFormat : {\n            LT : 'h:mm A',\n            LTS : 'h:mm:ss A',\n            L : 'YYYY-MM-DD',\n            LL : 'MMMM D, YYYY',\n            LLL : 'MMMM D, YYYY h:mm A',\n            LLLL : 'dddd, MMMM D, YYYY h:mm A'\n        },\n        calendar : {\n            sameDay : '[Today at] LT',\n            nextDay : '[Tomorrow at] LT',\n            nextWeek : 'dddd [at] LT',\n            lastDay : '[Yesterday at] LT',\n            lastWeek : '[Last] dddd [at] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'in %s',\n            past : '%s ago',\n            s : 'a few seconds',\n            m : 'a minute',\n            mm : '%d minutes',\n            h : 'an hour',\n            hh : '%d hours',\n            d : 'a day',\n            dd : '%d days',\n            M : 'a month',\n            MM : '%d months',\n            y : 'a year',\n            yy : '%d years'\n        },\n        ordinalParse: /\\d{1,2}(st|nd|rd|th)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (~~(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        }\n    });\n\n    return en_ca;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/en-ca.js\n ** module id = 102\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : English (United Kingdom) [en-gb]\n//! author : Chris Gedrim : https://github.com/chrisgedrim\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var en_gb = moment.defineLocale('en-gb', {\n        months : 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),\n        monthsShort : 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n        weekdays : 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n        weekdaysShort : 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n        weekdaysMin : 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd, D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay : '[Today at] LT',\n            nextDay : '[Tomorrow at] LT',\n            nextWeek : 'dddd [at] LT',\n            lastDay : '[Yesterday at] LT',\n            lastWeek : '[Last] dddd [at] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'in %s',\n            past : '%s ago',\n            s : 'a few seconds',\n            m : 'a minute',\n            mm : '%d minutes',\n            h : 'an hour',\n            hh : '%d hours',\n            d : 'a day',\n            dd : '%d days',\n            M : 'a month',\n            MM : '%d months',\n            y : 'a year',\n            yy : '%d years'\n        },\n        ordinalParse: /\\d{1,2}(st|nd|rd|th)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (~~(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return en_gb;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/en-gb.js\n ** module id = 103\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : English (Ireland) [en-ie]\n//! author : Chris Cartlidge : https://github.com/chriscartlidge\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var en_ie = moment.defineLocale('en-ie', {\n        months : 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),\n        monthsShort : 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n        weekdays : 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n        weekdaysShort : 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n        weekdaysMin : 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD-MM-YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay : '[Today at] LT',\n            nextDay : '[Tomorrow at] LT',\n            nextWeek : 'dddd [at] LT',\n            lastDay : '[Yesterday at] LT',\n            lastWeek : '[Last] dddd [at] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'in %s',\n            past : '%s ago',\n            s : 'a few seconds',\n            m : 'a minute',\n            mm : '%d minutes',\n            h : 'an hour',\n            hh : '%d hours',\n            d : 'a day',\n            dd : '%d days',\n            M : 'a month',\n            MM : '%d months',\n            y : 'a year',\n            yy : '%d years'\n        },\n        ordinalParse: /\\d{1,2}(st|nd|rd|th)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (~~(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return en_ie;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/en-ie.js\n ** module id = 104\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : English (New Zealand) [en-nz]\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var en_nz = moment.defineLocale('en-nz', {\n        months : 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),\n        monthsShort : 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n        weekdays : 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n        weekdaysShort : 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n        weekdaysMin : 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\n        longDateFormat : {\n            LT : 'h:mm A',\n            LTS : 'h:mm:ss A',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY h:mm A',\n            LLLL : 'dddd, D MMMM YYYY h:mm A'\n        },\n        calendar : {\n            sameDay : '[Today at] LT',\n            nextDay : '[Tomorrow at] LT',\n            nextWeek : 'dddd [at] LT',\n            lastDay : '[Yesterday at] LT',\n            lastWeek : '[Last] dddd [at] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'in %s',\n            past : '%s ago',\n            s : 'a few seconds',\n            m : 'a minute',\n            mm : '%d minutes',\n            h : 'an hour',\n            hh : '%d hours',\n            d : 'a day',\n            dd : '%d days',\n            M : 'a month',\n            MM : '%d months',\n            y : 'a year',\n            yy : '%d years'\n        },\n        ordinalParse: /\\d{1,2}(st|nd|rd|th)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (~~(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return en_nz;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/en-nz.js\n ** module id = 105\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Esperanto [eo]\n//! author : Colin Dean : https://github.com/colindean\n//! komento: Mi estas malcerta se mi korekte traktis akuzativojn en tiu traduko.\n//!          Se ne, bonvolu korekti kaj avizi min por ke mi povas lerni!\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var eo = moment.defineLocale('eo', {\n        months : 'januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro'.split('_'),\n        monthsShort : 'jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec'.split('_'),\n        weekdays : 'Dimano_Lundo_Mardo_Merkredo_ado_Vendredo_Sabato'.split('_'),\n        weekdaysShort : 'Dim_Lun_Mard_Merk_a_Ven_Sab'.split('_'),\n        weekdaysMin : 'Di_Lu_Ma_Me_a_Ve_Sa'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'YYYY-MM-DD',\n            LL : 'D[-an de] MMMM, YYYY',\n            LLL : 'D[-an de] MMMM, YYYY HH:mm',\n            LLLL : 'dddd, [la] D[-an de] MMMM, YYYY HH:mm'\n        },\n        meridiemParse: /[ap]\\.t\\.m/i,\n        isPM: function (input) {\n            return input.charAt(0).toLowerCase() === 'p';\n        },\n        meridiem : function (hours, minutes, isLower) {\n            if (hours > 11) {\n                return isLower ? 'p.t.m.' : 'P.T.M.';\n            } else {\n                return isLower ? 'a.t.m.' : 'A.T.M.';\n            }\n        },\n        calendar : {\n            sameDay : '[Hodia je] LT',\n            nextDay : '[Morga je] LT',\n            nextWeek : 'dddd [je] LT',\n            lastDay : '[Hiera je] LT',\n            lastWeek : '[pasinta] dddd [je] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'je %s',\n            past : 'anta %s',\n            s : 'sekundoj',\n            m : 'minuto',\n            mm : '%d minutoj',\n            h : 'horo',\n            hh : '%d horoj',\n            d : 'tago',//ne 'diurno', ar estas uzita por proksimumo\n            dd : '%d tagoj',\n            M : 'monato',\n            MM : '%d monatoj',\n            y : 'jaro',\n            yy : '%d jaroj'\n        },\n        ordinalParse: /\\d{1,2}a/,\n        ordinal : '%da',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return eo;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/eo.js\n ** module id = 106\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Spanish [es]\n//! author : Julio Napur : https://github.com/julionc\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var monthsShortDot = 'ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.'.split('_'),\n        monthsShort = 'ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic'.split('_');\n\n    var es = moment.defineLocale('es', {\n        months : 'enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre'.split('_'),\n        monthsShort : function (m, format) {\n            if (/-MMM-/.test(format)) {\n                return monthsShort[m.month()];\n            } else {\n                return monthsShortDot[m.month()];\n            }\n        },\n        monthsParseExact : true,\n        weekdays : 'domingo_lunes_martes_mircoles_jueves_viernes_sbado'.split('_'),\n        weekdaysShort : 'dom._lun._mar._mi._jue._vie._sb.'.split('_'),\n        weekdaysMin : 'do_lu_ma_mi_ju_vi_s'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'H:mm',\n            LTS : 'H:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D [de] MMMM [de] YYYY',\n            LLL : 'D [de] MMMM [de] YYYY H:mm',\n            LLLL : 'dddd, D [de] MMMM [de] YYYY H:mm'\n        },\n        calendar : {\n            sameDay : function () {\n                return '[hoy a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';\n            },\n            nextDay : function () {\n                return '[maana a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';\n            },\n            nextWeek : function () {\n                return 'dddd [a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';\n            },\n            lastDay : function () {\n                return '[ayer a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';\n            },\n            lastWeek : function () {\n                return '[el] dddd [pasado a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';\n            },\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'en %s',\n            past : 'hace %s',\n            s : 'unos segundos',\n            m : 'un minuto',\n            mm : '%d minutos',\n            h : 'una hora',\n            hh : '%d horas',\n            d : 'un da',\n            dd : '%d das',\n            M : 'un mes',\n            MM : '%d meses',\n            y : 'un ao',\n            yy : '%d aos'\n        },\n        ordinalParse : /\\d{1,2}/,\n        ordinal : '%d',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return es;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/es.js\n ** module id = 107\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Spanish (Dominican Republic) [es-do]\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var monthsShortDot = 'ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.'.split('_'),\n        monthsShort = 'ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic'.split('_');\n\n    var es_do = moment.defineLocale('es-do', {\n        months : 'enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre'.split('_'),\n        monthsShort : function (m, format) {\n            if (/-MMM-/.test(format)) {\n                return monthsShort[m.month()];\n            } else {\n                return monthsShortDot[m.month()];\n            }\n        },\n        monthsParseExact : true,\n        weekdays : 'domingo_lunes_martes_mircoles_jueves_viernes_sbado'.split('_'),\n        weekdaysShort : 'dom._lun._mar._mi._jue._vie._sb.'.split('_'),\n        weekdaysMin : 'do_lu_ma_mi_ju_vi_s'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'h:mm A',\n            LTS : 'h:mm:ss A',\n            L : 'DD/MM/YYYY',\n            LL : 'D [de] MMMM [de] YYYY',\n            LLL : 'D [de] MMMM [de] YYYY h:mm A',\n            LLLL : 'dddd, D [de] MMMM [de] YYYY h:mm A'\n        },\n        calendar : {\n            sameDay : function () {\n                return '[hoy a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';\n            },\n            nextDay : function () {\n                return '[maana a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';\n            },\n            nextWeek : function () {\n                return 'dddd [a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';\n            },\n            lastDay : function () {\n                return '[ayer a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';\n            },\n            lastWeek : function () {\n                return '[el] dddd [pasado a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';\n            },\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'en %s',\n            past : 'hace %s',\n            s : 'unos segundos',\n            m : 'un minuto',\n            mm : '%d minutos',\n            h : 'una hora',\n            hh : '%d horas',\n            d : 'un da',\n            dd : '%d das',\n            M : 'un mes',\n            MM : '%d meses',\n            y : 'un ao',\n            yy : '%d aos'\n        },\n        ordinalParse : /\\d{1,2}/,\n        ordinal : '%d',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return es_do;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/es-do.js\n ** module id = 108\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Estonian [et]\n//! author : Henry Kehlmann : https://github.com/madhenry\n//! improvements : Illimar Tambek : https://github.com/ragulka\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    function processRelativeTime(number, withoutSuffix, key, isFuture) {\n        var format = {\n            's' : ['mne sekundi', 'mni sekund', 'paar sekundit'],\n            'm' : ['he minuti', 'ks minut'],\n            'mm': [number + ' minuti', number + ' minutit'],\n            'h' : ['he tunni', 'tund aega', 'ks tund'],\n            'hh': [number + ' tunni', number + ' tundi'],\n            'd' : ['he peva', 'ks pev'],\n            'M' : ['kuu aja', 'kuu aega', 'ks kuu'],\n            'MM': [number + ' kuu', number + ' kuud'],\n            'y' : ['he aasta', 'aasta', 'ks aasta'],\n            'yy': [number + ' aasta', number + ' aastat']\n        };\n        if (withoutSuffix) {\n            return format[key][2] ? format[key][2] : format[key][1];\n        }\n        return isFuture ? format[key][0] : format[key][1];\n    }\n\n    var et = moment.defineLocale('et', {\n        months        : 'jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember'.split('_'),\n        monthsShort   : 'jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets'.split('_'),\n        weekdays      : 'phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev'.split('_'),\n        weekdaysShort : 'P_E_T_K_N_R_L'.split('_'),\n        weekdaysMin   : 'P_E_T_K_N_R_L'.split('_'),\n        longDateFormat : {\n            LT   : 'H:mm',\n            LTS : 'H:mm:ss',\n            L    : 'DD.MM.YYYY',\n            LL   : 'D. MMMM YYYY',\n            LLL  : 'D. MMMM YYYY H:mm',\n            LLLL : 'dddd, D. MMMM YYYY H:mm'\n        },\n        calendar : {\n            sameDay  : '[Tna,] LT',\n            nextDay  : '[Homme,] LT',\n            nextWeek : '[Jrgmine] dddd LT',\n            lastDay  : '[Eile,] LT',\n            lastWeek : '[Eelmine] dddd LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : '%s prast',\n            past   : '%s tagasi',\n            s      : processRelativeTime,\n            m      : processRelativeTime,\n            mm     : processRelativeTime,\n            h      : processRelativeTime,\n            hh     : processRelativeTime,\n            d      : processRelativeTime,\n            dd     : '%d peva',\n            M      : processRelativeTime,\n            MM     : processRelativeTime,\n            y      : processRelativeTime,\n            yy     : processRelativeTime\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return et;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/et.js\n ** module id = 109\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Basque [eu]\n//! author : Eneko Illarramendi : https://github.com/eillarra\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var eu = moment.defineLocale('eu', {\n        months : 'urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua'.split('_'),\n        monthsShort : 'urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.'.split('_'),\n        monthsParseExact : true,\n        weekdays : 'igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata'.split('_'),\n        weekdaysShort : 'ig._al._ar._az._og._ol._lr.'.split('_'),\n        weekdaysMin : 'ig_al_ar_az_og_ol_lr'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'YYYY-MM-DD',\n            LL : 'YYYY[ko] MMMM[ren] D[a]',\n            LLL : 'YYYY[ko] MMMM[ren] D[a] HH:mm',\n            LLLL : 'dddd, YYYY[ko] MMMM[ren] D[a] HH:mm',\n            l : 'YYYY-M-D',\n            ll : 'YYYY[ko] MMM D[a]',\n            lll : 'YYYY[ko] MMM D[a] HH:mm',\n            llll : 'ddd, YYYY[ko] MMM D[a] HH:mm'\n        },\n        calendar : {\n            sameDay : '[gaur] LT[etan]',\n            nextDay : '[bihar] LT[etan]',\n            nextWeek : 'dddd LT[etan]',\n            lastDay : '[atzo] LT[etan]',\n            lastWeek : '[aurreko] dddd LT[etan]',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : '%s barru',\n            past : 'duela %s',\n            s : 'segundo batzuk',\n            m : 'minutu bat',\n            mm : '%d minutu',\n            h : 'ordu bat',\n            hh : '%d ordu',\n            d : 'egun bat',\n            dd : '%d egun',\n            M : 'hilabete bat',\n            MM : '%d hilabete',\n            y : 'urte bat',\n            yy : '%d urte'\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return eu;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/eu.js\n ** module id = 110\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Persian [fa]\n//! author : Ebrahim Byagowi : https://github.com/ebraminio\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var symbolMap = {\n        '1': '',\n        '2': '',\n        '3': '',\n        '4': '',\n        '5': '',\n        '6': '',\n        '7': '',\n        '8': '',\n        '9': '',\n        '0': ''\n    }, numberMap = {\n        '': '1',\n        '': '2',\n        '': '3',\n        '': '4',\n        '': '5',\n        '': '6',\n        '': '7',\n        '': '8',\n        '': '9',\n        '': '0'\n    };\n\n    var fa = moment.defineLocale('fa', {\n        months : '___________'.split('_'),\n        monthsShort : '___________'.split('_'),\n        weekdays : '\\u200c__\\u200c__\\u200c__'.split('_'),\n        weekdaysShort : '\\u200c__\\u200c__\\u200c__'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd, D MMMM YYYY HH:mm'\n        },\n        meridiemParse: /  |  /,\n        isPM: function (input) {\n            return /  /.test(input);\n        },\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 12) {\n                return '  ';\n            } else {\n                return '  ';\n            }\n        },\n        calendar : {\n            sameDay : '[ ] LT',\n            nextDay : '[ ] LT',\n            nextWeek : 'dddd [] LT',\n            lastDay : '[ ] LT',\n            lastWeek : 'dddd [] [] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : ' %s',\n            past : '%s ',\n            s : ' ',\n            m : ' ',\n            mm : '%d ',\n            h : ' ',\n            hh : '%d ',\n            d : ' ',\n            dd : '%d ',\n            M : ' ',\n            MM : '%d ',\n            y : ' ',\n            yy : '%d '\n        },\n        preparse: function (string) {\n            return string.replace(/[-]/g, function (match) {\n                return numberMap[match];\n            }).replace(//g, ',');\n        },\n        postformat: function (string) {\n            return string.replace(/\\d/g, function (match) {\n                return symbolMap[match];\n            }).replace(/,/g, '');\n        },\n        ordinalParse: /\\d{1,2}/,\n        ordinal : '%d',\n        week : {\n            dow : 6, // Saturday is the first day of the week.\n            doy : 12 // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return fa;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/fa.js\n ** module id = 111\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Finnish [fi]\n//! author : Tarmo Aidantausta : https://github.com/bleadof\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var numbersPast = 'nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn'.split(' '),\n        numbersFuture = [\n            'nolla', 'yhden', 'kahden', 'kolmen', 'neljn', 'viiden', 'kuuden',\n            numbersPast[7], numbersPast[8], numbersPast[9]\n        ];\n    function translate(number, withoutSuffix, key, isFuture) {\n        var result = '';\n        switch (key) {\n            case 's':\n                return isFuture ? 'muutaman sekunnin' : 'muutama sekunti';\n            case 'm':\n                return isFuture ? 'minuutin' : 'minuutti';\n            case 'mm':\n                result = isFuture ? 'minuutin' : 'minuuttia';\n                break;\n            case 'h':\n                return isFuture ? 'tunnin' : 'tunti';\n            case 'hh':\n                result = isFuture ? 'tunnin' : 'tuntia';\n                break;\n            case 'd':\n                return isFuture ? 'pivn' : 'piv';\n            case 'dd':\n                result = isFuture ? 'pivn' : 'piv';\n                break;\n            case 'M':\n                return isFuture ? 'kuukauden' : 'kuukausi';\n            case 'MM':\n                result = isFuture ? 'kuukauden' : 'kuukautta';\n                break;\n            case 'y':\n                return isFuture ? 'vuoden' : 'vuosi';\n            case 'yy':\n                result = isFuture ? 'vuoden' : 'vuotta';\n                break;\n        }\n        result = verbalNumber(number, isFuture) + ' ' + result;\n        return result;\n    }\n    function verbalNumber(number, isFuture) {\n        return number < 10 ? (isFuture ? numbersFuture[number] : numbersPast[number]) : number;\n    }\n\n    var fi = moment.defineLocale('fi', {\n        months : 'tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu'.split('_'),\n        monthsShort : 'tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu'.split('_'),\n        weekdays : 'sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai'.split('_'),\n        weekdaysShort : 'su_ma_ti_ke_to_pe_la'.split('_'),\n        weekdaysMin : 'su_ma_ti_ke_to_pe_la'.split('_'),\n        longDateFormat : {\n            LT : 'HH.mm',\n            LTS : 'HH.mm.ss',\n            L : 'DD.MM.YYYY',\n            LL : 'Do MMMM[ta] YYYY',\n            LLL : 'Do MMMM[ta] YYYY, [klo] HH.mm',\n            LLLL : 'dddd, Do MMMM[ta] YYYY, [klo] HH.mm',\n            l : 'D.M.YYYY',\n            ll : 'Do MMM YYYY',\n            lll : 'Do MMM YYYY, [klo] HH.mm',\n            llll : 'ddd, Do MMM YYYY, [klo] HH.mm'\n        },\n        calendar : {\n            sameDay : '[tnn] [klo] LT',\n            nextDay : '[huomenna] [klo] LT',\n            nextWeek : 'dddd [klo] LT',\n            lastDay : '[eilen] [klo] LT',\n            lastWeek : '[viime] dddd[na] [klo] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : '%s pst',\n            past : '%s sitten',\n            s : translate,\n            m : translate,\n            mm : translate,\n            h : translate,\n            hh : translate,\n            d : translate,\n            dd : translate,\n            M : translate,\n            MM : translate,\n            y : translate,\n            yy : translate\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return fi;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/fi.js\n ** module id = 112\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Faroese [fo]\n//! author : Ragnar Johannesen : https://github.com/ragnar123\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var fo = moment.defineLocale('fo', {\n        months : 'januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember'.split('_'),\n        monthsShort : 'jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des'.split('_'),\n        weekdays : 'sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur'.split('_'),\n        weekdaysShort : 'sun_mn_ts_mik_hs_fr_ley'.split('_'),\n        weekdaysMin : 'su_m_t_mi_h_fr_le'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd D. MMMM, YYYY HH:mm'\n        },\n        calendar : {\n            sameDay : '[ dag kl.] LT',\n            nextDay : '[ morgin kl.] LT',\n            nextWeek : 'dddd [kl.] LT',\n            lastDay : '[ gjr kl.] LT',\n            lastWeek : '[sstu] dddd [kl] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'um %s',\n            past : '%s sani',\n            s : 'f sekund',\n            m : 'ein minutt',\n            mm : '%d minuttir',\n            h : 'ein tmi',\n            hh : '%d tmar',\n            d : 'ein dagur',\n            dd : '%d dagar',\n            M : 'ein mnai',\n            MM : '%d mnair',\n            y : 'eitt r',\n            yy : '%d r'\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return fo;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/fo.js\n ** module id = 113\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : French [fr]\n//! author : John Fischer : https://github.com/jfroffice\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var fr = moment.defineLocale('fr', {\n        months : 'janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre'.split('_'),\n        monthsShort : 'janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.'.split('_'),\n        monthsParseExact : true,\n        weekdays : 'dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi'.split('_'),\n        weekdaysShort : 'dim._lun._mar._mer._jeu._ven._sam.'.split('_'),\n        weekdaysMin : 'Di_Lu_Ma_Me_Je_Ve_Sa'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay: '[Aujourd\\'hui ] LT',\n            nextDay: '[Demain ] LT',\n            nextWeek: 'dddd [] LT',\n            lastDay: '[Hier ] LT',\n            lastWeek: 'dddd [dernier ] LT',\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : 'dans %s',\n            past : 'il y a %s',\n            s : 'quelques secondes',\n            m : 'une minute',\n            mm : '%d minutes',\n            h : 'une heure',\n            hh : '%d heures',\n            d : 'un jour',\n            dd : '%d jours',\n            M : 'un mois',\n            MM : '%d mois',\n            y : 'un an',\n            yy : '%d ans'\n        },\n        ordinalParse: /\\d{1,2}(er|)/,\n        ordinal : function (number) {\n            return number + (number === 1 ? 'er' : '');\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return fr;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/fr.js\n ** module id = 114\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : French (Canada) [fr-ca]\n//! author : Jonathan Abourbih : https://github.com/jonbca\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var fr_ca = moment.defineLocale('fr-ca', {\n        months : 'janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre'.split('_'),\n        monthsShort : 'janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.'.split('_'),\n        monthsParseExact : true,\n        weekdays : 'dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi'.split('_'),\n        weekdaysShort : 'dim._lun._mar._mer._jeu._ven._sam.'.split('_'),\n        weekdaysMin : 'Di_Lu_Ma_Me_Je_Ve_Sa'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'YYYY-MM-DD',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay: '[Aujourd\\'hui ] LT',\n            nextDay: '[Demain ] LT',\n            nextWeek: 'dddd [] LT',\n            lastDay: '[Hier ] LT',\n            lastWeek: 'dddd [dernier ] LT',\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : 'dans %s',\n            past : 'il y a %s',\n            s : 'quelques secondes',\n            m : 'une minute',\n            mm : '%d minutes',\n            h : 'une heure',\n            hh : '%d heures',\n            d : 'un jour',\n            dd : '%d jours',\n            M : 'un mois',\n            MM : '%d mois',\n            y : 'un an',\n            yy : '%d ans'\n        },\n        ordinalParse: /\\d{1,2}(er|e)/,\n        ordinal : function (number) {\n            return number + (number === 1 ? 'er' : 'e');\n        }\n    });\n\n    return fr_ca;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/fr-ca.js\n ** module id = 115\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : French (Switzerland) [fr-ch]\n//! author : Gaspard Bucher : https://github.com/gaspard\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var fr_ch = moment.defineLocale('fr-ch', {\n        months : 'janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre'.split('_'),\n        monthsShort : 'janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.'.split('_'),\n        monthsParseExact : true,\n        weekdays : 'dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi'.split('_'),\n        weekdaysShort : 'dim._lun._mar._mer._jeu._ven._sam.'.split('_'),\n        weekdaysMin : 'Di_Lu_Ma_Me_Je_Ve_Sa'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay: '[Aujourd\\'hui ] LT',\n            nextDay: '[Demain ] LT',\n            nextWeek: 'dddd [] LT',\n            lastDay: '[Hier ] LT',\n            lastWeek: 'dddd [dernier ] LT',\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : 'dans %s',\n            past : 'il y a %s',\n            s : 'quelques secondes',\n            m : 'une minute',\n            mm : '%d minutes',\n            h : 'une heure',\n            hh : '%d heures',\n            d : 'un jour',\n            dd : '%d jours',\n            M : 'un mois',\n            MM : '%d mois',\n            y : 'un an',\n            yy : '%d ans'\n        },\n        ordinalParse: /\\d{1,2}(er|e)/,\n        ordinal : function (number) {\n            return number + (number === 1 ? 'er' : 'e');\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return fr_ch;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/fr-ch.js\n ** module id = 116\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Frisian [fy]\n//! author : Robin van der Vliet : https://github.com/robin0van0der0v\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var monthsShortWithDots = 'jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.'.split('_'),\n        monthsShortWithoutDots = 'jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des'.split('_');\n\n    var fy = moment.defineLocale('fy', {\n        months : 'jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber'.split('_'),\n        monthsShort : function (m, format) {\n            if (/-MMM-/.test(format)) {\n                return monthsShortWithoutDots[m.month()];\n            } else {\n                return monthsShortWithDots[m.month()];\n            }\n        },\n        monthsParseExact : true,\n        weekdays : 'snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon'.split('_'),\n        weekdaysShort : 'si._mo._ti._wo._to._fr._so.'.split('_'),\n        weekdaysMin : 'Si_Mo_Ti_Wo_To_Fr_So'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD-MM-YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay: '[hjoed om] LT',\n            nextDay: '[moarn om] LT',\n            nextWeek: 'dddd [om] LT',\n            lastDay: '[juster om] LT',\n            lastWeek: '[frne] dddd [om] LT',\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : 'oer %s',\n            past : '%s lyn',\n            s : 'in pear sekonden',\n            m : 'ien mint',\n            mm : '%d minuten',\n            h : 'ien oere',\n            hh : '%d oeren',\n            d : 'ien dei',\n            dd : '%d dagen',\n            M : 'ien moanne',\n            MM : '%d moannen',\n            y : 'ien jier',\n            yy : '%d jierren'\n        },\n        ordinalParse: /\\d{1,2}(ste|de)/,\n        ordinal : function (number) {\n            return number + ((number === 1 || number === 8 || number >= 20) ? 'ste' : 'de');\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return fy;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/fy.js\n ** module id = 117\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Scottish Gaelic [gd]\n//! author : Jon Ashdown : https://github.com/jonashdown\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var months = [\n        'Am Faoilleach', 'An Gearran', 'Am Mrt', 'An Giblean', 'An Citean', 'An t-gmhios', 'An t-Iuchar', 'An Lnastal', 'An t-Sultain', 'An Dmhair', 'An t-Samhain', 'An Dbhlachd'\n    ];\n\n    var monthsShort = ['Faoi', 'Gear', 'Mrt', 'Gibl', 'Cit', 'gmh', 'Iuch', 'Ln', 'Sult', 'Dmh', 'Samh', 'Dbh'];\n\n    var weekdays = ['Didmhnaich', 'Diluain', 'Dimirt', 'Diciadain', 'Diardaoin', 'Dihaoine', 'Disathairne'];\n\n    var weekdaysShort = ['Did', 'Dil', 'Dim', 'Dic', 'Dia', 'Dih', 'Dis'];\n\n    var weekdaysMin = ['D', 'Lu', 'M', 'Ci', 'Ar', 'Ha', 'Sa'];\n\n    var gd = moment.defineLocale('gd', {\n        months : months,\n        monthsShort : monthsShort,\n        monthsParseExact : true,\n        weekdays : weekdays,\n        weekdaysShort : weekdaysShort,\n        weekdaysMin : weekdaysMin,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd, D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay : '[An-diugh aig] LT',\n            nextDay : '[A-mireach aig] LT',\n            nextWeek : 'dddd [aig] LT',\n            lastDay : '[An-d aig] LT',\n            lastWeek : 'dddd [seo chaidh] [aig] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'ann an %s',\n            past : 'bho chionn %s',\n            s : 'beagan diogan',\n            m : 'mionaid',\n            mm : '%d mionaidean',\n            h : 'uair',\n            hh : '%d uairean',\n            d : 'latha',\n            dd : '%d latha',\n            M : 'mos',\n            MM : '%d mosan',\n            y : 'bliadhna',\n            yy : '%d bliadhna'\n        },\n        ordinalParse : /\\d{1,2}(d|na|mh)/,\n        ordinal : function (number) {\n            var output = number === 1 ? 'd' : number % 10 === 2 ? 'na' : 'mh';\n            return number + output;\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return gd;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/gd.js\n ** module id = 118\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Galician [gl]\n//! author : Juan G. Hurtado : https://github.com/juanghurtado\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var gl = moment.defineLocale('gl', {\n        months : 'Xaneiro_Febreiro_Marzo_Abril_Maio_Xuo_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro'.split('_'),\n        monthsShort : 'Xan._Feb._Mar._Abr._Mai._Xu._Xul._Ago._Set._Out._Nov._Dec.'.split('_'),\n        monthsParseExact: true,\n        weekdays : 'Domingo_Luns_Martes_Mrcores_Xoves_Venres_Sbado'.split('_'),\n        weekdaysShort : 'Dom._Lun._Mar._Mr._Xov._Ven._Sb.'.split('_'),\n        weekdaysMin : 'Do_Lu_Ma_M_Xo_Ve_S'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'H:mm',\n            LTS : 'H:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY H:mm',\n            LLLL : 'dddd D MMMM YYYY H:mm'\n        },\n        calendar : {\n            sameDay : function () {\n                return '[hoxe ' + ((this.hours() !== 1) ? 's' : '') + '] LT';\n            },\n            nextDay : function () {\n                return '[ma ' + ((this.hours() !== 1) ? 's' : '') + '] LT';\n            },\n            nextWeek : function () {\n                return 'dddd [' + ((this.hours() !== 1) ? 's' : 'a') + '] LT';\n            },\n            lastDay : function () {\n                return '[onte ' + ((this.hours() !== 1) ? '' : 'a') + '] LT';\n            },\n            lastWeek : function () {\n                return '[o] dddd [pasado ' + ((this.hours() !== 1) ? 's' : 'a') + '] LT';\n            },\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : function (str) {\n                if (str === 'uns segundos') {\n                    return 'nuns segundos';\n                }\n                return 'en ' + str;\n            },\n            past : 'hai %s',\n            s : 'uns segundos',\n            m : 'un minuto',\n            mm : '%d minutos',\n            h : 'unha hora',\n            hh : '%d horas',\n            d : 'un da',\n            dd : '%d das',\n            M : 'un mes',\n            MM : '%d meses',\n            y : 'un ano',\n            yy : '%d anos'\n        },\n        ordinalParse : /\\d{1,2}/,\n        ordinal : '%d',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return gl;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/gl.js\n ** module id = 119\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Hebrew [he]\n//! author : Tomer Cohen : https://github.com/tomer\n//! author : Moshe Simantov : https://github.com/DevelopmentIL\n//! author : Tal Ater : https://github.com/TalAter\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var he = moment.defineLocale('he', {\n        months : '___________'.split('_'),\n        monthsShort : '___________'.split('_'),\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D []MMMM YYYY',\n            LLL : 'D []MMMM YYYY HH:mm',\n            LLLL : 'dddd, D []MMMM YYYY HH:mm',\n            l : 'D/M/YYYY',\n            ll : 'D MMM YYYY',\n            lll : 'D MMM YYYY HH:mm',\n            llll : 'ddd, D MMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay : '[ ]LT',\n            nextDay : '[ ]LT',\n            nextWeek : 'dddd [] LT',\n            lastDay : '[ ]LT',\n            lastWeek : '[] dddd [ ] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : ' %s',\n            past : ' %s',\n            s : ' ',\n            m : '',\n            mm : '%d ',\n            h : '',\n            hh : function (number) {\n                if (number === 2) {\n                    return '';\n                }\n                return number + ' ';\n            },\n            d : '',\n            dd : function (number) {\n                if (number === 2) {\n                    return '';\n                }\n                return number + ' ';\n            },\n            M : '',\n            MM : function (number) {\n                if (number === 2) {\n                    return '';\n                }\n                return number + ' ';\n            },\n            y : '',\n            yy : function (number) {\n                if (number === 2) {\n                    return '';\n                } else if (number % 10 === 0 && number !== 10) {\n                    return number + ' ';\n                }\n                return number + ' ';\n            }\n        },\n        meridiemParse: /\"|\"| | | ||/i,\n        isPM : function (input) {\n            return /^(\"| |)$/.test(input);\n        },\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 5) {\n                return ' ';\n            } else if (hour < 10) {\n                return '';\n            } else if (hour < 12) {\n                return isLower ? '\"' : ' ';\n            } else if (hour < 18) {\n                return isLower ? '\"' : ' ';\n            } else {\n                return '';\n            }\n        }\n    });\n\n    return he;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/he.js\n ** module id = 120\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Hindi [hi]\n//! author : Mayank Singhal : https://github.com/mayanksinghal\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var symbolMap = {\n        '1': '',\n        '2': '',\n        '3': '',\n        '4': '',\n        '5': '',\n        '6': '',\n        '7': '',\n        '8': '',\n        '9': '',\n        '0': ''\n    },\n    numberMap = {\n        '': '1',\n        '': '2',\n        '': '3',\n        '': '4',\n        '': '5',\n        '': '6',\n        '': '7',\n        '': '8',\n        '': '9',\n        '': '0'\n    };\n\n    var hi = moment.defineLocale('hi', {\n        months : '___________'.split('_'),\n        monthsShort : '._.__.___._._._._._.'.split('_'),\n        monthsParseExact: true,\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'A h:mm ',\n            LTS : 'A h:mm:ss ',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY, A h:mm ',\n            LLLL : 'dddd, D MMMM YYYY, A h:mm '\n        },\n        calendar : {\n            sameDay : '[] LT',\n            nextDay : '[] LT',\n            nextWeek : 'dddd, LT',\n            lastDay : '[] LT',\n            lastWeek : '[] dddd, LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : '%s ',\n            past : '%s ',\n            s : '  ',\n            m : ' ',\n            mm : '%d ',\n            h : ' ',\n            hh : '%d ',\n            d : ' ',\n            dd : '%d ',\n            M : ' ',\n            MM : '%d ',\n            y : ' ',\n            yy : '%d '\n        },\n        preparse: function (string) {\n            return string.replace(/[]/g, function (match) {\n                return numberMap[match];\n            });\n        },\n        postformat: function (string) {\n            return string.replace(/\\d/g, function (match) {\n                return symbolMap[match];\n            });\n        },\n        // Hindi notation for meridiems are quite fuzzy in practice. While there exists\n        // a rigid notion of a 'Pahar' it is not used as rigidly in modern Hindi.\n        meridiemParse: /|||/,\n        meridiemHour : function (hour, meridiem) {\n            if (hour === 12) {\n                hour = 0;\n            }\n            if (meridiem === '') {\n                return hour < 4 ? hour : hour + 12;\n            } else if (meridiem === '') {\n                return hour;\n            } else if (meridiem === '') {\n                return hour >= 10 ? hour : hour + 12;\n            } else if (meridiem === '') {\n                return hour + 12;\n            }\n        },\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 4) {\n                return '';\n            } else if (hour < 10) {\n                return '';\n            } else if (hour < 17) {\n                return '';\n            } else if (hour < 20) {\n                return '';\n            } else {\n                return '';\n            }\n        },\n        week : {\n            dow : 0, // Sunday is the first day of the week.\n            doy : 6  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return hi;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/hi.js\n ** module id = 121\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Croatian [hr]\n//! author : Bojan Markovi : https://github.com/bmarkovic\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    function translate(number, withoutSuffix, key) {\n        var result = number + ' ';\n        switch (key) {\n            case 'm':\n                return withoutSuffix ? 'jedna minuta' : 'jedne minute';\n            case 'mm':\n                if (number === 1) {\n                    result += 'minuta';\n                } else if (number === 2 || number === 3 || number === 4) {\n                    result += 'minute';\n                } else {\n                    result += 'minuta';\n                }\n                return result;\n            case 'h':\n                return withoutSuffix ? 'jedan sat' : 'jednog sata';\n            case 'hh':\n                if (number === 1) {\n                    result += 'sat';\n                } else if (number === 2 || number === 3 || number === 4) {\n                    result += 'sata';\n                } else {\n                    result += 'sati';\n                }\n                return result;\n            case 'dd':\n                if (number === 1) {\n                    result += 'dan';\n                } else {\n                    result += 'dana';\n                }\n                return result;\n            case 'MM':\n                if (number === 1) {\n                    result += 'mjesec';\n                } else if (number === 2 || number === 3 || number === 4) {\n                    result += 'mjeseca';\n                } else {\n                    result += 'mjeseci';\n                }\n                return result;\n            case 'yy':\n                if (number === 1) {\n                    result += 'godina';\n                } else if (number === 2 || number === 3 || number === 4) {\n                    result += 'godine';\n                } else {\n                    result += 'godina';\n                }\n                return result;\n        }\n    }\n\n    var hr = moment.defineLocale('hr', {\n        months : {\n            format: 'sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca'.split('_'),\n            standalone: 'sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac'.split('_')\n        },\n        monthsShort : 'sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.'.split('_'),\n        monthsParseExact: true,\n        weekdays : 'nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota'.split('_'),\n        weekdaysShort : 'ned._pon._uto._sri._et._pet._sub.'.split('_'),\n        weekdaysMin : 'ne_po_ut_sr_e_pe_su'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'H:mm',\n            LTS : 'H:mm:ss',\n            L : 'DD. MM. YYYY',\n            LL : 'D. MMMM YYYY',\n            LLL : 'D. MMMM YYYY H:mm',\n            LLLL : 'dddd, D. MMMM YYYY H:mm'\n        },\n        calendar : {\n            sameDay  : '[danas u] LT',\n            nextDay  : '[sutra u] LT',\n            nextWeek : function () {\n                switch (this.day()) {\n                    case 0:\n                        return '[u] [nedjelju] [u] LT';\n                    case 3:\n                        return '[u] [srijedu] [u] LT';\n                    case 6:\n                        return '[u] [subotu] [u] LT';\n                    case 1:\n                    case 2:\n                    case 4:\n                    case 5:\n                        return '[u] dddd [u] LT';\n                }\n            },\n            lastDay  : '[juer u] LT',\n            lastWeek : function () {\n                switch (this.day()) {\n                    case 0:\n                    case 3:\n                        return '[prolu] dddd [u] LT';\n                    case 6:\n                        return '[prole] [subote] [u] LT';\n                    case 1:\n                    case 2:\n                    case 4:\n                    case 5:\n                        return '[proli] dddd [u] LT';\n                }\n            },\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'za %s',\n            past   : 'prije %s',\n            s      : 'par sekundi',\n            m      : translate,\n            mm     : translate,\n            h      : translate,\n            hh     : translate,\n            d      : 'dan',\n            dd     : translate,\n            M      : 'mjesec',\n            MM     : translate,\n            y      : 'godinu',\n            yy     : translate\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return hr;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/hr.js\n ** module id = 122\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Hungarian [hu]\n//! author : Adam Brunner : https://github.com/adambrunner\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var weekEndings = 'vasrnap htfn kedden szerdn cstrtkn pnteken szombaton'.split(' ');\n    function translate(number, withoutSuffix, key, isFuture) {\n        var num = number,\n            suffix;\n        switch (key) {\n            case 's':\n                return (isFuture || withoutSuffix) ? 'nhny msodperc' : 'nhny msodperce';\n            case 'm':\n                return 'egy' + (isFuture || withoutSuffix ? ' perc' : ' perce');\n            case 'mm':\n                return num + (isFuture || withoutSuffix ? ' perc' : ' perce');\n            case 'h':\n                return 'egy' + (isFuture || withoutSuffix ? ' ra' : ' rja');\n            case 'hh':\n                return num + (isFuture || withoutSuffix ? ' ra' : ' rja');\n            case 'd':\n                return 'egy' + (isFuture || withoutSuffix ? ' nap' : ' napja');\n            case 'dd':\n                return num + (isFuture || withoutSuffix ? ' nap' : ' napja');\n            case 'M':\n                return 'egy' + (isFuture || withoutSuffix ? ' hnap' : ' hnapja');\n            case 'MM':\n                return num + (isFuture || withoutSuffix ? ' hnap' : ' hnapja');\n            case 'y':\n                return 'egy' + (isFuture || withoutSuffix ? ' v' : ' ve');\n            case 'yy':\n                return num + (isFuture || withoutSuffix ? ' v' : ' ve');\n        }\n        return '';\n    }\n    function week(isFuture) {\n        return (isFuture ? '' : '[mlt] ') + '[' + weekEndings[this.day()] + '] LT[-kor]';\n    }\n\n    var hu = moment.defineLocale('hu', {\n        months : 'janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december'.split('_'),\n        monthsShort : 'jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec'.split('_'),\n        weekdays : 'vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat'.split('_'),\n        weekdaysShort : 'vas_ht_kedd_sze_cst_pn_szo'.split('_'),\n        weekdaysMin : 'v_h_k_sze_cs_p_szo'.split('_'),\n        longDateFormat : {\n            LT : 'H:mm',\n            LTS : 'H:mm:ss',\n            L : 'YYYY.MM.DD.',\n            LL : 'YYYY. MMMM D.',\n            LLL : 'YYYY. MMMM D. H:mm',\n            LLLL : 'YYYY. MMMM D., dddd H:mm'\n        },\n        meridiemParse: /de|du/i,\n        isPM: function (input) {\n            return input.charAt(1).toLowerCase() === 'u';\n        },\n        meridiem : function (hours, minutes, isLower) {\n            if (hours < 12) {\n                return isLower === true ? 'de' : 'DE';\n            } else {\n                return isLower === true ? 'du' : 'DU';\n            }\n        },\n        calendar : {\n            sameDay : '[ma] LT[-kor]',\n            nextDay : '[holnap] LT[-kor]',\n            nextWeek : function () {\n                return week.call(this, true);\n            },\n            lastDay : '[tegnap] LT[-kor]',\n            lastWeek : function () {\n                return week.call(this, false);\n            },\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : '%s mlva',\n            past : '%s',\n            s : translate,\n            m : translate,\n            mm : translate,\n            h : translate,\n            hh : translate,\n            d : translate,\n            dd : translate,\n            M : translate,\n            MM : translate,\n            y : translate,\n            yy : translate\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return hu;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/hu.js\n ** module id = 123\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Armenian [hy-am]\n//! author : Armendarabyan : https://github.com/armendarabyan\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var hy_am = moment.defineLocale('hy-am', {\n        months : {\n            format: '___________'.split('_'),\n            standalone: '___________'.split('_')\n        },\n        monthsShort : '___________'.split('_'),\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D MMMM YYYY .',\n            LLL : 'D MMMM YYYY ., HH:mm',\n            LLLL : 'dddd, D MMMM YYYY ., HH:mm'\n        },\n        calendar : {\n            sameDay: '[] LT',\n            nextDay: '[] LT',\n            lastDay: '[] LT',\n            nextWeek: function () {\n                return 'dddd [ ] LT';\n            },\n            lastWeek: function () {\n                return '[] dddd [ ] LT';\n            },\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : '%s ',\n            past : '%s ',\n            s : '  ',\n            m : '',\n            mm : '%d ',\n            h : '',\n            hh : '%d ',\n            d : '',\n            dd : '%d ',\n            M : '',\n            MM : '%d ',\n            y : '',\n            yy : '%d '\n        },\n        meridiemParse: /|||/,\n        isPM: function (input) {\n            return /^(|)$/.test(input);\n        },\n        meridiem : function (hour) {\n            if (hour < 4) {\n                return '';\n            } else if (hour < 12) {\n                return '';\n            } else if (hour < 17) {\n                return '';\n            } else {\n                return '';\n            }\n        },\n        ordinalParse: /\\d{1,2}|\\d{1,2}-(|)/,\n        ordinal: function (number, period) {\n            switch (period) {\n                case 'DDD':\n                case 'w':\n                case 'W':\n                case 'DDDo':\n                    if (number === 1) {\n                        return number + '-';\n                    }\n                    return number + '-';\n                default:\n                    return number;\n            }\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return hy_am;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/hy-am.js\n ** module id = 124\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Indonesian [id]\n//! author : Mohammad Satrio Utomo : https://github.com/tyok\n//! reference: http://id.wikisource.org/wiki/Pedoman_Umum_Ejaan_Bahasa_Indonesia_yang_Disempurnakan\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var id = moment.defineLocale('id', {\n        months : 'Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember'.split('_'),\n        monthsShort : 'Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des'.split('_'),\n        weekdays : 'Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu'.split('_'),\n        weekdaysShort : 'Min_Sen_Sel_Rab_Kam_Jum_Sab'.split('_'),\n        weekdaysMin : 'Mg_Sn_Sl_Rb_Km_Jm_Sb'.split('_'),\n        longDateFormat : {\n            LT : 'HH.mm',\n            LTS : 'HH.mm.ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY [pukul] HH.mm',\n            LLLL : 'dddd, D MMMM YYYY [pukul] HH.mm'\n        },\n        meridiemParse: /pagi|siang|sore|malam/,\n        meridiemHour : function (hour, meridiem) {\n            if (hour === 12) {\n                hour = 0;\n            }\n            if (meridiem === 'pagi') {\n                return hour;\n            } else if (meridiem === 'siang') {\n                return hour >= 11 ? hour : hour + 12;\n            } else if (meridiem === 'sore' || meridiem === 'malam') {\n                return hour + 12;\n            }\n        },\n        meridiem : function (hours, minutes, isLower) {\n            if (hours < 11) {\n                return 'pagi';\n            } else if (hours < 15) {\n                return 'siang';\n            } else if (hours < 19) {\n                return 'sore';\n            } else {\n                return 'malam';\n            }\n        },\n        calendar : {\n            sameDay : '[Hari ini pukul] LT',\n            nextDay : '[Besok pukul] LT',\n            nextWeek : 'dddd [pukul] LT',\n            lastDay : '[Kemarin pukul] LT',\n            lastWeek : 'dddd [lalu pukul] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'dalam %s',\n            past : '%s yang lalu',\n            s : 'beberapa detik',\n            m : 'semenit',\n            mm : '%d menit',\n            h : 'sejam',\n            hh : '%d jam',\n            d : 'sehari',\n            dd : '%d hari',\n            M : 'sebulan',\n            MM : '%d bulan',\n            y : 'setahun',\n            yy : '%d tahun'\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return id;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/id.js\n ** module id = 125\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Icelandic [is]\n//! author : Hinrik rn Sigursson : https://github.com/hinrik\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    function plural(n) {\n        if (n % 100 === 11) {\n            return true;\n        } else if (n % 10 === 1) {\n            return false;\n        }\n        return true;\n    }\n    function translate(number, withoutSuffix, key, isFuture) {\n        var result = number + ' ';\n        switch (key) {\n            case 's':\n                return withoutSuffix || isFuture ? 'nokkrar sekndur' : 'nokkrum sekndum';\n            case 'm':\n                return withoutSuffix ? 'mnta' : 'mntu';\n            case 'mm':\n                if (plural(number)) {\n                    return result + (withoutSuffix || isFuture ? 'mntur' : 'mntum');\n                } else if (withoutSuffix) {\n                    return result + 'mnta';\n                }\n                return result + 'mntu';\n            case 'hh':\n                if (plural(number)) {\n                    return result + (withoutSuffix || isFuture ? 'klukkustundir' : 'klukkustundum');\n                }\n                return result + 'klukkustund';\n            case 'd':\n                if (withoutSuffix) {\n                    return 'dagur';\n                }\n                return isFuture ? 'dag' : 'degi';\n            case 'dd':\n                if (plural(number)) {\n                    if (withoutSuffix) {\n                        return result + 'dagar';\n                    }\n                    return result + (isFuture ? 'daga' : 'dgum');\n                } else if (withoutSuffix) {\n                    return result + 'dagur';\n                }\n                return result + (isFuture ? 'dag' : 'degi');\n            case 'M':\n                if (withoutSuffix) {\n                    return 'mnuur';\n                }\n                return isFuture ? 'mnu' : 'mnui';\n            case 'MM':\n                if (plural(number)) {\n                    if (withoutSuffix) {\n                        return result + 'mnuir';\n                    }\n                    return result + (isFuture ? 'mnui' : 'mnuum');\n                } else if (withoutSuffix) {\n                    return result + 'mnuur';\n                }\n                return result + (isFuture ? 'mnu' : 'mnui');\n            case 'y':\n                return withoutSuffix || isFuture ? 'r' : 'ri';\n            case 'yy':\n                if (plural(number)) {\n                    return result + (withoutSuffix || isFuture ? 'r' : 'rum');\n                }\n                return result + (withoutSuffix || isFuture ? 'r' : 'ri');\n        }\n    }\n\n    var is = moment.defineLocale('is', {\n        months : 'janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember'.split('_'),\n        monthsShort : 'jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des'.split('_'),\n        weekdays : 'sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur'.split('_'),\n        weekdaysShort : 'sun_mn_ri_mi_fim_fs_lau'.split('_'),\n        weekdaysMin : 'Su_M_r_Mi_Fi_F_La'.split('_'),\n        longDateFormat : {\n            LT : 'H:mm',\n            LTS : 'H:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D. MMMM YYYY',\n            LLL : 'D. MMMM YYYY [kl.] H:mm',\n            LLLL : 'dddd, D. MMMM YYYY [kl.] H:mm'\n        },\n        calendar : {\n            sameDay : '[ dag kl.] LT',\n            nextDay : '[ morgun kl.] LT',\n            nextWeek : 'dddd [kl.] LT',\n            lastDay : '[ gr kl.] LT',\n            lastWeek : '[sasta] dddd [kl.] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'eftir %s',\n            past : 'fyrir %s san',\n            s : translate,\n            m : translate,\n            mm : translate,\n            h : 'klukkustund',\n            hh : translate,\n            d : translate,\n            dd : translate,\n            M : translate,\n            MM : translate,\n            y : translate,\n            yy : translate\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return is;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/is.js\n ** module id = 126\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Italian [it]\n//! author : Lorenzo : https://github.com/aliem\n//! author: Mattia Larentis: https://github.com/nostalgiaz\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var it = moment.defineLocale('it', {\n        months : 'gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre'.split('_'),\n        monthsShort : 'gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic'.split('_'),\n        weekdays : 'Domenica_Luned_Marted_Mercoled_Gioved_Venerd_Sabato'.split('_'),\n        weekdaysShort : 'Dom_Lun_Mar_Mer_Gio_Ven_Sab'.split('_'),\n        weekdaysMin : 'Do_Lu_Ma_Me_Gi_Ve_Sa'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd, D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay: '[Oggi alle] LT',\n            nextDay: '[Domani alle] LT',\n            nextWeek: 'dddd [alle] LT',\n            lastDay: '[Ieri alle] LT',\n            lastWeek: function () {\n                switch (this.day()) {\n                    case 0:\n                        return '[la scorsa] dddd [alle] LT';\n                    default:\n                        return '[lo scorso] dddd [alle] LT';\n                }\n            },\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : function (s) {\n                return ((/^[0-9].+$/).test(s) ? 'tra' : 'in') + ' ' + s;\n            },\n            past : '%s fa',\n            s : 'alcuni secondi',\n            m : 'un minuto',\n            mm : '%d minuti',\n            h : 'un\\'ora',\n            hh : '%d ore',\n            d : 'un giorno',\n            dd : '%d giorni',\n            M : 'un mese',\n            MM : '%d mesi',\n            y : 'un anno',\n            yy : '%d anni'\n        },\n        ordinalParse : /\\d{1,2}/,\n        ordinal: '%d',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return it;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/it.js\n ** module id = 127\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Japanese [ja]\n//! author : LI Long : https://github.com/baryon\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var ja = moment.defineLocale('ja', {\n        months : '1_2_3_4_5_6_7_8_9_10_11_12'.split('_'),\n        monthsShort : '1_2_3_4_5_6_7_8_9_10_11_12'.split('_'),\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'Ahm',\n            LTS : 'Ahms',\n            L : 'YYYY/MM/DD',\n            LL : 'YYYYMD',\n            LLL : 'YYYYMDAhm',\n            LLLL : 'YYYYMDAhm dddd'\n        },\n        meridiemParse: /|/i,\n        isPM : function (input) {\n            return input === '';\n        },\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 12) {\n                return '';\n            } else {\n                return '';\n            }\n        },\n        calendar : {\n            sameDay : '[] LT',\n            nextDay : '[] LT',\n            nextWeek : '[]dddd LT',\n            lastDay : '[] LT',\n            lastWeek : '[]dddd LT',\n            sameElse : 'L'\n        },\n        ordinalParse : /\\d{1,2}/,\n        ordinal : function (number, period) {\n            switch (period) {\n                case 'd':\n                case 'D':\n                case 'DDD':\n                    return number + '';\n                default:\n                    return number;\n            }\n        },\n        relativeTime : {\n            future : '%s',\n            past : '%s',\n            s : '',\n            m : '1',\n            mm : '%d',\n            h : '1',\n            hh : '%d',\n            d : '1',\n            dd : '%d',\n            M : '1',\n            MM : '%d',\n            y : '1',\n            yy : '%d'\n        }\n    });\n\n    return ja;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/ja.js\n ** module id = 128\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Japanese [jv]\n//! author : Rony Lantip : https://github.com/lantip\n//! reference: http://jv.wikipedia.org/wiki/Basa_Jawa\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var jv = moment.defineLocale('jv', {\n        months : 'Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember'.split('_'),\n        monthsShort : 'Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des'.split('_'),\n        weekdays : 'Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu'.split('_'),\n        weekdaysShort : 'Min_Sen_Sel_Reb_Kem_Jem_Sep'.split('_'),\n        weekdaysMin : 'Mg_Sn_Sl_Rb_Km_Jm_Sp'.split('_'),\n        longDateFormat : {\n            LT : 'HH.mm',\n            LTS : 'HH.mm.ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY [pukul] HH.mm',\n            LLLL : 'dddd, D MMMM YYYY [pukul] HH.mm'\n        },\n        meridiemParse: /enjing|siyang|sonten|ndalu/,\n        meridiemHour : function (hour, meridiem) {\n            if (hour === 12) {\n                hour = 0;\n            }\n            if (meridiem === 'enjing') {\n                return hour;\n            } else if (meridiem === 'siyang') {\n                return hour >= 11 ? hour : hour + 12;\n            } else if (meridiem === 'sonten' || meridiem === 'ndalu') {\n                return hour + 12;\n            }\n        },\n        meridiem : function (hours, minutes, isLower) {\n            if (hours < 11) {\n                return 'enjing';\n            } else if (hours < 15) {\n                return 'siyang';\n            } else if (hours < 19) {\n                return 'sonten';\n            } else {\n                return 'ndalu';\n            }\n        },\n        calendar : {\n            sameDay : '[Dinten puniko pukul] LT',\n            nextDay : '[Mbenjang pukul] LT',\n            nextWeek : 'dddd [pukul] LT',\n            lastDay : '[Kala wingi pukul] LT',\n            lastWeek : 'dddd [kepengker pukul] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'wonten ing %s',\n            past : '%s ingkang kepengker',\n            s : 'sawetawis detik',\n            m : 'setunggal menit',\n            mm : '%d menit',\n            h : 'setunggal jam',\n            hh : '%d jam',\n            d : 'sedinten',\n            dd : '%d dinten',\n            M : 'sewulan',\n            MM : '%d wulan',\n            y : 'setaun',\n            yy : '%d taun'\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return jv;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/jv.js\n ** module id = 129\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Georgian [ka]\n//! author : Irakli Janiashvili : https://github.com/irakli-janiashvili\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var ka = moment.defineLocale('ka', {\n        months : {\n            standalone: '___________'.split('_'),\n            format: '___________'.split('_')\n        },\n        monthsShort : '___________'.split('_'),\n        weekdays : {\n            standalone: '______'.split('_'),\n            format: '______'.split('_'),\n            isFormat: /(|)/\n        },\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'h:mm A',\n            LTS : 'h:mm:ss A',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY h:mm A',\n            LLLL : 'dddd, D MMMM YYYY h:mm A'\n        },\n        calendar : {\n            sameDay : '[] LT[-]',\n            nextDay : '[] LT[-]',\n            lastDay : '[] LT[-]',\n            nextWeek : '[] dddd LT[-]',\n            lastWeek : '[] dddd LT-',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : function (s) {\n                return (/(|||)/).test(s) ?\n                    s.replace(/$/, '') :\n                    s + '';\n            },\n            past : function (s) {\n                if ((/(||||)/).test(s)) {\n                    return s.replace(/(|)$/, ' ');\n                }\n                if ((//).test(s)) {\n                    return s.replace(/$/, ' ');\n                }\n            },\n            s : ' ',\n            m : '',\n            mm : '%d ',\n            h : '',\n            hh : '%d ',\n            d : '',\n            dd : '%d ',\n            M : '',\n            MM : '%d ',\n            y : '',\n            yy : '%d '\n        },\n        ordinalParse: /0|1-|-\\d{1,2}|\\d{1,2}-/,\n        ordinal : function (number) {\n            if (number === 0) {\n                return number;\n            }\n            if (number === 1) {\n                return number + '-';\n            }\n            if ((number < 20) || (number <= 100 && (number % 20 === 0)) || (number % 100 === 0)) {\n                return '-' + number;\n            }\n            return number + '-';\n        },\n        week : {\n            dow : 1,\n            doy : 7\n        }\n    });\n\n    return ka;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/ka.js\n ** module id = 130\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Kazakh [kk]\n//! authors : Nurlan Rakhimzhanov : https://github.com/nurlan\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var suffixes = {\n        0: '-',\n        1: '-',\n        2: '-',\n        3: '-',\n        4: '-',\n        5: '-',\n        6: '-',\n        7: '-',\n        8: '-',\n        9: '-',\n        10: '-',\n        20: '-',\n        30: '-',\n        40: '-',\n        50: '-',\n        60: '-',\n        70: '-',\n        80: '-',\n        90: '-',\n        100: '-'\n    };\n\n    var kk = moment.defineLocale('kk', {\n        months : '___________'.split('_'),\n        monthsShort : '___________'.split('_'),\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd, D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay : '[ ] LT',\n            nextDay : '[ ] LT',\n            nextWeek : 'dddd [] LT',\n            lastDay : '[ ] LT',\n            lastWeek : '[ ] dddd [] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : '%s ',\n            past : '%s ',\n            s : ' ',\n            m : ' ',\n            mm : '%d ',\n            h : ' ',\n            hh : '%d ',\n            d : ' ',\n            dd : '%d ',\n            M : ' ',\n            MM : '%d ',\n            y : ' ',\n            yy : '%d '\n        },\n        ordinalParse: /\\d{1,2}-(|)/,\n        ordinal : function (number) {\n            var a = number % 10,\n                b = number >= 100 ? 100 : null;\n            return number + (suffixes[number] || suffixes[a] || suffixes[b]);\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return kk;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/kk.js\n ** module id = 131\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Cambodian [km]\n//! author : Kruy Vanna : https://github.com/kruyvanna\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var km = moment.defineLocale('km', {\n        months: '___________'.split('_'),\n        monthsShort: '___________'.split('_'),\n        weekdays: '______'.split('_'),\n        weekdaysShort: '______'.split('_'),\n        weekdaysMin: '______'.split('_'),\n        longDateFormat: {\n            LT: 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L: 'DD/MM/YYYY',\n            LL: 'D MMMM YYYY',\n            LLL: 'D MMMM YYYY HH:mm',\n            LLLL: 'dddd, D MMMM YYYY HH:mm'\n        },\n        calendar: {\n            sameDay: '[ ] LT',\n            nextDay: '[ ] LT',\n            nextWeek: 'dddd [] LT',\n            lastDay: '[ ] LT',\n            lastWeek: 'dddd [] [] LT',\n            sameElse: 'L'\n        },\n        relativeTime: {\n            future: '%s',\n            past: '%s',\n            s: '',\n            m: '',\n            mm: '%d ',\n            h: '',\n            hh: '%d ',\n            d: '',\n            dd: '%d ',\n            M: '',\n            MM: '%d ',\n            y: '',\n            yy: '%d '\n        },\n        week: {\n            dow: 1, // Monday is the first day of the week.\n            doy: 4 // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return km;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/km.js\n ** module id = 132\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Korean [ko]\n//!\n//! authors\n//!\n//! - Kyungwook, Park : https://github.com/kyungw00k\n//! - Jeeeyul Lee <jeeeyul@gmail.com>\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var ko = moment.defineLocale('ko', {\n        months : '1_2_3_4_5_6_7_8_9_10_11_12'.split('_'),\n        monthsShort : '1_2_3_4_5_6_7_8_9_10_11_12'.split('_'),\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'A h m',\n            LTS : 'A h m s',\n            L : 'YYYY.MM.DD',\n            LL : 'YYYY MMMM D',\n            LLL : 'YYYY MMMM D A h m',\n            LLLL : 'YYYY MMMM D dddd A h m'\n        },\n        calendar : {\n            sameDay : ' LT',\n            nextDay : ' LT',\n            nextWeek : 'dddd LT',\n            lastDay : ' LT',\n            lastWeek : ' dddd LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : '%s ',\n            past : '%s ',\n            s : ' ',\n            ss : '%d',\n            m : '',\n            mm : '%d',\n            h : ' ',\n            hh : '%d',\n            d : '',\n            dd : '%d',\n            M : ' ',\n            MM : '%d',\n            y : ' ',\n            yy : '%d'\n        },\n        ordinalParse : /\\d{1,2}/,\n        ordinal : '%d',\n        meridiemParse : /|/,\n        isPM : function (token) {\n            return token === '';\n        },\n        meridiem : function (hour, minute, isUpper) {\n            return hour < 12 ? '' : '';\n        }\n    });\n\n    return ko;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/ko.js\n ** module id = 133\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Kyrgyz [ky]\n//! author : Chyngyz Arystan uulu : https://github.com/chyngyz\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n\n    var suffixes = {\n        0: '-',\n        1: '-',\n        2: '-',\n        3: '-',\n        4: '-',\n        5: '-',\n        6: '-',\n        7: '-',\n        8: '-',\n        9: '-',\n        10: '-',\n        20: '-',\n        30: '-',\n        40: '-',\n        50: '-',\n        60: '-',\n        70: '-',\n        80: '-',\n        90: '-',\n        100: '-'\n    };\n\n    var ky = moment.defineLocale('ky', {\n        months : '___________'.split('_'),\n        monthsShort : '___________'.split('_'),\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd, D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay : '[ ] LT',\n            nextDay : '[ ] LT',\n            nextWeek : 'dddd [] LT',\n            lastDay : '[ ] LT',\n            lastWeek : '[ ] dddd [] [] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : '%s ',\n            past : '%s ',\n            s : ' ',\n            m : ' ',\n            mm : '%d ',\n            h : ' ',\n            hh : '%d ',\n            d : ' ',\n            dd : '%d ',\n            M : ' ',\n            MM : '%d ',\n            y : ' ',\n            yy : '%d '\n        },\n        ordinalParse: /\\d{1,2}-(|||)/,\n        ordinal : function (number) {\n            var a = number % 10,\n                b = number >= 100 ? 100 : null;\n            return number + (suffixes[number] || suffixes[a] || suffixes[b]);\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return ky;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/ky.js\n ** module id = 134\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Luxembourgish [lb]\n//! author : mweimerskirch : https://github.com/mweimerskirch, David Raison : https://github.com/kwisatz\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    function processRelativeTime(number, withoutSuffix, key, isFuture) {\n        var format = {\n            'm': ['eng Minutt', 'enger Minutt'],\n            'h': ['eng Stonn', 'enger Stonn'],\n            'd': ['een Dag', 'engem Dag'],\n            'M': ['ee Mount', 'engem Mount'],\n            'y': ['ee Joer', 'engem Joer']\n        };\n        return withoutSuffix ? format[key][0] : format[key][1];\n    }\n    function processFutureTime(string) {\n        var number = string.substr(0, string.indexOf(' '));\n        if (eifelerRegelAppliesToNumber(number)) {\n            return 'a ' + string;\n        }\n        return 'an ' + string;\n    }\n    function processPastTime(string) {\n        var number = string.substr(0, string.indexOf(' '));\n        if (eifelerRegelAppliesToNumber(number)) {\n            return 'viru ' + string;\n        }\n        return 'virun ' + string;\n    }\n    /**\n     * Returns true if the word before the given number loses the '-n' ending.\n     * e.g. 'an 10 Deeg' but 'a 5 Deeg'\n     *\n     * @param number {integer}\n     * @returns {boolean}\n     */\n    function eifelerRegelAppliesToNumber(number) {\n        number = parseInt(number, 10);\n        if (isNaN(number)) {\n            return false;\n        }\n        if (number < 0) {\n            // Negative Number --> always true\n            return true;\n        } else if (number < 10) {\n            // Only 1 digit\n            if (4 <= number && number <= 7) {\n                return true;\n            }\n            return false;\n        } else if (number < 100) {\n            // 2 digits\n            var lastDigit = number % 10, firstDigit = number / 10;\n            if (lastDigit === 0) {\n                return eifelerRegelAppliesToNumber(firstDigit);\n            }\n            return eifelerRegelAppliesToNumber(lastDigit);\n        } else if (number < 10000) {\n            // 3 or 4 digits --> recursively check first digit\n            while (number >= 10) {\n                number = number / 10;\n            }\n            return eifelerRegelAppliesToNumber(number);\n        } else {\n            // Anything larger than 4 digits: recursively check first n-3 digits\n            number = number / 1000;\n            return eifelerRegelAppliesToNumber(number);\n        }\n    }\n\n    var lb = moment.defineLocale('lb', {\n        months: 'Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember'.split('_'),\n        monthsShort: 'Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.'.split('_'),\n        monthsParseExact : true,\n        weekdays: 'Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg'.split('_'),\n        weekdaysShort: 'So._M._D._M._Do._Fr._Sa.'.split('_'),\n        weekdaysMin: 'So_M_D_M_Do_Fr_Sa'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat: {\n            LT: 'H:mm [Auer]',\n            LTS: 'H:mm:ss [Auer]',\n            L: 'DD.MM.YYYY',\n            LL: 'D. MMMM YYYY',\n            LLL: 'D. MMMM YYYY H:mm [Auer]',\n            LLLL: 'dddd, D. MMMM YYYY H:mm [Auer]'\n        },\n        calendar: {\n            sameDay: '[Haut um] LT',\n            sameElse: 'L',\n            nextDay: '[Muer um] LT',\n            nextWeek: 'dddd [um] LT',\n            lastDay: '[Gschter um] LT',\n            lastWeek: function () {\n                // Different date string for 'Dnschdeg' (Tuesday) and 'Donneschdeg' (Thursday) due to phonological rule\n                switch (this.day()) {\n                    case 2:\n                    case 4:\n                        return '[Leschten] dddd [um] LT';\n                    default:\n                        return '[Leschte] dddd [um] LT';\n                }\n            }\n        },\n        relativeTime : {\n            future : processFutureTime,\n            past : processPastTime,\n            s : 'e puer Sekonnen',\n            m : processRelativeTime,\n            mm : '%d Minutten',\n            h : processRelativeTime,\n            hh : '%d Stonnen',\n            d : processRelativeTime,\n            dd : '%d Deeg',\n            M : processRelativeTime,\n            MM : '%d Mint',\n            y : processRelativeTime,\n            yy : '%d Joer'\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal: '%d.',\n        week: {\n            dow: 1, // Monday is the first day of the week.\n            doy: 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return lb;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/lb.js\n ** module id = 135\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Lao [lo]\n//! author : Ryan Hart : https://github.com/ryanhart2\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var lo = moment.defineLocale('lo', {\n        months : '___________'.split('_'),\n        monthsShort : '___________'.split('_'),\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd D MMMM YYYY HH:mm'\n        },\n        meridiemParse: /|/,\n        isPM: function (input) {\n            return input === '';\n        },\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 12) {\n                return '';\n            } else {\n                return '';\n            }\n        },\n        calendar : {\n            sameDay : '[] LT',\n            nextDay : '[] LT',\n            nextWeek : '[]dddd[] LT',\n            lastDay : '[] LT',\n            lastWeek : '[]dddd[] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : ' %s',\n            past : '%s',\n            s : '',\n            m : '1 ',\n            mm : '%d ',\n            h : '1 ',\n            hh : '%d ',\n            d : '1 ',\n            dd : '%d ',\n            M : '1 ',\n            MM : '%d ',\n            y : '1 ',\n            yy : '%d '\n        },\n        ordinalParse: /()\\d{1,2}/,\n        ordinal : function (number) {\n            return '' + number;\n        }\n    });\n\n    return lo;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/lo.js\n ** module id = 136\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Lithuanian [lt]\n//! author : Mindaugas Mozras : https://github.com/mmozuras\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var units = {\n        'm' : 'minut_minuts_minut',\n        'mm': 'minuts_minui_minutes',\n        'h' : 'valanda_valandos_valand',\n        'hh': 'valandos_valand_valandas',\n        'd' : 'diena_dienos_dien',\n        'dd': 'dienos_dien_dienas',\n        'M' : 'mnuo_mnesio_mnes',\n        'MM': 'mnesiai_mnesi_mnesius',\n        'y' : 'metai_met_metus',\n        'yy': 'metai_met_metus'\n    };\n    function translateSeconds(number, withoutSuffix, key, isFuture) {\n        if (withoutSuffix) {\n            return 'kelios sekunds';\n        } else {\n            return isFuture ? 'keli sekundi' : 'kelias sekundes';\n        }\n    }\n    function translateSingular(number, withoutSuffix, key, isFuture) {\n        return withoutSuffix ? forms(key)[0] : (isFuture ? forms(key)[1] : forms(key)[2]);\n    }\n    function special(number) {\n        return number % 10 === 0 || (number > 10 && number < 20);\n    }\n    function forms(key) {\n        return units[key].split('_');\n    }\n    function translate(number, withoutSuffix, key, isFuture) {\n        var result = number + ' ';\n        if (number === 1) {\n            return result + translateSingular(number, withoutSuffix, key[0], isFuture);\n        } else if (withoutSuffix) {\n            return result + (special(number) ? forms(key)[1] : forms(key)[0]);\n        } else {\n            if (isFuture) {\n                return result + forms(key)[1];\n            } else {\n                return result + (special(number) ? forms(key)[1] : forms(key)[2]);\n            }\n        }\n    }\n    var lt = moment.defineLocale('lt', {\n        months : {\n            format: 'sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio'.split('_'),\n            standalone: 'sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis'.split('_'),\n            isFormat: /D[oD]?(\\[[^\\[\\]]*\\]|\\s+)+MMMM?|MMMM?(\\[[^\\[\\]]*\\]|\\s+)+D[oD]?/\n        },\n        monthsShort : 'sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd'.split('_'),\n        weekdays : {\n            format: 'sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien'.split('_'),\n            standalone: 'sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis'.split('_'),\n            isFormat: /dddd HH:mm/\n        },\n        weekdaysShort : 'Sek_Pir_Ant_Tre_Ket_Pen_e'.split('_'),\n        weekdaysMin : 'S_P_A_T_K_Pn_'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'YYYY-MM-DD',\n            LL : 'YYYY [m.] MMMM D [d.]',\n            LLL : 'YYYY [m.] MMMM D [d.], HH:mm [val.]',\n            LLLL : 'YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]',\n            l : 'YYYY-MM-DD',\n            ll : 'YYYY [m.] MMMM D [d.]',\n            lll : 'YYYY [m.] MMMM D [d.], HH:mm [val.]',\n            llll : 'YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]'\n        },\n        calendar : {\n            sameDay : '[iandien] LT',\n            nextDay : '[Rytoj] LT',\n            nextWeek : 'dddd LT',\n            lastDay : '[Vakar] LT',\n            lastWeek : '[Prajus] dddd LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'po %s',\n            past : 'prie %s',\n            s : translateSeconds,\n            m : translateSingular,\n            mm : translate,\n            h : translateSingular,\n            hh : translate,\n            d : translateSingular,\n            dd : translate,\n            M : translateSingular,\n            MM : translate,\n            y : translateSingular,\n            yy : translate\n        },\n        ordinalParse: /\\d{1,2}-oji/,\n        ordinal : function (number) {\n            return number + '-oji';\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return lt;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/lt.js\n ** module id = 137\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Latvian [lv]\n//! author : Kristaps Karlsons : https://github.com/skakri\n//! author : Jnis Elmeris : https://github.com/JanisE\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var units = {\n        'm': 'mintes_mintm_minte_mintes'.split('_'),\n        'mm': 'mintes_mintm_minte_mintes'.split('_'),\n        'h': 'stundas_stundm_stunda_stundas'.split('_'),\n        'hh': 'stundas_stundm_stunda_stundas'.split('_'),\n        'd': 'dienas_dienm_diena_dienas'.split('_'),\n        'dd': 'dienas_dienm_diena_dienas'.split('_'),\n        'M': 'mnea_mneiem_mnesis_mnei'.split('_'),\n        'MM': 'mnea_mneiem_mnesis_mnei'.split('_'),\n        'y': 'gada_gadiem_gads_gadi'.split('_'),\n        'yy': 'gada_gadiem_gads_gadi'.split('_')\n    };\n    /**\n     * @param withoutSuffix boolean true = a length of time; false = before/after a period of time.\n     */\n    function format(forms, number, withoutSuffix) {\n        if (withoutSuffix) {\n            // E.g. \"21 minte\", \"3 mintes\".\n            return number % 10 === 1 && number % 100 !== 11 ? forms[2] : forms[3];\n        } else {\n            // E.g. \"21 mintes\" as in \"pc 21 mintes\".\n            // E.g. \"3 mintm\" as in \"pc 3 mintm\".\n            return number % 10 === 1 && number % 100 !== 11 ? forms[0] : forms[1];\n        }\n    }\n    function relativeTimeWithPlural(number, withoutSuffix, key) {\n        return number + ' ' + format(units[key], number, withoutSuffix);\n    }\n    function relativeTimeWithSingular(number, withoutSuffix, key) {\n        return format(units[key], number, withoutSuffix);\n    }\n    function relativeSeconds(number, withoutSuffix) {\n        return withoutSuffix ? 'daas sekundes' : 'dam sekundm';\n    }\n\n    var lv = moment.defineLocale('lv', {\n        months : 'janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris'.split('_'),\n        monthsShort : 'jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec'.split('_'),\n        weekdays : 'svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena'.split('_'),\n        weekdaysShort : 'Sv_P_O_T_C_Pk_S'.split('_'),\n        weekdaysMin : 'Sv_P_O_T_C_Pk_S'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD.MM.YYYY.',\n            LL : 'YYYY. [gada] D. MMMM',\n            LLL : 'YYYY. [gada] D. MMMM, HH:mm',\n            LLLL : 'YYYY. [gada] D. MMMM, dddd, HH:mm'\n        },\n        calendar : {\n            sameDay : '[odien pulksten] LT',\n            nextDay : '[Rt pulksten] LT',\n            nextWeek : 'dddd [pulksten] LT',\n            lastDay : '[Vakar pulksten] LT',\n            lastWeek : '[Pagju] dddd [pulksten] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'pc %s',\n            past : 'pirms %s',\n            s : relativeSeconds,\n            m : relativeTimeWithSingular,\n            mm : relativeTimeWithPlural,\n            h : relativeTimeWithSingular,\n            hh : relativeTimeWithPlural,\n            d : relativeTimeWithSingular,\n            dd : relativeTimeWithPlural,\n            M : relativeTimeWithSingular,\n            MM : relativeTimeWithPlural,\n            y : relativeTimeWithSingular,\n            yy : relativeTimeWithPlural\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return lv;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/lv.js\n ** module id = 138\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Montenegrin [me]\n//! author : Miodrag Nika <miodrag@restartit.me> : https://github.com/miodragnikac\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var translator = {\n        words: { //Different grammatical cases\n            m: ['jedan minut', 'jednog minuta'],\n            mm: ['minut', 'minuta', 'minuta'],\n            h: ['jedan sat', 'jednog sata'],\n            hh: ['sat', 'sata', 'sati'],\n            dd: ['dan', 'dana', 'dana'],\n            MM: ['mjesec', 'mjeseca', 'mjeseci'],\n            yy: ['godina', 'godine', 'godina']\n        },\n        correctGrammaticalCase: function (number, wordKey) {\n            return number === 1 ? wordKey[0] : (number >= 2 && number <= 4 ? wordKey[1] : wordKey[2]);\n        },\n        translate: function (number, withoutSuffix, key) {\n            var wordKey = translator.words[key];\n            if (key.length === 1) {\n                return withoutSuffix ? wordKey[0] : wordKey[1];\n            } else {\n                return number + ' ' + translator.correctGrammaticalCase(number, wordKey);\n            }\n        }\n    };\n\n    var me = moment.defineLocale('me', {\n        months: 'januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar'.split('_'),\n        monthsShort: 'jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.'.split('_'),\n        monthsParseExact : true,\n        weekdays: 'nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota'.split('_'),\n        weekdaysShort: 'ned._pon._uto._sri._et._pet._sub.'.split('_'),\n        weekdaysMin: 'ne_po_ut_sr_e_pe_su'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat: {\n            LT: 'H:mm',\n            LTS : 'H:mm:ss',\n            L: 'DD. MM. YYYY',\n            LL: 'D. MMMM YYYY',\n            LLL: 'D. MMMM YYYY H:mm',\n            LLLL: 'dddd, D. MMMM YYYY H:mm'\n        },\n        calendar: {\n            sameDay: '[danas u] LT',\n            nextDay: '[sjutra u] LT',\n\n            nextWeek: function () {\n                switch (this.day()) {\n                    case 0:\n                        return '[u] [nedjelju] [u] LT';\n                    case 3:\n                        return '[u] [srijedu] [u] LT';\n                    case 6:\n                        return '[u] [subotu] [u] LT';\n                    case 1:\n                    case 2:\n                    case 4:\n                    case 5:\n                        return '[u] dddd [u] LT';\n                }\n            },\n            lastDay  : '[jue u] LT',\n            lastWeek : function () {\n                var lastWeekDays = [\n                    '[prole] [nedjelje] [u] LT',\n                    '[prolog] [ponedjeljka] [u] LT',\n                    '[prolog] [utorka] [u] LT',\n                    '[prole] [srijede] [u] LT',\n                    '[prolog] [etvrtka] [u] LT',\n                    '[prolog] [petka] [u] LT',\n                    '[prole] [subote] [u] LT'\n                ];\n                return lastWeekDays[this.day()];\n            },\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'za %s',\n            past   : 'prije %s',\n            s      : 'nekoliko sekundi',\n            m      : translator.translate,\n            mm     : translator.translate,\n            h      : translator.translate,\n            hh     : translator.translate,\n            d      : 'dan',\n            dd     : translator.translate,\n            M      : 'mjesec',\n            MM     : translator.translate,\n            y      : 'godinu',\n            yy     : translator.translate\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return me;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/me.js\n ** module id = 139\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Macedonian [mk]\n//! author : Borislav Mickov : https://github.com/B0k0\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var mk = moment.defineLocale('mk', {\n        months : '___________'.split('_'),\n        monthsShort : '___________'.split('_'),\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : 'e_o_____a'.split('_'),\n        longDateFormat : {\n            LT : 'H:mm',\n            LTS : 'H:mm:ss',\n            L : 'D.MM.YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY H:mm',\n            LLLL : 'dddd, D MMMM YYYY H:mm'\n        },\n        calendar : {\n            sameDay : '[ ] LT',\n            nextDay : '[ ] LT',\n            nextWeek : '[] dddd [] LT',\n            lastDay : '[ ] LT',\n            lastWeek : function () {\n                switch (this.day()) {\n                    case 0:\n                    case 3:\n                    case 6:\n                        return '[] dddd [] LT';\n                    case 1:\n                    case 2:\n                    case 4:\n                    case 5:\n                        return '[] dddd [] LT';\n                }\n            },\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : ' %s',\n            past : ' %s',\n            s : ' ',\n            m : '',\n            mm : '%d ',\n            h : '',\n            hh : '%d ',\n            d : '',\n            dd : '%d ',\n            M : '',\n            MM : '%d ',\n            y : '',\n            yy : '%d '\n        },\n        ordinalParse: /\\d{1,2}-(|||||)/,\n        ordinal : function (number) {\n            var lastDigit = number % 10,\n                last2Digits = number % 100;\n            if (number === 0) {\n                return number + '-';\n            } else if (last2Digits === 0) {\n                return number + '-';\n            } else if (last2Digits > 10 && last2Digits < 20) {\n                return number + '-';\n            } else if (lastDigit === 1) {\n                return number + '-';\n            } else if (lastDigit === 2) {\n                return number + '-';\n            } else if (lastDigit === 7 || lastDigit === 8) {\n                return number + '-';\n            } else {\n                return number + '-';\n            }\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return mk;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/mk.js\n ** module id = 140\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Malayalam [ml]\n//! author : Floyd Pink : https://github.com/floydpink\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var ml = moment.defineLocale('ml', {\n        months : '___________'.split('_'),\n        monthsShort : '._._._.___._._._._._.'.split('_'),\n        monthsParseExact : true,\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'A h:mm -',\n            LTS : 'A h:mm:ss -',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY, A h:mm -',\n            LLLL : 'dddd, D MMMM YYYY, A h:mm -'\n        },\n        calendar : {\n            sameDay : '[] LT',\n            nextDay : '[] LT',\n            nextWeek : 'dddd, LT',\n            lastDay : '[] LT',\n            lastWeek : '[] dddd, LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : '%s ',\n            past : '%s ',\n            s : ' ',\n            m : ' ',\n            mm : '%d ',\n            h : ' ',\n            hh : '%d ',\n            d : ' ',\n            dd : '%d ',\n            M : ' ',\n            MM : '%d ',\n            y : ' ',\n            yy : '%d '\n        },\n        meridiemParse: /|| ||/i,\n        meridiemHour : function (hour, meridiem) {\n            if (hour === 12) {\n                hour = 0;\n            }\n            if ((meridiem === '' && hour >= 4) ||\n                    meridiem === ' ' ||\n                    meridiem === '') {\n                return hour + 12;\n            } else {\n                return hour;\n            }\n        },\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 4) {\n                return '';\n            } else if (hour < 12) {\n                return '';\n            } else if (hour < 17) {\n                return ' ';\n            } else if (hour < 20) {\n                return '';\n            } else {\n                return '';\n            }\n        }\n    });\n\n    return ml;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/ml.js\n ** module id = 141\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Marathi [mr]\n//! author : Harshad Kale : https://github.com/kalehv\n//! author : Vivek Athalye : https://github.com/vnathalye\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var symbolMap = {\n        '1': '',\n        '2': '',\n        '3': '',\n        '4': '',\n        '5': '',\n        '6': '',\n        '7': '',\n        '8': '',\n        '9': '',\n        '0': ''\n    },\n    numberMap = {\n        '': '1',\n        '': '2',\n        '': '3',\n        '': '4',\n        '': '5',\n        '': '6',\n        '': '7',\n        '': '8',\n        '': '9',\n        '': '0'\n    };\n\n    function relativeTimeMr(number, withoutSuffix, string, isFuture)\n    {\n        var output = '';\n        if (withoutSuffix) {\n            switch (string) {\n                case 's': output = ' '; break;\n                case 'm': output = ' '; break;\n                case 'mm': output = '%d '; break;\n                case 'h': output = ' '; break;\n                case 'hh': output = '%d '; break;\n                case 'd': output = ' '; break;\n                case 'dd': output = '%d '; break;\n                case 'M': output = ' '; break;\n                case 'MM': output = '%d '; break;\n                case 'y': output = ' '; break;\n                case 'yy': output = '%d '; break;\n            }\n        }\n        else {\n            switch (string) {\n                case 's': output = ' '; break;\n                case 'm': output = ' '; break;\n                case 'mm': output = '%d '; break;\n                case 'h': output = ' '; break;\n                case 'hh': output = '%d '; break;\n                case 'd': output = ' '; break;\n                case 'dd': output = '%d '; break;\n                case 'M': output = ' '; break;\n                case 'MM': output = '%d '; break;\n                case 'y': output = ' '; break;\n                case 'yy': output = '%d '; break;\n            }\n        }\n        return output.replace(/%d/i, number);\n    }\n\n    var mr = moment.defineLocale('mr', {\n        months : '___________'.split('_'),\n        monthsShort: '._._._._._._._._._._._.'.split('_'),\n        monthsParseExact : true,\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'A h:mm ',\n            LTS : 'A h:mm:ss ',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY, A h:mm ',\n            LLLL : 'dddd, D MMMM YYYY, A h:mm '\n        },\n        calendar : {\n            sameDay : '[] LT',\n            nextDay : '[] LT',\n            nextWeek : 'dddd, LT',\n            lastDay : '[] LT',\n            lastWeek: '[] dddd, LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future: '%s',\n            past: '%s',\n            s: relativeTimeMr,\n            m: relativeTimeMr,\n            mm: relativeTimeMr,\n            h: relativeTimeMr,\n            hh: relativeTimeMr,\n            d: relativeTimeMr,\n            dd: relativeTimeMr,\n            M: relativeTimeMr,\n            MM: relativeTimeMr,\n            y: relativeTimeMr,\n            yy: relativeTimeMr\n        },\n        preparse: function (string) {\n            return string.replace(/[]/g, function (match) {\n                return numberMap[match];\n            });\n        },\n        postformat: function (string) {\n            return string.replace(/\\d/g, function (match) {\n                return symbolMap[match];\n            });\n        },\n        meridiemParse: /|||/,\n        meridiemHour : function (hour, meridiem) {\n            if (hour === 12) {\n                hour = 0;\n            }\n            if (meridiem === '') {\n                return hour < 4 ? hour : hour + 12;\n            } else if (meridiem === '') {\n                return hour;\n            } else if (meridiem === '') {\n                return hour >= 10 ? hour : hour + 12;\n            } else if (meridiem === '') {\n                return hour + 12;\n            }\n        },\n        meridiem: function (hour, minute, isLower) {\n            if (hour < 4) {\n                return '';\n            } else if (hour < 10) {\n                return '';\n            } else if (hour < 17) {\n                return '';\n            } else if (hour < 20) {\n                return '';\n            } else {\n                return '';\n            }\n        },\n        week : {\n            dow : 0, // Sunday is the first day of the week.\n            doy : 6  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return mr;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/mr.js\n ** module id = 142\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Malay [ms]\n//! author : Weldan Jamili : https://github.com/weldan\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var ms = moment.defineLocale('ms', {\n        months : 'Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember'.split('_'),\n        monthsShort : 'Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis'.split('_'),\n        weekdays : 'Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu'.split('_'),\n        weekdaysShort : 'Ahd_Isn_Sel_Rab_Kha_Jum_Sab'.split('_'),\n        weekdaysMin : 'Ah_Is_Sl_Rb_Km_Jm_Sb'.split('_'),\n        longDateFormat : {\n            LT : 'HH.mm',\n            LTS : 'HH.mm.ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY [pukul] HH.mm',\n            LLLL : 'dddd, D MMMM YYYY [pukul] HH.mm'\n        },\n        meridiemParse: /pagi|tengahari|petang|malam/,\n        meridiemHour: function (hour, meridiem) {\n            if (hour === 12) {\n                hour = 0;\n            }\n            if (meridiem === 'pagi') {\n                return hour;\n            } else if (meridiem === 'tengahari') {\n                return hour >= 11 ? hour : hour + 12;\n            } else if (meridiem === 'petang' || meridiem === 'malam') {\n                return hour + 12;\n            }\n        },\n        meridiem : function (hours, minutes, isLower) {\n            if (hours < 11) {\n                return 'pagi';\n            } else if (hours < 15) {\n                return 'tengahari';\n            } else if (hours < 19) {\n                return 'petang';\n            } else {\n                return 'malam';\n            }\n        },\n        calendar : {\n            sameDay : '[Hari ini pukul] LT',\n            nextDay : '[Esok pukul] LT',\n            nextWeek : 'dddd [pukul] LT',\n            lastDay : '[Kelmarin pukul] LT',\n            lastWeek : 'dddd [lepas pukul] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'dalam %s',\n            past : '%s yang lepas',\n            s : 'beberapa saat',\n            m : 'seminit',\n            mm : '%d minit',\n            h : 'sejam',\n            hh : '%d jam',\n            d : 'sehari',\n            dd : '%d hari',\n            M : 'sebulan',\n            MM : '%d bulan',\n            y : 'setahun',\n            yy : '%d tahun'\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return ms;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/ms.js\n ** module id = 143\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Malay [ms-my]\n//! note : DEPRECATED, the correct one is [ms]\n//! author : Weldan Jamili : https://github.com/weldan\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var ms_my = moment.defineLocale('ms-my', {\n        months : 'Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember'.split('_'),\n        monthsShort : 'Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis'.split('_'),\n        weekdays : 'Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu'.split('_'),\n        weekdaysShort : 'Ahd_Isn_Sel_Rab_Kha_Jum_Sab'.split('_'),\n        weekdaysMin : 'Ah_Is_Sl_Rb_Km_Jm_Sb'.split('_'),\n        longDateFormat : {\n            LT : 'HH.mm',\n            LTS : 'HH.mm.ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY [pukul] HH.mm',\n            LLLL : 'dddd, D MMMM YYYY [pukul] HH.mm'\n        },\n        meridiemParse: /pagi|tengahari|petang|malam/,\n        meridiemHour: function (hour, meridiem) {\n            if (hour === 12) {\n                hour = 0;\n            }\n            if (meridiem === 'pagi') {\n                return hour;\n            } else if (meridiem === 'tengahari') {\n                return hour >= 11 ? hour : hour + 12;\n            } else if (meridiem === 'petang' || meridiem === 'malam') {\n                return hour + 12;\n            }\n        },\n        meridiem : function (hours, minutes, isLower) {\n            if (hours < 11) {\n                return 'pagi';\n            } else if (hours < 15) {\n                return 'tengahari';\n            } else if (hours < 19) {\n                return 'petang';\n            } else {\n                return 'malam';\n            }\n        },\n        calendar : {\n            sameDay : '[Hari ini pukul] LT',\n            nextDay : '[Esok pukul] LT',\n            nextWeek : 'dddd [pukul] LT',\n            lastDay : '[Kelmarin pukul] LT',\n            lastWeek : 'dddd [lepas pukul] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'dalam %s',\n            past : '%s yang lepas',\n            s : 'beberapa saat',\n            m : 'seminit',\n            mm : '%d minit',\n            h : 'sejam',\n            hh : '%d jam',\n            d : 'sehari',\n            dd : '%d hari',\n            M : 'sebulan',\n            MM : '%d bulan',\n            y : 'setahun',\n            yy : '%d tahun'\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return ms_my;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/ms-my.js\n ** module id = 144\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Burmese [my]\n//! author : Squar team, mysquar.com\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var symbolMap = {\n        '1': '',\n        '2': '',\n        '3': '',\n        '4': '',\n        '5': '',\n        '6': '',\n        '7': '',\n        '8': '',\n        '9': '',\n        '0': ''\n    }, numberMap = {\n        '': '1',\n        '': '2',\n        '': '3',\n        '': '4',\n        '': '5',\n        '': '6',\n        '': '7',\n        '': '8',\n        '': '9',\n        '': '0'\n    };\n\n    var my = moment.defineLocale('my', {\n        months: '___________'.split('_'),\n        monthsShort: '___________'.split('_'),\n        weekdays: '______'.split('_'),\n        weekdaysShort: '______'.split('_'),\n        weekdaysMin: '______'.split('_'),\n\n        longDateFormat: {\n            LT: 'HH:mm',\n            LTS: 'HH:mm:ss',\n            L: 'DD/MM/YYYY',\n            LL: 'D MMMM YYYY',\n            LLL: 'D MMMM YYYY HH:mm',\n            LLLL: 'dddd D MMMM YYYY HH:mm'\n        },\n        calendar: {\n            sameDay: '[.] LT []',\n            nextDay: '[] LT []',\n            nextWeek: 'dddd LT []',\n            lastDay: '[.] LT []',\n            lastWeek: '[] dddd LT []',\n            sameElse: 'L'\n        },\n        relativeTime: {\n            future: ' %s ',\n            past: ' %s ',\n            s: '.',\n            m: '',\n            mm: '%d ',\n            h: '',\n            hh: '%d ',\n            d: '',\n            dd: '%d ',\n            M: '',\n            MM: '%d ',\n            y: '',\n            yy: '%d '\n        },\n        preparse: function (string) {\n            return string.replace(/[]/g, function (match) {\n                return numberMap[match];\n            });\n        },\n        postformat: function (string) {\n            return string.replace(/\\d/g, function (match) {\n                return symbolMap[match];\n            });\n        },\n        week: {\n            dow: 1, // Monday is the first day of the week.\n            doy: 4 // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return my;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/my.js\n ** module id = 145\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Norwegian Bokml [nb]\n//! authors : Espen Hovlandsdal : https://github.com/rexxars\n//!           Sigurd Gartmann : https://github.com/sigurdga\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var nb = moment.defineLocale('nb', {\n        months : 'januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember'.split('_'),\n        monthsShort : 'jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.'.split('_'),\n        monthsParseExact : true,\n        weekdays : 'sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag'.split('_'),\n        weekdaysShort : 's._ma._ti._on._to._fr._l.'.split('_'),\n        weekdaysMin : 's_ma_ti_on_to_fr_l'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D. MMMM YYYY',\n            LLL : 'D. MMMM YYYY [kl.] HH:mm',\n            LLLL : 'dddd D. MMMM YYYY [kl.] HH:mm'\n        },\n        calendar : {\n            sameDay: '[i dag kl.] LT',\n            nextDay: '[i morgen kl.] LT',\n            nextWeek: 'dddd [kl.] LT',\n            lastDay: '[i gr kl.] LT',\n            lastWeek: '[forrige] dddd [kl.] LT',\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : 'om %s',\n            past : '%s siden',\n            s : 'noen sekunder',\n            m : 'ett minutt',\n            mm : '%d minutter',\n            h : 'en time',\n            hh : '%d timer',\n            d : 'en dag',\n            dd : '%d dager',\n            M : 'en mned',\n            MM : '%d mneder',\n            y : 'ett r',\n            yy : '%d r'\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return nb;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/nb.js\n ** module id = 146\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Nepalese [ne]\n//! author : suvash : https://github.com/suvash\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var symbolMap = {\n        '1': '',\n        '2': '',\n        '3': '',\n        '4': '',\n        '5': '',\n        '6': '',\n        '7': '',\n        '8': '',\n        '9': '',\n        '0': ''\n    },\n    numberMap = {\n        '': '1',\n        '': '2',\n        '': '3',\n        '': '4',\n        '': '5',\n        '': '6',\n        '': '7',\n        '': '8',\n        '': '9',\n        '': '0'\n    };\n\n    var ne = moment.defineLocale('ne', {\n        months : '___________'.split('_'),\n        monthsShort : '._.__.___._._._._._.'.split('_'),\n        monthsParseExact : true,\n        weekdays : '______'.split('_'),\n        weekdaysShort : '._._._._._._.'.split('_'),\n        weekdaysMin : '._._._._._._.'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'A h:mm ',\n            LTS : 'A h:mm:ss ',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY, A h:mm ',\n            LLLL : 'dddd, D MMMM YYYY, A h:mm '\n        },\n        preparse: function (string) {\n            return string.replace(/[]/g, function (match) {\n                return numberMap[match];\n            });\n        },\n        postformat: function (string) {\n            return string.replace(/\\d/g, function (match) {\n                return symbolMap[match];\n            });\n        },\n        meridiemParse: /|||/,\n        meridiemHour : function (hour, meridiem) {\n            if (hour === 12) {\n                hour = 0;\n            }\n            if (meridiem === '') {\n                return hour < 4 ? hour : hour + 12;\n            } else if (meridiem === '') {\n                return hour;\n            } else if (meridiem === '') {\n                return hour >= 10 ? hour : hour + 12;\n            } else if (meridiem === '') {\n                return hour + 12;\n            }\n        },\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 3) {\n                return '';\n            } else if (hour < 12) {\n                return '';\n            } else if (hour < 16) {\n                return '';\n            } else if (hour < 20) {\n                return '';\n            } else {\n                return '';\n            }\n        },\n        calendar : {\n            sameDay : '[] LT',\n            nextDay : '[] LT',\n            nextWeek : '[] dddd[,] LT',\n            lastDay : '[] LT',\n            lastWeek : '[] dddd[,] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : '%s',\n            past : '%s ',\n            s : ' ',\n            m : ' ',\n            mm : '%d ',\n            h : ' ',\n            hh : '%d ',\n            d : ' ',\n            dd : '%d ',\n            M : ' ',\n            MM : '%d ',\n            y : ' ',\n            yy : '%d '\n        },\n        week : {\n            dow : 0, // Sunday is the first day of the week.\n            doy : 6  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return ne;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/ne.js\n ** module id = 147\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Dutch [nl]\n//! author : Joris Rling : https://github.com/jjupiter\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var monthsShortWithDots = 'jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.'.split('_'),\n        monthsShortWithoutDots = 'jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec'.split('_');\n\n    var nl = moment.defineLocale('nl', {\n        months : 'januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december'.split('_'),\n        monthsShort : function (m, format) {\n            if (/-MMM-/.test(format)) {\n                return monthsShortWithoutDots[m.month()];\n            } else {\n                return monthsShortWithDots[m.month()];\n            }\n        },\n        monthsParseExact : true,\n        weekdays : 'zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag'.split('_'),\n        weekdaysShort : 'zo._ma._di._wo._do._vr._za.'.split('_'),\n        weekdaysMin : 'Zo_Ma_Di_Wo_Do_Vr_Za'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD-MM-YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay: '[vandaag om] LT',\n            nextDay: '[morgen om] LT',\n            nextWeek: 'dddd [om] LT',\n            lastDay: '[gisteren om] LT',\n            lastWeek: '[afgelopen] dddd [om] LT',\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : 'over %s',\n            past : '%s geleden',\n            s : 'een paar seconden',\n            m : 'n minuut',\n            mm : '%d minuten',\n            h : 'n uur',\n            hh : '%d uur',\n            d : 'n dag',\n            dd : '%d dagen',\n            M : 'n maand',\n            MM : '%d maanden',\n            y : 'n jaar',\n            yy : '%d jaar'\n        },\n        ordinalParse: /\\d{1,2}(ste|de)/,\n        ordinal : function (number) {\n            return number + ((number === 1 || number === 8 || number >= 20) ? 'ste' : 'de');\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return nl;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/nl.js\n ** module id = 148\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Nynorsk [nn]\n//! author : https://github.com/mechuwind\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var nn = moment.defineLocale('nn', {\n        months : 'januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember'.split('_'),\n        monthsShort : 'jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des'.split('_'),\n        weekdays : 'sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag'.split('_'),\n        weekdaysShort : 'sun_mn_tys_ons_tor_fre_lau'.split('_'),\n        weekdaysMin : 'su_m_ty_on_to_fr_l'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D. MMMM YYYY',\n            LLL : 'D. MMMM YYYY [kl.] H:mm',\n            LLLL : 'dddd D. MMMM YYYY [kl.] HH:mm'\n        },\n        calendar : {\n            sameDay: '[I dag klokka] LT',\n            nextDay: '[I morgon klokka] LT',\n            nextWeek: 'dddd [klokka] LT',\n            lastDay: '[I gr klokka] LT',\n            lastWeek: '[Fregande] dddd [klokka] LT',\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : 'om %s',\n            past : '%s sidan',\n            s : 'nokre sekund',\n            m : 'eit minutt',\n            mm : '%d minutt',\n            h : 'ein time',\n            hh : '%d timar',\n            d : 'ein dag',\n            dd : '%d dagar',\n            M : 'ein mnad',\n            MM : '%d mnader',\n            y : 'eit r',\n            yy : '%d r'\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return nn;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/nn.js\n ** module id = 149\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Punjabi (India) [pa-in]\n//! author : Harpreet Singh : https://github.com/harpreetkhalsagtbit\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var symbolMap = {\n        '1': '',\n        '2': '',\n        '3': '',\n        '4': '',\n        '5': '',\n        '6': '',\n        '7': '',\n        '8': '',\n        '9': '',\n        '0': ''\n    },\n    numberMap = {\n        '': '1',\n        '': '2',\n        '': '3',\n        '': '4',\n        '': '5',\n        '': '6',\n        '': '7',\n        '': '8',\n        '': '9',\n        '': '0'\n    };\n\n    var pa_in = moment.defineLocale('pa-in', {\n        // There are months name as per Nanakshahi Calender but they are not used as rigidly in modern Punjabi.\n        months : '___________'.split('_'),\n        monthsShort : '___________'.split('_'),\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'A h:mm ',\n            LTS : 'A h:mm:ss ',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY, A h:mm ',\n            LLLL : 'dddd, D MMMM YYYY, A h:mm '\n        },\n        calendar : {\n            sameDay : '[] LT',\n            nextDay : '[] LT',\n            nextWeek : 'dddd, LT',\n            lastDay : '[] LT',\n            lastWeek : '[] dddd, LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : '%s ',\n            past : '%s ',\n            s : ' ',\n            m : ' ',\n            mm : '%d ',\n            h : ' ',\n            hh : '%d ',\n            d : ' ',\n            dd : '%d ',\n            M : ' ',\n            MM : '%d ',\n            y : ' ',\n            yy : '%d '\n        },\n        preparse: function (string) {\n            return string.replace(/[]/g, function (match) {\n                return numberMap[match];\n            });\n        },\n        postformat: function (string) {\n            return string.replace(/\\d/g, function (match) {\n                return symbolMap[match];\n            });\n        },\n        // Punjabi notation for meridiems are quite fuzzy in practice. While there exists\n        // a rigid notion of a 'Pahar' it is not used as rigidly in modern Punjabi.\n        meridiemParse: /|||/,\n        meridiemHour : function (hour, meridiem) {\n            if (hour === 12) {\n                hour = 0;\n            }\n            if (meridiem === '') {\n                return hour < 4 ? hour : hour + 12;\n            } else if (meridiem === '') {\n                return hour;\n            } else if (meridiem === '') {\n                return hour >= 10 ? hour : hour + 12;\n            } else if (meridiem === '') {\n                return hour + 12;\n            }\n        },\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 4) {\n                return '';\n            } else if (hour < 10) {\n                return '';\n            } else if (hour < 17) {\n                return '';\n            } else if (hour < 20) {\n                return '';\n            } else {\n                return '';\n            }\n        },\n        week : {\n            dow : 0, // Sunday is the first day of the week.\n            doy : 6  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return pa_in;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/pa-in.js\n ** module id = 150\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Polish [pl]\n//! author : Rafal Hirsz : https://github.com/evoL\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var monthsNominative = 'stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie'.split('_'),\n        monthsSubjective = 'stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia'.split('_');\n    function plural(n) {\n        return (n % 10 < 5) && (n % 10 > 1) && ((~~(n / 10) % 10) !== 1);\n    }\n    function translate(number, withoutSuffix, key) {\n        var result = number + ' ';\n        switch (key) {\n            case 'm':\n                return withoutSuffix ? 'minuta' : 'minut';\n            case 'mm':\n                return result + (plural(number) ? 'minuty' : 'minut');\n            case 'h':\n                return withoutSuffix  ? 'godzina'  : 'godzin';\n            case 'hh':\n                return result + (plural(number) ? 'godziny' : 'godzin');\n            case 'MM':\n                return result + (plural(number) ? 'miesice' : 'miesicy');\n            case 'yy':\n                return result + (plural(number) ? 'lata' : 'lat');\n        }\n    }\n\n    var pl = moment.defineLocale('pl', {\n        months : function (momentToFormat, format) {\n            if (format === '') {\n                // Hack: if format empty we know this is used to generate\n                // RegExp by moment. Give then back both valid forms of months\n                // in RegExp ready format.\n                return '(' + monthsSubjective[momentToFormat.month()] + '|' + monthsNominative[momentToFormat.month()] + ')';\n            } else if (/D MMMM/.test(format)) {\n                return monthsSubjective[momentToFormat.month()];\n            } else {\n                return monthsNominative[momentToFormat.month()];\n            }\n        },\n        monthsShort : 'sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru'.split('_'),\n        weekdays : 'niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota'.split('_'),\n        weekdaysShort : 'nie_pon_wt_r_czw_pt_sb'.split('_'),\n        weekdaysMin : 'Nd_Pn_Wt_r_Cz_Pt_So'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd, D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay: '[Dzi o] LT',\n            nextDay: '[Jutro o] LT',\n            nextWeek: '[W] dddd [o] LT',\n            lastDay: '[Wczoraj o] LT',\n            lastWeek: function () {\n                switch (this.day()) {\n                    case 0:\n                        return '[W zesz niedziel o] LT';\n                    case 3:\n                        return '[W zesz rod o] LT';\n                    case 6:\n                        return '[W zesz sobot o] LT';\n                    default:\n                        return '[W zeszy] dddd [o] LT';\n                }\n            },\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : 'za %s',\n            past : '%s temu',\n            s : 'kilka sekund',\n            m : translate,\n            mm : translate,\n            h : translate,\n            hh : translate,\n            d : '1 dzie',\n            dd : '%d dni',\n            M : 'miesic',\n            MM : translate,\n            y : 'rok',\n            yy : translate\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return pl;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/pl.js\n ** module id = 151\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Portuguese [pt]\n//! author : Jefferson : https://github.com/jalex79\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var pt = moment.defineLocale('pt', {\n        months : 'Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro'.split('_'),\n        monthsShort : 'Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez'.split('_'),\n        weekdays : 'Domingo_Segunda-Feira_Tera-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sbado'.split('_'),\n        weekdaysShort : 'Dom_Seg_Ter_Qua_Qui_Sex_Sb'.split('_'),\n        weekdaysMin : 'Dom_2_3_4_5_6_Sb'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D [de] MMMM [de] YYYY',\n            LLL : 'D [de] MMMM [de] YYYY HH:mm',\n            LLLL : 'dddd, D [de] MMMM [de] YYYY HH:mm'\n        },\n        calendar : {\n            sameDay: '[Hoje s] LT',\n            nextDay: '[Amanh s] LT',\n            nextWeek: 'dddd [s] LT',\n            lastDay: '[Ontem s] LT',\n            lastWeek: function () {\n                return (this.day() === 0 || this.day() === 6) ?\n                    '[ltimo] dddd [s] LT' : // Saturday + Sunday\n                    '[ltima] dddd [s] LT'; // Monday - Friday\n            },\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : 'em %s',\n            past : 'h %s',\n            s : 'segundos',\n            m : 'um minuto',\n            mm : '%d minutos',\n            h : 'uma hora',\n            hh : '%d horas',\n            d : 'um dia',\n            dd : '%d dias',\n            M : 'um ms',\n            MM : '%d meses',\n            y : 'um ano',\n            yy : '%d anos'\n        },\n        ordinalParse: /\\d{1,2}/,\n        ordinal : '%d',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return pt;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/pt.js\n ** module id = 152\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Portuguese (Brazil) [pt-br]\n//! author : Caio Ribeiro Pereira : https://github.com/caio-ribeiro-pereira\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var pt_br = moment.defineLocale('pt-br', {\n        months : 'Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro'.split('_'),\n        monthsShort : 'Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez'.split('_'),\n        weekdays : 'Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado'.split('_'),\n        weekdaysShort : 'Dom_Seg_Ter_Qua_Qui_Sex_Sb'.split('_'),\n        weekdaysMin : 'Dom_2_3_4_5_6_Sb'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D [de] MMMM [de] YYYY',\n            LLL : 'D [de] MMMM [de] YYYY [s] HH:mm',\n            LLLL : 'dddd, D [de] MMMM [de] YYYY [s] HH:mm'\n        },\n        calendar : {\n            sameDay: '[Hoje s] LT',\n            nextDay: '[Amanh s] LT',\n            nextWeek: 'dddd [s] LT',\n            lastDay: '[Ontem s] LT',\n            lastWeek: function () {\n                return (this.day() === 0 || this.day() === 6) ?\n                    '[ltimo] dddd [s] LT' : // Saturday + Sunday\n                    '[ltima] dddd [s] LT'; // Monday - Friday\n            },\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : 'em %s',\n            past : '%s atrs',\n            s : 'poucos segundos',\n            m : 'um minuto',\n            mm : '%d minutos',\n            h : 'uma hora',\n            hh : '%d horas',\n            d : 'um dia',\n            dd : '%d dias',\n            M : 'um ms',\n            MM : '%d meses',\n            y : 'um ano',\n            yy : '%d anos'\n        },\n        ordinalParse: /\\d{1,2}/,\n        ordinal : '%d'\n    });\n\n    return pt_br;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/pt-br.js\n ** module id = 153\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Romanian [ro]\n//! author : Vlad Gurdiga : https://github.com/gurdiga\n//! author : Valentin Agachi : https://github.com/avaly\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    function relativeTimeWithPlural(number, withoutSuffix, key) {\n        var format = {\n                'mm': 'minute',\n                'hh': 'ore',\n                'dd': 'zile',\n                'MM': 'luni',\n                'yy': 'ani'\n            },\n            separator = ' ';\n        if (number % 100 >= 20 || (number >= 100 && number % 100 === 0)) {\n            separator = ' de ';\n        }\n        return number + separator + format[key];\n    }\n\n    var ro = moment.defineLocale('ro', {\n        months : 'ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie'.split('_'),\n        monthsShort : 'ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.'.split('_'),\n        monthsParseExact: true,\n        weekdays : 'duminic_luni_mari_miercuri_joi_vineri_smbt'.split('_'),\n        weekdaysShort : 'Dum_Lun_Mar_Mie_Joi_Vin_Sm'.split('_'),\n        weekdaysMin : 'Du_Lu_Ma_Mi_Jo_Vi_S'.split('_'),\n        longDateFormat : {\n            LT : 'H:mm',\n            LTS : 'H:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY H:mm',\n            LLLL : 'dddd, D MMMM YYYY H:mm'\n        },\n        calendar : {\n            sameDay: '[azi la] LT',\n            nextDay: '[mine la] LT',\n            nextWeek: 'dddd [la] LT',\n            lastDay: '[ieri la] LT',\n            lastWeek: '[fosta] dddd [la] LT',\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : 'peste %s',\n            past : '%s n urm',\n            s : 'cteva secunde',\n            m : 'un minut',\n            mm : relativeTimeWithPlural,\n            h : 'o or',\n            hh : relativeTimeWithPlural,\n            d : 'o zi',\n            dd : relativeTimeWithPlural,\n            M : 'o lun',\n            MM : relativeTimeWithPlural,\n            y : 'un an',\n            yy : relativeTimeWithPlural\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return ro;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/ro.js\n ** module id = 154\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Russian [ru]\n//! author : Viktorminator : https://github.com/Viktorminator\n//! Author : Menelion Elensle : https://github.com/Oire\n//! author :   : https://github.com/socketpair\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    function plural(word, num) {\n        var forms = word.split('_');\n        return num % 10 === 1 && num % 100 !== 11 ? forms[0] : (num % 10 >= 2 && num % 10 <= 4 && (num % 100 < 10 || num % 100 >= 20) ? forms[1] : forms[2]);\n    }\n    function relativeTimeWithPlural(number, withoutSuffix, key) {\n        var format = {\n            'mm': withoutSuffix ? '__' : '__',\n            'hh': '__',\n            'dd': '__',\n            'MM': '__',\n            'yy': '__'\n        };\n        if (key === 'm') {\n            return withoutSuffix ? '' : '';\n        }\n        else {\n            return number + ' ' + plural(format[key], +number);\n        }\n    }\n    var monthsParse = [/^/i, /^/i, /^/i, /^/i, /^[]/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i];\n\n    // http://new.gramota.ru/spravka/rules/139-prop :  103\n    //  : http://new.gramota.ru/spravka/buro/search-answer?s=242637\n    // CLDR data:          http://www.unicode.org/cldr/charts/28/summary/ru.html#1753\n    var ru = moment.defineLocale('ru', {\n        months : {\n            format: '___________'.split('_'),\n            standalone: '___________'.split('_')\n        },\n        monthsShort : {\n            //  CLDR  \".\"  \".\",        ?\n            format: '._._._.____._._._._.'.split('_'),\n            standalone: '._.__.____._._._._.'.split('_')\n        },\n        weekdays : {\n            standalone: '______'.split('_'),\n            format: '______'.split('_'),\n            isFormat: /\\[ ?[] ?(?:||)? ?\\] ?dddd/\n        },\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        monthsParse : monthsParse,\n        longMonthsParse : monthsParse,\n        shortMonthsParse : monthsParse,\n\n        //    ,   ,  ,  4 ,      \n        monthsRegex: /^([]|\\.?|[]|?\\.?|?|\\.?|[]|\\.?|[]|[]|\\.?|[]|\\.?|?|\\.?|[]|?\\.?|[]|\\.?|[]|?\\.?|[]|\\.?)/i,\n\n        //  \n        monthsShortRegex: /^([]|\\.?|[]|?\\.?|?|\\.?|[]|\\.?|[]|[]|\\.?|[]|\\.?|?|\\.?|[]|?\\.?|[]|\\.?|[]|?\\.?|[]|\\.?)/i,\n\n        //    \n        monthsStrictRegex: /^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,\n\n        // ,     \n        monthsShortStrictRegex: /^(\\.|?\\.|[.]|\\.|[]|[.]|[.]|\\.|?\\.|\\.|?\\.|\\.)/i,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D MMMM YYYY .',\n            LLL : 'D MMMM YYYY ., HH:mm',\n            LLLL : 'dddd, D MMMM YYYY ., HH:mm'\n        },\n        calendar : {\n            sameDay: '[ ] LT',\n            nextDay: '[ ] LT',\n            lastDay: '[ ] LT',\n            nextWeek: function (now) {\n                if (now.week() !== this.week()) {\n                    switch (this.day()) {\n                        case 0:\n                            return '[ ] dddd [] LT';\n                        case 1:\n                        case 2:\n                        case 4:\n                            return '[ ] dddd [] LT';\n                        case 3:\n                        case 5:\n                        case 6:\n                            return '[ ] dddd [] LT';\n                    }\n                } else {\n                    if (this.day() === 2) {\n                        return '[] dddd [] LT';\n                    } else {\n                        return '[] dddd [] LT';\n                    }\n                }\n            },\n            lastWeek: function (now) {\n                if (now.week() !== this.week()) {\n                    switch (this.day()) {\n                        case 0:\n                            return '[ ] dddd [] LT';\n                        case 1:\n                        case 2:\n                        case 4:\n                            return '[ ] dddd [] LT';\n                        case 3:\n                        case 5:\n                        case 6:\n                            return '[ ] dddd [] LT';\n                    }\n                } else {\n                    if (this.day() === 2) {\n                        return '[] dddd [] LT';\n                    } else {\n                        return '[] dddd [] LT';\n                    }\n                }\n            },\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : ' %s',\n            past : '%s ',\n            s : ' ',\n            m : relativeTimeWithPlural,\n            mm : relativeTimeWithPlural,\n            h : '',\n            hh : relativeTimeWithPlural,\n            d : '',\n            dd : relativeTimeWithPlural,\n            M : '',\n            MM : relativeTimeWithPlural,\n            y : '',\n            yy : relativeTimeWithPlural\n        },\n        meridiemParse: /|||/i,\n        isPM : function (input) {\n            return /^(|)$/.test(input);\n        },\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 4) {\n                return '';\n            } else if (hour < 12) {\n                return '';\n            } else if (hour < 17) {\n                return '';\n            } else {\n                return '';\n            }\n        },\n        ordinalParse: /\\d{1,2}-(||)/,\n        ordinal: function (number, period) {\n            switch (period) {\n                case 'M':\n                case 'd':\n                case 'DDD':\n                    return number + '-';\n                case 'D':\n                    return number + '-';\n                case 'w':\n                case 'W':\n                    return number + '-';\n                default:\n                    return number;\n            }\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return ru;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/ru.js\n ** module id = 155\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Northern Sami [se]\n//! authors : Brd Rolstad Henriksen : https://github.com/karamell\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n\n    var se = moment.defineLocale('se', {\n        months : 'oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu'.split('_'),\n        monthsShort : 'oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov'.split('_'),\n        weekdays : 'sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat'.split('_'),\n        weekdaysShort : 'sotn_vuos_ma_gask_duor_bear_lv'.split('_'),\n        weekdaysMin : 's_v_m_g_d_b_L'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'MMMM D. [b.] YYYY',\n            LLL : 'MMMM D. [b.] YYYY [ti.] HH:mm',\n            LLLL : 'dddd, MMMM D. [b.] YYYY [ti.] HH:mm'\n        },\n        calendar : {\n            sameDay: '[otne ti] LT',\n            nextDay: '[ihttin ti] LT',\n            nextWeek: 'dddd [ti] LT',\n            lastDay: '[ikte ti] LT',\n            lastWeek: '[ovddit] dddd [ti] LT',\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : '%s geaes',\n            past : 'mait %s',\n            s : 'moadde sekunddat',\n            m : 'okta minuhta',\n            mm : '%d minuhtat',\n            h : 'okta diimmu',\n            hh : '%d diimmut',\n            d : 'okta beaivi',\n            dd : '%d beaivvit',\n            M : 'okta mnnu',\n            MM : '%d mnut',\n            y : 'okta jahki',\n            yy : '%d jagit'\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return se;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/se.js\n ** module id = 156\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Sinhalese [si]\n//! author : Sampath Sitinamaluwa : https://github.com/sampathsris\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    /*jshint -W100*/\n    var si = moment.defineLocale('si', {\n        months : '___________'.split('_'),\n        monthsShort : '___________'.split('_'),\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'a h:mm',\n            LTS : 'a h:mm:ss',\n            L : 'YYYY/MM/DD',\n            LL : 'YYYY MMMM D',\n            LLL : 'YYYY MMMM D, a h:mm',\n            LLLL : 'YYYY MMMM D [] dddd, a h:mm:ss'\n        },\n        calendar : {\n            sameDay : '[] LT[]',\n            nextDay : '[] LT[]',\n            nextWeek : 'dddd LT[]',\n            lastDay : '[] LT[]',\n            lastWeek : '[] dddd LT[]',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : '%s',\n            past : '%s ',\n            s : ' ',\n            m : '',\n            mm : ' %d',\n            h : '',\n            hh : ' %d',\n            d : '',\n            dd : ' %d',\n            M : '',\n            MM : ' %d',\n            y : '',\n            yy : ' %d'\n        },\n        ordinalParse: /\\d{1,2} /,\n        ordinal : function (number) {\n            return number + ' ';\n        },\n        meridiemParse : / | |.|../,\n        isPM : function (input) {\n            return input === '..' || input === ' ';\n        },\n        meridiem : function (hours, minutes, isLower) {\n            if (hours > 11) {\n                return isLower ? '..' : ' ';\n            } else {\n                return isLower ? '..' : ' ';\n            }\n        }\n    });\n\n    return si;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/si.js\n ** module id = 157\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Slovak [sk]\n//! author : Martin Minka : https://github.com/k2s\n//! based on work of petrbela : https://github.com/petrbela\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var months = 'janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december'.split('_'),\n        monthsShort = 'jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec'.split('_');\n    function plural(n) {\n        return (n > 1) && (n < 5);\n    }\n    function translate(number, withoutSuffix, key, isFuture) {\n        var result = number + ' ';\n        switch (key) {\n            case 's':  // a few seconds / in a few seconds / a few seconds ago\n                return (withoutSuffix || isFuture) ? 'pr seknd' : 'pr sekundami';\n            case 'm':  // a minute / in a minute / a minute ago\n                return withoutSuffix ? 'minta' : (isFuture ? 'mintu' : 'mintou');\n            case 'mm': // 9 minutes / in 9 minutes / 9 minutes ago\n                if (withoutSuffix || isFuture) {\n                    return result + (plural(number) ? 'minty' : 'mint');\n                } else {\n                    return result + 'mintami';\n                }\n                break;\n            case 'h':  // an hour / in an hour / an hour ago\n                return withoutSuffix ? 'hodina' : (isFuture ? 'hodinu' : 'hodinou');\n            case 'hh': // 9 hours / in 9 hours / 9 hours ago\n                if (withoutSuffix || isFuture) {\n                    return result + (plural(number) ? 'hodiny' : 'hodn');\n                } else {\n                    return result + 'hodinami';\n                }\n                break;\n            case 'd':  // a day / in a day / a day ago\n                return (withoutSuffix || isFuture) ? 'de' : 'dom';\n            case 'dd': // 9 days / in 9 days / 9 days ago\n                if (withoutSuffix || isFuture) {\n                    return result + (plural(number) ? 'dni' : 'dn');\n                } else {\n                    return result + 'dami';\n                }\n                break;\n            case 'M':  // a month / in a month / a month ago\n                return (withoutSuffix || isFuture) ? 'mesiac' : 'mesiacom';\n            case 'MM': // 9 months / in 9 months / 9 months ago\n                if (withoutSuffix || isFuture) {\n                    return result + (plural(number) ? 'mesiace' : 'mesiacov');\n                } else {\n                    return result + 'mesiacmi';\n                }\n                break;\n            case 'y':  // a year / in a year / a year ago\n                return (withoutSuffix || isFuture) ? 'rok' : 'rokom';\n            case 'yy': // 9 years / in 9 years / 9 years ago\n                if (withoutSuffix || isFuture) {\n                    return result + (plural(number) ? 'roky' : 'rokov');\n                } else {\n                    return result + 'rokmi';\n                }\n                break;\n        }\n    }\n\n    var sk = moment.defineLocale('sk', {\n        months : months,\n        monthsShort : monthsShort,\n        weekdays : 'nedea_pondelok_utorok_streda_tvrtok_piatok_sobota'.split('_'),\n        weekdaysShort : 'ne_po_ut_st_t_pi_so'.split('_'),\n        weekdaysMin : 'ne_po_ut_st_t_pi_so'.split('_'),\n        longDateFormat : {\n            LT: 'H:mm',\n            LTS : 'H:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D. MMMM YYYY',\n            LLL : 'D. MMMM YYYY H:mm',\n            LLLL : 'dddd D. MMMM YYYY H:mm'\n        },\n        calendar : {\n            sameDay: '[dnes o] LT',\n            nextDay: '[zajtra o] LT',\n            nextWeek: function () {\n                switch (this.day()) {\n                    case 0:\n                        return '[v nedeu o] LT';\n                    case 1:\n                    case 2:\n                        return '[v] dddd [o] LT';\n                    case 3:\n                        return '[v stredu o] LT';\n                    case 4:\n                        return '[vo tvrtok o] LT';\n                    case 5:\n                        return '[v piatok o] LT';\n                    case 6:\n                        return '[v sobotu o] LT';\n                }\n            },\n            lastDay: '[vera o] LT',\n            lastWeek: function () {\n                switch (this.day()) {\n                    case 0:\n                        return '[minul nedeu o] LT';\n                    case 1:\n                    case 2:\n                        return '[minul] dddd [o] LT';\n                    case 3:\n                        return '[minul stredu o] LT';\n                    case 4:\n                    case 5:\n                        return '[minul] dddd [o] LT';\n                    case 6:\n                        return '[minul sobotu o] LT';\n                }\n            },\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : 'za %s',\n            past : 'pred %s',\n            s : translate,\n            m : translate,\n            mm : translate,\n            h : translate,\n            hh : translate,\n            d : translate,\n            dd : translate,\n            M : translate,\n            MM : translate,\n            y : translate,\n            yy : translate\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return sk;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/sk.js\n ** module id = 158\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Slovenian [sl]\n//! author : Robert Sedovek : https://github.com/sedovsek\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    function processRelativeTime(number, withoutSuffix, key, isFuture) {\n        var result = number + ' ';\n        switch (key) {\n            case 's':\n                return withoutSuffix || isFuture ? 'nekaj sekund' : 'nekaj sekundami';\n            case 'm':\n                return withoutSuffix ? 'ena minuta' : 'eno minuto';\n            case 'mm':\n                if (number === 1) {\n                    result += withoutSuffix ? 'minuta' : 'minuto';\n                } else if (number === 2) {\n                    result += withoutSuffix || isFuture ? 'minuti' : 'minutama';\n                } else if (number < 5) {\n                    result += withoutSuffix || isFuture ? 'minute' : 'minutami';\n                } else {\n                    result += withoutSuffix || isFuture ? 'minut' : 'minutami';\n                }\n                return result;\n            case 'h':\n                return withoutSuffix ? 'ena ura' : 'eno uro';\n            case 'hh':\n                if (number === 1) {\n                    result += withoutSuffix ? 'ura' : 'uro';\n                } else if (number === 2) {\n                    result += withoutSuffix || isFuture ? 'uri' : 'urama';\n                } else if (number < 5) {\n                    result += withoutSuffix || isFuture ? 'ure' : 'urami';\n                } else {\n                    result += withoutSuffix || isFuture ? 'ur' : 'urami';\n                }\n                return result;\n            case 'd':\n                return withoutSuffix || isFuture ? 'en dan' : 'enim dnem';\n            case 'dd':\n                if (number === 1) {\n                    result += withoutSuffix || isFuture ? 'dan' : 'dnem';\n                } else if (number === 2) {\n                    result += withoutSuffix || isFuture ? 'dni' : 'dnevoma';\n                } else {\n                    result += withoutSuffix || isFuture ? 'dni' : 'dnevi';\n                }\n                return result;\n            case 'M':\n                return withoutSuffix || isFuture ? 'en mesec' : 'enim mesecem';\n            case 'MM':\n                if (number === 1) {\n                    result += withoutSuffix || isFuture ? 'mesec' : 'mesecem';\n                } else if (number === 2) {\n                    result += withoutSuffix || isFuture ? 'meseca' : 'mesecema';\n                } else if (number < 5) {\n                    result += withoutSuffix || isFuture ? 'mesece' : 'meseci';\n                } else {\n                    result += withoutSuffix || isFuture ? 'mesecev' : 'meseci';\n                }\n                return result;\n            case 'y':\n                return withoutSuffix || isFuture ? 'eno leto' : 'enim letom';\n            case 'yy':\n                if (number === 1) {\n                    result += withoutSuffix || isFuture ? 'leto' : 'letom';\n                } else if (number === 2) {\n                    result += withoutSuffix || isFuture ? 'leti' : 'letoma';\n                } else if (number < 5) {\n                    result += withoutSuffix || isFuture ? 'leta' : 'leti';\n                } else {\n                    result += withoutSuffix || isFuture ? 'let' : 'leti';\n                }\n                return result;\n        }\n    }\n\n    var sl = moment.defineLocale('sl', {\n        months : 'januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december'.split('_'),\n        monthsShort : 'jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.'.split('_'),\n        monthsParseExact: true,\n        weekdays : 'nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota'.split('_'),\n        weekdaysShort : 'ned._pon._tor._sre._et._pet._sob.'.split('_'),\n        weekdaysMin : 'ne_po_to_sr_e_pe_so'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'H:mm',\n            LTS : 'H:mm:ss',\n            L : 'DD. MM. YYYY',\n            LL : 'D. MMMM YYYY',\n            LLL : 'D. MMMM YYYY H:mm',\n            LLLL : 'dddd, D. MMMM YYYY H:mm'\n        },\n        calendar : {\n            sameDay  : '[danes ob] LT',\n            nextDay  : '[jutri ob] LT',\n\n            nextWeek : function () {\n                switch (this.day()) {\n                    case 0:\n                        return '[v] [nedeljo] [ob] LT';\n                    case 3:\n                        return '[v] [sredo] [ob] LT';\n                    case 6:\n                        return '[v] [soboto] [ob] LT';\n                    case 1:\n                    case 2:\n                    case 4:\n                    case 5:\n                        return '[v] dddd [ob] LT';\n                }\n            },\n            lastDay  : '[veraj ob] LT',\n            lastWeek : function () {\n                switch (this.day()) {\n                    case 0:\n                        return '[prejnjo] [nedeljo] [ob] LT';\n                    case 3:\n                        return '[prejnjo] [sredo] [ob] LT';\n                    case 6:\n                        return '[prejnjo] [soboto] [ob] LT';\n                    case 1:\n                    case 2:\n                    case 4:\n                    case 5:\n                        return '[prejnji] dddd [ob] LT';\n                }\n            },\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'ez %s',\n            past   : 'pred %s',\n            s      : processRelativeTime,\n            m      : processRelativeTime,\n            mm     : processRelativeTime,\n            h      : processRelativeTime,\n            hh     : processRelativeTime,\n            d      : processRelativeTime,\n            dd     : processRelativeTime,\n            M      : processRelativeTime,\n            MM     : processRelativeTime,\n            y      : processRelativeTime,\n            yy     : processRelativeTime\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return sl;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/sl.js\n ** module id = 159\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Albanian [sq]\n//! author : Flakrim Ismani : https://github.com/flakerimi\n//! author: Menelion Elensle: https://github.com/Oire (tests)\n//! author : Oerd Cukalla : https://github.com/oerd (fixes)\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var sq = moment.defineLocale('sq', {\n        months : 'Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor'.split('_'),\n        monthsShort : 'Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj'.split('_'),\n        weekdays : 'E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun'.split('_'),\n        weekdaysShort : 'Die_Hn_Mar_Mr_Enj_Pre_Sht'.split('_'),\n        weekdaysMin : 'D_H_Ma_M_E_P_Sh'.split('_'),\n        weekdaysParseExact : true,\n        meridiemParse: /PD|MD/,\n        isPM: function (input) {\n            return input.charAt(0) === 'M';\n        },\n        meridiem : function (hours, minutes, isLower) {\n            return hours < 12 ? 'PD' : 'MD';\n        },\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd, D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay : '[Sot n] LT',\n            nextDay : '[Nesr n] LT',\n            nextWeek : 'dddd [n] LT',\n            lastDay : '[Dje n] LT',\n            lastWeek : 'dddd [e kaluar n] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'n %s',\n            past : '%s m par',\n            s : 'disa sekonda',\n            m : 'nj minut',\n            mm : '%d minuta',\n            h : 'nj or',\n            hh : '%d or',\n            d : 'nj dit',\n            dd : '%d dit',\n            M : 'nj muaj',\n            MM : '%d muaj',\n            y : 'nj vit',\n            yy : '%d vite'\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return sq;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/sq.js\n ** module id = 160\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Serbian [sr]\n//! author : Milan Janakovi<milanjanackovic@gmail.com> : https://github.com/milan-j\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var translator = {\n        words: { //Different grammatical cases\n            m: ['jedan minut', 'jedne minute'],\n            mm: ['minut', 'minute', 'minuta'],\n            h: ['jedan sat', 'jednog sata'],\n            hh: ['sat', 'sata', 'sati'],\n            dd: ['dan', 'dana', 'dana'],\n            MM: ['mesec', 'meseca', 'meseci'],\n            yy: ['godina', 'godine', 'godina']\n        },\n        correctGrammaticalCase: function (number, wordKey) {\n            return number === 1 ? wordKey[0] : (number >= 2 && number <= 4 ? wordKey[1] : wordKey[2]);\n        },\n        translate: function (number, withoutSuffix, key) {\n            var wordKey = translator.words[key];\n            if (key.length === 1) {\n                return withoutSuffix ? wordKey[0] : wordKey[1];\n            } else {\n                return number + ' ' + translator.correctGrammaticalCase(number, wordKey);\n            }\n        }\n    };\n\n    var sr = moment.defineLocale('sr', {\n        months: 'januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar'.split('_'),\n        monthsShort: 'jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.'.split('_'),\n        monthsParseExact: true,\n        weekdays: 'nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota'.split('_'),\n        weekdaysShort: 'ned._pon._uto._sre._et._pet._sub.'.split('_'),\n        weekdaysMin: 'ne_po_ut_sr_e_pe_su'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat: {\n            LT: 'H:mm',\n            LTS : 'H:mm:ss',\n            L: 'DD. MM. YYYY',\n            LL: 'D. MMMM YYYY',\n            LLL: 'D. MMMM YYYY H:mm',\n            LLLL: 'dddd, D. MMMM YYYY H:mm'\n        },\n        calendar: {\n            sameDay: '[danas u] LT',\n            nextDay: '[sutra u] LT',\n            nextWeek: function () {\n                switch (this.day()) {\n                    case 0:\n                        return '[u] [nedelju] [u] LT';\n                    case 3:\n                        return '[u] [sredu] [u] LT';\n                    case 6:\n                        return '[u] [subotu] [u] LT';\n                    case 1:\n                    case 2:\n                    case 4:\n                    case 5:\n                        return '[u] dddd [u] LT';\n                }\n            },\n            lastDay  : '[jue u] LT',\n            lastWeek : function () {\n                var lastWeekDays = [\n                    '[prole] [nedelje] [u] LT',\n                    '[prolog] [ponedeljka] [u] LT',\n                    '[prolog] [utorka] [u] LT',\n                    '[prole] [srede] [u] LT',\n                    '[prolog] [etvrtka] [u] LT',\n                    '[prolog] [petka] [u] LT',\n                    '[prole] [subote] [u] LT'\n                ];\n                return lastWeekDays[this.day()];\n            },\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'za %s',\n            past   : 'pre %s',\n            s      : 'nekoliko sekundi',\n            m      : translator.translate,\n            mm     : translator.translate,\n            h      : translator.translate,\n            hh     : translator.translate,\n            d      : 'dan',\n            dd     : translator.translate,\n            M      : 'mesec',\n            MM     : translator.translate,\n            y      : 'godinu',\n            yy     : translator.translate\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return sr;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/sr.js\n ** module id = 161\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Serbian Cyrillic [sr-cyrl]\n//! author : Milan Janakovi<milanjanackovic@gmail.com> : https://github.com/milan-j\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var translator = {\n        words: { //Different grammatical cases\n            m: [' ', ' '],\n            mm: ['', '', ''],\n            h: [' ', ' '],\n            hh: ['', '', ''],\n            dd: ['', '', ''],\n            MM: ['', '', ''],\n            yy: ['', '', '']\n        },\n        correctGrammaticalCase: function (number, wordKey) {\n            return number === 1 ? wordKey[0] : (number >= 2 && number <= 4 ? wordKey[1] : wordKey[2]);\n        },\n        translate: function (number, withoutSuffix, key) {\n            var wordKey = translator.words[key];\n            if (key.length === 1) {\n                return withoutSuffix ? wordKey[0] : wordKey[1];\n            } else {\n                return number + ' ' + translator.correctGrammaticalCase(number, wordKey);\n            }\n        }\n    };\n\n    var sr_cyrl = moment.defineLocale('sr-cyrl', {\n        months: '___________'.split('_'),\n        monthsShort: '._._._.____._._._._.'.split('_'),\n        monthsParseExact: true,\n        weekdays: '______'.split('_'),\n        weekdaysShort: '._._._._._._.'.split('_'),\n        weekdaysMin: '______'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat: {\n            LT: 'H:mm',\n            LTS : 'H:mm:ss',\n            L: 'DD. MM. YYYY',\n            LL: 'D. MMMM YYYY',\n            LLL: 'D. MMMM YYYY H:mm',\n            LLLL: 'dddd, D. MMMM YYYY H:mm'\n        },\n        calendar: {\n            sameDay: '[ ] LT',\n            nextDay: '[ ] LT',\n            nextWeek: function () {\n                switch (this.day()) {\n                    case 0:\n                        return '[] [] [] LT';\n                    case 3:\n                        return '[] [] [] LT';\n                    case 6:\n                        return '[] [] [] LT';\n                    case 1:\n                    case 2:\n                    case 4:\n                    case 5:\n                        return '[] dddd [] LT';\n                }\n            },\n            lastDay  : '[ ] LT',\n            lastWeek : function () {\n                var lastWeekDays = [\n                    '[] [] [] LT',\n                    '[] [] [] LT',\n                    '[] [] [] LT',\n                    '[] [] [] LT',\n                    '[] [] [] LT',\n                    '[] [] [] LT',\n                    '[] [] [] LT'\n                ];\n                return lastWeekDays[this.day()];\n            },\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : ' %s',\n            past   : ' %s',\n            s      : ' ',\n            m      : translator.translate,\n            mm     : translator.translate,\n            h      : translator.translate,\n            hh     : translator.translate,\n            d      : '',\n            dd     : translator.translate,\n            M      : '',\n            MM     : translator.translate,\n            y      : '',\n            yy     : translator.translate\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return sr_cyrl;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/sr-cyrl.js\n ** module id = 162\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Swazi [ss]\n//! author : Nicolai Davies<mail@nicolai.io> : https://github.com/nicolaidavies\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n\n    var ss = moment.defineLocale('ss', {\n        months : \"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni\".split('_'),\n        monthsShort : 'Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo'.split('_'),\n        weekdays : 'Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo'.split('_'),\n        weekdaysShort : 'Lis_Umb_Lsb_Les_Lsi_Lsh_Umg'.split('_'),\n        weekdaysMin : 'Li_Us_Lb_Lt_Ls_Lh_Ug'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'h:mm A',\n            LTS : 'h:mm:ss A',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY h:mm A',\n            LLLL : 'dddd, D MMMM YYYY h:mm A'\n        },\n        calendar : {\n            sameDay : '[Namuhla nga] LT',\n            nextDay : '[Kusasa nga] LT',\n            nextWeek : 'dddd [nga] LT',\n            lastDay : '[Itolo nga] LT',\n            lastWeek : 'dddd [leliphelile] [nga] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'nga %s',\n            past : 'wenteka nga %s',\n            s : 'emizuzwana lomcane',\n            m : 'umzuzu',\n            mm : '%d emizuzu',\n            h : 'lihora',\n            hh : '%d emahora',\n            d : 'lilanga',\n            dd : '%d emalanga',\n            M : 'inyanga',\n            MM : '%d tinyanga',\n            y : 'umnyaka',\n            yy : '%d iminyaka'\n        },\n        meridiemParse: /ekuseni|emini|entsambama|ebusuku/,\n        meridiem : function (hours, minutes, isLower) {\n            if (hours < 11) {\n                return 'ekuseni';\n            } else if (hours < 15) {\n                return 'emini';\n            } else if (hours < 19) {\n                return 'entsambama';\n            } else {\n                return 'ebusuku';\n            }\n        },\n        meridiemHour : function (hour, meridiem) {\n            if (hour === 12) {\n                hour = 0;\n            }\n            if (meridiem === 'ekuseni') {\n                return hour;\n            } else if (meridiem === 'emini') {\n                return hour >= 11 ? hour : hour + 12;\n            } else if (meridiem === 'entsambama' || meridiem === 'ebusuku') {\n                if (hour === 0) {\n                    return 0;\n                }\n                return hour + 12;\n            }\n        },\n        ordinalParse: /\\d{1,2}/,\n        ordinal : '%d',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return ss;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/ss.js\n ** module id = 163\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Swedish [sv]\n//! author : Jens Alm : https://github.com/ulmus\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var sv = moment.defineLocale('sv', {\n        months : 'januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december'.split('_'),\n        monthsShort : 'jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec'.split('_'),\n        weekdays : 'sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag'.split('_'),\n        weekdaysShort : 'sn_mn_tis_ons_tor_fre_lr'.split('_'),\n        weekdaysMin : 's_m_ti_on_to_fr_l'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'YYYY-MM-DD',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY [kl.] HH:mm',\n            LLLL : 'dddd D MMMM YYYY [kl.] HH:mm',\n            lll : 'D MMM YYYY HH:mm',\n            llll : 'ddd D MMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay: '[Idag] LT',\n            nextDay: '[Imorgon] LT',\n            lastDay: '[Igr] LT',\n            nextWeek: '[P] dddd LT',\n            lastWeek: '[I] dddd[s] LT',\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : 'om %s',\n            past : 'fr %s sedan',\n            s : 'ngra sekunder',\n            m : 'en minut',\n            mm : '%d minuter',\n            h : 'en timme',\n            hh : '%d timmar',\n            d : 'en dag',\n            dd : '%d dagar',\n            M : 'en mnad',\n            MM : '%d mnader',\n            y : 'ett r',\n            yy : '%d r'\n        },\n        ordinalParse: /\\d{1,2}(e|a)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (~~(number % 100 / 10) === 1) ? 'e' :\n                (b === 1) ? 'a' :\n                (b === 2) ? 'a' :\n                (b === 3) ? 'e' : 'e';\n            return number + output;\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return sv;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/sv.js\n ** module id = 164\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Swahili [sw]\n//! author : Fahad Kassim : https://github.com/fadsel\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var sw = moment.defineLocale('sw', {\n        months : 'Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba'.split('_'),\n        monthsShort : 'Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des'.split('_'),\n        weekdays : 'Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi'.split('_'),\n        weekdaysShort : 'Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos'.split('_'),\n        weekdaysMin : 'J2_J3_J4_J5_Al_Ij_J1'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd, D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay : '[leo saa] LT',\n            nextDay : '[kesho saa] LT',\n            nextWeek : '[wiki ijayo] dddd [saat] LT',\n            lastDay : '[jana] LT',\n            lastWeek : '[wiki iliyopita] dddd [saat] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : '%s baadaye',\n            past : 'tokea %s',\n            s : 'hivi punde',\n            m : 'dakika moja',\n            mm : 'dakika %d',\n            h : 'saa limoja',\n            hh : 'masaa %d',\n            d : 'siku moja',\n            dd : 'masiku %d',\n            M : 'mwezi mmoja',\n            MM : 'miezi %d',\n            y : 'mwaka mmoja',\n            yy : 'miaka %d'\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return sw;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/sw.js\n ** module id = 165\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Tamil [ta]\n//! author : Arjunkumar Krishnamoorthy : https://github.com/tk120404\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var symbolMap = {\n        '1': '',\n        '2': '',\n        '3': '',\n        '4': '',\n        '5': '',\n        '6': '',\n        '7': '',\n        '8': '',\n        '9': '',\n        '0': ''\n    }, numberMap = {\n        '': '1',\n        '': '2',\n        '': '3',\n        '': '4',\n        '': '5',\n        '': '6',\n        '': '7',\n        '': '8',\n        '': '9',\n        '': '0'\n    };\n\n    var ta = moment.defineLocale('ta', {\n        months : '___________'.split('_'),\n        monthsShort : '___________'.split('_'),\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY, HH:mm',\n            LLLL : 'dddd, D MMMM YYYY, HH:mm'\n        },\n        calendar : {\n            sameDay : '[] LT',\n            nextDay : '[] LT',\n            nextWeek : 'dddd, LT',\n            lastDay : '[] LT',\n            lastWeek : '[ ] dddd, LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : '%s ',\n            past : '%s ',\n            s : '  ',\n            m : ' ',\n            mm : '%d ',\n            h : '  ',\n            hh : '%d  ',\n            d : ' ',\n            dd : '%d ',\n            M : ' ',\n            MM : '%d ',\n            y : ' ',\n            yy : '%d '\n        },\n        ordinalParse: /\\d{1,2}/,\n        ordinal : function (number) {\n            return number + '';\n        },\n        preparse: function (string) {\n            return string.replace(/[]/g, function (match) {\n                return numberMap[match];\n            });\n        },\n        postformat: function (string) {\n            return string.replace(/\\d/g, function (match) {\n                return symbolMap[match];\n            });\n        },\n        // refer http://ta.wikipedia.org/s/1er1\n        meridiemParse: /|||||/,\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 2) {\n                return ' ';\n            } else if (hour < 6) {\n                return ' ';  // \n            } else if (hour < 10) {\n                return ' '; // \n            } else if (hour < 14) {\n                return ' '; // \n            } else if (hour < 18) {\n                return ' '; // \n            } else if (hour < 22) {\n                return ' '; // \n            } else {\n                return ' ';\n            }\n        },\n        meridiemHour : function (hour, meridiem) {\n            if (hour === 12) {\n                hour = 0;\n            }\n            if (meridiem === '') {\n                return hour < 2 ? hour : hour + 12;\n            } else if (meridiem === '' || meridiem === '') {\n                return hour;\n            } else if (meridiem === '') {\n                return hour >= 10 ? hour : hour + 12;\n            } else {\n                return hour + 12;\n            }\n        },\n        week : {\n            dow : 0, // Sunday is the first day of the week.\n            doy : 6  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return ta;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/ta.js\n ** module id = 166\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Telugu [te]\n//! author : Krishna Chaitanya Thota : https://github.com/kcthota\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var te = moment.defineLocale('te', {\n        months : '___________'.split('_'),\n        monthsShort : '._.__.____._._._._.'.split('_'),\n        monthsParseExact : true,\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'A h:mm',\n            LTS : 'A h:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY, A h:mm',\n            LLLL : 'dddd, D MMMM YYYY, A h:mm'\n        },\n        calendar : {\n            sameDay : '[] LT',\n            nextDay : '[] LT',\n            nextWeek : 'dddd, LT',\n            lastDay : '[] LT',\n            lastWeek : '[] dddd, LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : '%s ',\n            past : '%s ',\n            s : ' ',\n            m : ' ',\n            mm : '%d ',\n            h : ' ',\n            hh : '%d ',\n            d : ' ',\n            dd : '%d ',\n            M : ' ',\n            MM : '%d ',\n            y : ' ',\n            yy : '%d '\n        },\n        ordinalParse : /\\d{1,2}/,\n        ordinal : '%d',\n        meridiemParse: /|||/,\n        meridiemHour : function (hour, meridiem) {\n            if (hour === 12) {\n                hour = 0;\n            }\n            if (meridiem === '') {\n                return hour < 4 ? hour : hour + 12;\n            } else if (meridiem === '') {\n                return hour;\n            } else if (meridiem === '') {\n                return hour >= 10 ? hour : hour + 12;\n            } else if (meridiem === '') {\n                return hour + 12;\n            }\n        },\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 4) {\n                return '';\n            } else if (hour < 10) {\n                return '';\n            } else if (hour < 17) {\n                return '';\n            } else if (hour < 20) {\n                return '';\n            } else {\n                return '';\n            }\n        },\n        week : {\n            dow : 0, // Sunday is the first day of the week.\n            doy : 6  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return te;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/te.js\n ** module id = 167\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Thai [th]\n//! author : Kridsada Thanabulpong : https://github.com/sirn\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var th = moment.defineLocale('th', {\n        months : '___________'.split('_'),\n        monthsShort : '.._.._.._.._.._.._.._.._.._.._.._..'.split('_'),\n        monthsParseExact: true,\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'), // yes, three characters difference\n        weekdaysMin : '._._._._._._.'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'H  m ',\n            LTS : 'H  m  s ',\n            L : 'YYYY/MM/DD',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY  H  m ',\n            LLLL : 'dddd D MMMM YYYY  H  m '\n        },\n        meridiemParse: /|/,\n        isPM: function (input) {\n            return input === '';\n        },\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 12) {\n                return '';\n            } else {\n                return '';\n            }\n        },\n        calendar : {\n            sameDay : '[ ] LT',\n            nextDay : '[ ] LT',\n            nextWeek : 'dddd[ ] LT',\n            lastDay : '[ ] LT',\n            lastWeek : '[]dddd[ ] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : ' %s',\n            past : '%s',\n            s : '',\n            m : '1 ',\n            mm : '%d ',\n            h : '1 ',\n            hh : '%d ',\n            d : '1 ',\n            dd : '%d ',\n            M : '1 ',\n            MM : '%d ',\n            y : '1 ',\n            yy : '%d '\n        }\n    });\n\n    return th;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/th.js\n ** module id = 168\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Tagalog (Philippines) [tl-ph]\n//! author : Dan Hagman\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var tl_ph = moment.defineLocale('tl-ph', {\n        months : 'Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre'.split('_'),\n        monthsShort : 'Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis'.split('_'),\n        weekdays : 'Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado'.split('_'),\n        weekdaysShort : 'Lin_Lun_Mar_Miy_Huw_Biy_Sab'.split('_'),\n        weekdaysMin : 'Li_Lu_Ma_Mi_Hu_Bi_Sab'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'MM/D/YYYY',\n            LL : 'MMMM D, YYYY',\n            LLL : 'MMMM D, YYYY HH:mm',\n            LLLL : 'dddd, MMMM DD, YYYY HH:mm'\n        },\n        calendar : {\n            sameDay: '[Ngayon sa] LT',\n            nextDay: '[Bukas sa] LT',\n            nextWeek: 'dddd [sa] LT',\n            lastDay: '[Kahapon sa] LT',\n            lastWeek: 'dddd [huling linggo] LT',\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : 'sa loob ng %s',\n            past : '%s ang nakalipas',\n            s : 'ilang segundo',\n            m : 'isang minuto',\n            mm : '%d minuto',\n            h : 'isang oras',\n            hh : '%d oras',\n            d : 'isang araw',\n            dd : '%d araw',\n            M : 'isang buwan',\n            MM : '%d buwan',\n            y : 'isang taon',\n            yy : '%d taon'\n        },\n        ordinalParse: /\\d{1,2}/,\n        ordinal : function (number) {\n            return number;\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return tl_ph;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/tl-ph.js\n ** module id = 169\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Klingon [tlh]\n//! author : Dominika Kruk : https://github.com/amaranthrose\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var numbersNouns = 'pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut'.split('_');\n\n    function translateFuture(output) {\n        var time = output;\n        time = (output.indexOf('jaj') !== -1) ?\n        time.slice(0, -3) + 'leS' :\n        (output.indexOf('jar') !== -1) ?\n        time.slice(0, -3) + 'waQ' :\n        (output.indexOf('DIS') !== -1) ?\n        time.slice(0, -3) + 'nem' :\n        time + ' pIq';\n        return time;\n    }\n\n    function translatePast(output) {\n        var time = output;\n        time = (output.indexOf('jaj') !== -1) ?\n        time.slice(0, -3) + 'Hu' :\n        (output.indexOf('jar') !== -1) ?\n        time.slice(0, -3) + 'wen' :\n        (output.indexOf('DIS') !== -1) ?\n        time.slice(0, -3) + 'ben' :\n        time + ' ret';\n        return time;\n    }\n\n    function translate(number, withoutSuffix, string, isFuture) {\n        var numberNoun = numberAsNoun(number);\n        switch (string) {\n            case 'mm':\n                return numberNoun + ' tup';\n            case 'hh':\n                return numberNoun + ' rep';\n            case 'dd':\n                return numberNoun + ' jaj';\n            case 'MM':\n                return numberNoun + ' jar';\n            case 'yy':\n                return numberNoun + ' DIS';\n        }\n    }\n\n    function numberAsNoun(number) {\n        var hundred = Math.floor((number % 1000) / 100),\n        ten = Math.floor((number % 100) / 10),\n        one = number % 10,\n        word = '';\n        if (hundred > 0) {\n            word += numbersNouns[hundred] + 'vatlh';\n        }\n        if (ten > 0) {\n            word += ((word !== '') ? ' ' : '') + numbersNouns[ten] + 'maH';\n        }\n        if (one > 0) {\n            word += ((word !== '') ? ' ' : '') + numbersNouns[one];\n        }\n        return (word === '') ? 'pagh' : word;\n    }\n\n    var tlh = moment.defineLocale('tlh', {\n        months : 'tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha'.split('_'),\n        monthsShort : 'jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha'.split('_'),\n        monthsParseExact : true,\n        weekdays : 'lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj'.split('_'),\n        weekdaysShort : 'lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj'.split('_'),\n        weekdaysMin : 'lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd, D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay: '[DaHjaj] LT',\n            nextDay: '[waleS] LT',\n            nextWeek: 'LLL',\n            lastDay: '[waHu] LT',\n            lastWeek: 'LLL',\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : translateFuture,\n            past : translatePast,\n            s : 'puS lup',\n            m : 'wa tup',\n            mm : translate,\n            h : 'wa rep',\n            hh : translate,\n            d : 'wa jaj',\n            dd : translate,\n            M : 'wa jar',\n            MM : translate,\n            y : 'wa DIS',\n            yy : translate\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return tlh;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/tlh.js\n ** module id = 170\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Turkish [tr]\n//! authors : Erhan Gundogan : https://github.com/erhangundogan,\n//!           Burak Yiit Kaya: https://github.com/BYK\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var suffixes = {\n        1: '\\'inci',\n        5: '\\'inci',\n        8: '\\'inci',\n        70: '\\'inci',\n        80: '\\'inci',\n        2: '\\'nci',\n        7: '\\'nci',\n        20: '\\'nci',\n        50: '\\'nci',\n        3: '\\'nc',\n        4: '\\'nc',\n        100: '\\'nc',\n        6: '\\'nc',\n        9: '\\'uncu',\n        10: '\\'uncu',\n        30: '\\'uncu',\n        60: '\\'nc',\n        90: '\\'nc'\n    };\n\n    var tr = moment.defineLocale('tr', {\n        months : 'Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk'.split('_'),\n        monthsShort : 'Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara'.split('_'),\n        weekdays : 'Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi'.split('_'),\n        weekdaysShort : 'Paz_Pts_Sal_ar_Per_Cum_Cts'.split('_'),\n        weekdaysMin : 'Pz_Pt_Sa_a_Pe_Cu_Ct'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd, D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay : '[bugn saat] LT',\n            nextDay : '[yarn saat] LT',\n            nextWeek : '[haftaya] dddd [saat] LT',\n            lastDay : '[dn] LT',\n            lastWeek : '[geen hafta] dddd [saat] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : '%s sonra',\n            past : '%s nce',\n            s : 'birka saniye',\n            m : 'bir dakika',\n            mm : '%d dakika',\n            h : 'bir saat',\n            hh : '%d saat',\n            d : 'bir gn',\n            dd : '%d gn',\n            M : 'bir ay',\n            MM : '%d ay',\n            y : 'bir yl',\n            yy : '%d yl'\n        },\n        ordinalParse: /\\d{1,2}'(inci|nci|nc|nc|uncu|nc)/,\n        ordinal : function (number) {\n            if (number === 0) {  // special case for zero\n                return number + '\\'nc';\n            }\n            var a = number % 10,\n                b = number % 100 - a,\n                c = number >= 100 ? 100 : null;\n            return number + (suffixes[a] || suffixes[b] || suffixes[c]);\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return tr;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/tr.js\n ** module id = 171\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Talossan [tzl]\n//! author : Robin van der Vliet : https://github.com/robin0van0der0v with the help of Iust Canun\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n\n    // After the year there should be a slash and the amount of years since December 26, 1979 in Roman numerals.\n    // This is currently too difficult (maybe even impossible) to add.\n    var tzl = moment.defineLocale('tzl', {\n        months : 'Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar'.split('_'),\n        monthsShort : 'Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec'.split('_'),\n        weekdays : 'Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi'.split('_'),\n        weekdaysShort : 'Sl_Ln_Mai_Mr_Xh_Vi_St'.split('_'),\n        weekdaysMin : 'S_L_Ma_M_Xh_Vi_S'.split('_'),\n        longDateFormat : {\n            LT : 'HH.mm',\n            LTS : 'HH.mm.ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D. MMMM [dallas] YYYY',\n            LLL : 'D. MMMM [dallas] YYYY HH.mm',\n            LLLL : 'dddd, [li] D. MMMM [dallas] YYYY HH.mm'\n        },\n        meridiemParse: /d\\'o|d\\'a/i,\n        isPM : function (input) {\n            return 'd\\'o' === input.toLowerCase();\n        },\n        meridiem : function (hours, minutes, isLower) {\n            if (hours > 11) {\n                return isLower ? 'd\\'o' : 'D\\'O';\n            } else {\n                return isLower ? 'd\\'a' : 'D\\'A';\n            }\n        },\n        calendar : {\n            sameDay : '[oxhi ] LT',\n            nextDay : '[dem ] LT',\n            nextWeek : 'dddd [] LT',\n            lastDay : '[ieiri ] LT',\n            lastWeek : '[sr el] dddd [lasteu ] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'osprei %s',\n            past : 'ja%s',\n            s : processRelativeTime,\n            m : processRelativeTime,\n            mm : processRelativeTime,\n            h : processRelativeTime,\n            hh : processRelativeTime,\n            d : processRelativeTime,\n            dd : processRelativeTime,\n            M : processRelativeTime,\n            MM : processRelativeTime,\n            y : processRelativeTime,\n            yy : processRelativeTime\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    function processRelativeTime(number, withoutSuffix, key, isFuture) {\n        var format = {\n            's': ['viensas secunds', '\\'iensas secunds'],\n            'm': ['\\'n mut', '\\'iens mut'],\n            'mm': [number + ' muts', '' + number + ' muts'],\n            'h': ['\\'n ora', '\\'iensa ora'],\n            'hh': [number + ' oras', '' + number + ' oras'],\n            'd': ['\\'n ziua', '\\'iensa ziua'],\n            'dd': [number + ' ziuas', '' + number + ' ziuas'],\n            'M': ['\\'n mes', '\\'iens mes'],\n            'MM': [number + ' mesen', '' + number + ' mesen'],\n            'y': ['\\'n ar', '\\'iens ar'],\n            'yy': [number + ' ars', '' + number + ' ars']\n        };\n        return isFuture ? format[key][0] : (withoutSuffix ? format[key][0] : format[key][1]);\n    }\n\n    return tzl;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/tzl.js\n ** module id = 172\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Central Atlas Tamazight [tzm]\n//! author : Abdel Said : https://github.com/abdelsaid\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var tzm = moment.defineLocale('tzm', {\n        months : '___________'.split('_'),\n        monthsShort : '___________'.split('_'),\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS: 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay: '[ ] LT',\n            nextDay: '[ ] LT',\n            nextWeek: 'dddd [] LT',\n            lastDay: '[ ] LT',\n            lastWeek: 'dddd [] LT',\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : '   %s',\n            past : ' %s',\n            s : '',\n            m : '',\n            mm : '%d ',\n            h : '',\n            hh : '%d ',\n            d : '',\n            dd : '%d o',\n            M : 'o',\n            MM : '%d ',\n            y : '',\n            yy : '%d '\n        },\n        week : {\n            dow : 6, // Saturday is the first day of the week.\n            doy : 12  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return tzm;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/tzm.js\n ** module id = 173\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Central Atlas Tamazight Latin [tzm-latn]\n//! author : Abdel Said : https://github.com/abdelsaid\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var tzm_latn = moment.defineLocale('tzm-latn', {\n        months : 'innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir'.split('_'),\n        monthsShort : 'innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir'.split('_'),\n        weekdays : 'asamas_aynas_asinas_akras_akwas_asimwas_asiyas'.split('_'),\n        weekdaysShort : 'asamas_aynas_asinas_akras_akwas_asimwas_asiyas'.split('_'),\n        weekdaysMin : 'asamas_aynas_asinas_akras_akwas_asimwas_asiyas'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay: '[asdkh g] LT',\n            nextDay: '[aska g] LT',\n            nextWeek: 'dddd [g] LT',\n            lastDay: '[assant g] LT',\n            lastWeek: 'dddd [g] LT',\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : 'dadkh s yan %s',\n            past : 'yan %s',\n            s : 'imik',\n            m : 'minu',\n            mm : '%d minu',\n            h : 'saa',\n            hh : '%d tassain',\n            d : 'ass',\n            dd : '%d ossan',\n            M : 'ayowr',\n            MM : '%d iyyirn',\n            y : 'asgas',\n            yy : '%d isgasn'\n        },\n        week : {\n            dow : 6, // Saturday is the first day of the week.\n            doy : 12  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return tzm_latn;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/tzm-latn.js\n ** module id = 174\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Ukrainian [uk]\n//! author : zemlanin : https://github.com/zemlanin\n//! Author : Menelion Elensle : https://github.com/Oire\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    function plural(word, num) {\n        var forms = word.split('_');\n        return num % 10 === 1 && num % 100 !== 11 ? forms[0] : (num % 10 >= 2 && num % 10 <= 4 && (num % 100 < 10 || num % 100 >= 20) ? forms[1] : forms[2]);\n    }\n    function relativeTimeWithPlural(number, withoutSuffix, key) {\n        var format = {\n            'mm': withoutSuffix ? '__' : '__',\n            'hh': withoutSuffix ? '__' : '__',\n            'dd': '__',\n            'MM': '__',\n            'yy': '__'\n        };\n        if (key === 'm') {\n            return withoutSuffix ? '' : '';\n        }\n        else if (key === 'h') {\n            return withoutSuffix ? '' : '';\n        }\n        else {\n            return number + ' ' + plural(format[key], +number);\n        }\n    }\n    function weekdaysCaseReplace(m, format) {\n        var weekdays = {\n            'nominative': '______'.split('_'),\n            'accusative': '______'.split('_'),\n            'genitive': '______'.split('_')\n        },\n        nounCase = (/(\\[[]\\]) ?dddd/).test(format) ?\n            'accusative' :\n            ((/\\[?(?:|)? ?\\] ?dddd/).test(format) ?\n                'genitive' :\n                'nominative');\n        return weekdays[nounCase][m.day()];\n    }\n    function processHoursFunction(str) {\n        return function () {\n            return str + '' + (this.hours() === 11 ? '' : '') + '] LT';\n        };\n    }\n\n    var uk = moment.defineLocale('uk', {\n        months : {\n            'format': '___________'.split('_'),\n            'standalone': '___________'.split('_')\n        },\n        monthsShort : '___________'.split('_'),\n        weekdays : weekdaysCaseReplace,\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D MMMM YYYY .',\n            LLL : 'D MMMM YYYY ., HH:mm',\n            LLLL : 'dddd, D MMMM YYYY ., HH:mm'\n        },\n        calendar : {\n            sameDay: processHoursFunction('[ '),\n            nextDay: processHoursFunction('[ '),\n            lastDay: processHoursFunction('[ '),\n            nextWeek: processHoursFunction('[] dddd ['),\n            lastWeek: function () {\n                switch (this.day()) {\n                    case 0:\n                    case 3:\n                    case 5:\n                    case 6:\n                        return processHoursFunction('[] dddd [').call(this);\n                    case 1:\n                    case 2:\n                    case 4:\n                        return processHoursFunction('[] dddd [').call(this);\n                }\n            },\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : ' %s',\n            past : '%s ',\n            s : ' ',\n            m : relativeTimeWithPlural,\n            mm : relativeTimeWithPlural,\n            h : '',\n            hh : relativeTimeWithPlural,\n            d : '',\n            dd : relativeTimeWithPlural,\n            M : '',\n            MM : relativeTimeWithPlural,\n            y : '',\n            yy : relativeTimeWithPlural\n        },\n        // M. E.: those two are virtually unused but a user might want to implement them for his/her website for some reason\n        meridiemParse: /|||/,\n        isPM: function (input) {\n            return /^(|)$/.test(input);\n        },\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 4) {\n                return '';\n            } else if (hour < 12) {\n                return '';\n            } else if (hour < 17) {\n                return '';\n            } else {\n                return '';\n            }\n        },\n        ordinalParse: /\\d{1,2}-(|)/,\n        ordinal: function (number, period) {\n            switch (period) {\n                case 'M':\n                case 'd':\n                case 'DDD':\n                case 'w':\n                case 'W':\n                    return number + '-';\n                case 'D':\n                    return number + '-';\n                default:\n                    return number;\n            }\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n\n    return uk;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/uk.js\n ** module id = 175\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Uzbek [uz]\n//! author : Sardor Muminov : https://github.com/muminoff\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var uz = moment.defineLocale('uz', {\n        months : '___________'.split('_'),\n        monthsShort : '___________'.split('_'),\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'D MMMM YYYY, dddd HH:mm'\n        },\n        calendar : {\n            sameDay : '[ ] LT []',\n            nextDay : '[] LT []',\n            nextWeek : 'dddd [ ] LT []',\n            lastDay : '[ ] LT []',\n            lastWeek : '[] dddd [ ] LT []',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : ' %s ',\n            past : '  %s ',\n            s : '',\n            m : ' ',\n            mm : '%d ',\n            h : ' ',\n            hh : '%d ',\n            d : ' ',\n            dd : '%d ',\n            M : ' ',\n            MM : '%d ',\n            y : ' ',\n            yy : '%d '\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return uz;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/uz.js\n ** module id = 176\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Vietnamese [vi]\n//! author : Bang Nguyen : https://github.com/bangnk\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var vi = moment.defineLocale('vi', {\n        months : 'thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12'.split('_'),\n        monthsShort : 'Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12'.split('_'),\n        monthsParseExact : true,\n        weekdays : 'ch nht_th hai_th ba_th t_th nm_th su_th by'.split('_'),\n        weekdaysShort : 'CN_T2_T3_T4_T5_T6_T7'.split('_'),\n        weekdaysMin : 'CN_T2_T3_T4_T5_T6_T7'.split('_'),\n        weekdaysParseExact : true,\n        meridiemParse: /sa|ch/i,\n        isPM : function (input) {\n            return /^ch$/i.test(input);\n        },\n        meridiem : function (hours, minutes, isLower) {\n            if (hours < 12) {\n                return isLower ? 'sa' : 'SA';\n            } else {\n                return isLower ? 'ch' : 'CH';\n            }\n        },\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM [nm] YYYY',\n            LLL : 'D MMMM [nm] YYYY HH:mm',\n            LLLL : 'dddd, D MMMM [nm] YYYY HH:mm',\n            l : 'DD/M/YYYY',\n            ll : 'D MMM YYYY',\n            lll : 'D MMM YYYY HH:mm',\n            llll : 'ddd, D MMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay: '[Hm nay lc] LT',\n            nextDay: '[Ngy mai lc] LT',\n            nextWeek: 'dddd [tun ti lc] LT',\n            lastDay: '[Hm qua lc] LT',\n            lastWeek: 'dddd [tun ri lc] LT',\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : '%s ti',\n            past : '%s trc',\n            s : 'vi giy',\n            m : 'mt pht',\n            mm : '%d pht',\n            h : 'mt gi',\n            hh : '%d gi',\n            d : 'mt ngy',\n            dd : '%d ngy',\n            M : 'mt thng',\n            MM : '%d thng',\n            y : 'mt nm',\n            yy : '%d nm'\n        },\n        ordinalParse: /\\d{1,2}/,\n        ordinal : function (number) {\n            return number;\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return vi;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/vi.js\n ** module id = 177\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Pseudo [x-pseudo]\n//! author : Andrew Hood : https://github.com/andrewhood125\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var x_pseudo = moment.defineLocale('x-pseudo', {\n        months : 'J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr'.split('_'),\n        monthsShort : 'J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc'.split('_'),\n        monthsParseExact : true,\n        weekdays : 'S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d'.split('_'),\n        weekdaysShort : 'S~_~M_~T_~Wd_~Th_~Fr_~St'.split('_'),\n        weekdaysMin : 'S~_M~_T_~W_T~h_Fr~_S'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd, D MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay : '[T~d~ t] LT',\n            nextDay : '[T~m~rr~w t] LT',\n            nextWeek : 'dddd [t] LT',\n            lastDay : '[~st~rd~ t] LT',\n            lastWeek : '[L~st] dddd [t] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : '~ %s',\n            past : '%s ~g',\n            s : ' ~fw ~sc~ds',\n            m : ' ~m~t',\n            mm : '%d m~~ts',\n            h : '~ h~r',\n            hh : '%d h~rs',\n            d : ' ~d',\n            dd : '%d d~s',\n            M : ' ~m~th',\n            MM : '%d m~t~hs',\n            y : ' ~r',\n            yy : '%d ~rs'\n        },\n        ordinalParse: /\\d{1,2}(th|st|nd|rd)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (~~(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        },\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return x_pseudo;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/x-pseudo.js\n ** module id = 178\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Chinese (China) [zh-cn]\n//! author : suupic : https://github.com/suupic\n//! author : Zeno Zeng : https://github.com/zenozeng\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var zh_cn = moment.defineLocale('zh-cn', {\n        months : '___________'.split('_'),\n        monthsShort : '1_2_3_4_5_6_7_8_9_10_11_12'.split('_'),\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'Ahmm',\n            LTS : 'Ahms',\n            L : 'YYYY-MM-DD',\n            LL : 'YYYYMMMD',\n            LLL : 'YYYYMMMDAhmm',\n            LLLL : 'YYYYMMMDddddAhmm',\n            l : 'YYYY-MM-DD',\n            ll : 'YYYYMMMD',\n            lll : 'YYYYMMMDAhmm',\n            llll : 'YYYYMMMDddddAhmm'\n        },\n        meridiemParse: /|||||/,\n        meridiemHour: function (hour, meridiem) {\n            if (hour === 12) {\n                hour = 0;\n            }\n            if (meridiem === '' || meridiem === '' ||\n                    meridiem === '') {\n                return hour;\n            } else if (meridiem === '' || meridiem === '') {\n                return hour + 12;\n            } else {\n                // ''\n                return hour >= 11 ? hour : hour + 12;\n            }\n        },\n        meridiem : function (hour, minute, isLower) {\n            var hm = hour * 100 + minute;\n            if (hm < 600) {\n                return '';\n            } else if (hm < 900) {\n                return '';\n            } else if (hm < 1130) {\n                return '';\n            } else if (hm < 1230) {\n                return '';\n            } else if (hm < 1800) {\n                return '';\n            } else {\n                return '';\n            }\n        },\n        calendar : {\n            sameDay : function () {\n                return this.minutes() === 0 ? '[]Ah[]' : '[]LT';\n            },\n            nextDay : function () {\n                return this.minutes() === 0 ? '[]Ah[]' : '[]LT';\n            },\n            lastDay : function () {\n                return this.minutes() === 0 ? '[]Ah[]' : '[]LT';\n            },\n            nextWeek : function () {\n                var startOfWeek, prefix;\n                startOfWeek = moment().startOf('week');\n                prefix = this.diff(startOfWeek, 'days') >= 7 ? '[]' : '[]';\n                return this.minutes() === 0 ? prefix + 'dddAh' : prefix + 'dddAhmm';\n            },\n            lastWeek : function () {\n                var startOfWeek, prefix;\n                startOfWeek = moment().startOf('week');\n                prefix = this.unix() < startOfWeek.unix()  ? '[]' : '[]';\n                return this.minutes() === 0 ? prefix + 'dddAh' : prefix + 'dddAhmm';\n            },\n            sameElse : 'LL'\n        },\n        ordinalParse: /\\d{1,2}(||)/,\n        ordinal : function (number, period) {\n            switch (period) {\n                case 'd':\n                case 'D':\n                case 'DDD':\n                    return number + '';\n                case 'M':\n                    return number + '';\n                case 'w':\n                case 'W':\n                    return number + '';\n                default:\n                    return number;\n            }\n        },\n        relativeTime : {\n            future : '%s',\n            past : '%s',\n            s : '',\n            m : '1 ',\n            mm : '%d ',\n            h : '1 ',\n            hh : '%d ',\n            d : '1 ',\n            dd : '%d ',\n            M : '1 ',\n            MM : '%d ',\n            y : '1 ',\n            yy : '%d '\n        },\n        week : {\n            // GB/T 7408-1994ISO 8601:1988\n            dow : 1, // Monday is the first day of the week.\n            doy : 4  // The week that contains Jan 4th is the first week of the year.\n        }\n    });\n\n    return zh_cn;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/zh-cn.js\n ** module id = 179\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","//! moment.js locale configuration\n//! locale : Chinese (Taiwan) [zh-tw]\n//! author : Ben : https://github.com/ben-lin\n//! author : Chris Lam : https://github.com/hehachris\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var zh_tw = moment.defineLocale('zh-tw', {\n        months : '___________'.split('_'),\n        monthsShort : '1_2_3_4_5_6_7_8_9_10_11_12'.split('_'),\n        weekdays : '______'.split('_'),\n        weekdaysShort : '______'.split('_'),\n        weekdaysMin : '______'.split('_'),\n        longDateFormat : {\n            LT : 'Ahmm',\n            LTS : 'Ahms',\n            L : 'YYYYMMMD',\n            LL : 'YYYYMMMD',\n            LLL : 'YYYYMMMDAhmm',\n            LLLL : 'YYYYMMMDddddAhmm',\n            l : 'YYYYMMMD',\n            ll : 'YYYYMMMD',\n            lll : 'YYYYMMMDAhmm',\n            llll : 'YYYYMMMDddddAhmm'\n        },\n        meridiemParse: /|||||/,\n        meridiemHour : function (hour, meridiem) {\n            if (hour === 12) {\n                hour = 0;\n            }\n            if (meridiem === '' || meridiem === '' || meridiem === '') {\n                return hour;\n            } else if (meridiem === '') {\n                return hour >= 11 ? hour : hour + 12;\n            } else if (meridiem === '' || meridiem === '') {\n                return hour + 12;\n            }\n        },\n        meridiem : function (hour, minute, isLower) {\n            var hm = hour * 100 + minute;\n            if (hm < 600) {\n                return '';\n            } else if (hm < 900) {\n                return '';\n            } else if (hm < 1130) {\n                return '';\n            } else if (hm < 1230) {\n                return '';\n            } else if (hm < 1800) {\n                return '';\n            } else {\n                return '';\n            }\n        },\n        calendar : {\n            sameDay : '[]LT',\n            nextDay : '[]LT',\n            nextWeek : '[]ddddLT',\n            lastDay : '[]LT',\n            lastWeek : '[]ddddLT',\n            sameElse : 'L'\n        },\n        ordinalParse: /\\d{1,2}(||)/,\n        ordinal : function (number, period) {\n            switch (period) {\n                case 'd' :\n                case 'D' :\n                case 'DDD' :\n                    return number + '';\n                case 'M' :\n                    return number + '';\n                case 'w' :\n                case 'W' :\n                    return number + '';\n                default :\n                    return number;\n            }\n        },\n        relativeTime : {\n            future : '%s',\n            past : '%s',\n            s : '',\n            m : '1 ',\n            mm : '%d ',\n            h : '1 ',\n            hh : '%d ',\n            d : '1 ',\n            dd : '%d ',\n            M : '1 ',\n            MM : '%d ',\n            y : '1 ',\n            yy : '%d '\n        }\n    });\n\n    return zh_tw;\n\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/moment/locale/zh-tw.js\n ** module id = 180\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","_                    = require(\"lodash\")\nPaginationCollection = require(\"../pagination_collection\")\nProjectModel         = require(\"./project_model\")\n\nclass ProjectCollection extends PaginationCollection\n\n  model : ProjectModel\n  url : \"/api/projects\"\n  idAttribute : \"name\"\n  sortAttribute : \"name\"\n\nmodule.exports = ProjectCollection\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/admin/models/project/project_collection.coffee\n **/","_        = require(\"lodash\")\nbackbone = require(\"backbone\")\n\nclass ProjectModel extends Backbone.Model\n\n  urlRoot : \"/api/projects\"\n\n  default :\n    owner :\n      firstName : \"\"\n      lastName : \"\"\n    priority: 100\n\n  parse : (response)->\n\n    # set some sensible defaults\n    response.owner ||= @default.owner\n    return response\n\n\n  destroy : (options) ->\n\n    _.extend(options, {url : \"/api/projects/#{@get(\"name\")}\"})\n    super(options)\n\nmodule.exports = ProjectModel\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/admin/models/project/project_model.coffee\n **/","module.exports = jsRoutes;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jsRoutes\"\n ** module id = 183\n ** module chunks = 1 2 3 6 7 8\n **/","_          = require(\"lodash\")\nMarionette = require(\"backbone.marionette\")\nClipboard  = require(\"clipboard-js\")\nToast      = require(\"libs/toast\")\n\nclass ShareModalView extends Marionette.ItemView\n\n  className : \"modal fade\"\n  template : _.template(\"\"\"\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n          <h3>Share</h3>\n        </div>\n        <div class=\"modal-body container-fluid\">\n          <div class=\"form-group\">\n            <label for=\"task\">Shareable Link</label>\n            <div class=\"row\">\n              <div class=\"col-md-12\">\n                <div class=\"input-group\">\n                  <input type=\"text\" class=\"form-control\" readonly value=\"<%- getUrl() %>\"></input>\n                  <span class=\"input-group-btn\">\n                    <button class=\"btn btn-default copy-btn\" type=\"button\"><i class=\"fa fa-copy\"></i>Copy</button>\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button>\n        </div>\n      </div>\n    </div>\n  \"\"\")\n\n  templateHelpers :\n    getUrl : -> return ShareModalView::getUrl()\n\n\n  events :\n    \"click input\" : \"copyToClipboard\"\n    \"click .copy-btn\" : \"copyToClipboard\"\n\n\n  getUrl : ->\n\n      loc = window.location\n\n      # in readonly mode the pathname already contains \"/readonly\"\n      pathname = loc.pathname\n      pathname = pathname.replace(\"/readOnly\", \"\")\n\n      url = loc.origin + pathname + \"/readOnly\" + loc.hash\n      return url\n\n\n  show : ->\n\n    @$el.modal(\"show\")\n\n\n  copyToClipboard : ->\n\n    url = @getUrl()\n    Clipboard.copy(url).then(\n      -> Toast.success(\"Position copied to clipboard\")\n    )\n\nmodule.exports = ShareModalView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/action-bar/share_modal_view.coffee\n **/","//  Import support https://stackoverflow.com/questions/13673346/supporting-both-commonjs-and-amd\n(function(name, definition) {\n    if (typeof module != \"undefined\") module.exports = definition();\n    else if (typeof define == \"function\" && typeof define.amd == \"object\") define(definition);\n    else this[name] = definition();\n}(\"clipboard\", function() {\n\n  var clipboard = {};\n\n  clipboard.copy = (function() {\n    var _intercept = false;\n    var _data; // Map from data type (e.g. \"text/html\") to value.\n\n    document.addEventListener(\"copy\", function(e){\n      if (_intercept) {\n        _intercept = false;\n        for (var key in _data) {\n          e.clipboardData.setData(key, _data[key]);\n        }\n        e.preventDefault();\n      }\n    });\n\n    return function(data) {\n      return new Promise(function(resolve, reject) {\n        _intercept = true;\n        if (typeof data === \"string\") {\n          _data = {\"text/plain\": data};\n        } else if (data instanceof Node) {\n          _data = {\"text/html\": new XMLSerializer().serializeToString(data)};\n        } else {\n          _data = data;\n        }\n        try {\n          if (document.execCommand(\"copy\")) {\n            // document.execCommand is synchronous: http://www.w3.org/TR/2015/WD-clipboard-apis-20150421/#integration-with-rich-text-editing-apis\n            // So we can call resolve() back here.\n            resolve();\n          }\n          else {\n            _intercept = false;\n            reject(new Error(\"Unable to copy. Perhaps it's not available in your browser?\"));\n          }\n        }\n        catch (e) {\n          _intercept = false;\n          reject(e);\n        }\n      });\n    };\n  }());\n\n  clipboard.paste = (function() {\n    var _intercept = false;\n    var _resolve;\n    var _dataType;\n\n    document.addEventListener(\"paste\", function(e) {\n      if (_intercept) {\n        _intercept = false;\n        e.preventDefault();\n        _resolve(e.clipboardData.getData(_dataType));\n      }\n    });\n\n    return function(dataType) {\n      return new Promise(function(resolve, reject) {\n        _intercept = true;\n        _resolve = resolve;\n        _dataType = dataType || \"text/plain\";\n        try {\n          if (!document.execCommand(\"paste\")) {\n            _intercept = false;\n            reject(new Error(\"Unable to paste. Pasting only works in Internet Explorer at the moment.\"));\n          }\n        } catch (e) {\n          _intercept = false;\n          reject(new Error(e));\n        }\n      });\n    };\n  }());\n\n  // Handle IE behaviour.\n  if (typeof ClipboardEvent === \"undefined\" &&\n      typeof window.clipboardData !== \"undefined\" &&\n      typeof window.clipboardData.setData !== \"undefined\") {\n\n    /*! promise-polyfill 2.0.1 */\n    (function(a){function b(a,b){return function(){a.apply(b,arguments)}}function c(a){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof a)throw new TypeError(\"not a function\");this._state=null,this._value=null,this._deferreds=[],i(a,b(e,this),b(f,this))}function d(a){var b=this;return null===this._state?void this._deferreds.push(a):void j(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)return void(b._state?a.resolve:a.reject)(b._value);var d;try{d=c(b._value)}catch(e){return void a.reject(e)}a.resolve(d)})}function e(a){try{if(a===this)throw new TypeError(\"A promise cannot be resolved with itself.\");if(a&&(\"object\"==typeof a||\"function\"==typeof a)){var c=a.then;if(\"function\"==typeof c)return void i(b(c,a),b(e,this),b(f,this))}this._state=!0,this._value=a,g.call(this)}catch(d){f.call(this,d)}}function f(a){this._state=!1,this._value=a,g.call(this)}function g(){for(var a=0,b=this._deferreds.length;b>a;a++)d.call(this,this._deferreds[a]);this._deferreds=null}function h(a,b,c,d){this.onFulfilled=\"function\"==typeof a?a:null,this.onRejected=\"function\"==typeof b?b:null,this.resolve=c,this.reject=d}function i(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){if(d)return;d=!0,c(e)}}var j=c.immediateFn||\"function\"==typeof setImmediate&&setImmediate||function(a){setTimeout(a,1)},k=Array.isArray||function(a){return\"[object Array]\"===Object.prototype.toString.call(a)};c.prototype[\"catch\"]=function(a){return this.then(null,a)},c.prototype.then=function(a,b){var e=this;return new c(function(c,f){d.call(e,new h(a,b,c,f))})},c.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&k(arguments[0])?arguments[0]:arguments);return new c(function(b,c){function d(f,g){try{if(g&&(\"object\"==typeof g||\"function\"==typeof g)){var h=g.then;if(\"function\"==typeof h)return void h.call(g,function(a){d(f,a)},c)}a[f]=g,0===--e&&b(a)}catch(i){c(i)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)d(f,a[f])})},c.resolve=function(a){return a&&\"object\"==typeof a&&a.constructor===c?a:new c(function(b){b(a)})},c.reject=function(a){return new c(function(b,c){c(a)})},c.race=function(a){return new c(function(b,c){for(var d=0,e=a.length;e>d;d++)a[d].then(b,c)})},\"undefined\"!=typeof module&&module.exports?module.exports=c:a.Promise||(a.Promise=c)})(this);\n\n    clipboard.copy = function(data) {\n      return new Promise(function(resolve, reject) {\n        // IE supports string and URL types: https://msdn.microsoft.com/en-us/library/ms536744(v=vs.85).aspx\n        // We only support the string type for now.\n        if (typeof data !== \"string\" && !(\"text/plain\" in data)) {\n          throw new Error(\"You must provide a text/plain type.\")\n        }\n\n        var strData = (typeof data === \"string\" ? data : data[\"text/plain\"]);\n        var copySucceeded = window.clipboardData.setData(\"Text\", strData);\n        copySucceeded ? resolve() : reject(new Error(\"Copying was rejected.\"));\n      });\n    };\n\n    clipboard.paste = function(data) {\n      return new Promise(function(resolve, reject) {\n        var strData = window.clipboardData.getData(\"Text\");\n        if (strData) {\n          resolve(strData);\n        } else {\n          // The user rejected the paste request.\n          reject(new Error(\"Pasting was rejected.\"));\n        }\n      });\n    };\n  }\n\n  return clipboard;\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/clipboard-js/clipboard.js\n ** module id = 185\n ** module chunks = 1 9\n **/","var nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timers-browserify/main.js\n ** module id = 186\n ** module chunks = 1 9\n **/","Marionette = require(\"backbone.marionette\")\nClipboard  = require(\"clipboard-js\")\napp        = require(\"app\")\nconstants  = require(\"oxalis/constants\")\nutils      = require(\"libs/utils\")\nToast      = require(\"libs/toast\")\n{V3}       = require(\"libs/mjs\")\n\nclass DatasetPositionView extends Marionette.ItemView\n\n  tagName : \"div\"\n  className : \"form-inline dataset-position-view\"\n  template : _.template(\"\"\"\n    <div class=\"form-group\">\n      <div class=\"input-group\">\n        <span class=\"input-group-btn\">\n          <button class=\"btn btn-primary\">Position</button>\n        </span>\n        <input id=\"trace-position-input\" class=\"form-control\" type=\"text\" value=\"<%- position() %>\">\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <% if(isArbitrayMode) { %>\n        <div class=\"input-group\">\n          <span class=\"input-group-addon\">Rotation</span>\n          <input id=\"trace-rotation-input\" class=\"form-control\" type=\"text\" value=\"<%- rotation() %>\">\n        </div>\n      <% } %>\n    </div>\n  \"\"\")\n\n  templateHelpers :\n    position : ->\n      V3.floor(@flycam.getPosition()).join(\", \")\n\n    rotation : ->\n      V3.round(@flycam3d.getRotation()).join(\", \")\n\n\n  events :\n    \"change #trace-position-input\" : \"changePosition\"\n    \"change #trace-rotation-input\" : \"changeRotation\"\n    \"click button\" : \"copyToClipboard\"\n\n  ui :\n    \"positionInput\" : \"#trace-position-input\"\n    \"rotationInput\" : \"#trace-rotation-input\"\n\n\n  initialize : (options) ->\n\n    @viewMode = constants.MODE_PLANE_TRACING\n    @listenTo(@model, \"change:mode\", @updateViewMode)\n\n    # TODO MEASURE PERFORMANCE HIT BECAUSE OF CONSTANT RE-RENDER\n    @listenTo(@model.get(\"flycam3d\"), \"changed\", @render)\n    @listenTo(@model.get(\"flycam\"), \"positionChanged\", @render)\n\n\n  serializeData : ->\n\n    return _.extend(@model, {\n      isArbitrayMode : @viewMode in constants.MODES_ARBITRARY\n    })\n\n\n  updateViewMode : (@viewMode) ->\n\n    @render()\n\n\n  changePosition : (event) ->\n\n    posArray = utils.stringToNumberArray(event.target.value)\n    if posArray.length == 3\n      @model.flycam.setPosition(posArray)\n      app.vent.trigger(\"centerTDView\")\n      @ui.positionInput.get(0).setCustomValidity(\"\")\n    else\n      @ui.positionInput.get(0).setCustomValidity(\"Please supply a valid position, like 1,1,1!\")\n      @ui.positionInput.get(0).reportValidity()\n    return\n\n\n  changeRotation : (event) ->\n\n    rotArray = utils.stringToNumberArray(event.target.value)\n    if rotArray.length == 3\n      @model.flycam3d.setRotation(rotArray)\n      @ui.rotationInput.get(0).setCustomValidity(\"\")\n    else\n      @ui.rotationInput.get(0).setCustomValidity(\"Please supply a valid rotation, like 1,1,1!\")\n      @ui.rotationInput.get(0).reportValidity()\n    return\n\n\n  copyToClipboard : (evt) ->\n\n    evt.preventDefault()\n\n    positionString = @ui.positionInput.val()\n    Clipboard.copy(positionString).then(\n      -> Toast.success(\"Position copied to clipboard\")\n    )\n\n  onDestroy : ->\n\n    @model.flycam3d.off(\"changed\")\n    @model.flycam.off(\"positionChanged\")\n\nmodule.exports = DatasetPositionView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/action-bar/dataset_position_view.coffee\n **/","$ = require(\"jquery\")\n_ = require(\"lodash\")\n\nUtils =\n\n\n  clamp : (a, x, b) ->\n\n    Math.max(a, Math.min(b, x))\n\n\n  zeroPad : (num, zeros = 0) ->\n\n    num = \"#{num}\"\n    while num.length < zeros\n      num = \"0#{num}\"\n    num\n\n\n  unflatten : (array, tupleSize) ->\n\n    for i in [0...array.length] by tupleSize\n      array.slice(i, i + tupleSize)\n\n\n  # sums up an array\n  sum : (array, iterator) ->\n\n    if _.isString(iterator) or _.isNumber(iterator)\n      array.reduce(( (r, a) -> r + a[iterator] ), 0)\n    else\n      array.reduce(( (r, a) -> r + a ), 0)\n\n\n  roundTo : (value, digits) ->\n\n    digitMultiplier = Math.pow(10, digits)\n    return Math.round(value * digitMultiplier) / digitMultiplier\n\n\n  intToHex : (int, digits=6) ->\n\n    return (_.repeat(\"0\", digits) + int.toString( 16 )).slice(-digits)\n\n\n  rgbToHex : (color) ->\n\n    return \"#\" + color.map( (int) -> Utils.intToHex(int, 2) ).join(\"\")\n\n\n  hexToRgb : (hex) ->\n\n    bigint = parseInt(hex[1..], 16)\n    r = (bigint >> 16) & 255\n    g = (bigint >> 8) & 255\n    b = bigint & 255\n\n    return [r, g, b]\n\n\n  stringToNumberArray : (s) ->\n\n    # remove leading/trailing whitespaces\n    s = s.trim()\n    # replace remaining whitespaces with commata\n    s = s.replace /,?\\s+,?/g, \",\"\n    stringArray = s.split(\",\")\n\n    result = []\n    for e in stringArray\n      if not isNaN(newEl = parseFloat(e))\n        result.push(newEl)\n\n    return result\n\n\n  loaderTemplate : ->\n\n    return \"\"\"\n      <div id=\"loader-icon\">\n        <i class=\"fa fa-spinner fa-spin fa-4x\"></i>\n        <br>Loading\n      </div>\"\"\"\n\n\n  isElementInViewport : (el) ->\n\n    #special bonus for those using jQuery\n    if typeof jQuery == \"function\" && el instanceof jQuery\n      el = el[0]\n\n\n    rect = el.getBoundingClientRect()\n\n    return (\n      rect.top >= 0 &&\n      rect.left >= 0 &&\n      rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n      rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n    )\n\n\n  # this is insecure and must not be used for security related functionality\n  isUserAdmin : (user) ->\n    if not user?\n      return false\n    else\n      return _.findIndex(user.get(\"teams\"), (team) ->\n        team.role.name == \"admin\"\n      ) >= 0\n\nmodule.exports = Utils\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/libs/utils.coffee\n **/","{ M4x4, V2, V3 }  = require(\"mjs\")(Float32Array);\n\n# Applies an affine transformation matrix on an array of points.\nM4x4.transformPointsAffine = (m, points, r = new Float32Array(points.length)) ->\n\n  m00 = m[0]\n  m01 = m[1]\n  m02 = m[2]\n  m10 = m[4]\n  m11 = m[5]\n  m12 = m[6]\n  m20 = m[8]\n  m21 = m[9]\n  m22 = m[10]\n  m30 = m[12]\n  m31 = m[13]\n  m32 = m[14]\n\n  for i in [0...points.length] by 3\n    v0 = points[i]\n    v1 = points[i + 1]\n    v2 = points[i + 2]\n\n    r[i]     = m00 * v0 + m10 * v1 + m20 * v2 + m30\n    r[i + 1] = m01 * v0 + m11 * v1 + m21 * v2 + m31\n    r[i + 2] = m02 * v0 + m12 * v1 + m22 * v2 + m32\n\n  r\n\n\n# Applies a transformation matrix on an array of points.\nM4x4.transformPoints = (m, points, r = new Float32Array(points.length)) ->\n\n  for i in [0...points.length] by 3\n    v0 = points[i]\n    v1 = points[i + 1]\n    v2 = points[i + 2]\n\n    r[i]     = m[0] * v0 + m[4] * v1 + m[8] * v2 + m[12]\n    r[i + 1] = m[1] * v0 + m[5] * v1 + m[9] * v2 + m[13]\n    r[i + 2] = m[2] * v0 + m[6] * v1 + m[10] * v2 + m[14]\n    w        = m[3] * v0 + m[7] * v1 + m[11] * v2 + m[15]\n\n    if w != 1.0\n      r[0] /= w\n      r[1] /= w\n      r[2] /= w\n\n  r\n\n\nM4x4.inverse = (mat, dest = new Float32Array(16)) ->\n\n  # cache matrix values\n  a00 = mat[0]\n  a01 = mat[1]\n  a02 = mat[2]\n  a03 = mat[3]\n  a10 = mat[4]\n  a11 = mat[5]\n  a12 = mat[6]\n  a13 = mat[7]\n  a20 = mat[8]\n  a21 = mat[9]\n  a22 = mat[10]\n  a23 = mat[11]\n  a30 = mat[12]\n  a31 = mat[13]\n  a32 = mat[14]\n  a33 = mat[15]\n  b00 = a00 * a11 - a01 * a10\n  b01 = a00 * a12 - a02 * a10\n  b02 = a00 * a13 - a03 * a10\n  b03 = a01 * a12 - a02 * a11\n  b04 = a01 * a13 - a03 * a11\n  b05 = a02 * a13 - a03 * a12\n  b06 = a20 * a31 - a21 * a30\n  b07 = a20 * a32 - a22 * a30\n  b08 = a20 * a33 - a23 * a30\n  b09 = a21 * a32 - a22 * a31\n  b10 = a21 * a33 - a23 * a31\n  b11 = a22 * a33 - a23 * a32\n\n  # calculate determinant\n  invDet = 1 / (b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06)\n\n  dest = []\n  dest[0] = (a11 * b11 - a12 * b10 + a13 * b09) * invDet\n  dest[1] = (-a01 * b11 + a02 * b10 - a03 * b09) * invDet\n  dest[2] = (a31 * b05 - a32 * b04 + a33 * b03) * invDet\n  dest[3] = (-a21 * b05 + a22 * b04 - a23 * b03) * invDet\n  dest[4] = (-a10 * b11 + a12 * b08 - a13 * b07) * invDet\n  dest[5] = (a00 * b11 - a02 * b08 + a03 * b07) * invDet\n  dest[6] = (-a30 * b05 + a32 * b02 - a33 * b01) * invDet\n  dest[7] = (a20 * b05 - a22 * b02 + a23 * b01) * invDet\n  dest[8] = (a10 * b10 - a11 * b08 + a13 * b06) * invDet\n  dest[9] = (-a00 * b10 + a01 * b08 - a03 * b06) * invDet\n  dest[10] = (a30 * b04 - a31 * b02 + a33 * b00) * invDet\n  dest[11] = (-a20 * b04 + a21 * b02 - a23 * b00) * invDet\n  dest[12] = (-a10 * b09 + a11 * b07 - a12 * b06) * invDet\n  dest[13] = (a00 * b09 - a01 * b07 + a02 * b06) * invDet\n  dest[14] = (-a30 * b03 + a31 * b01 - a32 * b00) * invDet\n  dest[15] = (a20 * b03 - a21 * b01 + a22 * b00) * invDet\n\n  return dest\n\n\nM4x4.extractTranslation = (m, r = new Float32Array(3)) ->\n\n  r[0] = m[12]\n  r[1] = m[13]\n  r[2] = m[14]\n  return r\n\n\nV3.round = (v, r = new Float32Array(3)) ->\n\n  r[0] = Math.round(v[0])\n  r[1] = Math.round(v[1])\n  r[2] = Math.round(v[2])\n  return r\n\n\nV3.floor = (v) ->\n\n  return v.map((number) -> Math.floor(number))\n\n\nV3.toString = (v) ->\n\n  return v.join(\", \")\n\nmodule.exports = { M4x4, V2, V3 }\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/libs/mjs.coffee\n **/","\"use strict\";\n\n/* -*- Mode: js2; js2-basic-offset: 4; indent-tabs-mode: nil; tab-width: 40; -*- */\n/*\n * Copyright (c) 2010 Mozilla Corporation\n * Copyright (c) 2010 Vladimir Vukicevic\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/*\n * File: mjs\n *\n * Vector and Matrix math utilities for JavaScript, optimized for WebGL.\n */\n\nmodule.exports = MJS;\nfunction MJS(MJS_FLOAT_ARRAY_TYPE) {\n\n\tvar mJS = {};\n\n\tif(!MJS_FLOAT_ARRAY_TYPE) {\n\t\tif(typeof Float32Array === \"undefined\") {\n\t\t\tMJS_FLOAT_ARRAY_TYPE = Array;\n\t\t} else if(typeof WebGLFloatArray === \"undefined\") {\n\t\t\tMJS_FLOAT_ARRAY_TYPE = Float32Array;\n\t\t} else {\n\t\t\tMJS_FLOAT_ARRAY_TYPE = WebGLFloatArray;\n\t\t}\n\t}\n\n\t// Some hacks for running in both the shell and browser,\n\t// and for supporting F32 and WebGLFloat arrays\n\t//    try { WebGLFloatArray; } catch (x) { WebGLFloatArray = Float32Array; }\n\n\t/*\n\t * Constant: MJS_FLOAT_ARRAY_TYPE\n\t *\n\t * The base float array type.  By default, WebGLFloatArray.\n\t *\n\t * mjs can work with any array-like elements, but if an array\n\t * creation is requested, it will create an array of the type\n\t * MJS_FLOAT_ARRAY_TYPE.  Also, the builtin constants such as (M4x4.I)\n\t * will be of this type.\n\t */\n\n\t/*\n\t * Class: V2\n\t *\n\t * Methods for working with 2-element vectors.  A vector is represented by a 2-element array.\n\t * Any valid JavaScript array type may be used, but if new\n\t * vectors are created they are created using the configured MJS_FLOAT_ARRAY_TYPE.\n\t */\n\n\tvar V2 = { };\n\tmJS.V2 = V2;\n\n\tV2._temp1 = new MJS_FLOAT_ARRAY_TYPE(2);\n\tV2._temp2 = new MJS_FLOAT_ARRAY_TYPE(2);\n\tV2._temp3 = new MJS_FLOAT_ARRAY_TYPE(2);\n\n\tif (MJS_FLOAT_ARRAY_TYPE == Array) {\n\t\tV2.x = [1.0, 0.0];\n\t\tV2.y = [0.0, 1.0];\n\n\t\tV2.$ = function V2_$(x, y) {\n\t\t\treturn [x, y];\n\t\t};\n\n\t\tV2.clone = function V2_clone(a) {\n\t\t\treturn [a[0], a[1]];\n\t\t};\n\t} else {\n\t\tV2.x = new MJS_FLOAT_ARRAY_TYPE([1.0, 0.0]);\n\t\tV2.y = new MJS_FLOAT_ARRAY_TYPE([0.0, 1.0]);\n\n\t/*\n\t * Function: V2.$\n\t *\n\t * Creates a new 2-element vector with the given values.\n\t *\n\t * Parameters:\n\t *\n\t *   x,y - the 2 elements of the new vector.\n\t *\n\t * Returns:\n\t *\n\t * A new vector containing with the given argument values.\n\t */\n\n\t\tV2.$ = function V2_$(x, y) {\n\t\t\treturn new MJS_FLOAT_ARRAY_TYPE([x, y]);\n\t\t};\n\n\t/*\n\t * Function: V2.clone\n\t *\n\t * Clone the given 2-element vector.\n\t *\n\t * Parameters:\n\t *\n\t *   a - the 2-element vector to clone\n\t *\n\t * Returns:\n\t *\n\t * A new vector with the same values as the passed-in one.\n\t */\n\n\t\tV2.clone = function V2_clone(a) {\n\t\t\treturn new MJS_FLOAT_ARRAY_TYPE(a);\n\t\t};\n\t}\n\n\tV2.u = V2.x;\n\tV2.v = V2.y;\n\n\t/*\n\t * Function: V2.add\n\t *\n\t * Perform r = a + b.\n\t *\n\t * Parameters:\n\t *\n\t *   a - the first vector operand\n\t *   b - the second vector operand\n\t *   r - optional vector to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after performing the operation.\n\t *   Otherwise, returns a new 2-element vector with the result.\n\t */\n\tV2.add = function V2_add(a, b, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(2);\n\t\tr[0] = a[0] + b[0];\n\t\tr[1] = a[1] + b[1];\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: V2.sub\n\t *\n\t * Perform\n\t * r = a - b.\n\t *\n\t * Parameters:\n\t *\n\t *   a - the first vector operand\n\t *   b - the second vector operand\n\t *   r - optional vector to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after performing the operation.\n\t *   Otherwise, returns a new 2-element vector with the result.\n\t */\n\tV2.sub = function V2_sub(a, b, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(2);\n\t\tr[0] = a[0] - b[0];\n\t\tr[1] = a[1] - b[1];\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: V2.neg\n\t *\n\t * Perform\n\t * r = - a.\n\t *\n\t * Parameters:\n\t *\n\t *   a - the vector operand\n\t *   r - optional vector to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after performing the operation.\n\t *   Otherwise, returns a new 2-element vector with the result.\n\t */\n\tV2.neg = function V2_neg(a, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(2);\n\t\tr[0] = - a[0];\n\t\tr[1] = - a[1];\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: V2.direction\n\t *\n\t * Perform\n\t * r = (a - b) / |a - b|.  The result is the normalized\n\t * direction from a to b.\n\t *\n\t * Parameters:\n\t *\n\t *   a - the first vector operand\n\t *   b - the second vector operand\n\t *   r - optional vector to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after performing the operation.\n\t *   Otherwise, returns a new 2-element vector with the result.\n\t */\n\tV2.direction = function V2_direction(a, b, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(2);\n\t\treturn V2.normalize(V2.sub(a, b, r), r);\n\t};\n\n\t/*\n\t * Function: V2.length\n\t *\n\t * Perform r = |a|.\n\t *\n\t * Parameters:\n\t *\n\t *   a - the vector operand\n\t *\n\t * Returns:\n\t *\n\t *   The length of the given vector.\n\t */\n\tV2.length = function V2_length(a) {\n\t\treturn Math.sqrt(a[0]*a[0] + a[1]*a[1]);\n\t};\n\n\t/*\n\t * Function: V2.lengthSquard\n\t *\n\t * Perform r = |a|*|a|.\n\t *\n\t * Parameters:\n\t *\n\t *   a - the vector operand\n\t *\n\t * Returns:\n\t *\n\t *   The square of the length of the given vector.\n\t */\n\tV2.lengthSquared = function V2_lengthSquared(a) {\n\t\treturn a[0]*a[0] + a[1]*a[1];\n\t};\n\n\t/*\n\t * Function: V2.normalize\n\t *\n\t * Perform r = a / |a|.\n\t *\n\t * Parameters:\n\t *\n\t *   a - the vector operand\n\t *   r - optional vector to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after performing the operation.\n\t *   Otherwise, returns a new 2-element vector with the result.\n\t */\n\tV2.normalize = function V2_normalize(a, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(2);\n\t\tvar im = 1.0 / V2.length(a);\n\t\tr[0] = a[0] * im;\n\t\tr[1] = a[1] * im;\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: V2.scale\n\t *\n\t * Perform r = a * k.\n\t *\n\t * Parameters:\n\t *\n\t *   a - the vector operand\n\t *   k - a scalar value\n\t *   r - optional vector to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after performing the operation.\n\t *   Otherwise, returns a new 2-element vector with the result.\n\t */\n\tV2.scale = function V2_scale(a, k, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(2);\n\t\tr[0] = a[0] * k;\n\t\tr[1] = a[1] * k;\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: V2.dot\n\t *\n\t * Perform\n\t * r = dot(a, b).\n\t *\n\t * Parameters:\n\t *\n\t *   a - the first vector operand\n\t *   b - the second vector operand\n\t *\n\t * Returns:\n\t *\n\t *   The dot product of a and b.\n\t */\n\tV2.dot = function V2_dot(a, b) {\n\t\treturn a[0] * b[0] +\n\t\t\ta[1] * b[1];\n\t};\n\n\t/*\n\t * Class: V3\n\t *\n\t * Methods for working with 3-element vectors.  A vector is represented by a 3-element array.\n\t * Any valid JavaScript array type may be used, but if new\n\t * vectors are created they are created using the configured MJS_FLOAT_ARRAY_TYPE.\n\t */\n\n\tvar V3 = { };\n\tmJS.V3 = V3;\n\n\tV3._temp1 = new MJS_FLOAT_ARRAY_TYPE(3);\n\tV3._temp2 = new MJS_FLOAT_ARRAY_TYPE(3);\n\tV3._temp3 = new MJS_FLOAT_ARRAY_TYPE(3);\n\n\tif (MJS_FLOAT_ARRAY_TYPE == Array) {\n\t\tV3.x = [1.0, 0.0, 0.0];\n\t\tV3.y = [0.0, 1.0, 0.0];\n\t\tV3.z = [0.0, 0.0, 1.0];\n\n\t\tV3.$ = function V3_$(x, y, z) {\n\t\t\treturn [x, y, z];\n\t\t};\n\n\t\tV3.clone = function V3_clone(a) {\n\t\t\treturn [a[0], a[1], a[2]];\n\t\t};\n\t} else {\n\t\tV3.x = new MJS_FLOAT_ARRAY_TYPE([1.0, 0.0, 0.0]);\n\t\tV3.y = new MJS_FLOAT_ARRAY_TYPE([0.0, 1.0, 0.0]);\n\t\tV3.z = new MJS_FLOAT_ARRAY_TYPE([0.0, 0.0, 1.0]);\n\n\t/*\n\t * Function: V3.$\n\t *\n\t * Creates a new 3-element vector with the given values.\n\t *\n\t * Parameters:\n\t *\n\t *   x,y,z - the 3 elements of the new vector.\n\t *\n\t * Returns:\n\t *\n\t * A new vector containing with the given argument values.\n\t */\n\n\t\tV3.$ = function V3_$(x, y, z) {\n\t\t\treturn new MJS_FLOAT_ARRAY_TYPE([x, y, z]);\n\t\t};\n\n\t/*\n\t * Function: V3.clone\n\t *\n\t * Clone the given 3-element vector.\n\t *\n\t * Parameters:\n\t *\n\t *   a - the 3-element vector to clone\n\t *\n\t * Returns:\n\t *\n\t * A new vector with the same values as the passed-in one.\n\t */\n\n\t\tV3.clone = function V3_clone(a) {\n\t\t\treturn new MJS_FLOAT_ARRAY_TYPE(a);\n\t\t};\n\t}\n\n\tV3.u = V3.x;\n\tV3.v = V3.y;\n\n\t/*\n\t * Function: V3.add\n\t *\n\t * Perform r = a + b.\n\t *\n\t * Parameters:\n\t *\n\t *   a - the first vector operand\n\t *   b - the second vector operand\n\t *   r - optional vector to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after performing the operation.\n\t *   Otherwise, returns a new 3-element vector with the result.\n\t */\n\tV3.add = function V3_add(a, b, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(3);\n\t\tr[0] = a[0] + b[0];\n\t\tr[1] = a[1] + b[1];\n\t\tr[2] = a[2] + b[2];\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: V3.sub\n\t *\n\t * Perform\n\t * r = a - b.\n\t *\n\t * Parameters:\n\t *\n\t *   a - the first vector operand\n\t *   b - the second vector operand\n\t *   r - optional vector to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after performing the operation.\n\t *   Otherwise, returns a new 3-element vector with the result.\n\t */\n\tV3.sub = function V3_sub(a, b, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(3);\n\t\tr[0] = a[0] - b[0];\n\t\tr[1] = a[1] - b[1];\n\t\tr[2] = a[2] - b[2];\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: V3.neg\n\t *\n\t * Perform\n\t * r = - a.\n\t *\n\t * Parameters:\n\t *\n\t *   a - the vector operand\n\t *   r - optional vector to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after performing the operation.\n\t *   Otherwise, returns a new 3-element vector with the result.\n\t */\n\tV3.neg = function V3_neg(a, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(3);\n\t\tr[0] = - a[0];\n\t\tr[1] = - a[1];\n\t\tr[2] = - a[2];\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: V3.direction\n\t *\n\t * Perform\n\t * r = (a - b) / |a - b|.  The result is the normalized\n\t * direction from a to b.\n\t *\n\t * Parameters:\n\t *\n\t *   a - the first vector operand\n\t *   b - the second vector operand\n\t *   r - optional vector to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after performing the operation.\n\t *   Otherwise, returns a new 3-element vector with the result.\n\t */\n\tV3.direction = function V3_direction(a, b, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(3);\n\t\treturn V3.normalize(V3.sub(a, b, r), r);\n\t};\n\n\t/*\n\t * Function: V3.length\n\t *\n\t * Perform r = |a|.\n\t *\n\t * Parameters:\n\t *\n\t *   a - the vector operand\n\t *\n\t * Returns:\n\t *\n\t *   The length of the given vector.\n\t */\n\tV3.length = function V3_length(a) {\n\t\treturn Math.sqrt(a[0]*a[0] + a[1]*a[1] + a[2]*a[2]);\n\t};\n\n\t/*\n\t * Function: V3.lengthSquard\n\t *\n\t * Perform r = |a|*|a|.\n\t *\n\t * Parameters:\n\t *\n\t *   a - the vector operand\n\t *\n\t * Returns:\n\t *\n\t *   The square of the length of the given vector.\n\t */\n\tV3.lengthSquared = function V3_lengthSquared(a) {\n\t\treturn a[0]*a[0] + a[1]*a[1] + a[2]*a[2];\n\t};\n\n\t/*\n\t * Function: V3.normalize\n\t *\n\t * Perform r = a / |a|.\n\t *\n\t * Parameters:\n\t *\n\t *   a - the vector operand\n\t *   r - optional vector to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after performing the operation.\n\t *   Otherwise, returns a new 3-element vector with the result.\n\t */\n\tV3.normalize = function V3_normalize(a, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(3);\n\t\tvar im = 1.0 / V3.length(a);\n\t\tr[0] = a[0] * im;\n\t\tr[1] = a[1] * im;\n\t\tr[2] = a[2] * im;\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: V3.scale\n\t *\n\t * Perform r = a * k.\n\t *\n\t * Parameters:\n\t *\n\t *   a - the vector operand\n\t *   k - a scalar value\n\t *   r - optional vector to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after performing the operation.\n\t *   Otherwise, returns a new 3-element vector with the result.\n\t */\n\tV3.scale = function V3_scale(a, k, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(3);\n\t\tr[0] = a[0] * k;\n\t\tr[1] = a[1] * k;\n\t\tr[2] = a[2] * k;\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: V3.dot\n\t *\n\t * Perform\n\t * r = dot(a, b).\n\t *\n\t * Parameters:\n\t *\n\t *   a - the first vector operand\n\t *   b - the second vector operand\n\t *\n\t * Returns:\n\t *\n\t *   The dot product of a and b.\n\t */\n\tV3.dot = function V3_dot(a, b) {\n\t\treturn a[0] * b[0] +\n\t\t\ta[1] * b[1] +\n\t\t\ta[2] * b[2];\n\t};\n\n\t/*\n\t * Function: V3.cross\n\t *\n\t * Perform r = a x b.\n\t *\n\t * Parameters:\n\t *\n\t *   a - the first vector operand\n\t *   b - the second vector operand\n\t *   r - optional vector to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after performing the operation.\n\t *   Otherwise, returns a new 3-element vector with the result.\n\t */\n\tV3.cross = function V3_cross(a, b, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(3);\n\t\tr[0] = a[1]*b[2] - a[2]*b[1];\n\t\tr[1] = a[2]*b[0] - a[0]*b[2];\n\t\tr[2] = a[0]*b[1] - a[1]*b[0];\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: V3.mul4x4\n\t *\n\t * Perform\n\t * r = m * v.\n\t *\n\t * Parameters:\n\t *\n\t *   m - the 4x4 matrix operand\n\t *   v - the 3-element vector operand\n\t *   r - optional vector to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after performing the operation.\n\t *   Otherwise, returns a new 3-element vector with the result.\n\t *   The 4-element result vector is divided by the w component\n\t *   and returned as a 3-element vector.\n\t */\n\tV3.mul4x4 = function V3_mul4x4(m, v, r) {\n\t\tvar w;\n\t\tvar tmp = V3._temp1;\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(3);\n\t\ttmp[0] = m[ 3];\n\t\ttmp[1] = m[ 7];\n\t\ttmp[2] = m[11];\n\t\tw    =  V3.dot(v, tmp) + m[15];\n\t\ttmp[0] = m[ 0];\n\t\ttmp[1] = m[ 4];\n\t\ttmp[2] = m[ 8];\n\t\tr[0] = (V3.dot(v, tmp) + m[12])/w;\n\t\ttmp[0] = m[ 1];\n\t\ttmp[1] = m[ 5];\n\t\ttmp[2] = m[ 9];\n\t\tr[1] = (V3.dot(v, tmp) + m[13])/w;\n\t\ttmp[0] = m[ 2];\n\t\ttmp[1] = m[ 6];\n\t\ttmp[2] = m[10];\n\t\tr[2] = (V3.dot(v, tmp) + m[14])/w;\n\t\treturn r;\n\t};\n\n\t/*\n\t * Class: M4x4\n\t *\n\t * Methods for working with 4x4 matrices.  A matrix is represented by a 16-element array\n\t * in column-major order.  Any valid JavaScript array type may be used, but if new\n\t * matrices are created they are created using the configured MJS_FLOAT_ARRAY_TYPE.\n\t */\n\n\tvar M4x4 = { };\n\tmJS.M4x4 = M4x4;\n\n\tM4x4._temp1 = new MJS_FLOAT_ARRAY_TYPE(16);\n\tM4x4._temp2 = new MJS_FLOAT_ARRAY_TYPE(16);\n\n\tif (MJS_FLOAT_ARRAY_TYPE == Array) {\n\t\tM4x4.I = [1.0, 0.0, 0.0, 0.0,\n\t\t\t\t  0.0, 1.0, 0.0, 0.0,\n\t\t\t\t  0.0, 0.0, 1.0, 0.0,\n\t\t\t\t  0.0, 0.0, 0.0, 1.0];\n\n\t\tM4x4.$ = function M4x4_$(m00, m01, m02, m03,\n\t\t\t\t\t\t\t\t m04, m05, m06, m07,\n\t\t\t\t\t\t\t\t m08, m09, m10, m11,\n\t\t\t\t\t\t\t\t m12, m13, m14, m15)\n\t\t{\n\t\t\treturn [m00, m01, m02, m03,\n\t\t\t\t\tm04, m05, m06, m07,\n\t\t\t\t\tm08, m09, m10, m11,\n\t\t\t\t\tm12, m13, m14, m15];\n\t\t};\n\n\t\tM4x4.clone = function M4x4_clone(m) {\n\t\t\treturn [m[0], m[1], m[2], m[3],\n\t\t\t\t\tm[4], m[5], m[6], m[7],\n\t\t\t\t\tm[8], m[9], m[10], m[11],\n\t\t\t\t\tm[12], m[13], m[14], m[15]];\n\t\t};\n\t} else {\n\t\tM4x4.I = new MJS_FLOAT_ARRAY_TYPE([1.0, 0.0, 0.0, 0.0,\n\t\t\t\t\t\t\t\t\t   0.0, 1.0, 0.0, 0.0,\n\t\t\t\t\t\t\t\t\t   0.0, 0.0, 1.0, 0.0,\n\t\t\t\t\t\t\t\t\t   0.0, 0.0, 0.0, 1.0]);\n\n\t/*\n\t * Function: M4x4.$\n\t *\n\t * Creates a new 4x4 matrix with the given values.\n\t *\n\t * Parameters:\n\t *\n\t *   m00..m15 - the 16 elements of the new matrix.\n\t *\n\t * Returns:\n\t *\n\t * A new matrix filled with the given argument values.\n\t */\n\t\tM4x4.$ = function M4x4_$(m00, m01, m02, m03,\n\t\t\t\t\t\t\t\t m04, m05, m06, m07,\n\t\t\t\t\t\t\t\t m08, m09, m10, m11,\n\t\t\t\t\t\t\t\t m12, m13, m14, m15)\n\t\t{\n\t\t\treturn new MJS_FLOAT_ARRAY_TYPE([m00, m01, m02, m03,\n\t\t\t\t\t\t\t\t\t\t\t m04, m05, m06, m07,\n\t\t\t\t\t\t\t\t\t\t\t m08, m09, m10, m11,\n\t\t\t\t\t\t\t\t\t\t\t m12, m13, m14, m15]);\n\t\t};\n\n\t/*\n\t * Function: M4x4.clone\n\t *\n\t * Clone the given 4x4 matrix.\n\t *\n\t * Parameters:\n\t *\n\t *   m - the 4x4 matrix to clone\n\t *\n\t * Returns:\n\t *\n\t * A new matrix with the same values as the passed-in one.\n\t */\n\t\tM4x4.clone = function M4x4_clone(m) {\n\t\t\treturn new MJS_FLOAT_ARRAY_TYPE(m);\n\t\t};\n\t}\n\n\tM4x4.identity = M4x4.I;\n\n\t/*\n\t * Function: M4x4.topLeft3x3\n\t *\n\t * Return the top left 3x3 matrix from the given 4x4 matrix m.\n\t *\n\t * Parameters:\n\t *\n\t *   m - the matrix\n\t *   r - optional 3x3 matrix to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after performing the operation.\n\t *   Otherwise, returns a new 3x3 matrix with the result.\n\t */\n\tM4x4.topLeft3x3 = function M4x4_topLeft3x3(m, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(9);\n\t\tr[0] = m[0]; r[1] = m[1]; r[2] = m[2];\n\t\tr[3] = m[4]; r[4] = m[5]; r[5] = m[6];\n\t\tr[6] = m[8]; r[7] = m[9]; r[8] = m[10];\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: M4x4.inverseOrthonormal\n\t *\n\t * Computes the inverse of the given matrix m, assuming that\n\t * the matrix is orthonormal.\n\t *\n\t * Parameters:\n\t *\n\t *   m - the matrix\n\t *   r - optional 4x4 matrix to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after performing the operation.\n\t *   Otherwise, returns a new 4x4 matrix with the result.\n\t */\n\tM4x4.inverseOrthonormal = function M4x4_inverseOrthonormal(m, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(16);\n\t\tM4x4.transpose(m, r);\n\t\tvar t = [m[12], m[13], m[14]];\n\t\tr[3] = r[7] = r[11] = 0;\n\t\tr[12] = -V3.dot([r[0], r[4], r[8]], t);\n\t\tr[13] = -V3.dot([r[1], r[5], r[9]], t);\n\t\tr[14] = -V3.dot([r[2], r[6], r[10]], t);\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: M4x4.inverseTo3x3\n\t *\n\t * Computes the inverse of the given matrix m, but calculates\n\t * only the top left 3x3 values of the result.\n\t *\n\t * Parameters:\n\t *\n\t *   m - the matrix\n\t *   r - optional 3x3 matrix to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after performing the operation.\n\t *   Otherwise, returns a new 3x3 matrix with the result.\n\t */\n\tM4x4.inverseTo3x3 = function M4x4_inverseTo3x3(m, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(9);\n\n\t\tvar a11 = m[10]*m[5]-m[6]*m[9],\n\t\t\ta21 = -m[10]*m[1]+m[2]*m[9],\n\t\t\ta31 = m[6]*m[1]-m[2]*m[5],\n\t\t\ta12 = -m[10]*m[4]+m[6]*m[8],\n\t\t\ta22 = m[10]*m[0]-m[2]*m[8],\n\t\t\ta32 = -m[6]*m[0]+m[2]*m[4],\n\t\t\ta13 = m[9]*m[4]-m[5]*m[8],\n\t\t\ta23 = -m[9]*m[0]+m[1]*m[8],\n\t\t\ta33 = m[5]*m[0]-m[1]*m[4];\n\t\tvar det = m[0]*(a11) + m[1]*(a12) + m[2]*(a13);\n\t\tif (det == 0) // no inverse\n\t\t\tthrow \"matrix not invertible\";\n\t\tvar idet = 1.0 / det;\n\n\t\tr[0] = idet*a11;\n\t\tr[1] = idet*a21;\n\t\tr[2] = idet*a31;\n\t\tr[3] = idet*a12;\n\t\tr[4] = idet*a22;\n\t\tr[5] = idet*a32;\n\t\tr[6] = idet*a13;\n\t\tr[7] = idet*a23;\n\t\tr[8] = idet*a33;\n\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: M4x4.makeFrustum\n\t *\n\t * Creates a matrix for a projection frustum with the given parameters.\n\t *\n\t * Parameters:\n\t *\n\t *   left - the left coordinate of the frustum\n\t *   right- the right coordinate of the frustum\n\t *   bottom - the bottom coordinate of the frustum\n\t *   top - the top coordinate of the frustum\n\t *   znear - the near z distance of the frustum\n\t *   zfar - the far z distance of the frustum\n\t *   r - optional 4x4 matrix to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after creating the projection matrix.\n\t *   Otherwise, returns a new 4x4 matrix.\n\t */\n\tM4x4.makeFrustum = function M4x4_makeFrustum(left, right, bottom, top, znear, zfar, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(16);\n\n\t\tvar X = 2*znear/(right-left);\n\t\tvar Y = 2*znear/(top-bottom);\n\t\tvar A = (right+left)/(right-left);\n\t\tvar B = (top+bottom)/(top-bottom);\n\t\tvar C = -(zfar+znear)/(zfar-znear);\n\t\tvar D = -2*zfar*znear/(zfar-znear);\n\n\t\tr[0] = 2*znear/(right-left);\n\t\tr[1] = 0;\n\t\tr[2] = 0;\n\t\tr[3] = 0;\n\t\tr[4] = 0;\n\t\tr[5] = 2*znear/(top-bottom);\n\t\tr[6] = 0;\n\t\tr[7] = 0;\n\t\tr[8] = (right+left)/(right-left);\n\t\tr[9] = (top+bottom)/(top-bottom);\n\t\tr[10] = -(zfar+znear)/(zfar-znear);\n\t\tr[11] = -1;\n\t\tr[12] = 0;\n\t\tr[13] = 0;\n\t\tr[14] = -2*zfar*znear/(zfar-znear);\n\t\tr[15] = 0;\n\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: M4x4.makePerspective\n\t *\n\t * Creates a matrix for a perspective projection with the given parameters.\n\t *\n\t * Parameters:\n\t *\n\t *   fovy - field of view in the y axis, in degrees\n\t *   aspect - aspect ratio\n\t *   znear - the near z distance of the projection\n\t *   zfar - the far z distance of the projection\n\t *   r - optional 4x4 matrix to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after creating the projection matrix.\n\t *   Otherwise, returns a new 4x4 matrix.\n\t */\n\tM4x4.makePerspective = function M4x4_makePerspective (fovy, aspect, znear, zfar, r) {\n\t\tvar ymax = znear * Math.tan(fovy * Math.PI / 360.0);\n\t\tvar ymin = -ymax;\n\t\tvar xmin = ymin * aspect;\n\t\tvar xmax = ymax * aspect;\n\n\t\treturn M4x4.makeFrustum(xmin, xmax, ymin, ymax, znear, zfar, r);\n\t};\n\n\t/*\n\t * Function: M4x4.makeOrtho\n\t *\n\t * Creates a matrix for an orthogonal frustum projection with the given parameters.\n\t *\n\t * Parameters:\n\t *\n\t *   left - the left coordinate of the frustum\n\t *   right- the right coordinate of the frustum\n\t *   bottom - the bottom coordinate of the frustum\n\t *   top - the top coordinate of the frustum\n\t *   znear - the near z distance of the frustum\n\t *   zfar - the far z distance of the frustum\n\t *   r - optional 4x4 matrix to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after creating the projection matrix.\n\t *   Otherwise, returns a new 4x4 matrix.\n\t */\n\tM4x4.makeOrtho = function M4x4_makeOrtho (left, right, bottom, top, znear, zfar, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(16);\n\n\t\tvar tX = -(right+left)/(right-left);\n\t\tvar tY = -(top+bottom)/(top-bottom);\n\t\tvar tZ = -(zfar+znear)/(zfar-znear);\n\t\tvar X = 2 / (right-left);\n\t\tvar Y = 2 / (top-bottom);\n\t\tvar Z = -2 / (zfar-znear);\n\n\t\tr[0] = 2 / (right-left);\n\t\tr[1] = 0;\n\t\tr[2] = 0;\n\t\tr[3] = 0;\n\t\tr[4] = 0;\n\t\tr[5] = 2 / (top-bottom);\n\t\tr[6] = 0;\n\t\tr[7] = 0;\n\t\tr[8] = 0;\n\t\tr[9] = 0;\n\t\tr[10] = -2 / (zfar-znear);\n\t\tr[11] = 0;\n\t\tr[12] = -(right+left)/(right-left);\n\t\tr[13] = -(top+bottom)/(top-bottom);\n\t\tr[14] = -(zfar+znear)/(zfar-znear);\n\t\tr[15] = 1;\n\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: M4x4.makeOrtho\n\t *\n\t * Creates a matrix for a 2D orthogonal frustum projection with the given parameters.\n\t * znear and zfar are assumed to be -1 and 1, respectively.\n\t *\n\t * Parameters:\n\t *\n\t *   left - the left coordinate of the frustum\n\t *   right- the right coordinate of the frustum\n\t *   bottom - the bottom coordinate of the frustum\n\t *   top - the top coordinate of the frustum\n\t *   r - optional 4x4 matrix to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after creating the projection matrix.\n\t *   Otherwise, returns a new 4x4 matrix.\n\t */\n\tM4x4.makeOrtho2D = function M4x4_makeOrtho2D (left, right, bottom, top, r) {\n\t\treturn M4x4.makeOrtho(left, right, bottom, top, -1, 1, r);\n\t};\n\n\t/*\n\t * Function: M4x4.mul\n\t *\n\t * Performs r = a * b.\n\t *\n\t * Parameters:\n\t *\n\t *   a - the first matrix operand\n\t *   b - the second matrix operand\n\t *   r - optional 4x4 matrix to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after performing the operation.\n\t *   Otherwise, returns a new 4x4 matrix with the result.\n\t */\n\tM4x4.mul = function M4x4_mul(a, b, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(16);\n\n\t\tvar a11 = a[0];\n\t\tvar a21 = a[1];\n\t\tvar a31 = a[2];\n\t\tvar a41 = a[3];\n\t\tvar a12 = a[4];\n\t\tvar a22 = a[5];\n\t\tvar a32 = a[6];\n\t\tvar a42 = a[7];\n\t\tvar a13 = a[8];\n\t\tvar a23 = a[9];\n\t\tvar a33 = a[10];\n\t\tvar a43 = a[11];\n\t\tvar a14 = a[12];\n\t\tvar a24 = a[13];\n\t\tvar a34 = a[14];\n\t\tvar a44 = a[15];\n\n\t\tvar b11 = b[0];\n\t\tvar b21 = b[1];\n\t\tvar b31 = b[2];\n\t\tvar b41 = b[3];\n\t\tvar b12 = b[4];\n\t\tvar b22 = b[5];\n\t\tvar b32 = b[6];\n\t\tvar b42 = b[7];\n\t\tvar b13 = b[8];\n\t\tvar b23 = b[9];\n\t\tvar b33 = b[10];\n\t\tvar b43 = b[11];\n\t\tvar b14 = b[12];\n\t\tvar b24 = b[13];\n\t\tvar b34 = b[14];\n\t\tvar b44 = b[15];\n\n\t\tr[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tr[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tr[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tr[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tr[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tr[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tr[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tr[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tr[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tr[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tr[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tr[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tr[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\t\tr[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\t\tr[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\t\tr[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: M4x4.mulOffset\n\t *\n\t * Performs r' = a * b, where r' is the 16 elements of r starting at element o.\n\t *\n\t * Parameters:\n\t *\n\t *   a - the first matrix operand\n\t *   b - the second matrix operand\n\t *   r - array to store the result in\n\t *   o - offset into r at which to start storing results\n\t *\n\t * Returns:\n\t *\n\t *   r\n\t */\n\tM4x4.mulOffset = function M4x4_mulOffset(a, b, r, o) {\n\t\tvar a21 = a[1];\n\t\tvar a31 = a[2];\n\t\tvar a41 = a[3];\n\t\tvar a12 = a[4];\n\t\tvar a22 = a[5];\n\t\tvar a32 = a[6];\n\t\tvar a42 = a[7];\n\t\tvar a13 = a[8];\n\t\tvar a23 = a[9];\n\t\tvar a33 = a[10];\n\t\tvar a43 = a[11];\n\t\tvar a14 = a[12];\n\t\tvar a24 = a[13];\n\t\tvar a34 = a[14];\n\t\tvar a44 = a[15];\n\n\t\tvar b11 = b[0];\n\t\tvar b21 = b[1];\n\t\tvar b31 = b[2];\n\t\tvar b41 = b[3];\n\t\tvar b12 = b[4];\n\t\tvar b22 = b[5];\n\t\tvar b32 = b[6];\n\t\tvar b42 = b[7];\n\t\tvar b13 = b[8];\n\t\tvar b23 = b[9];\n\t\tvar b33 = b[10];\n\t\tvar b43 = b[11];\n\t\tvar b14 = b[12];\n\t\tvar b24 = b[13];\n\t\tvar b34 = b[14];\n\t\tvar b44 = b[15];\n\n\t\tr[o+0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tr[o+1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tr[o+2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tr[o+3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tr[o+4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tr[o+5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tr[o+6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tr[o+7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tr[o+8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tr[o+9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tr[o+10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tr[o+11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tr[o+12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\t\tr[o+13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\t\tr[o+14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\t\tr[o+15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: M4x4.mulAffine\n\t *\n\t * Performs r = a * b, assuming a and b are affine (elements 3,7,11,15 = 0,0,0,1)\n\t *\n\t * Parameters:\n\t *\n\t *   a - the first matrix operand\n\t *   b - the second matrix operand\n\t *   r - optional 4x4 matrix to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after performing the operation.\n\t *   Otherwise, returns a new 4x4 matrix with the result.\n\t */\n\tM4x4.mulAffine = function M4x4_mulAffine(a, b, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(16);\n\t\tvar a11 = a[0];\n\t\tvar a21 = a[1];\n\t\tvar a31 = a[2];\n\t\tvar a12 = a[4];\n\t\tvar a22 = a[5];\n\t\tvar a32 = a[6];\n\t\tvar a13 = a[8];\n\t\tvar a23 = a[9];\n\t\tvar a33 = a[10];\n\t\tvar a14 = a[12];\n\t\tvar a24 = a[13];\n\t\tvar a34 = a[14];\n\n\t\tvar b11 = b[0];\n\t\tvar b21 = b[1];\n\t\tvar b31 = b[2];\n\t\tvar b12 = b[4];\n\t\tvar b22 = b[5];\n\t\tvar b32 = b[6];\n\t\tvar b13 = b[8];\n\t\tvar b23 = b[9];\n\t\tvar b33 = b[10];\n\t\tvar b14 = b[12];\n\t\tvar b24 = b[13];\n\t\tvar b34 = b[14];\n\n\t\tr[0] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tr[1] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tr[2] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tr[3] = 0;\n\t\tr[4] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tr[5] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tr[6] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tr[7] = 0;\n\t\tr[8] = a11 * b13 + a12 * b23 + a13 * b33;\n\t\tr[9] = a21 * b13 + a22 * b23 + a23 * b33;\n\t\tr[10] = a31 * b13 + a32 * b23 + a33 * b33;\n\t\tr[11] = 0;\n\t\tr[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14;\n\t\tr[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24;\n\t\tr[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34;\n\t\tr[15] = 1;\n\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: M4x4.mulAffineOffset\n\t *\n\t * Performs r' = a * b, assuming a and b are affine (elements 3,7,11,15 = 0,0,0,1), where r' is the 16 elements of r starting at element o\n\t *\n\t * Parameters:\n\t *\n\t *   a - the first matrix operand\n\t *   b - the second matrix operand\n\t *   r - array to store the result in\n\t *   o - offset into r at which to start storing results\n\t *\n\t * Returns:\n\t *\n\t *   r\n\t */\n\tM4x4.mulAffine = function M4x4_mulAffine(a, b, r, o) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(16);\n\t\to = o || 0;\n\t\tvar a11 = a[0];\n\t\tvar a21 = a[1];\n\t\tvar a31 = a[2];\n\t\tvar a12 = a[4];\n\t\tvar a22 = a[5];\n\t\tvar a32 = a[6];\n\t\tvar a13 = a[8];\n\t\tvar a23 = a[9];\n\t\tvar a33 = a[10];\n\t\tvar a14 = a[12];\n\t\tvar a24 = a[13];\n\t\tvar a34 = a[14];\n\n\t\tvar b11 = b[0];\n\t\tvar b21 = b[1];\n\t\tvar b31 = b[2];\n\t\tvar b12 = b[4];\n\t\tvar b22 = b[5];\n\t\tvar b32 = b[6];\n\t\tvar b13 = b[8];\n\t\tvar b23 = b[9];\n\t\tvar b33 = b[10];\n\t\tvar b14 = b[12];\n\t\tvar b24 = b[13];\n\t\tvar b34 = b[14];\n\n\t\tr[o+0] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tr[o+1] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tr[o+2] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tr[o+3] = 0;\n\t\tr[o+4] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tr[o+5] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tr[o+6] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tr[o+7] = 0;\n\t\tr[o+8] = a11 * b13 + a12 * b23 + a13 * b33;\n\t\tr[o+9] = a21 * b13 + a22 * b23 + a23 * b33;\n\t\tr[o+10] = a31 * b13 + a32 * b23 + a33 * b33;\n\t\tr[o+11] = 0;\n\t\tr[o+12] = a11 * b14 + a12 * b24 + a13 * b34 + a14;\n\t\tr[o+13] = a21 * b14 + a22 * b24 + a23 * b34 + a24;\n\t\tr[o+14] = a31 * b14 + a32 * b24 + a33 * b34 + a34;\n\t\tr[o+15] = 1;\n\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: M4x4.makeRotate\n\t *\n\t * Creates a transformation matrix for rotation by angle radians about the 3-element vector axis.\n\t *\n\t * Parameters:\n\t *\n\t *   angle - the angle of rotation, in radians\n\t *   axis - the axis around which the rotation is performed, a 3-element vector\n\t *   r - optional 4x4 matrix to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after creating the matrix.\n\t *   Otherwise, returns a new 4x4 matrix with the result.\n\t */\n\tM4x4.makeRotate = function M4x4_makeRotate(angle, axis, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(16);\n\n\t\taxis = V3.normalize(axis, V3._temp1);\n\t\tvar x = axis[0], y = axis[1], z = axis[2];\n\t\tvar c = Math.cos(angle);\n\t\tvar c1 = 1-c;\n\t\tvar s = Math.sin(angle);\n\n\t\tr[0] = x*x*c1+c;\n\t\tr[1] = y*x*c1+z*s;\n\t\tr[2] = z*x*c1-y*s;\n\t\tr[3] = 0;\n\t\tr[4] = x*y*c1-z*s;\n\t\tr[5] = y*y*c1+c;\n\t\tr[6] = y*z*c1+x*s;\n\t\tr[7] = 0;\n\t\tr[8] = x*z*c1+y*s;\n\t\tr[9] = y*z*c1-x*s;\n\t\tr[10] = z*z*c1+c;\n\t\tr[11] = 0;\n\t\tr[12] = 0;\n\t\tr[13] = 0;\n\t\tr[14] = 0;\n\t\tr[15] = 1;\n\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: M4x4.rotate\n\t *\n\t * Concatenates a rotation of angle radians about the axis to the give matrix m.\n\t *\n\t * Parameters:\n\t *\n\t *   angle - the angle of rotation, in radians\n\t *   axis - the axis around which the rotation is performed, a 3-element vector\n\t *   m - the matrix to concatenate the rotation to\n\t *   r - optional 4x4 matrix to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after performing the operation.\n\t *   Otherwise, returns a new 4x4 matrix with the result.\n\t */\n\tM4x4.rotate = function M4x4_rotate(angle, axis, m, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(16);\n\t\tvar a0=axis [0], a1=axis [1], a2=axis [2];\n\t\tvar l = Math.sqrt(a0*a0 + a1*a1 + a2*a2);\n\t\tvar x = a0, y = a1, z = a2;\n\t\tif (l != 1.0) {\n\t\t\tvar im = 1.0 / l;\n\t\t\tx *= im;\n\t\t\ty *= im;\n\t\t\tz *= im;\n\t\t}\n\t\tvar c = Math.cos(angle);\n\t\tvar c1 = 1-c;\n\t\tvar s = Math.sin(angle);\n\t\tvar xs = x*s;\n\t\tvar ys = y*s;\n\t\tvar zs = z*s;\n\t\tvar xyc1 = x * y * c1;\n\t\tvar xzc1 = x * z * c1;\n\t\tvar yzc1 = y * z * c1;\n\n\t\tvar m11 = m[0];\n\t\tvar m21 = m[1];\n\t\tvar m31 = m[2];\n\t\tvar m41 = m[3];\n\t\tvar m12 = m[4];\n\t\tvar m22 = m[5];\n\t\tvar m32 = m[6];\n\t\tvar m42 = m[7];\n\t\tvar m13 = m[8];\n\t\tvar m23 = m[9];\n\t\tvar m33 = m[10];\n\t\tvar m43 = m[11];\n\n\t\tvar t11 = x * x * c1 + c;\n\t\tvar t21 = xyc1 + zs;\n\t\tvar t31 = xzc1 - ys;\n\t\tvar t12 = xyc1 - zs;\n\t\tvar t22 = y * y * c1 + c;\n\t\tvar t32 = yzc1 + xs;\n\t\tvar t13 = xzc1 + ys;\n\t\tvar t23 = yzc1 - xs;\n\t\tvar t33 = z * z * c1 + c;\n\n\t\tr[0] = m11 * t11 + m12 * t21 + m13 * t31;\n\t\tr[1] = m21 * t11 + m22 * t21 + m23 * t31;\n\t\tr[2] = m31 * t11 + m32 * t21 + m33 * t31;\n\t\tr[3] = m41 * t11 + m42 * t21 + m43 * t31;\n\t\tr[4] = m11 * t12 + m12 * t22 + m13 * t32;\n\t\tr[5] = m21 * t12 + m22 * t22 + m23 * t32;\n\t\tr[6] = m31 * t12 + m32 * t22 + m33 * t32;\n\t\tr[7] = m41 * t12 + m42 * t22 + m43 * t32;\n\t\tr[8] = m11 * t13 + m12 * t23 + m13 * t33;\n\t\tr[9] = m21 * t13 + m22 * t23 + m23 * t33;\n\t\tr[10] = m31 * t13 + m32 * t23 + m33 * t33;\n\t\tr[11] = m41 * t13 + m42 * t23 + m43 * t33;\n\t\tif (r != m) {\n\t\t\tr[12] = m[12];\n\t\t\tr[13] = m[13];\n\t\t\tr[14] = m[14];\n\t\t\tr[15] = m[15];\n\t\t}\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: M4x4.makeScale3\n\t *\n\t * Creates a transformation matrix for scaling by 3 scalar values, one for\n\t * each of the x, y, and z directions.\n\t *\n\t * Parameters:\n\t *\n\t *   x - the scale for the x axis\n\t *   y - the scale for the y axis\n\t *   z - the scale for the z axis\n\t *   r - optional 4x4 matrix to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after creating the matrix.\n\t *   Otherwise, returns a new 4x4 matrix with the result.\n\t */\n\tM4x4.makeScale3 = function M4x4_makeScale3(x, y, z, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(16);\n\n\t\tr[0] = x;\n\t\tr[1] = 0;\n\t\tr[2] = 0;\n\t\tr[3] = 0;\n\t\tr[4] = 0;\n\t\tr[5] = y;\n\t\tr[6] = 0;\n\t\tr[7] = 0;\n\t\tr[8] = 0;\n\t\tr[9] = 0;\n\t\tr[10] = z;\n\t\tr[11] = 0;\n\t\tr[12] = 0;\n\t\tr[13] = 0;\n\t\tr[14] = 0;\n\t\tr[15] = 1;\n\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: M4x4.makeScale1\n\t *\n\t * Creates a transformation matrix for a uniform scale by a single scalar value.\n\t *\n\t * Parameters:\n\t *\n\t *   k - the scale factor\n\t *   r - optional 4x4 matrix to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after creating the matrix.\n\t *   Otherwise, returns a new 4x4 matrix with the result.\n\t */\n\tM4x4.makeScale1 = function M4x4_makeScale1(k, r) {\n\t\treturn M4x4.makeScale3(k, k, k, r);\n\t};\n\n\t/*\n\t * Function: M4x4.makeScale\n\t *\n\t * Creates a transformation matrix for scaling each of the x, y, and z axes by the amount\n\t * given in the corresponding element of the 3-element vector.\n\t *\n\t * Parameters:\n\t *\n\t *   v - the 3-element vector containing the scale factors\n\t *   r - optional 4x4 matrix to store the result in\n\t *\n\t * Returns:\n\t *\n\t *   If r is specified, returns r after creating the matrix.\n\t *   Otherwise, returns a new 4x4 matrix with the result.\n\t */\n\tM4x4.makeScale = function M4x4_makeScale(v, r) {\n\t\treturn M4x4.makeScale3(v[0], v[1], v[2], r);\n\t};\n\n\t/*\n\t * Function: M4x4.scale3\n\t */\n\tM4x4.scale3 = function M4x4_scale3(x, y, z, m, r) {\n\t\tif (r == m) {\n\t\t\tm[0] *= x;\n\t\t\tm[1] *= x;\n\t\t\tm[2] *= x;\n\t\t\tm[3] *= x;\n\t\t\tm[4] *= y;\n\t\t\tm[5] *= y;\n\t\t\tm[6] *= y;\n\t\t\tm[7] *= y;\n\t\t\tm[8] *= z;\n\t\t\tm[9] *= z;\n\t\t\tm[10] *= z;\n\t\t\tm[11] *= z;\n\t\t\treturn m;\n\t\t}\n\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(16);\n\n\t\tr[0] = m[0] * x;\n\t\tr[1] = m[1] * x;\n\t\tr[2] = m[2] * x;\n\t\tr[3] = m[3] * x;\n\t\tr[4] = m[4] * y;\n\t\tr[5] = m[5] * y;\n\t\tr[6] = m[6] * y;\n\t\tr[7] = m[7] * y;\n\t\tr[8] = m[8] * z;\n\t\tr[9] = m[9] * z;\n\t\tr[10] = m[10] * z;\n\t\tr[11] = m[11] * z;\n\t\tr[12] = m[12];\n\t\tr[13] = m[13];\n\t\tr[14] = m[14];\n\t\tr[15] = m[15];\n\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: M4x4.scale1\n\t */\n\tM4x4.scale1 = function M4x4_scale1(k, m, r) {\n\t\tif (r == m) {\n\t\t\tm[0] *= k;\n\t\t\tm[1] *= k;\n\t\t\tm[2] *= k;\n\t\t\tm[3] *= k;\n\t\t\tm[4] *= k;\n\t\t\tm[5] *= k;\n\t\t\tm[6] *= k;\n\t\t\tm[7] *= k;\n\t\t\tm[8] *= k;\n\t\t\tm[9] *= k;\n\t\t\tm[10] *= k;\n\t\t\tm[11] *= k;\n\t\t\treturn m;\n\t\t}\n\n\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(16);\n\n\t\tr[0] = m[0] * k;\n\t\tr[1] = m[1] * k;\n\t\tr[2] = m[2] * k;\n\t\tr[3] = m[3] * k;\n\t\tr[4] = m[4] * k;\n\t\tr[5] = m[5] * k;\n\t\tr[6] = m[6] * k;\n\t\tr[7] = m[7] * k;\n\t\tr[8] = m[8] * k;\n\t\tr[9] = m[9] * k;\n\t\tr[10] = m[10] * k;\n\t\tr[11] = m[11] * k;\n\t\tr[12] = m[12];\n\t\tr[13] = m[13];\n\t\tr[14] = m[14];\n\t\tr[15] = m[15];\n\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: M4x4.scale1\n\t */\n\tM4x4.scale = function M4x4_scale(v, m, r) {\n\t\tvar x = v[0], y = v[1], z = v[2];\n\n\t\tif (r == m) {\n\t\t\tm[0] *= x;\n\t\t\tm[1] *= x;\n\t\t\tm[2] *= x;\n\t\t\tm[3] *= x;\n\t\t\tm[4] *= y;\n\t\t\tm[5] *= y;\n\t\t\tm[6] *= y;\n\t\t\tm[7] *= y;\n\t\t\tm[8] *= z;\n\t\t\tm[9] *= z;\n\t\t\tm[10] *= z;\n\t\t\tm[11] *= z;\n\t\t\treturn m;\n\t\t}\n\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(16);\n\n\n\t\tr[0] = m[0] * x;\n\t\tr[1] = m[1] * x;\n\t\tr[2] = m[2] * x;\n\t\tr[3] = m[3] * x;\n\t\tr[4] = m[4] * y;\n\t\tr[5] = m[5] * y;\n\t\tr[6] = m[6] * y;\n\t\tr[7] = m[7] * y;\n\t\tr[8] = m[8] * z;\n\t\tr[9] = m[9] * z;\n\t\tr[10] = m[10] * z;\n\t\tr[11] = m[11] * z;\n\t\tr[12] = m[12];\n\t\tr[13] = m[13];\n\t\tr[14] = m[14];\n\t\tr[15] = m[15];\n\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: M4x4.makeTranslate3\n\t */\n\tM4x4.makeTranslate3 = function M4x4_makeTranslate3(x, y, z, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(16);\n\n\t\tr[0] = 1;\n\t\tr[1] = 0;\n\t\tr[2] = 0;\n\t\tr[3] = 0;\n\t\tr[4] = 0;\n\t\tr[5] = 1;\n\t\tr[6] = 0;\n\t\tr[7] = 0;\n\t\tr[8] = 0;\n\t\tr[9] = 0;\n\t\tr[10] = 1;\n\t\tr[11] = 0;\n\t\tr[12] = x;\n\t\tr[13] = y;\n\t\tr[14] = z;\n\t\tr[15] = 1;\n\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: M4x4.makeTranslate1\n\t */\n\tM4x4.makeTranslate1 = function M4x4_makeTranslate1 (k, r) {\n\t\treturn M4x4.makeTranslate3(k, k, k, r);\n\t};\n\n\t/*\n\t * Function: M4x4.makeTranslate\n\t */\n\tM4x4.makeTranslate = function M4x4_makeTranslate (v, r) {\n\t\treturn M4x4.makeTranslate3(v[0], v[1], v[2], r);\n\t};\n\n\t/*\n\t * Function: M4x4.translate3Self\n\t */\n\tM4x4.translate3Self = function M4x4_translate3Self (x, y, z, m) {\n\t\tm[12] += m[0] * x + m[4] * y + m[8] * z;\n\t\tm[13] += m[1] * x + m[5] * y + m[9] * z;\n\t\tm[14] += m[2] * x + m[6] * y + m[10] * z;\n\t\tm[15] += m[3] * x + m[7] * y + m[11] * z;\n\t\treturn m;\n\t};\n\n\t/*\n\t * Function: M4x4.translate3\n\t */\n\tM4x4.translate3 = function M4x4_translate3 (x, y, z, m, r) {\n\t\tif (r == m) {\n\t\t\tm[12] += m[0] * x + m[4] * y + m[8] * z;\n\t\t\tm[13] += m[1] * x + m[5] * y + m[9] * z;\n\t\t\tm[14] += m[2] * x + m[6] * y + m[10] * z;\n\t\t\tm[15] += m[3] * x + m[7] * y + m[11] * z;\n\t\t\treturn m;\n\t\t}\n\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(16);\n\n\t\tvar m11 = m[0];\n\t\tvar m21 = m[1];\n\t\tvar m31 = m[2];\n\t\tvar m41 = m[3];\n\t\tvar m12 = m[4];\n\t\tvar m22 = m[5];\n\t\tvar m32 = m[6];\n\t\tvar m42 = m[7];\n\t\tvar m13 = m[8];\n\t\tvar m23 = m[9];\n\t\tvar m33 = m[10];\n\t\tvar m43 = m[11];\n\n\n\t\tr[0] = m11;\n\t\tr[1] = m21;\n\t\tr[2] = m31;\n\t\tr[3] = m41;\n\t\tr[4] = m12;\n\t\tr[5] = m22;\n\t\tr[6] = m32;\n\t\tr[7] = m42;\n\t\tr[8] = m13;\n\t\tr[9] = m23;\n\t\tr[10] = m33;\n\t\tr[11] = m43;\n\t\tr[12] = m11 * x + m12 * y + m13 * z + m[12];\n\t\tr[13] = m21 * x + m22 * y + m23 * z + m[13];\n\t\tr[14] = m31 * x + m32 * y + m33 * z + m[14];\n\t\tr[15] = m41 * x + m42 * y + m43 * z + m[15];\n\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: M4x4.translate1\n\t */\n\tM4x4.translate1 = function M4x4_translate1 (k, m, r) {\n\t\treturn M4x4.translate3(k, k, k, m, r);\n\t};\n\t/*\n\t * Function: M4x4.translateSelf\n\t */\n\tM4x4.translateSelf = function M4x4_translateSelf (v, m) {\n\t\tvar x=v[0], y=v[1], z=v[2];\n\t\tm[12] += m[0] * x + m[4] * y + m[8] * z;\n\t\tm[13] += m[1] * x + m[5] * y + m[9] * z;\n\t\tm[14] += m[2] * x + m[6] * y + m[10] * z;\n\t\tm[15] += m[3] * x + m[7] * y + m[11] * z;\n\t\treturn m;\n\t};\n\t/*\n\t * Function: M4x4.translate\n\t */\n\tM4x4.translate = function M4x4_translate (v, m, r) {\n\t\tvar x=v[0], y=v[1], z=v[2];\n\t\tif (r == m) {\n\t\t\tm[12] += m[0] * x + m[4] * y + m[8] * z;\n\t\t\tm[13] += m[1] * x + m[5] * y + m[9] * z;\n\t\t\tm[14] += m[2] * x + m[6] * y + m[10] * z;\n\t\t\tm[15] += m[3] * x + m[7] * y + m[11] * z;\n\t\t\treturn m;\n\t\t}\n\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(16);\n\n\t\tvar m11 = m[0];\n\t\tvar m21 = m[1];\n\t\tvar m31 = m[2];\n\t\tvar m41 = m[3];\n\t\tvar m12 = m[4];\n\t\tvar m22 = m[5];\n\t\tvar m32 = m[6];\n\t\tvar m42 = m[7];\n\t\tvar m13 = m[8];\n\t\tvar m23 = m[9];\n\t\tvar m33 = m[10];\n\t\tvar m43 = m[11];\n\n\t\tr[0] = m11;\n\t\tr[1] = m21;\n\t\tr[2] = m31;\n\t\tr[3] = m41;\n\t\tr[4] = m12;\n\t\tr[5] = m22;\n\t\tr[6] = m32;\n\t\tr[7] = m42;\n\t\tr[8] = m13;\n\t\tr[9] = m23;\n\t\tr[10] = m33;\n\t\tr[11] = m43;\n\t\tr[12] = m11 * x + m12 * y + m13 * z + m[12];\n\t\tr[13] = m21 * x + m22 * y + m23 * z + m[13];\n\t\tr[14] = m31 * x + m32 * y + m33 * z + m[14];\n\t\tr[15] = m41 * x + m42 * y + m43 * z + m[15];\n\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: M4x4.makeLookAt\n\t */\n\tM4x4.makeLookAt = function M4x4_makeLookAt (eye, center, up, r) {\n\t\tvar z = V3.direction(eye, center, V3._temp1);\n\t\tvar x = V3.normalize(V3.cross(up, z, V3._temp2), V3._temp2);\n\t\tvar y = V3.normalize(V3.cross(z, x, V3._temp3), V3._temp3);\n\n\t\tvar tm1 = M4x4._temp1;\n\t\tvar tm2 = M4x4._temp2;\n\n\t\ttm1[0] = x[0];\n\t\ttm1[1] = y[0];\n\t\ttm1[2] = z[0];\n\t\ttm1[3] = 0;\n\t\ttm1[4] = x[1];\n\t\ttm1[5] = y[1];\n\t\ttm1[6] = z[1];\n\t\ttm1[7] = 0;\n\t\ttm1[8] = x[2];\n\t\ttm1[9] = y[2];\n\t\ttm1[10] = z[2];\n\t\ttm1[11] = 0;\n\t\ttm1[12] = 0;\n\t\ttm1[13] = 0;\n\t\ttm1[14] = 0;\n\t\ttm1[15] = 1;\n\n\t\ttm2[0] = 1; tm2[1] = 0; tm2[2] = 0; tm2[3] = 0;\n\t\ttm2[4] = 0; tm2[5] = 1; tm2[6] = 0; tm2[7] = 0;\n\t\ttm2[8] = 0; tm2[9] = 0; tm2[10] = 1; tm2[11] = 0;\n\t\ttm2[12] = -eye[0]; tm2[13] = -eye[1]; tm2[14] = -eye[2]; tm2[15] = 1;\n\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(16);\n\t\treturn M4x4.mul(tm1, tm2, r);\n\t};\n\n\t/*\n\t * Function: M4x4.transposeSelf\n\t */\n\tM4x4.transposeSelf = function M4x4_transposeSelf (m) {\n\t\tvar tmp = m[1]; m[1] = m[4]; m[4] = tmp;\n\t\ttmp = m[2]; m[2] = m[8]; m[8] = tmp;\n\t\ttmp = m[3]; m[3] = m[12]; m[12] = tmp;\n\t\ttmp = m[6]; m[6] = m[9]; m[9] = tmp;\n\t\ttmp = m[7]; m[7] = m[13]; m[13] = tmp;\n\t\ttmp = m[11]; m[11] = m[14]; m[14] = tmp;\n\t\treturn m;\n\t};\n\t/*\n\t * Function: M4x4.transpose\n\t */\n\tM4x4.transpose = function M4x4_transpose (m, r) {\n\t\tif (m == r) {\n\t\t\tvar tmp = 0.0;\n\t\t\ttmp = m[1]; m[1] = m[4]; m[4] = tmp;\n\t\t\ttmp = m[2]; m[2] = m[8]; m[8] = tmp;\n\t\t\ttmp = m[3]; m[3] = m[12]; m[12] = tmp;\n\t\t\ttmp = m[6]; m[6] = m[9]; m[9] = tmp;\n\t\t\ttmp = m[7]; m[7] = m[13]; m[13] = tmp;\n\t\t\ttmp = m[11]; m[11] = m[14]; m[14] = tmp;\n\t\t\treturn m;\n\t\t}\n\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(16);\n\n\t\tr[0] = m[0]; r[1] = m[4]; r[2] = m[8]; r[3] = m[12];\n\t\tr[4] = m[1]; r[5] = m[5]; r[6] = m[9]; r[7] = m[13];\n\t\tr[8] = m[2]; r[9] = m[6]; r[10] = m[10]; r[11] = m[14];\n\t\tr[12] = m[3]; r[13] = m[7]; r[14] = m[11]; r[15] = m[15];\n\n\t\treturn r;\n\t};\n\n\n\t/*\n\t * Function: M4x4.transformPoint\n\t */\n\tM4x4.transformPoint = function M4x4_transformPoint (m, v, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(3);\n\n\t\tvar v0 = v[0], v1 = v[1], v2 = v[2];\n\n\t\tr[0] = m[0] * v0 + m[4] * v1 + m[8] * v2 + m[12];\n\t\tr[1] = m[1] * v0 + m[5] * v1 + m[9] * v2 + m[13];\n\t\tr[2] = m[2] * v0 + m[6] * v1 + m[10] * v2 + m[14];\n\t\tvar w = m[3] * v0 + m[7] * v1 + m[11] * v2 + m[15];\n\n\t\tif (w != 1.0) {\n\t\t\tr[0] /= w;\n\t\t\tr[1] /= w;\n\t\t\tr[2] /= w;\n\t\t}\n\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: M4x4.transformLine\n\t */\n\tM4x4.transformLine = function M4x4_transformLine(m, v, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(3);\n\n\t\tvar v0 = v[0], v1 = v[1], v2 = v[2];\n\t\tr[0] = m[0] * v0 + m[4] * v1 + m[8] * v2;\n\t\tr[1] = m[1] * v0 + m[5] * v1 + m[9] * v2;\n\t\tr[2] = m[2] * v0 + m[6] * v1 + m[10] * v2;\n\t\tvar w = m[3] * v0 + m[7] * v1 + m[11] * v2;\n\n\t\tif (w != 1.0) {\n\t\t\tr[0] /= w;\n\t\t\tr[1] /= w;\n\t\t\tr[2] /= w;\n\t\t}\n\n\t\treturn r;\n\t};\n\n\n\t/*\n\t * Function: M4x4.transformPointAffine\n\t */\n\tM4x4.transformPointAffine = function M4x4_transformPointAffine (m, v, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(3);\n\n\t\tvar v0 = v[0], v1 = v[1], v2 = v[2];\n\n\t\tr[0] = m[0] * v0 + m[4] * v1 + m[8] * v2 + m[12];\n\t\tr[1] = m[1] * v0 + m[5] * v1 + m[9] * v2 + m[13];\n\t\tr[2] = m[2] * v0 + m[6] * v1 + m[10] * v2 + m[14];\n\n\t\treturn r;\n\t};\n\n\t/*\n\t * Function: M4x4.transformLineAffine\n\t */\n\tM4x4.transformLineAffine = function M4x4_transformLineAffine(m, v, r) {\n\t\tif (r == undefined)\n\t\t\tr = new MJS_FLOAT_ARRAY_TYPE(3);\n\n\t\tvar v0 = v[0], v1 = v[1], v2 = v[2];\n\t\tr[0] = m[0] * v0 + m[4] * v1 + m[8] * v2;\n\t\tr[1] = m[1] * v0 + m[5] * v1 + m[9] * v2;\n\t\tr[2] = m[2] * v0 + m[6] * v1 + m[10] * v2;\n\n\t\treturn r;\n\t};\n\n\treturn mJS;\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mjs/index.js\n ** module id = 190\n ** module chunks = 1\n **/","Marionette = require(\"backbone.marionette\")\napp        = require(\"app\")\nconstants  = require(\"oxalis/constants\")\n\nclass ViewModesView extends Marionette.ItemView\n\n  template : _.template(\"\"\"\n    <div class=\"btn-group btn-group\">\n      <div class=\"btn-group\">\n        <button type=\"button\" class=\"btn btn-default\" id=\"mode-3planes\">Orthogonal</button>\n      </div>\n      <div class=\"btn-group\">\n        <button type=\"button\" class=\"btn btn-default\" id=\"mode-sphere\">Flight</button>\n      </div>\n      <div class=\"btn-group\">\n        <button type=\"button\" class=\"btn btn-default\" id=\"mode-arbitraryplane\">Oblique</button>\n      </div>\n    </div>\n  \"\"\")\n\n  modeMapping :\n    \"mode-3planes\" : constants.MODE_PLANE_TRACING\n    \"mode-sphere\" : constants.MODE_ARBITRARY\n    \"mode-arbitraryplane\" : constants.MODE_ARBITRARY_PLANE\n\n  events :\n    \"click button\" : \"changeMode\"\n\n\n  initialize : (options) ->\n\n    @listenTo(@model, \"change:mode\", @updateForMode)\n    @listenTo(this, \"attach\", @afterAttach)\n\n\n  afterAttach : ->\n    for mode, modeValue of @modeMapping\n      $(\"##{mode}\").attr(\"disabled\", modeValue not in @model.get(\"allowedModes\"))\n\n    @updateForMode(@model.get(\"mode\"))\n    return\n\n\n  changeMode : (evt) ->\n\n    mode = @modeMapping[evt.target.id]\n    @model.setMode(mode)\n\n\n  updateForMode : (mode) ->\n\n    @$(\"button\").removeClass(\"btn-primary\")\n\n    buttonId = _.invert(@modeMapping)[mode]\n    @$(\"##{buttonId}\").addClass(\"btn-primary\")\n\nmodule.exports = ViewModesView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/action-bar/view_modes_view.coffee\n **/","_          = require(\"lodash\")\nMarionette = require(\"backbone.marionette\")\nConstants  = require(\"oxalis/constants\")\n\nclass VolumeActionsView extends Marionette.ItemView\n\n  template : _.template(\"\"\"\n    <div class=\"btn-group\">\n      <button\n        type=\"button\"\n        class=\"btn btn-default <% if (isMoveMode) { %> btn-primary <% } %>\"\n        id=\"mode-move\">\n          Move\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn btn-default <% if (!isMoveMode) { %> btn-primary <% } %>\"\n        id=\"mode-trace\">\n          Trace\n      </button>\n    </div>\n    <div class=\"btn-group\">\n      <button type=\"button\" class=\"btn btn-default\" id=\"create-cell\">Create new cell (C)</button>\n    </div>\n  \"\"\")\n\n  modeMapping :\n    \"mode-trace\" : Constants.VOLUME_MODE_TRACE\n    \"mode-move\" : Constants.VOLUME_MODE_MOVE\n\n  events :\n    \"click [id^=mode]\" : \"changeMode\"\n    \"click #create-cell\" : \"createCell\"\n\n\n  initialize : (options) ->\n\n    @listenTo(@model.volumeTracing, \"change:mode\", @render)\n\n\n  createCell : ->\n\n    @model.volumeTracing.createCell()\n\n\n  changeMode : (evt) ->\n\n    mode = @modeMapping[evt.target.id]\n    @model.volumeTracing.setMode(mode)\n\n\n  serializeData : ->\n\n    return {\n      isMoveMode : @model.volumeTracing.mode == Constants.VOLUME_MODE_MOVE\n    }\n\n\nmodule.exports = VolumeActionsView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/action-bar/volume_actions_view.coffee\n **/","_          = require(\"lodash\")\nMarionette = require(\"backbone.marionette\")\nConstants  = require(\"oxalis/constants\")\n\nclass SkeletonActionsView extends Marionette.ItemView\n\n  template : _.template(\"\"\"\n    <div class=\"btn-group\">\n      <button type=\"button\" class=\"btn btn-default\" id=\"add-node\">Add Node (Right-Click) </button>\n    </div>\n  \"\"\")\n\n  events :\n    \"click #add-node\" : \"addNode\"\n\n  addNode : ->\n\n    # create xy offset\n    position = @model.flycam.getPosition()\n    position[0] = position[0] + Math.pow(2, @model.flycam.getIntegerZoomStep())\n    position[1] = position[1] + Math.pow(2, @model.flycam.getIntegerZoomStep())\n\n    datasetConfig = @model.get(\"datasetConfiguration\")\n\n    # add node\n    @model.skeletonTracing.addNode(\n      position,\n      @model.flycam.getRotation(Constants.PLANE_XY),\n      Constants.TYPE_USUAL,\n      Constants.PLANE_XY, # xy viewport\n      @model.flycam.getIntegerZoomStep(),\n      if datasetConfig.get(\"fourBit\") then 4 else 8,\n      datasetConfig.get(\"interpolation\")\n    )\n\nmodule.exports = SkeletonActionsView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/action-bar/skeleton_actions_view.coffee\n **/","AbstractTabView              = require(\"oxalis/view/abstract_tab_view\")\nSkeletonTracingSettingsView  = require(\"../settings_views/skeleton_tracing_settings_view\")\nPlaneUserSettingsView        = require(\"../settings_views/plane_user_settings_view\")\nDatasetSettingsView          = require(\"../settings_views/dataset_settings_view\")\nBackboneToOxalisAdapterModel = require(\"oxalis/model/settings/backbone_to_oxalis_adapter_model\")\n\nclass SkeletonPlaneTabView extends AbstractTabView\n\n  getTabs : ->\n    [\n      {\n        id : \"tracing-settings-tab\"\n        name : \"Tracing\"\n        iconClass : \"fa fa-cogs\"\n        viewClass : SkeletonTracingSettingsView\n        options : { model: @adapterModel}\n      }\n      {\n        id : \"dataset-settings-tab\"\n        name : \"Dataset\"\n        iconClass : \"fa fa-cogs\"\n        active : true\n        viewClass : DatasetSettingsView\n      }\n      {\n        id : \"user-settings-tab\"\n        name : \"User\"\n        iconClass : \"fa fa-cogs\"\n        viewClass : PlaneUserSettingsView\n      }\n    ]\n\nmodule.exports = SkeletonPlaneTabView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/tab_views/skeleton_plane_tab_view.coffee\n **/","Marionette = require(\"backbone.marionette\")\n_          = require(\"lodash\")\n\nclass AbstractTabView extends Marionette.LayoutView\n\n  MARGIN : 40\n\n  className : \"flex-column\"\n  template : _.template(\"\"\"\n    <ul class=\"nav nav-tabs\">\n      <% tabs.forEach(function(tab) { %>\n        <li>\n          <a href=\"#<%- tab.id %>\" data-toggle=\"tab\" data-tab-id=\"<%- tab.id %>\"> <%= tab.iconString %> <%- tab.name %></a>\n        </li>\n      <% }) %>\n    </ul>\n    <div class=\"tab-content flex-column\">\n      <% tabs.forEach(function(tab) { %>\n        <div class=\"tab-pane\" id=\"<%- tab.id %>\"></div>\n      <% }) %>\n    </div>\n  \"\"\")\n\n  ui :\n    \"tabContentContainer\" : \".tab-content\"\n    \"tabNavbarContainer\" : \".nav-tabs\"\n\n\n  initialize : (options) ->\n\n    @listenTo(@, \"render\", @afterRender)\n\n    @adapterModel = options.adapterModel\n    regions = {}\n    @activeTabIndex = 0\n    @tabs = @getTabs()\n    @tabs.forEach (tab, index) =>\n      if tab.active\n        @activeTabIndex = index\n\n      tab.view = new tab.viewClass(tab.options || options)\n      tab.iconString = if tab.iconClass then \"<i class=\\\"#{tab.iconClass}\\\"></i>\" else \"\"\n\n      regions[tab.id] = \"#\" + tab.id\n    @addRegions(regions)\n\n\n  # abstract method\n  getTabs : ->\n\n    return []\n\n\n  afterRender : ->\n\n    @$(@ui.tabContentContainer.children()[@activeTabIndex]).addClass(\"active\")\n    @$(@ui.tabNavbarContainer.children()[@activeTabIndex]).addClass(\"active\")\n\n    @tabs.forEach (tab) =>\n      @[tab.id].show(tab.view)\n\n    @$('a[data-toggle=\"tab\"]').on('shown.bs.tab', (e) =>\n      tabId = $(e.target).data(\"tab-id\")\n      tab = _.find(@tabs, (t) -> t.id == tabId)\n      tab.view.render()\n    )\n\n\n  serializeData : ->\n\n    return {@tabs}\n\nmodule.exports = AbstractTabView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/abstract_tab_view.coffee\n **/","Marionette          = require(\"backbone.marionette\")\n_                   = require(\"lodash\")\nSettingsView        = require(\"./settings_view\")\nTreeCategoryView    = require(\"../category_views/tree_category_view\")\nNodeCategoryView    = require(\"../category_views/node_category_view\")\nBoundingBoxCategory = require(\"../category_views/bounding_box_category_view\")\n\nclass SkeletonTracingSettingsView extends SettingsView\n\n\n  id : \"tracing-settings\"\n  className : \"flex-column\"\n\n  modelName : \"skeletonTracingAdapter\"\n\n  subviewCreatorsList : [\n    [\n      \"tree-category\", ->\n        return new TreeCategoryView({ @model })\n    ]\n\n    [\n      \"node-category\", ->\n        return new NodeCategoryView({ @model })\n    ]\n\n    [\n      \"boundingBox-category\", ->\n        return new BoundingBoxCategory({ @model })\n    ]\n  ]\n\nmodule.exports = SkeletonTracingSettingsView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/settings_views/skeleton_tracing_settings_view.coffee\n **/","_          = require(\"lodash\")\nUtils      = require(\"libs/utils\")\nMarionette = require(\"backbone.marionette\")\nSubviews   = require(\"backbone-subviews\")\n\nclass SettingsView extends Marionette.ItemView\n\n\n  template : _.template(\"\"\"\n    <div class=\"panel-group flex-overflow\">\n\n      <% _.forEach(subviewCreatorsList, function (key_value_pair) { %>\n        <div data-subview=\"<%- key_value_pair[0] %>\"></div>\n      <% }) %>\n\n    </div>\n  \"\"\")\n\n\n  modelName : null\n\n\n  initialize : ->\n\n    if @modelName?\n      @model = @model[@modelName]\n\n    unless @subviewCreatorsList?\n      throw new Error(\n        \"Subclasses of CategoryView must specify subviewCreatorsList\")\n\n    # subviewCreators hash needed for Subviews extension\n    @subviewCreators = _.transform(\n      @subviewCreatorsList\n      (result, [key, value]) -> result[key] = value\n      {}\n    )\n\n    Subviews.add(this)\n\n\n  render : ->\n\n    if @model\n      super()\n    else\n      @$el.html(Utils.loaderTemplate())\n\n\n  serializeData : ->\n\n    return { @subviewCreatorsList }\n\nmodule.exports = SettingsView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/settings_views/settings_view.coffee\n **/","/*\n * Backbone.Subviews, v0.7.4\n * Copyright (c)2013-2014 Rotunda Software, LLC.\n * Distributed under MIT license\n * http://github.com/rotundasoftware/backbone.subviews\n*/\n( function( root, factory ) {\n\t// UMD wrapper\n\tif ( typeof define === 'function' && define.amd ) {\n\t\t// AMD\n\t\tdefine( [ 'underscore', 'backbone', 'jquery' ], factory );\n\t} else if ( typeof exports !== 'undefined' ) {\n\t\t// Node/CommonJS\n\t\tmodule.exports = factory( require('underscore' ), require( 'backbone' ), require( 'backbone' ).$ );\n\t} else {\n\t\t// Browser globals\n\t\tfactory( root._, root.Backbone, ( root.jQuery || root.Zepto || root.$ ) );\n\t}\n}( this, function( _, Backbone, $ ) {\n\tBackbone.Subviews = {};\n\n\tBackbone.Subviews.add = function( view ) {\n\t\tvar overriddenViewMethods = {\n\t\t\trender : view.render,\n\t\t\tremove : view.remove\n\t\t};\n\n\t\t// ****************** Overridden Backbone.View methods ****************** \n\n\t\tview.render = function() {\n\t\t\tvar args = Array.prototype.slice.call( arguments );\n\n\t\t\t_prerender.call( this );\n\t\t\tvar returnValue = overriddenViewMethods.render.apply( this, args );\n\t\t\t_postrender.call( this );\n\n\t\t\treturn returnValue;\n\t\t};\n\n\t\tview.remove = function() {\n\t\t\tthis.removeSubviews();\n\t\t\treturn overriddenViewMethods.remove.call( this );\n\t\t};\n\n\t\t// ****************** Additional public methods ****************** \n\n\t\tview.removeSubviews = function() {\n\t\t\t// Removes all subviews and cleans up references in this.subviews.\n\n\t\t\tif( this.subviews ) {\n\t\t\t\t_.each( this.subviews, function( thisSubview ) {\n\t\t\t\t\tthisSubview.remove();\n\t\t\t\t} );\n\n\t\t\t\tdelete this.subviews;\n\t\t\t}\n\t\t};\n\n\t\t// ****************** Additional private methods ****************** \n\n\t\tview._createSubview = function( subviewName, placeHolderDiv ) {\n\t\t\t// Return a new subview instance given a subview name and its placeHolderDiv.\n\t\t\t// Implemented as instance method so that this behavior may be customized / overridden.\n\t\t\tvar subviewCreator = this.subviewCreators[ subviewName ];\n\t\t\tif( _.isUndefined( subviewCreator ) ) throw new Error( \"Can not find subview creator for subview named: \" + subviewName );\n\n\t\t\treturn subviewCreator.apply( this );\n\t\t};\n\t};\n\n\t// ****************** Private utility functions ****************** \n\n\tfunction _prerender() {\n\t\tif( ! this.subviews ) this.subviews = {};\n\n\t\t// Detach each of our subviews that we have already created during previous\n\t\t// renders from the DOM, so that they do not loose their DOM events when\n\t\t// we re-render the contents of this view's DOM element.\n\t\t_.each( this.subviews, function( thisSubview ) {\n\t\t\tthisSubview.$el.detach();\n\t\t} );\n\t}\n\n\tfunction _postrender() {\n\t\tvar _this = this;\n\t\tthis.subviewCreators = this.subviewCreators || {};\n\n\t\t// Support subviewCreators as both objects and functions.\n\t\tthis.subviewCreators = _.result( this, \"subviewCreators\" );\n\t\t\n\t\tthis.$( \"[data-subview]\" ).each( function() {\n\t\t\tvar thisPlaceHolderDiv = $( this );\n\t\t\tvar subviewName = thisPlaceHolderDiv.attr( \"data-subview\" );\n\t\t\tvar newSubview;\n\n\t\t\tif( _.isUndefined( _this.subviews[ subviewName ] ) ) {\n\t\t\t\tnewSubview = _this._createSubview( subviewName, thisPlaceHolderDiv );\n\t\t\t\tif( newSubview === null ) return;  // subview creators can return null to indicate that the subview should not be created\n\t\t\t\t_this.subviews[ subviewName ] = newSubview;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// If the subview is already defined, then use the existing subview instead\n\t\t\t\t// of creating a new one. This allows us to re-render a parent view without\n\t\t\t\t// loosing any dynamic state data on the existing subview objects. To force\n\t\t\t\t// re-initialization of subviews, call view.removeSubviews before re-rendering.\n\n\t\t\t\tnewSubview = _this.subviews[ subviewName ];\n\t\t\t}\n\n\t\t\tthisPlaceHolderDiv.replaceWith( newSubview.$el );\n\t\t} );\n\n\t\t// Now that all subviews have been created, render them one at a time, in the\n\t\t// order they occur in the DOM.\n\t\t_.each( this.subviews, function( thisSubview ) {\n\t\t\tthisSubview.render();\n\t\t} );\n\n\t\t// Call this.onSubviewsRendered after everything is done (hook for application defined logic)\n\t\tif( _.isFunction( this.onSubviewsRendered ) ) this.onSubviewsRendered.call( this );\n\t\tif( _.isFunction( this._onSubviewsRendered ) ) this._onSubviewsRendered.call( this ); // depreciated. backwards compatibility for versions < 0.6.\n\t}\n\n\treturn Backbone.Subviews;\n} ) );\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/backbone-subviews/backbone.subviews.js\n ** module id = 198\n ** module chunks = 1\n **/","NumberSettingView   = require(\"../setting_views/number_setting_view\")\nCheckboxSettingView = require(\"../setting_views/checkbox_setting_view\")\nCategoryView        = require(\"./category_view\")\n\nclass TreeCategoryView extends CategoryView\n\n\n  caption : \"Trees\"\n\n  subviewCreatorsList : [\n\n    [\n      \"activeTree\", ->\n\n        return new NumberSettingView(\n          model : @model\n          options :\n            name : \"activeTreeId\"\n            displayName : \"Active Tree ID\"\n        )\n    ]\n\n    [\n      \"somaClicking\", ->\n\n        return new CheckboxSettingView(\n          model : @model\n          options :\n            name : \"somaClicking\"\n            displayName : \"Soma Clicking\"\n        )\n    ]\n  ]\n\nmodule.exports = TreeCategoryView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/category_views/tree_category_view.coffee\n **/","_                   = require(\"lodash\")\nMarionette          = require(\"backbone.marionette\")\nAbstractSettingView = require(\"./abstract_setting_view\")\n\nclass NumberSettingView extends AbstractSettingView\n\n\n  className : \"number-setting-view row\"\n\n\n  template : _.template(\"\"\"\n    <div class=\"col-sm-5\">\n      <%- displayName %>\n    </div>\n    <div class=\"col-sm-7\">\n      <input class=\"form-control\" type=\"number\" min=\"<%- min %>\" max=\"<%- max %>\" step=\"<%- step %>\" value=\"<%- value %>\">\n    </div>\n  \"\"\")\n\n\n  ui :\n    number : \"input[type=number]\"\n\n\n  events :\n    \"change @ui.number\" : \"handleChange\"\n\n\n  initialize : (options) ->\n\n    super(options)\n\n    _.defaults(@options,\n      min : \"\"\n      max : \"\"\n      step : 1\n    )\n\n\n  handleChange : (evt) ->\n\n    @model.set(@options.name, (Number) evt.target.value)\n\n\n  update : (model, value) ->\n\n    @ui.number.val(value)\n\nmodule.exports = NumberSettingView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/setting_views/number_setting_view.coffee\n **/","_          = require(\"lodash\")\nMarionette = require(\"backbone.marionette\")\n\nclass AbstractSettingView extends Marionette.ItemView\n\n\n  initialize : ({ @model, @options }) ->\n\n    @listenTo(@model, \"change:#{@options.name}\" , @update)\n\n\n  serializeData : ->\n\n    return _.extend(\n      @options\n      { value : @model.get(@options.name) }\n    )\n\nmodule.exports = AbstractSettingView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/setting_views/abstract_setting_view.coffee\n **/","_                   = require(\"lodash\")\nMarionette          = require(\"backbone.marionette\")\nAbstractSettingView = require(\"./abstract_setting_view\")\n\nclass CheckboxSettingView extends AbstractSettingView\n\n\n  className : \"checkbox-setting-view row\"\n\n  template : _.template(\"\"\"\n    <div class=\"col-sm-5\">\n      <%- displayName %>\n    </div>\n    <div class=\"col-sm-1\">\n      <input type=\"checkbox\" <%- boolToChecked(value) %>>\n    </div>\n    <div class=\"col-sm-6\"><div>\n  \"\"\")\n\n\n  ui :\n    checkbox : \"input[type=checkbox]\"\n\n\n  templateHelpers :\n    boolToChecked : (bool) ->\n      return if bool then \"checked\" else \"\"\n\n\n  events :\n    \"change @ui.checkbox\" : \"handleChange\"\n\n\n  handleChange : (evt) ->\n\n    @model.set(@options.name, evt.target.checked)\n\n\n  update : (model, value) ->\n\n    @ui.checkbox.prop(\"checked\", value)\n\nmodule.exports = CheckboxSettingView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/setting_views/checkbox_setting_view.coffee\n **/","_          = require(\"lodash\")\nMarionette = require(\"backbone.marionette\")\nSubviews   = require(\"backbone-subviews\")\n\nclass CategoryView extends Marionette.ItemView\n  # Abstract class to create category views. Subclasses must specify\n  # `subviewCreatorsList` like so:\n  #\n  # subviewCreatorsList: [\n  #   [\n  #     \"unique_view_id\", ->\n  #       # Create & return subview\n  #   ]\n  # ]\n\n  template : _.template(\"\"\"\n    <div class=\"panel panel-default\">\n      <div class=\"panel-heading\" data-toggle=\"collapse\" data-target=\"#user-settings-<%- tabId %>\">\n        <h4 class=\"panel-title\">\n          <a>\n            <i class=\"caret-down\"></i>\n            <i class=\"caret-right\"></i>\n            <%- caption %>\n          </a>\n        </h4>\n      </div>\n      <div id=\"user-settings-<%- tabId %>\" class=\"panel-collapse collapse in\">\n        <div class=\"panel-body\">\n\n          <% _.forEach(subviewCreatorsList, function (key_value_pair) { %>\n            <div data-subview=\"<%- key_value_pair[0] %>\"></div>\n          <% }) %>\n\n        </div>\n      </div>\n    </div>\n  \"\"\")\n\n\n  initialize : ->\n\n    unless @subviewCreatorsList?\n      throw new Error(\n        \"Subclasses of CategoryView must specify subviewCreatorsList\")\n\n    # subviewCreators hash needed for Subviews extension\n    @subviewCreators = _.transform(\n      @subviewCreatorsList\n      (result, [key, value]) -> result[key] = value\n      {}\n    )\n\n    Subviews.add(this)\n\n\n  serializeData : ->\n\n    return { @subviewCreatorsList, @caption, tabId : _.uniqueId() }\n\n\n  hide : ->\n\n    @$el.hide()\n\n\n  show : ->\n\n    @$el.show()\n\nmodule.exports = CategoryView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/category_views/category_view.coffee\n **/","NumberSettingView   = require(\"../setting_views/number_setting_view\")\nCheckboxSettingView = require(\"../setting_views/checkbox_setting_view\")\nSliderSettingView   = require(\"../setting_views/slider_setting_view\")\nButtonSettingView   = require(\"../setting_views/button_setting_view\")\nCategoryView        = require(\"./category_view\")\nConstants           = require(\"oxalis/constants\")\n\nclass NodeCategoryView extends CategoryView\n\n\n  caption : \"Nodes\"\n\n  subviewCreatorsList : [\n\n    [\n      \"activeNode\", ->\n\n        return new NumberSettingView(\n          model : @model\n          options :\n            name : \"activeNodeId\"\n            displayName : \"Active Node ID\"\n        )\n    ]\n\n    [\n      \"radius\", ->\n\n        return new SliderSettingView(\n          model : @model\n          options :\n            name : \"radius\"\n            displayName : \"Radius\"\n            min : 1\n            max : 5000\n            step : 1\n        )\n    ]\n\n    [\n      \"particleSize\", ->\n\n        return new SliderSettingView(\n          model : @model\n          options :\n            name : \"particleSize\"\n            displayName : \"Particle Size\"\n            min : Constants.MIN_PARTICLE_SIZE\n            max : Constants.MAX_PARTICLE_SIZE\n            step : 0.1\n        )\n    ]\n\n    [\n      \"overrideNodeRadius\", ->\n\n        return new CheckboxSettingView(\n          model : @model\n          options :\n            name : \"overrideNodeRadius\"\n            displayName : \"Override Radius\"\n        )\n    ]\n\n    [\n      \"deleteActiveNode\", ->\n\n        return new ButtonSettingView(\n          model : @model\n          options :\n            displayName : \"Delete Active Node\"\n            callbackName : \"deleteActiveNode\"\n        )\n    ]\n  ]\n\n\nmodule.exports = NodeCategoryView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/category_views/node_category_view.coffee\n **/","_                   = require(\"lodash\")\nMarionette          = require(\"backbone.marionette\")\nAbstractSettingView = require(\"./abstract_setting_view\")\n\nclass SliderSettingView extends AbstractSettingView\n\n\n  className : \"slider-setting-view row\"\n\n\n  template : _.template(\"\"\"\n    <div class=\"col-sm-5\">\n      <%- displayName %>\n    </div>\n    <div class=\"col-sm-3 no-gutter v-center\">\n      <div class=\"v-center-agent\">\n        <input type=\"range\" min=\"<%- min %>\" max=\"<%- max %>\" step=\"<%- step %>\" value=\"<%- typeof logScaleBase != \"undefined\" ? Math.log(value) / Math.log(logScaleBase) : value %>\">\n      </div>\n    </div>\n    <div class=\"col-sm-4\">\n      <input class=\"form-control\" type=\"number\" min=\"<%- min %>\" max=\"<%- max %>\" step=\"<%- step %>\" value=\"<%- value %>\">\n    </div>\n  \"\"\")\n\n\n  ui :\n    slider : \"input[type=range]\"\n    text : \"input[type=number]\"\n\n\n  events :\n    \"input @ui.slider\" : \"handleSliderChange\"\n    \"change @ui.slider\" : \"handleSliderChange\"\n    \"change @ui.text\" : \"handleTextboxChange\"\n    \"dblclick @ui.slider\" : \"resetValue\"\n\n\n  handleSliderChange : (evt) ->\n\n    value = @getSliderValue()\n    @ui.text.val(value)\n    @model.set(@options.name, value)\n\n\n  handleTextboxChange : (evt) ->\n\n    value = parseFloat(evt.target.value)\n    if @options.min <= value <= @options.max\n      @model.set(@options.name, value)\n    else\n      # reset to slider value\n      @update(@model, @getSliderValue())\n\n\n  update : (model, value) ->\n\n    value = parseFloat(value)\n    @ui.text.val(value)\n\n    if @options.logScaleBase\n      value = Math.log(value) / Math.log(@options.logScaleBase)\n    @ui.slider.val(value)\n\n\n  getSliderValue : ->\n\n    value = parseFloat(@ui.slider.val())\n    if @options.logScaleBase?\n      value = Math.pow(@options.logScaleBase, value)\n    return value\n\n\n  resetValue : (evt) ->\n\n    if @model\n      if reset = @model.reset\n        reset()\n\nmodule.exports = SliderSettingView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/setting_views/slider_setting_view.coffee\n **/","_                   = require(\"lodash\")\nMarionette          = require(\"backbone.marionette\")\nAbstractSettingView = require(\"./abstract_setting_view\")\n\nclass ButtonSettingView extends Marionette.ItemView\n\n\n  className : \"button-setting-view row\"\n\n\n  template : _.template(\"\"\"\n    <div class=\"col-sm-12\">\n      <button type=\"button\" class=\"btn btn-block btn-default\"><%- displayName %></button>\n    </div>\n  \"\"\")\n\n  events :\n    \"click button\" : \"handleClick\"\n\n\n  initialize : ({ @model, @options }) ->\n\n\n  serializeData : ->\n\n    return @options\n\n\n  handleClick : ->\n\n    @model[@options.callbackName]()\n\nmodule.exports = ButtonSettingView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/setting_views/button_setting_view.coffee\n **/","CategoryView         = require(\"./category_view\")\nTextInputSettingView = require(\"../setting_views/text_input_setting_view\")\nUtils                = require(\"libs/utils\")\nToast                = require(\"libs/toast\")\n\nclass BoundingBoxCategory extends CategoryView\n\n\n  caption : \"Bounding Box\"\n\n\n  subviewCreatorsList : [\n\n    [\n      \"boundingbox\", ->\n\n        return new TextInputSettingView(\n          model : @model\n          options :\n            name : \"boundingBox\"\n            displayName : \"Bounding Box\"\n            pattern : \"(\\\\d+\\\\s*,\\\\s*){5}\\\\d+\"\n            title : \"Format: minX, minY, minZ, maxX, maxY, maxZ\"\n            validate : @validate\n        )\n    ]\n  ]\n\n  validate : (value)->\n\n    [minX, minY, minZ, maxX, maxY, maxZ] = Utils.stringToNumberArray(value)\n\n    if isValid = minX > maxX or minY > maxY or minZ > maxZ\n\n      # Unfortunately we cannot use HTML5 form validation here since the text box\n      # is not part of a form and a submit event is missing :-(\n      Toast.error(\"Bounding Box: Max value must be bigger than min value.\", false)\n\n      # Set input as invalid for CSS highlighting\n      @ui.text[0].setCustomValidity(\"Max value must be bigger than min value.\")\n    else\n      # reset error state\n      @ui.text[0].setCustomValidity(\"\")\n\n    return isValid\n\nmodule.exports = BoundingBoxCategory\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/category_views/bounding_box_category_view.coffee\n **/","_                   = require(\"lodash\")\nMarionette          = require(\"backbone.marionette\")\nAbstractSettingView = require(\"./abstract_setting_view\")\n\nclass TextInputSettingView extends AbstractSettingView\n\n\n  className : \"text-setting-view row\"\n\n\n  template : _.template(\"\"\"\n    <div class=\"col-sm-5\">\n      <%- displayName %>\n    </div>\n    <div class=\"col-sm-7\">\n      <input class=\"form-control\" type=\"text\" pattern=\"<%- pattern %>\" title=\"<%- title %>\" value=\"<%- value %>\">\n    </div>\n  \"\"\")\n\n\n  ui :\n    text : \"input[type=text]\"\n\n\n  events :\n    \"change @ui.text\" : \"handleChange\"\n\n\n  initialize : (options) ->\n\n    super(options)\n\n    _.defaults(@options,\n      pattern : \"\"\n      title : \"\"\n    )\n\n  handleChange : (evt) ->\n\n    value = evt.target.value\n\n    if @options.validate\n      return if not @options.validate.call(@, value)\n\n    @model.set(@options.name, value)\n\n\n  update : (model, value) ->\n\n    @ui.text.val(value)\n\nmodule.exports = TextInputSettingView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/setting_views/text_input_setting_view.coffee\n **/","SettingsView             = require(\"./settings_view\")\nControlsCategoryView     = require(\"../category_views/controls_category_view\")\nViewportCategoryView     = require(\"../category_views/viewport_category_view\")\nTDViewCategoryView       = require(\"../category_views/tdview_category_view\")\nIsosurfaceCategoryView   = require(\"../category_views/isosurface_category_view\")\nSegmentationCategoryView = require(\"../category_views/segmentation_category_view\")\nAbstractTreeCategoryView = require(\"../category_views/abstracttree_category_view\")\n\nclass PlaneUserSettingsView extends SettingsView\n\n\n  id : \"user-settings\"\n  className : \"flex-column\"\n\n\n  subviewCreatorsList : [\n    [\n      \"controls-category\", ->\n        return new ControlsCategoryView({model : @model.get(\"user\")})\n    ]\n\n    [\n      \"viewport-category\", ->\n        return new ViewportCategoryView({@model})\n    ]\n\n    [\n      \"tdview-category\", ->\n        return new TDViewCategoryView({model : @model.get(\"user\")})\n    ]\n\n    [\n      \"isosurface-category\", ->\n        return new IsosurfaceCategoryView({model : @model.get(\"user\")})\n    ]\n\n    [\n      \"segmentation-category\", ->\n        return new SegmentationCategoryView({model : @model.get(\"user\")})\n    ]\n\n    [\n      \"abstracttree-category\", ->\n        return new AbstractTreeCategoryView({model : @model.get(\"user\")})\n    ]\n  ]\n\nmodule.exports = PlaneUserSettingsView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/settings_views/plane_user_settings_view.coffee\n **/","CheckboxSettingView = require(\"../setting_views/checkbox_setting_view\")\nSliderSettingView   = require(\"../setting_views/slider_setting_view\")\nCategoryView        = require(\"./category_view\")\n\nclass ControlsCategoryView extends CategoryView\n\n\n  caption : \"Controls\"\n\n\n  subviewCreatorsList : [\n\n    [\n      \"inverseX\", ->\n\n        return new CheckboxSettingView(\n          model : @model\n          options :\n            name : \"inverseX\"\n            displayName : \"Inverse X\"\n        )\n    ]\n\n    [\n      \"inverseY\", ->\n\n        return new CheckboxSettingView(\n          model : @model\n          options :\n            name : \"inverseY\"\n            displayName : \"Inverse Y\"\n        )\n    ]\n\n    [\n      \"keyboardDelay\", ->\n\n        return new SliderSettingView(\n          model : @model\n          options :\n            name : \"keyboardDelay\"\n            displayName : \"Keyboard delay (ms)\"\n            min : 0\n            max : 500\n            step : 1\n        )\n    ]\n  ]\n\nmodule.exports = ControlsCategoryView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/category_views/controls_category_view.coffee\n **/","app                 = require(\"app\")\nCheckboxSettingView = require(\"../setting_views/checkbox_setting_view\")\nSliderSettingView   = require(\"../setting_views/slider_setting_view\")\nDropdownSettingView = require(\"../setting_views/dropdown_setting_view\")\nCategoryView        = require(\"./category_view\")\nconstants           = require(\"../../../constants\")\n\nclass ViewportCategoryView extends CategoryView\n\n\n  caption : \"Viewport Options\"\n\n  subviewCreatorsList : [\n\n    [\n      \"moveValue\", ->\n\n        return new SliderSettingView(\n          model : @model.get(\"user\")\n          options :\n            name : \"moveValue\"\n            displayName : \"Move Value (nm/s)\"\n            min : constants.MIN_MOVE_VALUE\n            max : constants.MAX_MOVE_VALUE\n            step : 10\n        )\n    ]\n\n    [\n      \"zoom\", ->\n\n        return new SliderSettingView(\n          model : @model.get(\"user\")\n          options :\n            name : \"zoom\"\n            displayName : \"Zoom\"\n            min : -100\n            max : 100\n            step : 1\n            logScaleBase : Math.pow(@model.flycam.getMaxZoomStep(), 0.01)\n        )\n    ]\n\n    [\n      \"scale\", ->\n\n        return new SliderSettingView(\n          model : @model.get(\"user\")\n          options :\n            name : \"scale\"\n            displayName : \"Viewport Scale\"\n            min : constants.MIN_SCALE\n            max : constants.MAX_SCALE\n            step : 0.1\n        )\n    ]\n\n    [\n      \"clippingDistance\", ->\n\n        return new SliderSettingView(\n          model : @model.get(\"user\")\n          options :\n            name : \"clippingDistance\"\n            displayName : \"Clipping Distance\"\n            min : 1\n            max : 1000 * app.scaleInfo.baseVoxel\n            step : 1\n        )\n    ]\n\n    [\n      \"dynamicSpaceDirection\", ->\n\n        return new CheckboxSettingView(\n          model : @model.get(\"user\")\n          options :\n            name : \"dynamicSpaceDirection\"\n            displayName : \"d/f-Switching\"\n        )\n    ]\n\n    [\n      \"displayCrosshair\", ->\n\n        return new CheckboxSettingView(\n          model : @model.get(\"user\")\n          options :\n            name : \"displayCrosshair\"\n            displayName : \"Show Crosshairs\"\n        )\n    ]\n  ]\n\nmodule.exports = ViewportCategoryView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/category_views/viewport_category_view.coffee\n **/","_                   = require(\"lodash\")\nMarionette          = require(\"backbone.marionette\")\nAbstractSettingView = require(\"./abstract_setting_view\")\n\nclass DropdownSettingView extends AbstractSettingView\n\n\n  className : \"dropdown-setting-view row\"\n\n\n  template : _.template(\"\"\"\n    <div class=\"col-sm-5\">\n      <%- displayName %>\n    </div>\n    <div class=\"col-sm-7\">\n      <select class=\"form-control\">\n        <% _.forEach(options, function (name, index) { %>\n          <option value=\"<%- index %>\" <%- isSelected(value, index) %>><%- name %></option>\n        <% }) %>\n      </select>\n    </div>\n  \"\"\")\n\n\n  templateHelpers :\n    isSelected : (value, index) ->\n      return if value == index then \"selected\" else \"\"\n\n\n  ui :\n    select : \"select\"\n\n\n  events :\n    \"change @ui.select\" : \"handleChange\"\n\n\n  handleChange : (evt) ->\n    @model.set(@options.name, parseInt(evt.target.value, 10))\n\n\n  update : (model, value) ->\n\n    @ui.select.val(parseInt(value, 10))\n\nmodule.exports = DropdownSettingView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/setting_views/dropdown_setting_view.coffee\n **/","CheckboxSettingView = require(\"../setting_views/checkbox_setting_view\")\nCategoryView        = require(\"./category_view\")\nconstants           = require(\"../../../constants\")\n\nclass TDViewCategoryView extends CategoryView\n\n\n  caption : \"3D View\"\n\n\n  subviewCreatorsList : [\n\n    [\n      \"tdViewDisplayPlanes\", ->\n\n        return new CheckboxSettingView(\n          model : @model\n          options :\n            name : \"tdViewDisplayPlanes\"\n            displayName : \"Display Planes\"\n        )\n    ]\n  ]\n\nmodule.exports = TDViewCategoryView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/category_views/tdview_category_view.coffee\n **/","CategoryView        = require(\"./category_view\")\nCheckboxSettingView = require(\"../setting_views/checkbox_setting_view\")\nSliderSettingView   = require(\"../setting_views/slider_setting_view\")\nconstants           = require(\"oxalis/constants\")\napp                 = require(\"app\")\n\nclass IsosurfaceCategoryView extends CategoryView\n\n\n  caption : \"Isosurface View\"\n\n\n  subviewCreatorsList : [\n\n    [\n      \"displayIso\", ->\n\n        return new CheckboxSettingView(\n          model : @model\n          options :\n            name : \"isosurfaceDisplay\"\n            displayName : \"Turn On\"\n        )\n    ]\n\n    [\n      \"boundingBox\", ->\n\n        return new SliderSettingView(\n          model : @model\n          options :\n            name : \"isosurfaceBBsize\"\n            displayName : \"Bounding Box Size\"\n            min : 1\n            max : 10\n            step : 0.1\n        )\n    ]\n\n    [\n      \"resolution\", ->\n\n        return new SliderSettingView(\n          model : @model\n          options :\n            name : \"isosurfaceResolution\"\n            displayName : \"Resolution\"\n            min : 40\n            max : 400\n            step : 1\n        )\n    ]\n  ]\n\n\n  initialize : ->\n\n    super()\n    @hide() unless app.oxalis.model.volumeTracing?\n\nmodule.exports = IsosurfaceCategoryView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/category_views/isosurface_category_view.coffee\n **/","SliderSettingView = require(\"../setting_views/slider_setting_view\")\nCategoryView      = require(\"./category_view\")\n\nclass SegementationCategoryView extends CategoryView\n\n\n  caption : \"Segmentation\"\n\n  subviewCreatorsList : [\n\n    [\n      \"segmentOpacity\", ->\n\n        return new SliderSettingView(\n          model : @model\n          options :\n            name : \"segmentationOpacity\"\n            displayName : \"Segement Opacity\"\n            min : 0\n            max : 100\n            step : 1\n        )\n    ]\n  ]\n\n\n  initialize : ->\n\n    super()\n    @hide() unless app.oxalis.model.getSegmentationBinary()?\n\nmodule.exports = SegementationCategoryView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/category_views/segmentation_category_view.coffee\n **/","CheckboxSettingView = require(\"../setting_views/checkbox_setting_view\")\nCategoryView        = require(\"./category_view\")\n\nclass AbstractTreeCategoryView extends CategoryView\n\n  caption : \"Abstract Tree\"\n\n  subviewCreatorsList : [\n\n    [\n      \"renderComments\", ->\n\n        return new CheckboxSettingView(\n          model : @model\n          options :\n            name : \"renderComments\"\n            displayName : \"Render Comments\"\n        )\n    ]\n  ]\n\nmodule.exports = AbstractTreeCategoryView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/category_views/abstracttree_category_view.coffee\n **/","SettingsView        = require(\"./settings_view\")\nColorsCategoryView  = require(\"../category_views/colors_category_view\")\nQualityCategoryView = require(\"../category_views/quality_category_view\")\n\nclass DatasetSettingsView extends SettingsView\n\n\n  id : \"dataset-settings\"\n  className : \"flex-column\"\n\n  modelName : \"datasetConfiguration\"\n\n\n  subviewCreatorsList : [\n\n    [\n      \"colors-category\", ->\n        return new ColorsCategoryView(model : @model)\n    ]\n\n    [\n      \"quality-category\", ->\n        return new QualityCategoryView(model : @model)\n    ]\n  ]\n\nmodule.exports = DatasetSettingsView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/settings_views/dataset_settings_view.coffee\n **/","LayerColorSettingsView = require(\"../settings_views/layer_color_settings_view\")\nButtonSettingView      = require(\"../setting_views/button_setting_view\")\nCategoryView           = require(\"./category_view\")\n\nclass ColorsCategoryView extends CategoryView\n\n\n  caption : \"Colors\"\n\n\n  subviewCreatorsList : [\n\n    [\n      \"reset\", ->\n\n        return new ButtonSettingView(\n          model : @model\n          options :\n            displayName : \"Reset Color Settings\"\n            callbackName : \"reset\"\n        )\n    ]\n  ]\n\n\n  initialize : ->\n\n    for key in @model.get(\"dataLayerNames\")\n\n      do (key) =>\n        @subviewCreatorsList.push([key, -> new LayerColorSettingsView(\n          model : @model\n          options :\n            name : \"layers.#{key}\"\n            displayName : \"Layer: #{key}\"\n        )])\n\n    super()\n\nmodule.exports = ColorsCategoryView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/category_views/colors_category_view.coffee\n **/","_                 = require(\"lodash\")\nMarionette        = require(\"backbone.marionette\")\nSubviews          = require(\"backbone-subviews\")\nSliderSettingView = require(\"../setting_views/slider_setting_view\")\nColorSettingView  = require(\"../setting_views/color_setting_view\")\n\nclass LayerColorSettingsView extends Marionette.ItemView\n\n  template : _.template(\"\"\"\n    <p><%- displayName %></p>\n    <% _.forEach(subviewCreatorsList, function (key_value_pair) { %>\n      <div data-subview=\"<%- key_value_pair[0] %>\"></div>\n    <% }) %>\n  \"\"\")\n\n\n  subviewCreatorsList : [\n\n    [\n      \"brightness\", ->\n\n        return new SliderSettingView(\n          model : @model\n          options :\n            name : \"#{@options.name}.brightness\"\n            displayName : \"Brightness\"\n            min : -256\n            max : 256\n            step : 5\n        )\n    ]\n\n    [\n      \"contrast\", ->\n\n        return new SliderSettingView(\n          model : @model\n          options :\n            name : \"#{@options.name}.contrast\"\n            displayName : \"Contrast\"\n            min : 0.5\n            max : 5\n            step : 0.1\n        )\n    ]\n\n    [\n      \"color\", ->\n\n        return new ColorSettingView(\n            model : @model\n            options :\n              name : \"#{@options.name}.color\"\n              displayName : \"Color\"\n          )\n    ]\n\n  ]\n\n  serializeData : ->\n\n    return _.extend(\n      @options,\n      { @subviewCreatorsList }\n    )\n\n\n  initialize : ({ @model, @options }) ->\n\n    unless @subviewCreatorsList?\n      throw new Error(\n        \"Subclasses of CategoryView must specify subviewCreatorsList\")\n\n    # subviewCreators hash needed for Subviews extension\n    @subviewCreators = _.transform(\n      @subviewCreatorsList\n      (result, [key, value]) -> result[key] = value\n      {}\n    )\n\n    Subviews.add(this)\n\nmodule.exports = LayerColorSettingsView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/settings_views/layer_color_settings_view.coffee\n **/","_                   = require(\"lodash\")\nMarionette          = require(\"backbone.marionette\")\nUtils               = require(\"libs/utils\")\nAbstractSettingView = require(\"./abstract_setting_view\")\n\nclass ColorSettingView extends AbstractSettingView\n\n\n  className : \"color-setting-view row\"\n\n\n  template : _.template(\"\"\"\n    <div class=\"col-sm-5\">\n      <%- displayName %>\n    </div>\n    <div class=\"col-sm-4 col-sm-offset-3\">\n      <input class=\"form-control\" type=\"color\" value=\"<%- rgbToHex(value) %>\">\n    </div>\n  \"\"\")\n\n\n  templateHelpers :\n    rgbToHex : Utils.rgbToHex\n\n\n  ui :\n    colorpicker : \"input[type=color]\"\n\n\n  events :\n    \"change @ui.colorpicker\" : \"handleChange\"\n\n\n  handleChange : (evt) ->\n\n    @model.set(@options.name, Utils.hexToRgb(evt.target.value))\n\n\n  update : (model, value) ->\n\n    @ui.colorpicker.val(Utils.rgbToHex(value))\n\nmodule.exports = ColorSettingView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/setting_views/color_setting_view.coffee\n **/","CheckboxSettingView = require(\"../setting_views/checkbox_setting_view\")\nDropdownSettingView = require(\"../setting_views/dropdown_setting_view\")\nCategoryView        = require(\"./category_view\")\nconstants           = require(\"../../../constants\")\n\nclass QualityCategoryView extends CategoryView\n\n\n  caption : \"Quality\"\n\n\n  subviewCreatorsList : [\n\n    [\n      \"fourBit\", ->\n\n        return new CheckboxSettingView(\n          model : @model\n          options :\n            name : \"fourBit\"\n            displayName : \"4 Bit\"\n        )\n    ]\n\n    [\n      \"interpolation\", ->\n\n        return new CheckboxSettingView(\n          model : @model\n          options :\n            name : \"interpolation\"\n            displayName : \"Interpolation\"\n        )\n    ]\n\n    [\n      \"quality\", ->\n\n        return new DropdownSettingView(\n          model : @model\n          options :\n            name : \"quality\"\n            displayName : \"Quality\"\n            options : [\"high\", \"medium\", \"low\"]\n        )\n    ]\n  ]\n\nmodule.exports = QualityCategoryView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/category_views/quality_category_view.coffee\n **/","Backbone = require(\"backbone\")\napp      = require(\"app\")\nUtils    = require(\"libs/utils\")\n\n\nclass BackboneToOxalisAdapterModel extends Backbone.Model\n\n  initialize : (@oxalisModel) ->\n\n    # Default Values for inital setup / rendering\n    @skeletonTracingAdapter = new Backbone.Model(\n      activeTreeId : 0\n      somaClicking : false\n      activeNodeId : 0\n      radius : 0\n      particleSize : 0\n      overrideNodeRadius : true\n      boundingBox : \"0, 0, 0, 0, 0, 0\"\n    )\n\n    @volumeTracingAdapter = new Backbone.Model(\n      activeCellId : 0\n    )\n\n    @listenTo(@oxalisModel, \"sync\", @bind)\n\n\n  bind : ->\n\n    if @oxalisModel.skeletonTracing\n\n      # Update values after OxalisModel is done syncing\n      @skeletonTracingModel = @oxalisModel.skeletonTracing\n\n      @skeletonTracingAdapter.set(\"activeTreeId\", @skeletonTracingModel.getActiveTreeId())\n      @skeletonTracingAdapter.set(\"activeNodeId\", @skeletonTracingModel.getActiveNodeId())\n      @skeletonTracingAdapter.set(\"radius\", @skeletonTracingModel.getActiveNodeRadius())\n      @skeletonTracingAdapter.set(\"overrideNodeRadius\", @oxalisModel.user.get(\"overrideNodeRadius\"))\n      @skeletonTracingAdapter.set(\"particleSize\", @oxalisModel.user.get(\"particleSize\"))\n      @skeletonTracingAdapter.deleteActiveNode = @skeletonTracingModel.deleteActiveNode.bind(@skeletonTracingModel)\n\n      if @oxalisModel.settings.somaClickingAllowed\n        @skeletonTracingAdapter.set(\"somaClicking\", @oxalisModel.user.get(\"newNodeNewTree\"))\n\n\n      # ####################################\n      # Listen to changes in the OxalisModel\n\n      @listenTo(@skeletonTracingModel, \"newTree\", (id) -> @skeletonTracingAdapter.set(\"activeTreeId\", id, {triggeredByModel: true}))\n      @listenTo(@skeletonTracingModel, \"newActiveTree\", (id) -> @skeletonTracingAdapter.set(\"activeTreeId\", id, {triggeredByModel: true}))\n      @listenTo(@skeletonTracingModel, \"newActiveNode\", (id) ->\n        @skeletonTracingAdapter.set(\"activeNodeId\", id, {triggeredByModel: true})\n        # update node radius display accordingly\n        @skeletonTracingAdapter.set(\"radius\", @skeletonTracingModel.getActiveNodeRadius(), {triggeredByModel: true})\n      )\n      @listenTo(@skeletonTracingModel, \"newActiveNodeRadius\", (id) -> @skeletonTracingAdapter.set(\"radius\", id, {triggeredByModel: true}))\n\n\n      # ######################################\n      # Listen to changes in the BackboneModel\n\n      # Some calls are deferred, so the backbone change is propagated first, as the property in question\n      # may be reset again if it is invalid.\n      # If the original event was triggered by the oxalis model (options.triggeredByModel), the change in the backbone model\n      # doesn't need to be propagated again. This lead to race conditions, if the property was changed in the oxalis\n      # model in the mean time.\n      @listenTo(@skeletonTracingAdapter, \"change:activeTreeId\", (model, id, options) ->\n        if not options.triggeredByModel\n          _.defer( => @skeletonTracingModel.setActiveTree(id) )\n      )\n\n      @listenTo(@skeletonTracingAdapter, \"change:somaClicking\", (model, bool) ->\n        @oxalisModel.user.set(\"newNodeNewTree\", bool)\n      )\n\n      @listenTo(@skeletonTracingAdapter, \"change:activeNodeId\", (model, id, options) ->\n        if not options.triggeredByModel\n          _.defer( => @skeletonTracingModel.setActiveNode(id) )\n      )\n\n      @listenTo(@skeletonTracingAdapter, \"change:particleSize\", (model, size) ->\n        _.defer( => @oxalisModel.user.set(\"particleSize\", size) )\n      )\n\n      @listenTo(@skeletonTracingAdapter, \"change:overrideNodeRadius\", (model, bool) ->\n        @oxalisModel.user.set(\"overrideNodeRadius\", bool)\n      )\n\n      @listenTo(@skeletonTracingAdapter, \"change:radius\", (model, radius, options) ->\n        if not options.triggeredByModel\n          _.defer( => @skeletonTracingModel.setActiveNodeRadius(radius) )\n      )\n\n      @listenTo(@skeletonTracingAdapter, \"change:boundingBox\", (model, string) ->\n        bbArray = Utils.stringToNumberArray(string)\n        if bbArray?.length == 6\n          @oxalisModel.boundingBox = bbArray\n          @oxalisModel.trigger(\"newBoundingBox\", bbArray)\n      )\n\n    else if @oxalisModel.volumeTracing\n\n      # Update values after OxalisModel is done syncing\n      @volumeTracingModel = @oxalisModel.volumeTracing\n\n      @volumeTracingAdapter.set(\"mappedActiveCellId\", @volumeTracingModel.getMappedActiveCellId())\n      @volumeTracingAdapter.createCell = @volumeTracingModel.createCell.bind(@volumeTracingModel)\n\n\n      # ####################################\n      # Listen to changes in the OxalisModel\n      @listenTo(@volumeTracingModel, \"newActiveCell\", ->\n        @volumeTracingAdapter.set(\"mappedActiveCellId\", @volumeTracingModel.getMappedActiveCellId())\n      )\n\n\n      # ######################################\n      # Listen to changes in the BackboneModel\n      @listenTo(@volumeTracingAdapter, \"change:activeCellId\", (model, id) ->\n        @volumeTracingModel.setActiveCell(id)\n      )\n\nmodule.exports = BackboneToOxalisAdapterModel\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/settings/backbone_to_oxalis_adapter_model.coffee\n **/","AbstractTabView              = require(\"oxalis/view/abstract_tab_view\")\nSkeletonTracingSettingsView  = require(\"../settings_views/skeleton_tracing_settings_view\")\nArbitraryUserSettingsView    = require(\"../settings_views/arbitrary_user_settings_view\")\nDatasetSettingsView          = require(\"../settings_views/dataset_settings_view\")\n\nclass SkeletonArbitraryTabView extends AbstractTabView\n\n  getTabs : ->\n    [\n      {\n        id : \"tracing-settings-tab\"\n        name : \"Tracing\"\n        iconClass : \"fa fa-cogs\"\n        viewClass : SkeletonTracingSettingsView\n        options : { model: @adapterModel}\n      }\n      {\n        id : \"dataset-settings-tab\"\n        name : \"Dataset\"\n        iconClass : \"fa fa-cogs\"\n        active : true\n        viewClass : DatasetSettingsView\n      }\n      {\n        id : \"user-settings-tab\"\n        name : \"User\"\n        iconClass : \"fa fa-cogs\"\n        viewClass : ArbitraryUserSettingsView\n      }\n    ]\n\nmodule.exports = SkeletonArbitraryTabView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/tab_views/skeleton_arbitrary_tab_view.coffee\n **/","SettingsView         = require(\"./settings_view\")\nControlsCategoryView = require(\"../category_views/controls_category_view\")\nFlightCategoryView   = require(\"../category_views/flight_category_view\")\n\nclass ArbitraryUserSettingsView extends SettingsView\n\n\n  id : \"user-settings\"\n  className : \"flex-column\"\n\n\n  modelName : \"user\"\n\n\n  subviewCreatorsList : [\n    [\n      \"controls-category\", ->\n\n        return new ControlsCategoryView(model : @model)\n    ]\n\n    [\n      \"flight-category\", ->\n\n        return new FlightCategoryView(model : @model)\n    ]\n  ]\n\nmodule.exports = ArbitraryUserSettingsView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/settings_views/arbitrary_user_settings_view.coffee\n **/","SliderSettingView   = require(\"../setting_views/slider_setting_view\")\nCheckboxSettingView = require(\"../setting_views/checkbox_setting_view\")\nCategoryView        = require(\"./category_view\")\nconstants           = require(\"../../../constants\")\n\nclass FlightCategoryView extends CategoryView\n\n\n  caption : \"Flightoptions\"\n\n\n  subviewCreatorsList : [\n\n    [\n      \"mouseRotateValue\", ->\n\n        return new SliderSettingView(\n          model : @model\n          options :\n            name : \"mouseRotateValue\"\n            displayName : \"Mouse Rotation\"\n            min : 0.001\n            max : 0.02\n            step : 0.001\n        )\n    ]\n\n    [\n      \"rotateValue\", ->\n\n        return new SliderSettingView(\n          model : @model\n          options :\n            name : \"rotateValue\"\n            displayName : \"Keyboard Rotation Value\"\n            min : 0.001\n            max : 0.08\n            step : 0.001\n        )\n    ]\n\n    [\n      \"moveValue3d\", ->\n\n        return new SliderSettingView(\n          model : @model\n          options :\n            name : \"moveValue3d\"\n            displayName : \"Move Value (nm/s)\"\n            min : constants.MIN_MOVE_VALUE\n            max : constants.MAX_MOVE_VALUE\n            step : 10\n        )\n    ]\n\n    [\n      \"crosshairSize\", ->\n\n        return new SliderSettingView(\n          model : @model\n          options :\n            name : \"crosshairSize\"\n            displayName : \"Crosshair Size\"\n            min : 0.05\n            max : 0.5\n            step : 0.01\n        )\n    ]\n\n    [\n      \"sphericalCapRadius\", ->\n\n        return new SliderSettingView(\n          model : @model\n          options :\n            name : \"sphericalCapRadius\"\n            displayName : \"Sphere Radius\"\n            min : 50\n            max : 500\n            step : 1\n        )\n    ]\n\n    [\n      \"clippingDistanceArbitrary\", ->\n\n        return new SliderSettingView(\n          model : @model\n          options :\n            name : \"clippingDistanceArbitrary\"\n            displayName : \"Clipping Distance\"\n            min : 1\n            max : 127\n            step : 1\n        )\n    ]\n\n    [\n      \"displayCrosshair\", ->\n\n        return new CheckboxSettingView(\n          model : @model\n          options :\n            name : \"displayCrosshair\"\n            displayName : \"Show Crosshair\"\n        )\n    ]\n  ]\n\nmodule.exports = FlightCategoryView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/category_views/flight_category_view.coffee\n **/","AbstractTabView              = require(\"oxalis/view/abstract_tab_view\")\nVolumeTracingSettingsView    = require(\"../settings_views/volume_tracing_settings_view\")\nPlaneUserSettingsView        = require(\"../settings_views/plane_user_settings_view\")\nDatasetSettingsView          = require(\"../settings_views/dataset_settings_view\")\nBackboneToOxalisAdapterModel = require(\"oxalis/model/settings/backbone_to_oxalis_adapter_model\")\n\nclass VolumeTabView extends AbstractTabView\n\n  getTabs : ->\n    [\n      {\n        id : \"tracing-settings-tab\"\n        name : \"Tracing\"\n        iconClass : \"fa fa-cogs\"\n        viewClass : VolumeTracingSettingsView\n        options : { model: @adapterModel}\n      }\n      {\n        id : \"dataset-settings-tab\"\n        name : \"Dataset\"\n        iconClass : \"fa fa-cogs\"\n        active : true\n        viewClass : DatasetSettingsView\n      }\n      {\n        id : \"user-settings-tab\"\n        name : \"User\"\n        iconClass : \"fa fa-cogs\"\n        viewClass : PlaneUserSettingsView\n      }\n    ]\n\nmodule.exports = VolumeTabView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/tab_views/volume_tab_view.coffee\n **/","Marionette       = require(\"backbone.marionette\")\n_                = require(\"lodash\")\nSettingsView     = require(\"./settings_view\")\nCellCategoryView = require(\"../category_views/cell_category_view\")\n\nclass VolumeTracingSettingsView extends SettingsView\n\n\n  id : \"tracing-settings\"\n  className: \"flex-column\"\n\n  modelName : \"volumeTracingAdapter\"\n\n\n  subviewCreatorsList : [\n    [\n      \"cell-category\", ->\n        return new CellCategoryView({ @model })\n    ]\n  ]\n\nmodule.exports = VolumeTracingSettingsView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/settings_views/volume_tracing_settings_view.coffee\n **/","constants         = require(\"oxalis/constants\")\nCategoryView      = require(\"./category_view\")\nNumberSettingView = require(\"../setting_views/number_setting_view\")\nButtonSettingView = require(\"../setting_views/button_setting_view\")\n\nclass CellCategoryView extends CategoryView\n\n\n  caption : \"Cells\"\n\n\n  subviewCreatorsList : [\n\n    [\n      \"mappedActiveCellId\", ->\n\n        return new NumberSettingView(\n          model : @model\n          options :\n            name : \"mappedActiveCellId\"\n            displayName : \"Active Cell ID\"\n        )\n    ]\n\n    [\n      \"createCell\", ->\n\n        return new ButtonSettingView(\n          model : @model\n          options :\n            displayName : \"Create new Cell\"\n            callbackName : \"createCell\"\n        )\n    ]\n  ]\n\nmodule.exports = CellCategoryView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/category_views/cell_category_view.coffee\n **/","AbstractTabView       = require(\"oxalis/view/abstract_tab_view\")\nHelpLogoView          = require(\"../settings_views/help_logo_view\")\nPlaneUserSettingsView = require(\"../settings_views/plane_user_settings_view\")\nDatasetSettingsView   = require(\"../settings_views/dataset_settings_view\")\n\nclass ViewmodeTabView extends AbstractTabView\n\n  getTabs : ->\n    [\n      {\n        id : \"help-tab\"\n        name : \"Help\"\n        active : true\n        viewClass : HelpLogoView\n      }\n      {\n        id : \"dataset-settings-tab\"\n        name : \"Dataset\"\n        iconClass : \"fa fa-cogs\"\n        viewClass : DatasetSettingsView\n      }\n      {\n        id : \"user-settings-tab\"\n        name : \"User\"\n        iconClass : \"fa fa-cogs\"\n        viewClass : PlaneUserSettingsView\n      }\n    ]\n\nmodule.exports = ViewmodeTabView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/tab_views/viewmode_tab_view.coffee\n **/","_          = require(\"lodash\")\nMarionette = require(\"backbone.marionette\")\n\nclass HelpLogoView extends Marionette.ItemView\n\n  className : \"help-logo-view flex-column\"\n  template : _.template(\"\"\"\n    <div class=\"flex-overflow\">\n      <table class=\"table table-condensed table-nohead table-bordered\">\n        <tbody>\n          <tr><th colspan=\"2\">Controls</th></tr>\n          <tr><td>I,O or Alt + Mousewheel</td><td>Zoom in/out</td></tr>\n          <tr><td>Mousewheel or D and F</td><td>Move along 3rd axis</td></tr>\n          <tr><td>Left Mouse drag or Arrow keys</td><td>Move</td></tr>\n          <tr><td>Right click drag in 3D View</td><td>Rotate 3D View</td></tr>\n          <tr><td>K,L</td><td>Scale up/down viewports</td></tr>\n        </tbody>\n      </table>\n      <div>\n        <img class=\"img-responsive\" src=\"/assets/images/Max-Planck-Gesellschaft.svg\")\">\n      </div>\n      <div>\n        <img class=\"img-responsive\" src=\"/assets/images/Logo_MPI_cut.svg\")\">\n      </div>\n    </div>\n  \"\"\")\n\nmodule.exports = HelpLogoView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/settings/settings_views/help_logo_view.coffee\n **/","AbstractTabView  = require(\"../abstract_tab_view\")\nCommentTabView   = require(\"./right-menu/comment_tab_view\")\nAbstractTreeView = require(\"./right-menu/abstract_tree_view\")\nListTreeView     = require(\"./right-menu/list_tree_view\")\nDatasetInfoView  = require(\"../viewmode/right-menu/dataset_info_view\")\n\nclass SkeletonTracingRightMenuView extends AbstractTabView\n\n  getTabs : ->\n    [\n      {\n        id : \"tab-info\"\n        name : \"Info\"\n        viewClass : DatasetInfoView\n      }\n      {\n        id : \"tab-abstract-tree\"\n        name : \"Tree Viewer\"\n        viewClass : AbstractTreeView\n      }\n      {\n        id : \"tab-trees\"\n        name : \"Trees\"\n        viewClass : ListTreeView\n      }\n      {\n        id : \"tab-comments\"\n        name : \"Comments\"\n        viewClass : CommentTabView\n        active : true\n      }\n    ]\n\nmodule.exports = SkeletonTracingRightMenuView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/skeletontracing/skeletontracing_right_menu_view.coffee\n **/","app                = require(\"app\")\nMarionette         = require(\"backbone.marionette\")\nInput              = require(\"libs/input\")\nCommentTabItemView = require(\"./comment_tab_item_view\")\n\nclass CommentTabView extends Marionette.CompositeView\n\n  className : \"flex-column\"\n  template : _.template(\"\"\"\n    <div class=\"input-group\" id=\"comment-navbar\">\n      <div class=\"input-group-btn\">\n        <button class=\"btn btn-default\" id=\"comment-previous\"><i class=\"fa fa-arrow-left\"></i></button>\n      </div>\n      <input class=\"form-control\" id=\"comment-input\" type=\"text\" value=\"<%- activeComment.get(\"content\") %>\" placeholder=\"Add comment\">\n      <div class=\"input-group-btn\">\n        <button class=\"btn btn-default\" id=\"comment-next\"><i class=\"fa fa-arrow-right\"></i></button>\n        <button class=\"btn btn-default\" id=\"comment-sort\" title=\"sort\">\n          <% if(isSortedAscending){ %>\n            <i class=\"fa fa-sort-alpha-asc\"></i>\n          <% } else { %>\n            <i class=\"fa fa-sort-alpha-desc\"></i>\n          <% } %>\n        </button>\n      </div>\n    </div>\n    <ul id=\"comment-list\" class=\"flex-overflow\"></ul>\n  \"\"\")\n\n  childView : CommentTabItemView\n  childViewContainer : \"#comment-list\"\n\n  childViewOptions : ->\n    parent : @\n    activeComment : @activeComment\n\n  templateHelpers : ->\n    activeComment : @activeComment\n    isSortedAscending : @isSortedAscending\n\n\n  ui :\n    \"commentInput\" : \"input\"\n\n  events :\n    \"click #comment-sort\" : \"sortComments\"\n    \"change input\" : \"handleInput\"\n    \"click #comment-list li\" : \"setActive\"\n    \"click #comment-next\" : \"nextComment\"\n    \"click #comment-previous\" : \"previousComment\"\n\n\n  initialize : ->\n\n    @activeComment = new Backbone.Model()\n    @isSortedAscending = true\n\n    @collection = @model.skeletonTracing.comments\n\n    # Marionette internal function\n    this._initialEvents()\n\n    # select the activeNode if there is a comment...\n    if comment = @collection.findWhere(\"node\" : @getActiveNodeId())\n      @activeComment = comment\n    # ... or else set the first comment if one is available\n    else if comment = @collection.first()\n      @activeComment = comment\n\n    # events\n    @listenTo(@model.skeletonTracing, \"newActiveNode\", @updateInputElement)\n    @listenTo(@model.skeletonTracing, \"deleteComment\", @deleteComment)\n    @listenTo(@collection, \"sort\", @render)\n\n    # keyboard shortcuts\n    new Input.KeyboardNoLoop(\n      \"n\" : => @nextComment()\n      \"p\" : => @previousComment()\n    )\n\n\n  getActiveNodeId : ->\n\n    return @model.skeletonTracing.getActiveNodeId()\n\n\n  setActiveNode : (activeComment) ->\n\n    @activeComment = activeComment\n    nodeId = activeComment.get(\"node\")\n    @model.skeletonTracing.setActiveNode(nodeId)\n    @model.skeletonTracing.centerActiveNode()\n\n\n  updateInputElement : (nodeId) ->\n    # responds to activeNode:change event\n    content = \"\"\n    if comment = @collection.findWhere(node : nodeId)\n      @activeComment = comment\n      content = comment.get(\"content\")\n\n    # populate the input element\n    @ui.commentInput.val(content)\n\n\n  handleInput : (evt) ->\n\n    # add, delete or update a comment\n    nodeId = @getActiveNodeId()\n    commentText = $(evt.target).val()\n\n    if comment = @collection.findWhere(node : nodeId)\n      unless commentText == \"\"\n        comment.set(\"content\", commentText)\n      else\n        @collection.remove(comment)\n    else\n      if commentText != \"\"\n        newComment = @collection.add(\n          node : nodeId\n          content: commentText\n        )\n\n        @setActiveNode(newComment)\n\n\n  nextComment : ->\n\n    activeComment = @activeComment\n    nextComment = @collection.find( ((model) -> @comparator(model) > @comparator(activeComment)), @collection)\n    # try to wrap around if no next comment was found\n    nextComment = @collection.at(0) if not nextComment\n    if nextComment\n\n      @setActiveNode(nextComment)\n\n\n  previousComment : ->\n\n    activeComment = @activeComment\n    previousComment = _.findLast(@collection.models, ((model) -> @comparator(model) < @comparator(activeComment)), @collection)\n    # try to wrap around if no previous comment was found\n    previousComment = @collection.at(@collection.length - 1) if not previousComment\n    if previousComment\n\n      @setActiveNode(previousComment)\n\n\n  sortComments : (evt) ->\n\n    @isSortedAscending = !@isSortedAscending\n    @collection.sort(@isSortedAscending)\n\n\n  deleteComment : (nodeID) ->\n\n    comment = @collection.findWhere(\"node\" : nodeID)\n    if comment\n      @collection.remove(comment)\n      @trigger(\"updateComments\")\n\nmodule.exports = CommentTabView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/skeletontracing/right-menu/comment_tab_view.coffee\n **/","Backbone       = require(\"backbone\")\nconstants      = require(\"oxalis/constants\")\nKeyboardJS     = require(\"keyboardjs\")\n\n\nInput = {}\n# This is the main Input implementation.\n# Although all keys, buttons and sensor are mapped in\n# the controller, this is were the magic happens.\n# So far we provide the following input methods:\n# * Mouse\n# * Keyboard\n# * MotionSensor / Gyroscope\n\n# Each input method is contained in its own module. We tried to\n# provide similar public interfaces for the input methods.\n# In most cases the heavy lifting is done by librarys in the background.\n\n\n# This keyboard hook directly passes a keycombo and callback\n# to the underlying KeyboadJS library to do its dirty work.\n# Pressing a button will only fire an event once.\nclass Input.KeyboardNoLoop\n\n  constructor : (initialBindings) ->\n\n    @bindings = []\n\n    for own key, callback of initialBindings\n      @attach(key, callback)\n\n\n  attach : (key, callback) ->\n\n    # Workaround: KeyboardJS fires event for \"C\" even if you press\n    # \"Ctrl + C\".\n    shouldIgnore = (event) ->\n      bindingHasCtrl  = key.toLowerCase().indexOf(\"ctrl\") != -1\n      bindingHasShift = key.toLowerCase().indexOf(\"shift\") != -1\n      eventHasCtrl  = event.ctrl or event.metaKey\n      eventHasShift = event.shiftKey\n      return (eventHasCtrl and not bindingHasCtrl) or\n        (eventHasShift and not bindingHasShift)\n\n    binding = [key,\n      (event) =>\n        callback(event) unless $(\":focus\").length or shouldIgnore(event)\n        return\n    ]\n\n    KeyboardJS.bind(binding...)\n\n    @bindings.push(binding)\n\n\n  unbind : ->\n\n    KeyboardJS.unbind(binding...) for binding in @bindings\n    return\n\n\n# This module is \"main\" keyboard handler.\n# It is able to handle key-presses and will continously\n# fire the attached callback.\nclass Input.Keyboard\n\n  DELAY : 1000 / constants.FPS\n\n  constructor : (initialBindings, @delay = 0) ->\n\n    @keyCallbackMap = {}\n    @keyPressedCount = 0\n    @bindings = []\n\n    for own key, callback of initialBindings\n      @attach(key, callback)\n\n\n  attach : (key, callback) ->\n\n    # Workaround: KeyboardJS fires event for \"C\" even if you press\n    # \"Ctrl + C\".\n    shouldIgnore = (event) ->\n      bindingHasCtrl  = key.toLowerCase().indexOf(\"ctrl\") != -1\n      bindingHasShift = key.toLowerCase().indexOf(\"shift\") != -1\n      eventHasCtrl  = event.ctrl or event.metaKey\n      eventHasShift = event.shiftKey\n      return (eventHasCtrl and not bindingHasCtrl) or\n        (eventHasShift and not bindingHasShift)\n\n\n    binding = [key,\n      (event) =>\n        # When first pressed, insert the callback into\n        # keyCallbackMap and start the buttonLoop.\n        # Then, ignore any other events fired from the operating\n        # system, because we're using our own loop.\n        # When control key is pressed, everything is ignored, because\n        # if there is any browser action attached to this (as with Ctrl + S)\n        # KeyboardJS does not receive the up event.\n\n        returnValue = undefined\n\n        unless @keyCallbackMap[key]? or $(\":focus\").length or shouldIgnore(event)\n\n          callback(1, true)\n          # reset lastTime\n          callback._lastTime   = null\n          callback._delayed    = true\n          @keyCallbackMap[key] = callback\n\n          @keyPressedCount++\n          @buttonLoop() if @keyPressedCount == 1\n\n        if @delay >= 0\n          setTimeout( (=>\n            callback._delayed = false\n            ), @delay )\n\n        return returnValue\n\n      =>\n\n        if @keyCallbackMap[key]?\n          @keyPressedCount--\n          delete @keyCallbackMap[key]\n\n        return\n    ]\n\n    KeyboardJS.bind(binding...)\n\n    @bindings.push(binding)\n\n\n  # In order to continously fire callbacks we have to loop\n  # through all the buttons that a marked as \"pressed\".\n  buttonLoop : ->\n\n    if @keyPressedCount > 0\n      for own key, callback of @keyCallbackMap\n        if not callback._delayed\n\n          curTime  = (new Date()).getTime()\n          # If no lastTime, assume that desired FPS is met\n          lastTime = callback._lastTime || (curTime - 1000 / constants.FPS)\n          elapsed  = curTime - lastTime\n          callback._lastTime = curTime\n\n          callback(elapsed / 1000 * constants.FPS, false)\n\n      setTimeout( (=> @buttonLoop()), @DELAY )\n\n\n  unbind : ->\n\n    KeyboardJS.unbind(binding...) for binding in @bindings\n    return\n\n\n# The mouse module.\n# Events: over, out, leftClick, rightClick, leftDownMove\nclass Input.Mouse\n\n  class MouseButton\n\n    MOVE_DELTA_THRESHOLD : 30\n\n    constructor : (@name, @which, @mouse, @id) ->\n      @down  = false\n      @drag  = false\n      @moveDelta = 0\n\n\n    handleMouseDown : (event) ->\n\n      if event.which == @which\n        $(\":focus\").blur() # see OX-159\n\n        @down = true\n        @moveDelta = 0\n        @mouse.trigger(@name + \"MouseDown\", @mouse.lastPosition, @id, event)\n\n\n    handleMouseUp : (event) ->\n\n      if event.which == @which and @down\n        @mouse.trigger(@name + \"MouseUp\", event)\n        if @moveDelta <= @MOVE_DELTA_THRESHOLD\n          @mouse.trigger(@name + \"Click\", @mouse.lastPosition, @id, event)\n        @down = false\n\n\n    handleMouseMove : (event, delta) ->\n\n      if @down\n        @moveDelta += Math.abs( delta.x ) + Math.abs( delta.y )\n        @mouse.trigger(@name + \"DownMove\", delta, @mouse.position, @id, event)\n\n\n  constructor : (@$target, initialBindings, @id) ->\n\n    _.extend(this, Backbone.Events)\n\n    @leftMouseButton  = new MouseButton( \"left\",  1, this, @id )\n    @rightMouseButton = new MouseButton( \"right\", 3, this, @id )\n    @isMouseOver = false\n    @lastPosition = null\n\n    $(document).on\n      \"mousemove\" : @mouseMove\n      \"mouseup\"   : @mouseUp\n\n    @$target.on\n      \"mousedown\" : @mouseDown\n      \"mouseenter\" : @mouseEnter\n      \"mouseleave\" : @mouseLeave\n      \"wheel\" : @mouseWheel\n\n    @on(initialBindings)\n    @attach = @on\n\n\n  unbind : ->\n\n    $(document).off\n      \"mousemove\" : @mouseMove\n      \"mouseup\" : @mouseUp\n\n    @$target.off\n      \"mousedown\" : @mouseDown\n      \"mouseenter\" : @mouseEnter\n      \"mouseleave\" : @mouseLeave\n      \"wheel\" : @mouseWheel\n\n\n  isHit : (event) ->\n\n    { pageX, pageY } = event\n    { left, top } = @$target.offset()\n\n    left <= pageX <= left + @$target.width() and\n    top <= pageY <= top + @$target.height()\n\n  handle : (eventName, args...) ->\n\n    for button in [ @leftMouseButton, @rightMouseButton ]\n      button[\"handle\" + eventName].apply( button, args )\n\n  mouseDown : (event) =>\n\n    event.preventDefault()\n\n    @lastPosition =\n      x : event.pageX - @$target.offset().left\n      y : event.pageY - @$target.offset().top\n\n    @handle(\"MouseDown\", event)\n\n\n  mouseUp : (event) =>\n\n    if @isMouseOver\n      @mouseLeave(which : 0) unless @isHit(event)\n    else\n      @mouseEnter(which : 0) if @isHit(event)\n\n    @handle(\"MouseUp\", event)\n\n\n  mouseMove : (event) =>\n\n    @position =\n      x : event.pageX - @$target.offset().left\n      y : event.pageY - @$target.offset().top\n\n    if @lastPosition?\n\n      delta =\n        x : (@position.x - @lastPosition.x)\n        y : (@position.y - @lastPosition.y)\n\n    if delta?.x != 0 or delta?.y != 0\n\n      @handle( \"MouseMove\", event, delta )\n\n      @lastPosition = @position\n\n    return\n\n\n  mouseEnter : (event) =>\n\n    if not @isButtonPressed(event)\n      @isMouseOver = true\n      @trigger(\"over\")\n    return\n\n\n  mouseLeave : (event) =>\n\n    if not @isButtonPressed(event)\n      @isMouseOver = false\n      @trigger(\"out\")\n    return\n\n\n  isButtonPressed : (event) ->\n\n    # Workaround for Firefox: event.which is not set properly\n\n    if (b = event.originalEvent?.buttons)?\n      return b != 0\n    return event.which != 0\n\n\n  mouseWheel : (event) =>\n\n    event.preventDefault()\n    delta = event.originalEvent.wheelDeltaY\n    if event.shiftKey\n      @trigger(\"scroll\", delta, \"shift\")\n    else if event.altKey\n      @trigger(\"scroll\", delta, \"alt\")\n    else if event.ctrlKey\n      @trigger(\"scroll\", delta, \"ctrl\")\n    else\n      @trigger(\"scroll\", delta, null)\n\n    return\n\n\n# This module completly handles the device orientation /\n# tilting sensor (gyroscope).\n# Similarily to the keyboard it relies on looping over\n# all the \"pressed\" buttons. i.e. Once a certain threshold\n# for the sensor is met this axis is marked as \"pressed\" (fire).\nclass Input.Deviceorientation\n\n  THRESHOLD = 10\n  SLOWDOWN_FACTOR = 500\n\n  keyPressedCallbacks : {}\n  keyBindings : {}\n  keyPressedCount : 0\n\n  delay : 1000 / 30\n\n  constructor : (bindings) ->\n\n    for own key, callback of bindings\n      @attach(key, callback)\n\n    $(window).on(\n      \"deviceorientation\",\n      @eventHandler = ({originalEvent : event}) =>\n\n        { gamma, beta } = event\n        if gamma < -THRESHOLD or gamma > THRESHOLD\n          @fire(\"x\", -gamma)\n        else\n          @unfire(\"x\")\n\n        if beta < -THRESHOLD or beta > THRESHOLD\n          @fire(\"y\", beta)\n        else\n          @unfire(\"y\")\n    )\n\n\n  attach : (key, callback) ->\n\n    @keyBindings[key] = callback\n\n\n  unbind : ->\n\n    $(window).off(\n      \"deviceorientation\",\n      @eventHandler\n      @unfire(\"x\")\n      @unfire(\"y\")\n    )\n\n\n  fire : (key, dist) ->\n\n    unless @keyPressedCallbacks[key]?\n      @keyPressedCount++\n      @keyPressedCallbacks[key] =\n        callback : @keyBindings[key]\n        distance : (dist - THRESHOLD) / SLOWDOWN_FACTOR\n      @buttonLoop() if @keyPressedCount == 1\n\n\n  unfire : (key) ->\n\n    if @keyPressedCallbacks[key]\n      @keyPressedCount--\n      delete @keyPressedCallbacks[key]\n    return\n\n  buttonLoop : ->\n\n    if @keyPressedCount > 0\n      for own key, { callback, distance } of @keyPressedCallbacks\n        callback?(distance)\n\n      setTimeout( (=> @buttonLoop()), @delay )\n\nmodule.exports = Input\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/libs/input.coffee\n **/","\r\nvar Keyboard = require('./lib/keyboard');\r\nvar Locale   = require('./lib/locale');\r\nvar KeyCombo = require('./lib/key-combo');\r\n\r\nvar keyboard = new Keyboard();\r\n\r\nkeyboard.setLocale('us', require('./locales/us'));\r\n\r\nexports          = module.exports = keyboard;\r\nexports.Keyboard = Keyboard;\r\nexports.Locale   = Locale;\r\nexports.KeyCombo = KeyCombo;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/keyboardjs/index.js\n ** module id = 234\n ** module chunks = 1 6\n **/","\r\nvar Locale = require('./locale');\r\nvar KeyCombo = require('./key-combo');\r\n\r\n\r\nfunction Keyboard(targetWindow, targetElement, platform, userAgent) {\r\n  this._locale               = null;\r\n  this._currentContext       = null;\r\n  this._contexts             = {};\r\n  this._listeners            = [];\r\n  this._appliedListeners     = [];\r\n  this._locales              = {};\r\n  this._targetElement        = null;\r\n  this._targetWindow         = null;\r\n  this._targetPlatform       = '';\r\n  this._targetUserAgent      = '';\r\n  this._isModernBrowser      = false;\r\n  this._targetKeyDownBinding = null;\r\n  this._targetKeyUpBinding   = null;\r\n  this._targetResetBinding   = null;\r\n  this._paused               = false;\r\n\r\n  this.setContext('global');\r\n  this.watch(targetWindow, targetElement, platform, userAgent);\r\n}\r\n\r\nKeyboard.prototype.setLocale = function(localeName, localeBuilder) {\r\n  var locale = null;\r\n  if (typeof localeName === 'string') {\r\n\r\n    if (localeBuilder) {\r\n      locale = new Locale(localeName);\r\n      localeBuilder(locale, this._targetPlatform, this._targetUserAgent);\r\n    } else {\r\n      locale = this._locales[localeName] || null;\r\n    }\r\n  } else {\r\n    locale     = localeName;\r\n    localeName = locale._localeName;\r\n  }\r\n\r\n  this._locale              = locale;\r\n  this._locales[localeName] = locale;\r\n  if (locale) {\r\n    this._locale.pressedKeys = locale.pressedKeys;\r\n  }\r\n};\r\n\r\nKeyboard.prototype.getLocale = function(localName) {\r\n  localName || (localName = this._locale.localeName);\r\n  return this._locales[localName] || null;\r\n};\r\n\r\nKeyboard.prototype.bind = function(keyComboStr, pressHandler, releaseHandler, preventRepeatByDefault) {\r\n  if (keyComboStr === null || typeof keyComboStr === 'function') {\r\n    preventRepeatByDefault = releaseHandler;\r\n    releaseHandler         = pressHandler;\r\n    pressHandler           = keyComboStr;\r\n    keyComboStr            = null;\r\n  }\r\n\r\n  if (\r\n    keyComboStr &&\r\n    typeof keyComboStr === 'object' &&\r\n    typeof keyComboStr.length === 'number'\r\n  ) {\r\n    for (var i = 0; i < keyComboStr.length; i += 1) {\r\n      this.bind(keyComboStr[i], pressHandler, releaseHandler);\r\n    }\r\n    return;\r\n  }\r\n\r\n  this._listeners.push({\r\n    keyCombo               : keyComboStr ? new KeyCombo(keyComboStr) : null,\r\n    pressHandler           : pressHandler           || null,\r\n    releaseHandler         : releaseHandler         || null,\r\n    preventRepeat          : preventRepeatByDefault || false,\r\n    preventRepeatByDefault : preventRepeatByDefault || false\r\n  });\r\n};\r\nKeyboard.prototype.addListener = Keyboard.prototype.bind;\r\nKeyboard.prototype.on          = Keyboard.prototype.bind;\r\n\r\nKeyboard.prototype.unbind = function(keyComboStr, pressHandler, releaseHandler) {\r\n  if (keyComboStr === null || typeof keyComboStr === 'function') {\r\n    releaseHandler = pressHandler;\r\n    pressHandler   = keyComboStr;\r\n    keyComboStr = null;\r\n  }\r\n\r\n  if (\r\n    keyComboStr &&\r\n    typeof keyComboStr === 'object' &&\r\n    typeof keyComboStr.length === 'number'\r\n  ) {\r\n    for (var i = 0; i < keyComboStr.length; i += 1) {\r\n      this.unbind(keyComboStr[i], pressHandler, releaseHandler);\r\n    }\r\n    return;\r\n  }\r\n\r\n  for (var i = 0; i < this._listeners.length; i += 1) {\r\n    var listener = this._listeners[i];\r\n\r\n    var comboMatches          = !keyComboStr && !listener.keyCombo ||\r\n                                listener.keyCombo.isEqual(keyComboStr);\r\n    var pressHandlerMatches   = !pressHandler && !releaseHandler ||\r\n                                !pressHandler && !listener.pressHandler ||\r\n                                pressHandler === listener.pressHandler;\r\n    var releaseHandlerMatches = !pressHandler && !releaseHandler ||\r\n                                !releaseHandler && !listener.releaseHandler ||\r\n                                releaseHandler === listener.releaseHandler;\r\n\r\n    if (comboMatches && pressHandlerMatches && releaseHandlerMatches) {\r\n      this._listeners.splice(i, 1);\r\n      i -= 1;\r\n    }\r\n  }\r\n};\r\nKeyboard.prototype.removeListener = Keyboard.prototype.unbind;\r\nKeyboard.prototype.off            = Keyboard.prototype.unbind;\r\n\r\nKeyboard.prototype.setContext = function(contextName) {\r\n  if(this._locale) { this.releaseAllKeys(); }\r\n\r\n  if (!this._contexts[contextName]) {\r\n    this._contexts[contextName] = [];\r\n  }\r\n  this._listeners      = this._contexts[contextName];\r\n  this._currentContext = contextName;\r\n};\r\n\r\nKeyboard.prototype.getContext = function() {\r\n  return this._currentContext;\r\n};\r\n\r\nKeyboard.prototype.withContext = function(contextName, callback) {\r\n  var previousContextName = this.getContext();\r\n  this.setContext(contextName);\r\n\r\n  callback();\r\n\r\n  this.setContext(previousContextName);\r\n};\r\n\r\nKeyboard.prototype.watch = function(targetWindow, targetElement, targetPlatform, targetUserAgent) {\r\n  var _this = this;\r\n\r\n  this.stop();\r\n\r\n  if (!targetWindow) {\r\n    if (!global.addEventListener && !global.attachEvent) {\r\n      throw new Error('Cannot find global functions addEventListener or attachEvent.');\r\n    }\r\n    targetWindow = global;\r\n  }\r\n\r\n  if (typeof targetWindow.nodeType === 'number') {\r\n    targetUserAgent = targetPlatform;\r\n    targetPlatform  = targetElement;\r\n    targetElement   = targetWindow;\r\n    targetWindow    = global;\r\n  }\r\n  \r\n  if (!targetWindow.addEventListener && !targetWindow.attachEvent) {\r\n    throw new Error('Cannot find addEventListener or attachEvent methods on targetWindow.');\r\n  }\r\n  \r\n  this._isModernBrowser = !!targetWindow.addEventListener;\r\n\r\n  var userAgent = targetWindow.navigator && targetWindow.navigator.userAgent || '';\r\n  var platform  = targetWindow.navigator && targetWindow.navigator.platform  || '';\r\n\r\n  targetElement   && targetElement   !== null || (targetElement   = targetWindow.document);\r\n  targetPlatform  && targetPlatform  !== null || (targetPlatform  = platform);\r\n  targetUserAgent && targetUserAgent !== null || (targetUserAgent = userAgent);\r\n\r\n  this._targetKeyDownBinding = function(event) {\r\n    _this.pressKey(event.keyCode, event);\r\n  };\r\n  this._targetKeyUpBinding = function(event) {\r\n    _this.releaseKey(event.keyCode, event);\r\n  };\r\n  this._targetResetBinding = function(event) {\r\n    _this.releaseAllKeys(event)\r\n  };\r\n\r\n  this._bindEvent(targetElement, 'keydown', this._targetKeyDownBinding);\r\n  this._bindEvent(targetElement, 'keyup',   this._targetKeyUpBinding);\r\n  this._bindEvent(targetWindow,  'focus',   this._targetResetBinding);\r\n  this._bindEvent(targetWindow,  'blur',    this._targetResetBinding);\r\n\r\n  this._targetElement   = targetElement;\r\n  this._targetWindow    = targetWindow;\r\n  this._targetPlatform  = targetPlatform;\r\n  this._targetUserAgent = targetUserAgent;\r\n};\r\n\r\nKeyboard.prototype.stop = function() {\r\n  var _this = this;\r\n\r\n  if (!this._targetElement || !this._targetWindow) { return; }\r\n\r\n  this._unbindEvent(this._targetElement, 'keydown', this._targetKeyDownBinding);\r\n  this._unbindEvent(this._targetElement, 'keyup',   this._targetKeyUpBinding);\r\n  this._unbindEvent(this._targetWindow,  'focus',   this._targetResetBinding);\r\n  this._unbindEvent(this._targetWindow,  'blur',    this._targetResetBinding);\r\n\r\n  this._targetWindow  = null;\r\n  this._targetElement = null;\r\n};\r\n\r\nKeyboard.prototype.pressKey = function(keyCode, event) {\r\n  if (this._paused) { return; }\r\n  if (!this._locale) { throw new Error('Locale not set'); }\r\n\r\n  this._locale.pressKey(keyCode);\r\n  this._applyBindings(event);\r\n};\r\n\r\nKeyboard.prototype.releaseKey = function(keyCode, event) {\r\n  if (this._paused) { return; }\r\n  if (!this._locale) { throw new Error('Locale not set'); }\r\n\r\n  this._locale.releaseKey(keyCode);\r\n  this._clearBindings(event);\r\n};\r\n\r\nKeyboard.prototype.releaseAllKeys = function(event) {\r\n  if (this._paused) { return; }\r\n  if (!this._locale) { throw new Error('Locale not set'); }\r\n\r\n  this._locale.pressedKeys.length = 0;\r\n  this._clearBindings(event);\r\n};\r\n\r\nKeyboard.prototype.pause = function() {\r\n  if (this._paused) { return; }\r\n  if (this._locale) { this.releaseAllKeys(); }\r\n  this._paused = true;\r\n};\r\n\r\nKeyboard.prototype.resume = function() {\r\n  this._paused = false;\r\n};\r\n\r\nKeyboard.prototype.reset = function() {\r\n  this.releaseAllKeys();\r\n  this._listeners.length = 0;\r\n};\r\n\r\nKeyboard.prototype._bindEvent = function(targetElement, eventName, handler) {\r\n  return this._isModernBrowser ?\r\n    targetElement.addEventListener(eventName, handler, false) :\r\n    targetElement.attachEvent('on' + eventName, handler);\r\n};\r\n\r\nKeyboard.prototype._unbindEvent = function(targetElement, eventName, handler) {\r\n  return this._isModernBrowser ?\r\n    targetElement.removeEventListener(eventName, handler, false) :\r\n    targetElement.detachEvent('on' + eventName, handler);\r\n};\r\n\r\nKeyboard.prototype._getGroupedListeners = function() {\r\n  var listenerGroups   = [];\r\n  var listenerGroupMap = [];\r\n\r\n  var listeners = this._listeners;\r\n  if (this._currentContext !== 'global') {\r\n    listeners = [].concat(listeners, this._contexts.global);\r\n  }\r\n\r\n  listeners.sort(function(a, b) {\r\n    return a.keyCombo.keyNames.length < b.keyCombo.keyNames.length;\r\n  }).forEach(function(l) {\r\n    var mapIndex = -1;\r\n    for (var i = 0; i < listenerGroupMap.length; i += 1) {\r\n      if (listenerGroupMap[i].isEqual(l.keyCombo)) {\r\n        mapIndex = i;\r\n      }\r\n    }\r\n    if (mapIndex === -1) {\r\n      mapIndex = listenerGroupMap.length;\r\n      listenerGroupMap.push(l.keyCombo);\r\n    }\r\n    if (!listenerGroups[mapIndex]) {\r\n      listenerGroups[mapIndex] = [];\r\n    }\r\n    listenerGroups[mapIndex].push(l);\r\n  });\r\n  return listenerGroups;\r\n};\r\n\r\nKeyboard.prototype._applyBindings = function(event) {\r\n  var preventRepeat = false;\r\n\r\n  event || (event = {});\r\n  event.preventRepeat = function() { preventRepeat = true; };\r\n  event.pressedKeys   = this._locale.pressedKeys.slice(0);\r\n\r\n  var pressedKeys    = this._locale.pressedKeys.slice(0);\r\n  var listenerGroups = this._getGroupedListeners();\r\n\r\n\r\n  for (var i = 0; i < listenerGroups.length; i += 1) {\r\n    var listeners = listenerGroups[i];\r\n    var keyCombo  = listeners[0].keyCombo;\r\n\r\n    if (keyCombo === null || keyCombo.check(pressedKeys)) {\r\n      for (var j = 0; j < listeners.length; j += 1) {\r\n        var listener = listeners[j];\r\n\r\n        if (keyCombo === null) {\r\n          listener = {\r\n            keyCombo               : new KeyCombo(pressedKeys.join('+')),\r\n            pressHandler           : listener.pressHandler,\r\n            releaseHandler         : listener.releaseHandler,\r\n            preventRepeat          : listener.preventRepeat,\r\n            preventRepeatByDefault : listener.preventRepeatByDefault\r\n          };\r\n        }\r\n\r\n        if (listener.pressHandler && !listener.preventRepeat) {\r\n          listener.pressHandler.call(this, event);\r\n          if (preventRepeat) {\r\n            listener.preventRepeat = preventRepeat;\r\n            preventRepeat          = false;\r\n          }\r\n        }\r\n\r\n        if (listener.releaseHandler && this._appliedListeners.indexOf(listener) === -1) {\r\n          this._appliedListeners.push(listener);\r\n        }\r\n      }\r\n\r\n      if (keyCombo) {\r\n        for (var j = 0; j < keyCombo.keyNames.length; j += 1) {\r\n          var index = pressedKeys.indexOf(keyCombo.keyNames[j]);\r\n          if (index !== -1) {\r\n            pressedKeys.splice(index, 1);\r\n            j -= 1;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nKeyboard.prototype._clearBindings = function(event) {\r\n  event || (event = {});\r\n\r\n  for (var i = 0; i < this._appliedListeners.length; i += 1) {\r\n    var listener = this._appliedListeners[i];\r\n    var keyCombo = listener.keyCombo;\r\n    if (keyCombo === null || !keyCombo.check(this._locale.pressedKeys)) {\r\n      listener.preventRepeat = listener.preventRepeatByDefault;\r\n      listener.releaseHandler.call(this, event);\r\n      this._appliedListeners.splice(i, 1);\r\n      i -= 1;\r\n    }\r\n  }\r\n};\r\n\r\nmodule.exports = Keyboard;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/keyboardjs/lib/keyboard.js\n ** module id = 235\n ** module chunks = 1 6\n **/","\r\nvar KeyCombo = require('./key-combo');\r\n\r\n\r\nfunction Locale(name) {\r\n  this.localeName     = name;\r\n  this.pressedKeys    = [];\r\n  this._appliedMacros = [];\r\n  this._keyMap        = {};\r\n  this._killKeyCodes  = [];\r\n  this._macros        = [];\r\n}\r\n\r\nLocale.prototype.bindKeyCode = function(keyCode, keyNames) {\r\n  if (typeof keyNames === 'string') {\r\n    keyNames = [keyNames];\r\n  }\r\n\r\n  this._keyMap[keyCode] = keyNames;\r\n};\r\n\r\nLocale.prototype.bindMacro = function(keyComboStr, keyNames) {\r\n  if (typeof keyNames === 'string') {\r\n    keyNames = [ keyNames ];\r\n  }\r\n\r\n  var handler = null;\r\n  if (typeof keyNames === 'function') {\r\n    handler = keyNames;\r\n    keyNames = null;\r\n  }\r\n\r\n  var macro = {\r\n    keyCombo : new KeyCombo(keyComboStr),\r\n    keyNames : keyNames,\r\n    handler  : handler\r\n  };\r\n\r\n  this._macros.push(macro);\r\n};\r\n\r\nLocale.prototype.getKeyCodes = function(keyName) {\r\n  var keyCodes = [];\r\n  for (var keyCode in this._keyMap) {\r\n    var index = this._keyMap[keyCode].indexOf(keyName);\r\n    if (index > -1) { keyCodes.push(keyCode|0); }\r\n  }\r\n  return keyCodes;\r\n};\r\n\r\nLocale.prototype.getKeyNames = function(keyCode) {\r\n  return this._keyMap[keyCode] || [];\r\n};\r\n\r\nLocale.prototype.setKillKey = function(keyCode) {\r\n  if (typeof keyCode === 'string') {\r\n    var keyCodes = this.getKeyCodes(keyCode);\r\n    for (var i = 0; i < keyCodes.length; i += 1) {\r\n      this.setKillKey(keyCodes[i]);\r\n    }\r\n    return;\r\n  }\r\n\r\n  this._killKeyCodes.push(keyCode);\r\n};\r\n\r\nLocale.prototype.pressKey = function(keyCode) {\r\n  if (typeof keyCode === 'string') {\r\n    var keyCodes = this.getKeyCodes(keyCode);\r\n    for (var i = 0; i < keyCodes.length; i += 1) {\r\n      this.pressKey(keyCodes[i]);\r\n    }\r\n    return;\r\n  }\r\n\r\n  var keyNames = this.getKeyNames(keyCode);\r\n  for (var i = 0; i < keyNames.length; i += 1) {\r\n    if (this.pressedKeys.indexOf(keyNames[i]) === -1) {\r\n      this.pressedKeys.push(keyNames[i]);\r\n    }\r\n  }\r\n\r\n  this._applyMacros();\r\n};\r\n\r\nLocale.prototype.releaseKey = function(keyCode) {\r\n  if (typeof keyCode === 'string') {\r\n    var keyCodes = this.getKeyCodes(keyCode);\r\n    for (var i = 0; i < keyCodes.length; i += 1) {\r\n      this.releaseKey(keyCodes[i]);\r\n    }\r\n  }\r\n\r\n  else {\r\n    var keyNames         = this.getKeyNames(keyCode);\r\n    var killKeyCodeIndex = this._killKeyCodes.indexOf(keyCode);\r\n    \r\n    if (killKeyCodeIndex > -1) {\r\n      this.pressedKeys.length = 0;\r\n    } else {\r\n      for (var i = 0; i < keyNames.length; i += 1) {\r\n        var index = this.pressedKeys.indexOf(keyNames[i]);\r\n        if (index > -1) {\r\n          this.pressedKeys.splice(index, 1);\r\n        }\r\n      }\r\n    }\r\n\r\n    this._clearMacros();\r\n  }\r\n};\r\n\r\nLocale.prototype._applyMacros = function() {\r\n  var macros = this._macros.slice(0);\r\n  for (var i = 0; i < macros.length; i += 1) {\r\n    var macro = macros[i];\r\n    if (macro.keyCombo.check(this.pressedKeys)) {\r\n      if (macro.handler) {\r\n        macro.keyNames = macro.handler(this.pressedKeys);\r\n      }\r\n      for (var j = 0; j < macro.keyNames.length; j += 1) {\r\n        if (this.pressedKeys.indexOf(macro.keyNames[j]) === -1) {\r\n          this.pressedKeys.push(macro.keyNames[j]);\r\n        }\r\n      }\r\n      this._appliedMacros.push(macro);\r\n    }\r\n  }\r\n};\r\n\r\nLocale.prototype._clearMacros = function() {\r\n  for (var i = 0; i < this._appliedMacros.length; i += 1) {\r\n    var macro = this._appliedMacros[i];\r\n    if (!macro.keyCombo.check(this.pressedKeys)) {\r\n      for (var j = 0; j < macro.keyNames.length; j += 1) {\r\n        var index = this.pressedKeys.indexOf(macro.keyNames[j]);\r\n        if (index > -1) {\r\n          this.pressedKeys.splice(index, 1);\r\n        }\r\n      }\r\n      if (macro.handler) {\r\n        macro.keyNames = null;\r\n      }\r\n      this._appliedMacros.splice(i, 1);\r\n      i -= 1;\r\n    }\r\n  }\r\n};\r\n\r\n\r\nmodule.exports = Locale;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/keyboardjs/lib/locale.js\n ** module id = 236\n ** module chunks = 1 6\n **/","\r\nfunction KeyCombo(keyComboStr) {\r\n  this.sourceStr = keyComboStr;\r\n  this.subCombos = KeyCombo.parseComboStr(keyComboStr);\r\n  this.keyNames  = this.subCombos.reduce(function(memo, nextSubCombo) {\r\n    return memo.concat(nextSubCombo);\r\n  });\r\n}\r\n\r\n// TODO: Add support for key combo sequences\r\nKeyCombo.sequenceDeliminator = '>>';\r\nKeyCombo.comboDeliminator    = '>';\r\nKeyCombo.keyDeliminator      = '+';\r\n\r\nKeyCombo.parseComboStr = function(keyComboStr) {\r\n  var subComboStrs = KeyCombo._splitStr(keyComboStr, KeyCombo.comboDeliminator);\r\n  var combo        = [];\r\n\r\n  for (var i = 0 ; i < subComboStrs.length; i += 1) {\r\n    combo.push(KeyCombo._splitStr(subComboStrs[i], KeyCombo.keyDeliminator));\r\n  }\r\n  return combo;\r\n};\r\n\r\nKeyCombo.prototype.check = function(pressedKeyNames) {\r\n  var startingKeyNameIndex = 0;\r\n  for (var i = 0; i < this.subCombos.length; i += 1) {\r\n    startingKeyNameIndex = this._checkSubCombo(\r\n      this.subCombos[i],\r\n      startingKeyNameIndex,\r\n      pressedKeyNames\r\n    );\r\n    if (startingKeyNameIndex === -1) { return false; }\r\n  }\r\n  return true;\r\n};\r\n\r\nKeyCombo.prototype.isEqual = function(otherKeyCombo) {\r\n  if (\r\n    !otherKeyCombo ||\r\n    typeof otherKeyCombo !== 'string' &&\r\n    typeof otherKeyCombo !== 'object'\r\n  ) { return false; }\r\n\r\n  if (typeof otherKeyCombo === 'string') {\r\n    otherKeyCombo = new KeyCombo(otherKeyCombo);\r\n  }\r\n\r\n  if (this.subCombos.length !== otherKeyCombo.subCombos.length) {\r\n    return false;\r\n  }\r\n  for (var i = 0; i < this.subCombos.length; i += 1) {\r\n    if (this.subCombos[i].length !== otherKeyCombo.subCombos[i].length) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  for (var i = 0; i < this.subCombos.length; i += 1) {\r\n    var subCombo      = this.subCombos[i];\r\n    var otherSubCombo = otherKeyCombo.subCombos[i].slice(0);\r\n\r\n    for (var j = 0; j < subCombo.length; j += 1) {\r\n      var keyName = subCombo[j];\r\n      var index   = otherSubCombo.indexOf(keyName);\r\n\r\n      if (index > -1) {\r\n        otherSubCombo.splice(index, 1);\r\n      }\r\n    }\r\n    if (otherSubCombo.length !== 0) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nKeyCombo._splitStr = function(str, deliminator) {\r\n  var s  = str;\r\n  var d  = deliminator;\r\n  var c  = '';\r\n  var ca = [];\r\n\r\n  for (var ci = 0; ci < s.length; ci += 1) {\r\n    if (ci > 0 && s[ci] === d && s[ci - 1] !== '\\\\') {\r\n      ca.push(c.trim());\r\n      c = '';\r\n      ci += 1;\r\n    }\r\n    c += s[ci];\r\n  }\r\n  if (c) { ca.push(c.trim()); }\r\n\r\n  return ca;\r\n};\r\n\r\nKeyCombo.prototype._checkSubCombo = function(subCombo, startingKeyNameIndex, pressedKeyNames) {\r\n  subCombo = subCombo.slice(0);\r\n  pressedKeyNames = pressedKeyNames.slice(startingKeyNameIndex);\r\n\r\n  var endIndex = startingKeyNameIndex;\r\n  for (var i = 0; i < subCombo.length; i += 1) {\r\n\r\n    var keyName = subCombo[i];\r\n    if (keyName[0] === '\\\\') {\r\n      var escapedKeyName = keyName.slice(1);\r\n      if (\r\n        escapedKeyName === KeyCombo.comboDeliminator ||\r\n        escapedKeyName === KeyCombo.keyDeliminator\r\n      ) {\r\n        keyName = escapedKeyName;\r\n      }\r\n    }\r\n\r\n    var index = pressedKeyNames.indexOf(keyName);\r\n    if (index > -1) {\r\n      subCombo.splice(i, 1);\r\n      i -= 1;\r\n      if (index > endIndex) {\r\n        endIndex = index;\r\n      }\r\n      if (subCombo.length === 0) {\r\n        return endIndex;\r\n      }\r\n    }\r\n  }\r\n  return -1;\r\n};\r\n\r\n\r\nmodule.exports = KeyCombo;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/keyboardjs/lib/key-combo.js\n ** module id = 237\n ** module chunks = 1 6\n **/","\r\nmodule.exports = function(locale, platform, userAgent) {\r\n\r\n  // general\r\n  locale.bindKeyCode(3,   ['cancel']);\r\n  locale.bindKeyCode(8,   ['backspace']);\r\n  locale.bindKeyCode(9,   ['tab']);\r\n  locale.bindKeyCode(12,  ['clear']);\r\n  locale.bindKeyCode(13,  ['enter']);\r\n  locale.bindKeyCode(16,  ['shift']);\r\n  locale.bindKeyCode(17,  ['ctrl']);\r\n  locale.bindKeyCode(18,  ['alt', 'menu']);\r\n  locale.bindKeyCode(19,  ['pause', 'break']);\r\n  locale.bindKeyCode(20,  ['capslock']);\r\n  locale.bindKeyCode(27,  ['escape', 'esc']);\r\n  locale.bindKeyCode(32,  ['space', 'spacebar']);\r\n  locale.bindKeyCode(33,  ['pageup']);\r\n  locale.bindKeyCode(34,  ['pagedown']);\r\n  locale.bindKeyCode(35,  ['end']);\r\n  locale.bindKeyCode(36,  ['home']);\r\n  locale.bindKeyCode(37,  ['left']);\r\n  locale.bindKeyCode(38,  ['up']);\r\n  locale.bindKeyCode(39,  ['right']);\r\n  locale.bindKeyCode(40,  ['down']);\r\n  locale.bindKeyCode(41,  ['select']);\r\n  locale.bindKeyCode(42,  ['printscreen']);\r\n  locale.bindKeyCode(43,  ['execute']);\r\n  locale.bindKeyCode(44,  ['snapshot']);\r\n  locale.bindKeyCode(45,  ['insert', 'ins']);\r\n  locale.bindKeyCode(46,  ['delete', 'del']);\r\n  locale.bindKeyCode(47,  ['help']);\r\n  locale.bindKeyCode(145, ['scrolllock', 'scroll']);\r\n  locale.bindKeyCode(187, ['equal', 'equalsign', '=']);\r\n  locale.bindKeyCode(188, ['comma', ',']);\r\n  locale.bindKeyCode(190, ['period', '.']);\r\n  locale.bindKeyCode(191, ['slash', 'forwardslash', '/']);\r\n  locale.bindKeyCode(192, ['graveaccent', '`']);\r\n  locale.bindKeyCode(219, ['openbracket', '[']);\r\n  locale.bindKeyCode(220, ['backslash', '\\\\']);\r\n  locale.bindKeyCode(221, ['closebracket', ']']);\r\n  locale.bindKeyCode(222, ['apostrophe', '\\'']);\r\n\r\n  // 0-9\r\n  locale.bindKeyCode(48, ['zero', '0']);\r\n  locale.bindKeyCode(49, ['one', '1']);\r\n  locale.bindKeyCode(50, ['two', '2']);\r\n  locale.bindKeyCode(51, ['three', '3']);\r\n  locale.bindKeyCode(52, ['four', '4']);\r\n  locale.bindKeyCode(53, ['five', '5']);\r\n  locale.bindKeyCode(54, ['six', '6']);\r\n  locale.bindKeyCode(55, ['seven', '7']);\r\n  locale.bindKeyCode(56, ['eight', '8']);\r\n  locale.bindKeyCode(57, ['nine', '9']);\r\n\r\n  // numpad\r\n  locale.bindKeyCode(96, ['numzero', 'num0']);\r\n  locale.bindKeyCode(97, ['numone', 'num1']);\r\n  locale.bindKeyCode(98, ['numtwo', 'num2']);\r\n  locale.bindKeyCode(99, ['numthree', 'num3']);\r\n  locale.bindKeyCode(100, ['numfour', 'num4']);\r\n  locale.bindKeyCode(101, ['numfive', 'num5']);\r\n  locale.bindKeyCode(102, ['numsix', 'num6']);\r\n  locale.bindKeyCode(103, ['numseven', 'num7']);\r\n  locale.bindKeyCode(104, ['numeight', 'num8']);\r\n  locale.bindKeyCode(105, ['numnine', 'num9']);\r\n  locale.bindKeyCode(106, ['nummultiply', 'num*']);\r\n  locale.bindKeyCode(107, ['numadd', 'num+']);\r\n  locale.bindKeyCode(108, ['numenter']);\r\n  locale.bindKeyCode(109, ['numsubtract', 'num-']);\r\n  locale.bindKeyCode(110, ['numdecimal', 'num.']);\r\n  locale.bindKeyCode(111, ['numdivide', 'num/']);\r\n  locale.bindKeyCode(144, ['numlock', 'num']);\r\n\r\n  // function keys\r\n  locale.bindKeyCode(112, ['f1']);\r\n  locale.bindKeyCode(113, ['f2']);\r\n  locale.bindKeyCode(114, ['f3']);\r\n  locale.bindKeyCode(115, ['f4']);\r\n  locale.bindKeyCode(116, ['f5']);\r\n  locale.bindKeyCode(117, ['f6']);\r\n  locale.bindKeyCode(118, ['f7']);\r\n  locale.bindKeyCode(119, ['f8']);\r\n  locale.bindKeyCode(120, ['f9']);\r\n  locale.bindKeyCode(121, ['f10']);\r\n  locale.bindKeyCode(122, ['f11']);\r\n  locale.bindKeyCode(123, ['f12']);\r\n\r\n  // secondary key symbols\r\n  locale.bindMacro('shift + `', ['tilde', '~']);\r\n  locale.bindMacro('shift + 1', ['exclamation', 'exclamationpoint', '!']);\r\n  locale.bindMacro('shift + 2', ['at', '@']);\r\n  locale.bindMacro('shift + 3', ['number', '#']);\r\n  locale.bindMacro('shift + 4', ['dollar', 'dollars', 'dollarsign', '$']);\r\n  locale.bindMacro('shift + 5', ['percent', '%']);\r\n  locale.bindMacro('shift + 6', ['caret', '^']);\r\n  locale.bindMacro('shift + 7', ['ampersand', 'and', '&']);\r\n  locale.bindMacro('shift + 8', ['asterisk', '*']);\r\n  locale.bindMacro('shift + 9', ['openparen', '(']);\r\n  locale.bindMacro('shift + 0', ['closeparen', ')']);\r\n  locale.bindMacro('shift + -', ['underscore', '_']);\r\n  locale.bindMacro('shift + =', ['plus', '+']);\r\n  locale.bindMacro('shift + [', ['opencurlybrace', 'opencurlybracket', '{']);\r\n  locale.bindMacro('shift + ]', ['closecurlybrace', 'closecurlybracket', '}']);\r\n  locale.bindMacro('shift + \\\\', ['verticalbar', '|']);\r\n  locale.bindMacro('shift + ;', ['colon', ':']);\r\n  locale.bindMacro('shift + \\'', ['quotationmark', '\\'']);\r\n  locale.bindMacro('shift + !,', ['openanglebracket', '<']);\r\n  locale.bindMacro('shift + .', ['closeanglebracket', '>']);\r\n  locale.bindMacro('shift + /', ['questionmark', '?']);\r\n\r\n  //a-z and A-Z\r\n  for (var keyCode = 65; keyCode <= 90; keyCode += 1) {\r\n    var keyName = String.fromCharCode(keyCode + 32);\r\n    var capitalKeyName = String.fromCharCode(keyCode);\r\n  \tlocale.bindKeyCode(keyCode, keyName);\r\n  \tlocale.bindMacro('shift + ' + keyName, capitalKeyName);\r\n  \tlocale.bindMacro('capslock + ' + keyName, capitalKeyName);\r\n  }\r\n\r\n  // browser caveats\r\n  var semicolonKeyCode = userAgent.match('Firefox') ? 59  : 186;\r\n  var dashKeyCode      = userAgent.match('Firefox') ? 173 : 189;\r\n  var leftCommandKeyCode;\r\n  var rightCommandKeyCode;\r\n  if (platform.match('Mac') && (userAgent.match('Safari') || userAgent.match('Chrome'))) {\r\n    leftCommandKeyCode  = 91;\r\n    rightCommandKeyCode = 93;\r\n  } else if(platform.match('Mac') && userAgent.match('Opera')) {\r\n    leftCommandKeyCode  = 17;\r\n    rightCommandKeyCode = 17;\r\n  } else if(platform.match('Mac') && userAgent.match('Firefox')) {\r\n    leftCommandKeyCode  = 224;\r\n    rightCommandKeyCode = 224;\r\n  }\r\n  locale.bindKeyCode(semicolonKeyCode,    ['semicolon', ';']);\r\n  locale.bindKeyCode(dashKeyCode,         ['dash', '-']);\r\n  locale.bindKeyCode(leftCommandKeyCode,  ['command', 'windows', 'win', 'super', 'leftcommand', 'leftwindows', 'leftwin', 'leftsuper']);\r\n  locale.bindKeyCode(rightCommandKeyCode, ['command', 'windows', 'win', 'super', 'rightcommand', 'rightwindows', 'rightwin', 'rightsuper']);\r\n\r\n  // kill keys\r\n  locale.setKillKey('command');\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/keyboardjs/locales/us.js\n ** module id = 238\n ** module chunks = 1 6\n **/","Marionette = require(\"backbone.marionette\")\napp        = require(\"app\")\nUtils      = require(\"libs/utils\")\n\nclass CommentTabItemView extends Marionette.ItemView\n\n  tagName : \"li\"\n  template : _.template(\"\"\"\n    <i class=\"fa <%- isActive() %>\"></i>\n    <a href=\"#\"><%- node %> <%- content %></a>\n   \"\"\")\n\n  events :\n    \"click a\" : \"setActiveNode\"\n\n  templateHelpers : ->\n    isActive : =>\n      if @model.get(\"node\") == @activeCommentId\n        return \"fa-angle-right\"\n      else\n        return \"\"\n\n\n  initialize : (options) ->\n\n    {activeComment, @parent} = options\n    @activeCommentId = activeComment.get(\"node\")\n\n    @listenTo(@parent.model.skeletonTracing, \"newActiveNode\", @update)\n    @listenTo(@model, \"change\", @render)\n\n\n  update : (@activeCommentId) ->\n\n    @render()\n    # scroll to active one\n    if @model.get(\"node\") == @activeCommentId and not Utils.isElementInViewport(@el)\n      @el.scrollIntoView()\n\n\n  setActiveNode : ->\n\n    @parent.setActiveNode(@model)\n\nmodule.exports = CommentTabItemView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/skeletontracing/right-menu/comment_tab_item_view.coffee\n **/","_                    = require(\"lodash\")\napp                  = require(\"app\")\nMarionette           = require(\"backbone.marionette\")\nAbstractTreeRenderer = require(\"oxalis/view/skeletontracing/abstract_tree_renderer\")\n\n\nclass AbstractTreeView extends Marionette.ItemView\n\n  className : \"flex-column\"\n  template : _.template(\"\"\"\n      <canvas id=\"abstract-tree-canvas\">\n    \"\"\")\n\n  ui :\n    \"canvas\" : \"canvas\"\n\n  events:\n    \"click @ui.canvas\" : \"handleClick\"\n\n  initialize : ->\n\n    @listenTo(app.vent, \"planes:resize\", @resize)\n    @listenTo(app.vent, \"view:setTheme\", @drawTree)\n    @listenTo(@model.user, \"change:renderComments\", @drawTree)\n\n    @listenTo(@model.skeletonTracing, \"newActiveNode\" , @drawTree)\n    @listenTo(@model.skeletonTracing, \"newActiveTree\" , @drawTree)\n    @listenTo(@model.skeletonTracing, \"newTree\" , @drawTree)\n    @listenTo(@model.skeletonTracing, \"mergeTree\" , @drawTree)\n    @listenTo(@model.skeletonTracing, \"reloadTrees\" , @drawTree)\n    @listenTo(@model.skeletonTracing, \"deleteTree\" , @drawTree)\n    @listenTo(@model.skeletonTracing, \"deleteActiveNode\" , @drawTree)\n    @listenTo(@model.skeletonTracing, \"newNode\" , @drawTree)\n    @listenTo(@model.skeletonTracing, \"updateComments\" , @drawTree)\n\n    @initialized = false\n    $(window).on(\"resize\", => @drawTree())\n\n\n  resize : ->\n\n    @initialized = true\n    @render()\n\n\n  render : ->\n\n    super()\n    if @initialized\n      @abstractTreeRenderer = new AbstractTreeRenderer(@ui.canvas)\n    @drawTree()\n\n\n  drawTree : ->\n\n    if @model.skeletonTracing and @abstractTreeRenderer\n      @abstractTreeRenderer.renderComments(@model.user.get(\"renderComments\"))\n      @abstractTreeRenderer.drawTree(\n        @model.skeletonTracing.getTree(),\n        @model.skeletonTracing.getActiveNodeId(),\n        @model.skeletonTracing.comments)\n\n\n  handleClick : (event) ->\n\n    id = @abstractTreeRenderer.getIdFromPos(event.offsetX, event.offsetY)\n    if id\n      @model.skeletonTracing.trigger(\"newActiveNode\", id)\n      @model.skeletonTracing.centerActiveNode()\n\n\nmodule.exports = AbstractTreeView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/skeletontracing/right-menu/abstract_tree_view.coffee\n **/","Backbone  = require(\"backbone\")\napp       = require(\"app\")\nConstants = require(\"oxalis/constants\")\nToast     = require(\"libs/toast\")\n\n\nclass AbstractTreeRenderer\n\n  NODE_RADIUS          : 2\n  MAX_NODE_DISTANCE    : 100\n  CLICK_TRESHOLD       : 6\n\n  MODE_NORMAL          : 0     # draw every node and the complete tree\n  MODE_NOCHAIN         : 1     # draw only decision points\n\n  RENDER_COMMENTS      : true  # draw comments into tree\n\n  constructor : ($canvas) ->\n\n    _.extend(this, Backbone.Events)\n\n    @canvas = $canvas\n    @ctx = $canvas[0].getContext(\"2d\")\n    @ctx.lineWidth = 1\n    @nodeList = []\n\n\n  ###*\n   * Render function called by events and GUI.\n   * Draws the abstract tree, emphasizes the active node\n   * and highlights comments, if enabled.\n   * @param  {TracePoint} tree\n   * @param  {Number} @activeNodeId TracePoint id\n   * @param  {BackboneCollection} @comments\n  ###\n  drawTree : (tree, @activeNodeId, @comments) ->\n\n    unless tree?\n      return\n\n    @setDimensions(@canvas.width(), @canvas.height())\n    @clearBackground()\n    @setupColors()\n\n    # List of {x : ..., y : ..., id: ...} objects\n    @nodeList = []\n\n    # set global mode\n    mode = @MODE_NOCHAIN\n\n    # TODO: Actually, I though that buildTree() is pretty heavy, but\n    # I do not experience performance issues, even with large trees.\n    # Still, this might not need to be done on every single draw...\n    try\n      root = tree.buildTree()\n    catch e\n      console.log \"Error:\", e\n      if e == \"CyclicTree\"\n        if not @_cyclicTreeWarningIssued\n          Toast.error \"Cyclic trees (Tree-ID: #{tree.treeId}) are not supported by webKnossos. Please check the .nml file.\"\n          @_cyclicTreeWarningIssued = true\n        return\n\n    unless root?\n      return\n\n    @nodeDistance = Math.min(@canvas.height() / (@getMaxTreeDepth(root, mode) + 1), @MAX_NODE_DISTANCE)\n\n    # The algorithm works as follows:\n    # A tree is given a left and right border that it can use. If\n    # there is a branchpoint, both children are rest trees, so the\n    # branch point will choose a left and right border for each of\n    # them and call the method recursively.\n    # For that decision, the branch points needs information about\n    # the rest tree's width. A trees width, however, depends on its\n    # children's width. So, we need to do two iterations: first we\n    # determine the widths of each relevant node, then we use this\n    # information to actually draw the tree. The first task is done\n    # by recordWidths(), the second by drawTreeWithWidths().\n\n    @recordWidths(root)\n    @drawTreeWithWidths(root, @NODE_RADIUS, @canvas.width() - @NODE_RADIUS, @nodeDistance / 2, mode)\n\n    # because of z layering all nodes have to be drawn last\n    @drawAllNodes()\n\n\n  ###*\n   * Draws a whole tree inside the given borders.\n   * Thus it fits on the canvas and scales as the tree grows.\n   * @param  {TracePoint} tree\n   * @param  {Number} left  left border in pixels\n   * @param  {Number} right right border in pixels\n   * @param  {Number} top   y coordinate in pixels\n   * @param  {Number} mode  @MODE_NORMAL or @MODE_NOCHAIN\n   * @return {Object}       new middle and top coordinates in pixels\n  ###\n  drawTreeWithWidths : (tree, left, right, top, mode) ->\n\n    decision = @getNextDecision(tree)\n    middle = @calculateMiddle(left, right)\n\n    if decision.isBranch\n      middle = @drawBranch(decision, left, right, top, mode)\n    else if !decision.isLeaf\n      middle = @drawCommentChain(decision, left, right, top, mode)\n\n    if mode == @MODE_NORMAL or decision.chainCount < 3\n      @drawChainFromTo(top, middle, tree, decision)\n    else if mode == @MODE_NOCHAIN\n      @drawChainWithChainIndicatorFromTo(top, middle, tree, decision)\n\n    return { middle, top }\n\n\n  ###*\n   * Find the next node which have to be considered in an extra way.\n   * These are:\n   *   - branch points\n   *   - leaves\n   *   - commented nodes\n   * @param  {TracePoint} tree\n   * @return {Decision}\n  ###\n  getNextDecision : (tree) ->\n\n    chainCount = 0\n    hasActiveNode = false\n\n    # skip comment check on first node\n    if tree.children.length == 1\n        tree = tree.children[0]\n        chainCount++\n\n    while tree.children.length == 1 and !@nodeIdHasComment(tree.id)\n      if !hasActiveNode\n          hasActiveNode = tree.id == @activeNodeId\n      tree = tree.children[0]\n      chainCount++\n\n    return {\n      node: tree,\n      chainCount,\n      isBranch: tree.children.length > 1\n      isLeaf: tree.children.length == 0\n      hasActiveNode: hasActiveNode\n    }\n\n\n  ###*\n   * Draw a branch point as well as the left and right subtree.\n   * @param  {Decision} decision\n   * @param  {Number} left     left border in pixels\n   * @param  {Number} right    right border in pixels\n   * @param  {Number} top      y coordinate in pixels\n   * @param  {Number} mode     @MODE_NORMAL or @MODE_NOCHAIN\n   * @return {Number}          new middle coordinate in pixels\n  ###\n  drawBranch : (decision, left, right, top, mode) ->\n\n    branchMiddle = @calculateBranchMiddle(decision, left, right)\n    topChildren = @calculateChildTop(decision.chainCount, top, mode)\n    leftTree = @drawTreeWithWidths(decision.node.children[0], left,  branchMiddle, topChildren, mode)\n    rightTree = @drawTreeWithWidths(decision.node.children[1], branchMiddle, right, topChildren, mode)\n\n    # set the root's x coordinate to be in between the decisionPoint's children\n    middle = @calculateMiddle(leftTree.middle, rightTree.middle)\n\n    # draw edges from last node in 'chain' (or root, if chain empty)\n    # and the decisionPoint's children\n    @drawEdge(middle, topChildren - @nodeDistance, leftTree.middle, leftTree.top)\n    @drawEdge(middle, topChildren - @nodeDistance, rightTree.middle, rightTree.top)\n\n    return middle\n\n\n  ###*\n   * Draw a sequence of nodes which begins with a comment.\n   * @param  {Decision}        decision\n   * @param  {Number} left     left border in pixels\n   * @param  {Number} right    right border in pixels\n   * @param  {Number} top      y coordinate in pixels\n   * @param  {Number} mode     @MODE_NORMAL or @MODE_NOCHAIN\n   * @return {Number}          new middle coordinate in pixels\n  ###\n  drawCommentChain : (decision, left, right, top, mode) ->\n\n    topChild = @calculateTop(decision.chainCount, top, mode)\n    extent = @drawTreeWithWidths(decision.node, left, right, topChild, mode)\n    return extent.middle\n\n\n  ###*\n   * Draws a sequence of nodes and the edges in between.\n   * @param  {Number} top      y coordinate in pixels\n   * @param  {Number} left     x coordinate in pixels\n   * @param  {TracePoint} tree\n   * @param  {Decision} decision\n  ###\n  drawChainFromTo : (top, left, tree, decision) ->\n\n    # Draw the chain and the tree, connect them.\n    node = tree\n    for i in [0..decision.chainCount]\n      @addNode(left, top + i * @nodeDistance, node.id)\n      node = node.children[0]\n      if i != 0\n        @drawEdge(left, top + (i - 1) * @nodeDistance, left, top + i * @nodeDistance)\n\n\n  ###*\n   * Draws the dashed chain indicator and the start and end nodes.\n   * @param  {Number} top      y coordinate in pixels\n   * @param  {Number} middle   middel x coordinate in pixels\n   * @param  {TracePoint} tree\n   * @param  {Decision} decision\n  ###\n  drawChainWithChainIndicatorFromTo : (top, middle, tree, decision) ->\n\n    @addNode(middle, top, tree.id)\n    @drawEdge(middle, top, middle, top + 0.5 * @nodeDistance)\n    @drawChainIndicator(middle, top + 0.5 * @nodeDistance, top + 1.5 * @nodeDistance, decision.hasActiveNode)\n    @drawEdge(middle, top + 1.5 * @nodeDistance, middle, top + 2 * @nodeDistance)\n    @addNode(middle, top + 2 * @nodeDistance, decision.node.id)\n\n\n  ###*\n   * Calculate middle that divides the left and right tree, if any.\n   * Middle is weighted accordingly to the subtrees` widths.\n   * @param  {Decision} decision\n   * @param  {Number} left           left border in pixels\n   * @param  {Number} right          right border in pixels\n   * @return {Number}                middle in pixels\n  ###\n  calculateBranchMiddle : (decision, left, right) ->\n\n    leftChild = decision.node.children[0]\n    rightChild = decision.node.children[1]\n    return (right - left) * leftChild.width / (leftChild.width + rightChild.width) + left\n\n\n  ###*\n   * Calculate middle of a left and right border.\n   * @param  {Number} left  left border in pixels\n   * @param  {Number} right right border in pixels\n   * @return {Number}       middle in pixels\n  ###\n  calculateMiddle : (left, right) ->\n\n    return (left + right) / 2\n\n\n  ###*\n   * Calculate the y coordinate of a node.\n   * @param  {Number} chainCount amount of chained nodes since the parent node\n   * @param  {Number} top        y coordinate of the parent node\n   * @param  {Number} mode       @MODE_NORMAL or @MODE_NOCHAIN\n   * @return {Number}            y coordinate of the current decision node\n  ###\n  calculateTop : (chainCount, top, mode) ->\n\n    if mode == @MODE_NORMAL or chainCount < 3\n      return top + chainCount * @nodeDistance\n    else if mode == @MODE_NOCHAIN\n      return top + 2 * @nodeDistance\n\n\n  ###*\n   * Calculate the y coordinate of the first child of a node.\n   * @param  {Number} chainCount amount of chained nodes since the parent node\n   * @param  {Number} top        y coordinate of the parent node\n   * @param  {Number} mode       @MODE_NORMAL or @MODE_NOCHAIN\n   * @return {Number}            y coordinate of the current decision node's child\n  ###\n  calculateChildTop : (chainCount, top, mode) ->\n\n    return @calculateTop(chainCount, top, mode) + @nodeDistance\n\n\n  ###*\n   * Add a node to the node list, so it can be drawn later.\n   * @param {Number} x\n   * @param {Number} y\n   * @param {Number} id TracePoint id\n  ###\n  addNode : (x, y, id) ->\n\n    @nodeList.push({x : x, y : y, id : id})\n\n\n  ###*\n   * Iterate the node list and draw all nodes onto the canvas.\n  ###\n  drawAllNodes : ->\n\n    for {x, y, id} in @nodeList\n      @drawNode(x, y, id)\n\n\n  ###*\n   * Draw a single node onto the canvas.\n   * Take active state, theme and comment into consideration.\n   * @param  {Number} x\n   * @param  {Number} y\n   * @param  {Number} id TracePoint id\n  ###\n  drawNode : (x, y, id) ->\n\n    @ctx.beginPath()\n\n    @ctx.fillStyle = @vgColor\n    if @nodeIdHasComment(id)\n      @ctx.fillStyle = @commentColor\n\n    radius = @NODE_RADIUS\n    if id == @activeNodeId\n      radius = 2 * radius\n\n    @ctx.arc(x, y, radius, 0, 2 * Math.PI)\n    @ctx.fill()\n\n\n  ###*\n   * Draw an edge of the tree (a connector line) onto the canvas.\n   * Take theme into consideration.\n   * @param  {Number} x1 start coordinate\n   * @param  {Number} y1\n   * @param  {Number} x2 end coordinate\n   * @param  {Number} y2\n  ###\n  drawEdge : (x1, y1, x2, y2) ->\n\n    @ctx.beginPath()\n    @ctx.strokeStyle = @vgColor\n    @ctx.moveTo(x1, y1)\n    @ctx.lineTo(x2, y2)\n    @ctx.stroke()\n\n\n  ###*\n   * Draw a dashed edge, which indicates a straight chain of nodes.\n   * Take active state and theme into consideration.\n   * @param  {Number} x\n   * @param  {Number} top         start y coordinate\n   * @param  {Number} bottom      end y coordinate\n   * @param  {Boolean} emphasize  draw in bold outline when active node is in the chain\n  ###\n  drawChainIndicator : (x, top, bottom, emphasize = false) ->\n\n    dashLength = (bottom - top) / 7\n    if emphasize\n      @ctx.lineWidth = 4\n    @ctx.beginPath()\n    @ctx.strokeStyle = @vgColor\n    for i in [0, 1, 2]\n      @ctx.moveTo(x, top + (2 * i + 1) * dashLength)\n      @ctx.lineTo(x, top + (2 * i + 2) * dashLength)\n    @ctx.stroke()\n    @ctx.lineWidth = 1\n\n\n  ###*\n   * Checks if a node is commented (RENDER_COMMENTS has to be true).\n   * @param  {Number} id TracePoint id\n   * @return {Boolean}    true if node is commented\n  ###\n  nodeIdHasComment : (id) ->\n\n    return @RENDER_COMMENTS and @comments.hasCommentWithNodeId(id)\n\n\n  ###*\n   * Traverse the tree and add a width property for each node\n   * which indicates the number of all leaves in the tree.\n   * @param  {TracePoint}   tree\n   * @return {Number}       width of the tree\n  ###\n  recordWidths : (tree) ->\n\n    # Because any node with children.length == 1 has\n    # the same width as its child, we can skip those.\n\n    decision = @getNextDecision(tree)\n\n    # Leaves just have a width of one\n    if decision.isLeaf\n      decision.node.width = 1\n      return 1\n\n    # Branchpoints are as wide as its children combined.\n    # But actually, we need the width of the children\n    # edge case: system is made for binary trees only\n    width = 0\n    for child in decision.node.children[0...2]\n      child.width = @recordWidths(child)\n      width += child.width\n\n    return width\n\n\n  ###*\n   * Recursively calculate the maximum depth of a TracePoint tree.\n   * @param  {TracePoint} tree\n   * @param  {Number} mode      @MODE_NORMAL or @MODE_NOCHAIN\n   * @param  {Number} count     helper count, current depth\n   * @return {Number}           depth of the tree\n  ###\n  getMaxTreeDepth : (tree, mode = @MODE_NORMAL, count = 0) ->\n\n    unless tree\n      return count\n\n    # current tree is a decision point\n    count++\n\n    # find next decision point\n    decision = @getNextDecision(tree)\n    if mode == @MODE_NOCHAIN\n      decision.chainCount = Math.min(decision.chainCount, 2)\n    count += decision.chainCount\n\n    # bottom reached, done.\n    if decision.isLeaf\n      return count\n\n    # traverse further and compare left & right subtree\n    if decision.isBranch\n      return Math.max(\n              @getMaxTreeDepth(decision.node.children[0], mode, count),\n              @getMaxTreeDepth(decision.node.children[1], mode, count)\n             )\n\n    # current decision point is a comment, follow the current chain\n    return @getMaxTreeDepth(decision.node.children[0], mode, count)\n\n\n  ###*\n   * Get the id of a TracePoint from a position on the canvas.\n   * @param  {Number} x\n   * @param  {Number} y\n   * @return {Number}   TracePoint id\n  ###\n  getIdFromPos : (x, y) =>\n\n    for entry in @nodeList\n      if Math.abs(x - entry.x) <= @CLICK_TRESHOLD &&\n          Math.abs(y - entry.y) <= @CLICK_TRESHOLD\n        return entry.id\n\n\n  ###*\n   * Clear the background of the canvas.\n  ###\n  clearBackground : ->\n\n    @ctx.clearRect(0, 0, @canvas.width(), @canvas.height())\n\n\n  ###*\n   * Apply a color theme according to the overall oxalis theme for\n   *  - comments\n   *  - nodes & edges\n  ###\n  setupColors : ->\n\n    # apply color scheme\n    if app.oxalis.view.theme == Constants.THEME_BRIGHT\n      @vgColor = \"black\"\n      @commentColor = \"red\"\n    else\n      @vgColor = \"white\"\n      @commentColor = \"blue\"\n\n\n  ###*\n   * Setter.\n   * @param  {Boolean} renderComments true, if abstract tree should show comments\n  ###\n  renderComments : (renderComments) ->\n\n    @RENDER_COMMENTS = renderComments\n\n\n  ###*\n   * Set width and height of the canvas object.\n   * @param {Number} width\n   * @param {Number} height\n  ###\n  setDimensions : (width, height) ->\n\n    @canvas[0].width = width\n    @canvas[0].height = height\n\n\nmodule.exports = AbstractTreeRenderer\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/skeletontracing/abstract_tree_renderer.coffee\n **/","_                = require(\"lodash\")\napp              = require(\"app\")\nUtils            = require(\"libs/utils\")\nMarionette       = require(\"backbone.marionette\")\nBackbone         = require(\"backbone\")\nListTreeItemView = require(\"./list_tree_item_view\")\n\nclass ListTreeView extends Marionette.CompositeView\n\n  id : \"tree-navbar\"\n  className : \"flex-column\"\n  template : _.template(\"\"\"\n    <div>\n      <div class=\"btn-group\">\n        <button class=\"btn btn-default\" id=\"tree-create-button\"><i class=\"fa fa-plus\"></i>Create tree</button>\n        <button class=\"btn btn-default\" id=\"tree-delete-button\"><i class=\"fa fa-trash-o\"></i>Delete tree</button>\n      </div>\n      <div class=\"btn-group pull-right\">\n        <button class=\"btn btn-default\" id=\"tree-color-shuffle\" title=\"Change color\"><i class=\"fa fa-adjust\"></i>Change Color</button>\n        <button class=\"btn btn-default\" id=\"tree-color-shuffle-all\" title=\"Shuffle all Colors\"><i class=\"fa fa-random\"></i>Shuffle Colors</button>\n        <button class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" id=\"tree-sort-button\" title=\"Sort\">\n          <i class=\"fa fa-sort-alpha-asc\"></i>\n        </button>\n        <ul class=\"dropdown-menu pull-right\" id=\"tree-sort\">\n          <li>\n            <a href=\"#\" data-sort=\"name\">by name\n              <i class=\"fa fa-check\" id=\"sort-name-icon\"></i>\n            </a>\n          </li>\n          <li>\n            <a href=\"#\" data-sort=\"time\">by creation time\n              <i class=\"fa fa-check\" id= \"sort-time-icon\"></i>\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <div class=\"input-group\">\n      <span class=\"input-group-btn\">\n        <button class=\"btn btn-default\" id=\"tree-prev-button\"><i class=\"fa fa-arrow-left\"></i></button>\n      </span>\n      <input name=\"name\" id=\"tree-name-input\" class=\"form-control\" maxlength=\"30\" type=\"text\" autocomplete=\"off\">\n      <span class=\"input-group-btn\">\n        <button class=\"btn btn-default\" id=\"tree-next-button\"><i class=\"fa fa-arrow-right\"></i></button>\n      </span>\n    </div>\n    <ul id=\"tree-list\" class=\"flex-overflow\"></ul>\n    \"\"\")\n\n  childView : ListTreeItemView\n  childViewContainer : \"ul#tree-list\"\n  childViewOptions : ->\n    parent : @\n    activeTreeId : @getActiveTree().treeId\n\n\n  events :\n    \"change #tree-name-input\" : \"setTreeName\"\n    \"click #tree-prev-button\" : \"selectPreviousTree\"\n    \"click #tree-next-button\" : \"selectNextTree\"\n    \"click #tree-create-button\" : \"createNewTree\"\n    \"click #tree-delete-button\" : \"deleteTree\"\n    \"click #tree-color-shuffle\" : \"shuffleTreeColor\"\n    \"click #tree-color-shuffle-all\" : \"shuffleAllTreeColors\"\n    \"click a[data-sort]\" : \"sortTrees\"\n\n  ui :\n    \"treeNameInput\" : \"#tree-name-input\"\n    \"sortNameIcon\" : \"#sort-name-icon\"\n    \"sortTimeIcon\" : \"#sort-time-icon\"\n\n\n  initialize : (options) ->\n\n    @collection = new Backbone.Collection()\n\n    @listenTo(@, \"render\", @updateSortIndicator)\n    @listenTo(@, \"render\", @refresh)\n\n    @listenTo(@model.skeletonTracing, \"deleteTree\", @refresh)\n    @listenTo(@model.skeletonTracing, \"mergeTree\", @refresh)\n    @listenTo(@model.skeletonTracing, \"newTree\", @refresh)\n    @listenTo(@model.skeletonTracing, \"newTreeName\", @updateTreeWithId)\n    @listenTo(@model.skeletonTracing, \"reloadTrees\", @refresh)\n    @listenTo(@model.skeletonTracing, \"deleteActiveNode\", (node) => @updateTreeWithId(node.treeId))\n    @listenTo(@model.skeletonTracing, \"newNode\", (id, treeId) => @updateTreeWithId(treeId))\n    @listenTo(@model.skeletonTracing, \"newTreeColor\", @updateTreeWithId)\n    @listenTo(@model.skeletonTracing, \"newActiveTree\", @refresh)\n    @listenTo(@model.skeletonTracing, \"newActiveNode\", @updateName)\n\n\n  setTreeName : (evt) ->\n    @model.skeletonTracing.setTreeName(evt.target.value)\n\n\n  selectPreviousTree : ->\n    @selectNextTree(false)\n\n\n  selectNextTree : ->\n    @selectNextTree(true)\n\n\n  createNewTree : ->\n    @model.skeletonTracing.createNewTree()\n\n\n  deleteTree : ->\n    @model.skeletonTracing.deleteTree(true)\n\n\n  shuffleTreeColor : ->\n    @model.skeletonTracing.shuffleTreeColor()\n\n\n  shuffleAllTreeColors : ->\n    @model.skeletonTracing.shuffleAllTreeColors()\n\n\n  sortTrees : (evt) ->\n    evt.preventDefault()\n    @model.user.set(\"sortTreesByName\", ($(evt.currentTarget).data(\"sort\") == \"name\"))\n\n    @refresh()\n    @updateSortIndicator()\n\n\n  updateTreeWithId : (treeId) ->\n    # This method is used instead of refresh to avoid performance issues\n    $childView = @$(\"a[data-treeid='#{treeId}']\")\n    tree = @model.skeletonTracing.getTree(treeId)\n\n    $childView.children(\".tree-node-count\").text(tree.nodes.length)\n    $childView.children(\".tree-icon\").css(\"color\", \"##{Utils.intToHex(tree.color)}\")\n    $childView.children(\".tree-name\").text(tree.name)\n\n\n  updateSortIndicator : ->\n\n    isSortedByName = @model.user.get(\"sortTreesByName\")\n    @ui.sortNameIcon.toggle(isSortedByName)\n    @ui.sortTimeIcon.toggle(!isSortedByName)\n\n\n  selectNextTree : (next) ->\n\n    @model.skeletonTracing.selectNextTree(next)\n    @model.skeletonTracing.centerActiveNode()\n    @updateName()\n\n\n  getActiveTree : ->\n\n    return @model.skeletonTracing.getTree()\n\n\n  refresh : ->\n\n    trees = @model.skeletonTracing.getTreesSorted()\n    @collection.reset(trees)\n\n    @updateName()\n\n\n  updateName : ->\n\n    name = @getActiveTree().name\n    @ui.treeNameInput.val(name)\n\n\n  setActiveTree : (treeId) ->\n\n    @model.skeletonTracing.setActiveTree(treeId)\n    @model.skeletonTracing.centerActiveNode()\n\n\nmodule.exports = ListTreeView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/skeletontracing/right-menu/list_tree_view.coffee\n **/","Marionette     = require(\"backbone.marionette\")\nUtils          = require(\"libs/utils\")\nColorConverter = require(\"three.color\")\n\nclass ListTreeItemView extends Marionette.ItemView\n\n  tagName : \"li\"\n  template : _.template(\"\"\"\n    <i class=\"fa <%- getIcon() %>\"></i>\n    <a href=\"#\" data-treeid=\"<%- treeId %>\">\n      <span title=\"Node count\" class=\"inline-block tree-node-count\" style=\"width: 50px;\"><%- nodes.length %></span>\n      <i class=\"fa fa-circle tree-icon\" style=\"color: #<%- intToHex(color) %>\"></i>\n      <span title=\"Tree Name\" class=\"tree-name\"><%- name %></span>\n    </a>\n  \"\"\")\n\n  events :\n    \"click a\" : \"setActive\"\n\n  templateHelpers : ->\n    getIcon : =>\n      if @model.get(\"treeId\") == @activeTreeId\n        return \"fa-angle-right\"\n      else\n        return \"fa-bull\"\n\n    intToHex : Utils.intToHex\n\n\n  initialize : (options) ->\n\n    @activeTreeId = options.activeTreeId\n    @parent = options.parent\n\n\n  setActive : ->\n\n    id = @model.get(\"treeId\")\n    @parent.setActiveTree(id)\n\n\n  onShow : ->\n\n    # scroll to active tree\n    if @model.get(\"treeId\") == @activeTreeId and not Utils.isElementInViewport(@el)\n      @el.scrollIntoView()\n\nmodule.exports = ListTreeItemView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/skeletontracing/right-menu/list_tree_item_view.coffee\n **/","/*** IMPORTS FROM imports-loader ***/\nvar THREE = require(\"three\");\n\n/**\n * @author bhouston / http://exocortex.com/\n * @author zz85 / http://github.com/zz85\n */\n\nTHREE.ColorConverter = {\n\n\tsetHSV: function ( color, h, s, v ) {\n\n\t\t// https://gist.github.com/xpansive/1337890#file-index-js\n\t\treturn color.setHSL( h, ( s * v ) / ( ( h = ( 2 - s ) * v ) < 1 ? h : ( 2 - h ) ), h * 0.5 );\n\n\t},\n\n\tgetHSV: function( color ) {\n\n\t\tvar hsl = color.getHSL();\n\n\t\t// based on https://gist.github.com/xpansive/1337890#file-index-js\n\t\thsl.s *= ( hsl.l < 0.5 ) ? hsl.l : ( 1 - hsl.l );\n\n\t\treturn {\n\t\t\th: hsl.h,\n\t\t\ts: 2 * hsl.s / ( hsl.l + hsl.s ),\n\t\t\tv: hsl.l + hsl.s\n\t\t};\n\t},\n\n\t// where c, m, y, k is between 0 and 1\n\t\n\tsetCMYK: function ( color, c, m, y, k ) {\n\n\t\tvar r = ( 1 - c ) * ( 1 - k );\n\t\tvar g = ( 1 - m ) * ( 1 - k );\n\t\tvar b = ( 1 - y ) * ( 1 - k );\n\n\t\treturn color.setRGB( r, g, b );\n\n\t},\n\n\tgetCMYK: function ( color ) {\n\n\t\tvar r = color.r;\n\t\tvar g = color.g;\n\t\tvar b = color.b;\n\t\tvar k = 1 - Math.max(r, g, b);\n\t\tvar c = ( 1 - r - k ) / ( 1 - k );\n\t\tvar m = ( 1 - g - k ) / ( 1 - k );\n\t\tvar y = ( 1 - b - k ) / ( 1 - k );\n\n\t\treturn {\n\t\t\tc: c, m: m, y: y, k: k\n\t\t};\n\n\t}\n\n\n};\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = THREE.ColorConverter;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/three.js/examples/js/math/ColorConverter.js\n ** module id = 244\n ** module chunks = 1\n **/","/**\n * @author mrdoob / http://mrdoob.com/\n * @author Larry Battle / http://bateru.com/news\n * @author bhouston / http://exocortex.com\n */\n\nvar THREE = { REVISION: '65' };\n\nself.console = self.console || {\n\n\tinfo: function () {},\n\tlog: function () {},\n\tdebug: function () {},\n\twarn: function () {},\n\terror: function () {}\n\n};\n\nString.prototype.trim = String.prototype.trim || function () {\n\n\treturn this.replace( /^\\s+|\\s+$/g, '' );\n\n};\n\n// based on https://github.com/documentcloud/underscore/blob/bf657be243a075b5e72acc8a83e6f12a564d8f55/underscore.js#L767\nTHREE.extend = function ( obj, source ) {\n\n\t// ECMAScript5 compatibility based on: http://www.nczonline.net/blog/2012/12/11/are-your-mixins-ecmascript-5-compatible/\n\tif ( Object.keys ) {\n\n\t\tvar keys = Object.keys( source );\n\n\t\tfor (var i = 0, il = keys.length; i < il; i++) {\n\n\t\t\tvar prop = keys[i];\n\t\t\tObject.defineProperty( obj, prop, Object.getOwnPropertyDescriptor( source, prop ) );\n\n\t\t}\n\n\t} else {\n\n\t\tvar safeHasOwnProperty = {}.hasOwnProperty;\n\n\t\tfor ( var prop in source ) {\n\n\t\t\tif ( safeHasOwnProperty.call( source, prop ) ) {\n\n\t\t\t\tobj[prop] = source[prop];\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn obj;\n\n};\n\n// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n// http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\n\n// requestAnimationFrame polyfill by Erik Mller\n// fixes from Paul Irish and Tino Zijdel\n// using 'self' instead of 'window' for compatibility with both NodeJS and IE10.\n( function () {\n\n\tvar lastTime = 0;\n\tvar vendors = [ 'ms', 'moz', 'webkit', 'o' ];\n\n\tfor ( var x = 0; x < vendors.length && !self.requestAnimationFrame; ++ x ) {\n\n\t\tself.requestAnimationFrame = self[ vendors[ x ] + 'RequestAnimationFrame' ];\n\t\tself.cancelAnimationFrame = self[ vendors[ x ] + 'CancelAnimationFrame' ] || self[ vendors[ x ] + 'CancelRequestAnimationFrame' ];\n\n\t}\n\n\tif ( self.requestAnimationFrame === undefined && self['setTimeout'] !== undefined ) {\n\n\t\tself.requestAnimationFrame = function ( callback ) {\n\n\t\t\tvar currTime = Date.now(), timeToCall = Math.max( 0, 16 - ( currTime - lastTime ) );\n\t\t\tvar id = self.setTimeout( function() { callback( currTime + timeToCall ); }, timeToCall );\n\t\t\tlastTime = currTime + timeToCall;\n\t\t\treturn id;\n\n\t\t};\n\n\t}\n\n\tif( self.cancelAnimationFrame === undefined && self['clearTimeout'] !== undefined ) {\n\n\t\tself.cancelAnimationFrame = function ( id ) { self.clearTimeout( id ) };\n\n\t}\n\n}() );\n\n// GL STATE CONSTANTS\n\nTHREE.CullFaceNone = 0;\nTHREE.CullFaceBack = 1;\nTHREE.CullFaceFront = 2;\nTHREE.CullFaceFrontBack = 3;\n\nTHREE.FrontFaceDirectionCW = 0;\nTHREE.FrontFaceDirectionCCW = 1;\n\n// SHADOWING TYPES\n\nTHREE.BasicShadowMap = 0;\nTHREE.PCFShadowMap = 1;\nTHREE.PCFSoftShadowMap = 2;\n\n// MATERIAL CONSTANTS\n\n// side\n\nTHREE.FrontSide = 0;\nTHREE.BackSide = 1;\nTHREE.DoubleSide = 2;\n\n// shading\n\nTHREE.NoShading = 0;\nTHREE.FlatShading = 1;\nTHREE.SmoothShading = 2;\n\n// colors\n\nTHREE.NoColors = 0;\nTHREE.FaceColors = 1;\nTHREE.VertexColors = 2;\n\n// blending modes\n\nTHREE.NoBlending = 0;\nTHREE.NormalBlending = 1;\nTHREE.AdditiveBlending = 2;\nTHREE.SubtractiveBlending = 3;\nTHREE.MultiplyBlending = 4;\nTHREE.CustomBlending = 5;\n\n// custom blending equations\n// (numbers start from 100 not to clash with other\n//  mappings to OpenGL constants defined in Texture.js)\n\nTHREE.AddEquation = 100;\nTHREE.SubtractEquation = 101;\nTHREE.ReverseSubtractEquation = 102;\n\n// custom blending destination factors\n\nTHREE.ZeroFactor = 200;\nTHREE.OneFactor = 201;\nTHREE.SrcColorFactor = 202;\nTHREE.OneMinusSrcColorFactor = 203;\nTHREE.SrcAlphaFactor = 204;\nTHREE.OneMinusSrcAlphaFactor = 205;\nTHREE.DstAlphaFactor = 206;\nTHREE.OneMinusDstAlphaFactor = 207;\n\n// custom blending source factors\n\n//THREE.ZeroFactor = 200;\n//THREE.OneFactor = 201;\n//THREE.SrcAlphaFactor = 204;\n//THREE.OneMinusSrcAlphaFactor = 205;\n//THREE.DstAlphaFactor = 206;\n//THREE.OneMinusDstAlphaFactor = 207;\nTHREE.DstColorFactor = 208;\nTHREE.OneMinusDstColorFactor = 209;\nTHREE.SrcAlphaSaturateFactor = 210;\n\n\n// TEXTURE CONSTANTS\n\nTHREE.MultiplyOperation = 0;\nTHREE.MixOperation = 1;\nTHREE.AddOperation = 2;\n\n// Mapping modes\n\nTHREE.UVMapping = function () {};\n\nTHREE.CubeReflectionMapping = function () {};\nTHREE.CubeRefractionMapping = function () {};\n\nTHREE.SphericalReflectionMapping = function () {};\nTHREE.SphericalRefractionMapping = function () {};\n\n// Wrapping modes\n\nTHREE.RepeatWrapping = 1000;\nTHREE.ClampToEdgeWrapping = 1001;\nTHREE.MirroredRepeatWrapping = 1002;\n\n// Filters\n\nTHREE.NearestFilter = 1003;\nTHREE.NearestMipMapNearestFilter = 1004;\nTHREE.NearestMipMapLinearFilter = 1005;\nTHREE.LinearFilter = 1006;\nTHREE.LinearMipMapNearestFilter = 1007;\nTHREE.LinearMipMapLinearFilter = 1008;\n\n// Data types\n\nTHREE.UnsignedByteType = 1009;\nTHREE.ByteType = 1010;\nTHREE.ShortType = 1011;\nTHREE.UnsignedShortType = 1012;\nTHREE.IntType = 1013;\nTHREE.UnsignedIntType = 1014;\nTHREE.FloatType = 1015;\n\n// Pixel types\n\n//THREE.UnsignedByteType = 1009;\nTHREE.UnsignedShort4444Type = 1016;\nTHREE.UnsignedShort5551Type = 1017;\nTHREE.UnsignedShort565Type = 1018;\n\n// Pixel formats\n\nTHREE.AlphaFormat = 1019;\nTHREE.RGBFormat = 1020;\nTHREE.RGBAFormat = 1021;\nTHREE.LuminanceFormat = 1022;\nTHREE.LuminanceAlphaFormat = 1023;\n\n// Compressed texture formats\n\nTHREE.RGB_S3TC_DXT1_Format = 2001;\nTHREE.RGBA_S3TC_DXT1_Format = 2002;\nTHREE.RGBA_S3TC_DXT3_Format = 2003;\nTHREE.RGBA_S3TC_DXT5_Format = 2004;\n\n/*\n// Potential future PVRTC compressed texture formats\nTHREE.RGB_PVRTC_4BPPV1_Format = 2100;\nTHREE.RGB_PVRTC_2BPPV1_Format = 2101;\nTHREE.RGBA_PVRTC_4BPPV1_Format = 2102;\nTHREE.RGBA_PVRTC_2BPPV1_Format = 2103;\n*/\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.Color = function ( value ) {\n\n\tif ( value !== undefined ) this.set( value );\n\n\treturn this;\n\n};\n\nTHREE.Color.prototype = {\n\n\tconstructor: THREE.Color,\n\n\tr: 1, g: 1, b: 1,\n\n\tset: function ( value ) {\n\n\t\tif ( value instanceof THREE.Color ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetHex: function ( hex ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\treturn this;\n\n\t},\n\n\tsetRGB: function ( r, g, b ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\treturn this;\n\n\t},\n\n\tsetHSL: function ( h, s, l ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tif ( s === 0 ) {\n\n\t\t\tthis.r = this.g = this.b = l;\n\n\t\t} else {\n\n\t\t\tvar hue2rgb = function ( p, q, t ) {\n\n\t\t\t\tif ( t < 0 ) t += 1;\n\t\t\t\tif ( t > 1 ) t -= 1;\n\t\t\t\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\t\t\t\tif ( t < 1 / 2 ) return q;\n\t\t\t\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\t\t\t\treturn p;\n\n\t\t\t};\n\n\t\t\tvar p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\tvar q = ( 2 * l ) - p;\n\n\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetStyle: function ( style ) {\n\n\t\t// rgb(255,0,0)\n\n\t\tif ( /^rgb\\((\\d+), ?(\\d+), ?(\\d+)\\)$/i.test( style ) ) {\n\n\t\t\tvar color = /^rgb\\((\\d+), ?(\\d+), ?(\\d+)\\)$/i.exec( style );\n\n\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\t// rgb(100%,0%,0%)\n\n\t\tif ( /^rgb\\((\\d+)\\%, ?(\\d+)\\%, ?(\\d+)\\%\\)$/i.test( style ) ) {\n\n\t\t\tvar color = /^rgb\\((\\d+)\\%, ?(\\d+)\\%, ?(\\d+)\\%\\)$/i.exec( style );\n\n\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\t// #ff0000\n\n\t\tif ( /^\\#([0-9a-f]{6})$/i.test( style ) ) {\n\n\t\t\tvar color = /^\\#([0-9a-f]{6})$/i.exec( style );\n\n\t\t\tthis.setHex( parseInt( color[ 1 ], 16 ) );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\t// #f00\n\n\t\tif ( /^\\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test( style ) ) {\n\n\t\t\tvar color = /^\\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec( style );\n\n\t\t\tthis.setHex( parseInt( color[ 1 ] + color[ 1 ] + color[ 2 ] + color[ 2 ] + color[ 3 ] + color[ 3 ], 16 ) );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\t// red\n\n\t\tif ( /^(\\w+)$/i.test( style ) ) {\n\n\t\t\tthis.setHex( THREE.ColorKeywords[ style ] );\n\n\t\t\treturn this;\n\n\t\t}\n\n\n\t},\n\n\tcopy: function ( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t},\n\n\tcopyGammaToLinear: function ( color ) {\n\n\t\tthis.r = color.r * color.r;\n\t\tthis.g = color.g * color.g;\n\t\tthis.b = color.b * color.b;\n\n\t\treturn this;\n\n\t},\n\n\tcopyLinearToGamma: function ( color ) {\n\n\t\tthis.r = Math.sqrt( color.r );\n\t\tthis.g = Math.sqrt( color.g );\n\t\tthis.b = Math.sqrt( color.b );\n\n\t\treturn this;\n\n\t},\n\n\tconvertGammaToLinear: function () {\n\n\t\tvar r = this.r, g = this.g, b = this.b;\n\n\t\tthis.r = r * r;\n\t\tthis.g = g * g;\n\t\tthis.b = b * b;\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToGamma: function () {\n\n\t\tthis.r = Math.sqrt( this.r );\n\t\tthis.g = Math.sqrt( this.g );\n\t\tthis.b = Math.sqrt( this.b );\n\n\t\treturn this;\n\n\t},\n\n\tgetHex: function () {\n\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n\t},\n\n\tgetHexString: function () {\n\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n\t},\n\n\tgetHSL: function ( optionalTarget ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tvar hsl = optionalTarget || { h: 0, s: 0, l: 0 };\n\n\t\tvar r = this.r, g = this.g, b = this.b;\n\n\t\tvar max = Math.max( r, g, b );\n\t\tvar min = Math.min( r, g, b );\n\n\t\tvar hue, saturation;\n\t\tvar lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tvar delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\thsl.h = hue;\n\t\thsl.s = saturation;\n\t\thsl.l = lightness;\n\n\t\treturn hsl;\n\n\t},\n\n\tgetStyle: function () {\n\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n\t},\n\n\toffsetHSL: function ( h, s, l ) {\n\n\t\tvar hsl = this.getHSL();\n\n\t\thsl.h += h; hsl.s += s; hsl.l += l;\n\n\t\tthis.setHSL( hsl.h, hsl.s, hsl.l );\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t},\n\n\taddColors: function ( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t},\n\n\tlerp: function ( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tthis.r = array[ 0 ];\n\t\tthis.g = array[ 1 ];\n\t\tthis.b = array[ 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function () {\n\n\t\treturn [ this.r, this.g, this.b ];\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new THREE.Color().setRGB( this.r, this.g, this.b );\n\n\t}\n\n};\n\nTHREE.ColorKeywords = { \"aliceblue\": 0xF0F8FF, \"antiquewhite\": 0xFAEBD7, \"aqua\": 0x00FFFF, \"aquamarine\": 0x7FFFD4, \"azure\": 0xF0FFFF,\n\"beige\": 0xF5F5DC, \"bisque\": 0xFFE4C4, \"black\": 0x000000, \"blanchedalmond\": 0xFFEBCD, \"blue\": 0x0000FF, \"blueviolet\": 0x8A2BE2,\n\"brown\": 0xA52A2A, \"burlywood\": 0xDEB887, \"cadetblue\": 0x5F9EA0, \"chartreuse\": 0x7FFF00, \"chocolate\": 0xD2691E, \"coral\": 0xFF7F50,\n\"cornflowerblue\": 0x6495ED, \"cornsilk\": 0xFFF8DC, \"crimson\": 0xDC143C, \"cyan\": 0x00FFFF, \"darkblue\": 0x00008B, \"darkcyan\": 0x008B8B,\n\"darkgoldenrod\": 0xB8860B, \"darkgray\": 0xA9A9A9, \"darkgreen\": 0x006400, \"darkgrey\": 0xA9A9A9, \"darkkhaki\": 0xBDB76B, \"darkmagenta\": 0x8B008B,\n\"darkolivegreen\": 0x556B2F, \"darkorange\": 0xFF8C00, \"darkorchid\": 0x9932CC, \"darkred\": 0x8B0000, \"darksalmon\": 0xE9967A, \"darkseagreen\": 0x8FBC8F,\n\"darkslateblue\": 0x483D8B, \"darkslategray\": 0x2F4F4F, \"darkslategrey\": 0x2F4F4F, \"darkturquoise\": 0x00CED1, \"darkviolet\": 0x9400D3,\n\"deeppink\": 0xFF1493, \"deepskyblue\": 0x00BFFF, \"dimgray\": 0x696969, \"dimgrey\": 0x696969, \"dodgerblue\": 0x1E90FF, \"firebrick\": 0xB22222,\n\"floralwhite\": 0xFFFAF0, \"forestgreen\": 0x228B22, \"fuchsia\": 0xFF00FF, \"gainsboro\": 0xDCDCDC, \"ghostwhite\": 0xF8F8FF, \"gold\": 0xFFD700,\n\"goldenrod\": 0xDAA520, \"gray\": 0x808080, \"green\": 0x008000, \"greenyellow\": 0xADFF2F, \"grey\": 0x808080, \"honeydew\": 0xF0FFF0, \"hotpink\": 0xFF69B4,\n\"indianred\": 0xCD5C5C, \"indigo\": 0x4B0082, \"ivory\": 0xFFFFF0, \"khaki\": 0xF0E68C, \"lavender\": 0xE6E6FA, \"lavenderblush\": 0xFFF0F5, \"lawngreen\": 0x7CFC00,\n\"lemonchiffon\": 0xFFFACD, \"lightblue\": 0xADD8E6, \"lightcoral\": 0xF08080, \"lightcyan\": 0xE0FFFF, \"lightgoldenrodyellow\": 0xFAFAD2, \"lightgray\": 0xD3D3D3,\n\"lightgreen\": 0x90EE90, \"lightgrey\": 0xD3D3D3, \"lightpink\": 0xFFB6C1, \"lightsalmon\": 0xFFA07A, \"lightseagreen\": 0x20B2AA, \"lightskyblue\": 0x87CEFA,\n\"lightslategray\": 0x778899, \"lightslategrey\": 0x778899, \"lightsteelblue\": 0xB0C4DE, \"lightyellow\": 0xFFFFE0, \"lime\": 0x00FF00, \"limegreen\": 0x32CD32,\n\"linen\": 0xFAF0E6, \"magenta\": 0xFF00FF, \"maroon\": 0x800000, \"mediumaquamarine\": 0x66CDAA, \"mediumblue\": 0x0000CD, \"mediumorchid\": 0xBA55D3,\n\"mediumpurple\": 0x9370DB, \"mediumseagreen\": 0x3CB371, \"mediumslateblue\": 0x7B68EE, \"mediumspringgreen\": 0x00FA9A, \"mediumturquoise\": 0x48D1CC,\n\"mediumvioletred\": 0xC71585, \"midnightblue\": 0x191970, \"mintcream\": 0xF5FFFA, \"mistyrose\": 0xFFE4E1, \"moccasin\": 0xFFE4B5, \"navajowhite\": 0xFFDEAD,\n\"navy\": 0x000080, \"oldlace\": 0xFDF5E6, \"olive\": 0x808000, \"olivedrab\": 0x6B8E23, \"orange\": 0xFFA500, \"orangered\": 0xFF4500, \"orchid\": 0xDA70D6,\n\"palegoldenrod\": 0xEEE8AA, \"palegreen\": 0x98FB98, \"paleturquoise\": 0xAFEEEE, \"palevioletred\": 0xDB7093, \"papayawhip\": 0xFFEFD5, \"peachpuff\": 0xFFDAB9,\n\"peru\": 0xCD853F, \"pink\": 0xFFC0CB, \"plum\": 0xDDA0DD, \"powderblue\": 0xB0E0E6, \"purple\": 0x800080, \"red\": 0xFF0000, \"rosybrown\": 0xBC8F8F,\n\"royalblue\": 0x4169E1, \"saddlebrown\": 0x8B4513, \"salmon\": 0xFA8072, \"sandybrown\": 0xF4A460, \"seagreen\": 0x2E8B57, \"seashell\": 0xFFF5EE,\n\"sienna\": 0xA0522D, \"silver\": 0xC0C0C0, \"skyblue\": 0x87CEEB, \"slateblue\": 0x6A5ACD, \"slategray\": 0x708090, \"slategrey\": 0x708090, \"snow\": 0xFFFAFA,\n\"springgreen\": 0x00FF7F, \"steelblue\": 0x4682B4, \"tan\": 0xD2B48C, \"teal\": 0x008080, \"thistle\": 0xD8BFD8, \"tomato\": 0xFF6347, \"turquoise\": 0x40E0D0,\n\"violet\": 0xEE82EE, \"wheat\": 0xF5DEB3, \"white\": 0xFFFFFF, \"whitesmoke\": 0xF5F5F5, \"yellow\": 0xFFFF00, \"yellowgreen\": 0x9ACD32 };\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://exocortex.com\n */\n\nTHREE.Quaternion = function ( x, y, z, w ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._w = ( w !== undefined ) ? w : 1;\n\n};\n\nTHREE.Quaternion.prototype = {\n\n\tconstructor: THREE.Quaternion,\n\n\t_x: 0,_y: 0, _z: 0, _w: 0,\n\n\t_euler: undefined,\n\n\t_updateEuler: function ( callback ) {\n\n\t\tif ( this._euler !== undefined ) {\n\n\t\t\tthis._euler.setFromQuaternion( this, undefined, false );\n\n\t\t}\n\n\t},\n\n\tget x () {\n\n\t\treturn this._x;\n\n\t},\n\n\tset x ( value ) {\n\n\t\tthis._x = value;\n\t\tthis._updateEuler();\n\n\t},\n\n\tget y () {\n\n\t\treturn this._y;\n\n\t},\n\n\tset y ( value ) {\n\n\t\tthis._y = value;\n\t\tthis._updateEuler();\n\n\t},\n\n\tget z () {\n\n\t\treturn this._z;\n\n\t},\n\n\tset z ( value ) {\n\n\t\tthis._z = value;\n\t\tthis._updateEuler();\n\n\t},\n\n\tget w () {\n\n\t\treturn this._w;\n\n\t},\n\n\tset w ( value ) {\n\n\t\tthis._w = value;\n\t\tthis._updateEuler();\n\n\t},\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._updateEuler();\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( quaternion ) {\n\n\t\tthis._x = quaternion._x;\n\t\tthis._y = quaternion._y;\n\t\tthis._z = quaternion._z;\n\t\tthis._w = quaternion._w;\n\n\t\tthis._updateEuler();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromEuler: function ( euler, update ) {\n\n\t\tif ( euler instanceof THREE.Euler === false ) {\n\n\t\t\tthrow new Error( 'ERROR: Quaternion\\'s .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.' );\n\t\t}\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tvar c1 = Math.cos( euler._x / 2 );\n\t\tvar c2 = Math.cos( euler._y / 2 );\n\t\tvar c3 = Math.cos( euler._z / 2 );\n\t\tvar s1 = Math.sin( euler._x / 2 );\n\t\tvar s2 = Math.sin( euler._y / 2 );\n\t\tvar s3 = Math.sin( euler._z / 2 );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t}\n\n\t\tif ( update !== false ) this._updateEuler();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromAxisAngle: function ( axis, angle ) {\n\n\t\t// from http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\t\t// axis have to be normalized\n\n\t\tvar halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._updateEuler();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements,\n\n\t\t\tm11 = te[0], m12 = te[4], m13 = te[8],\n\t\t\tm21 = te[1], m22 = te[5], m23 = te[9],\n\t\t\tm31 = te[2], m32 = te[6], m33 = te[10],\n\n\t\t\ttrace = m11 + m22 + m33,\n\t\t\ts;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\ts = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = (m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = (m12 + m21 ) / s;\n\t\t\tthis._z = (m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = (m13 - m31 ) / s;\n\t\t\tthis._x = (m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = (m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._updateEuler();\n\n\t\treturn this;\n\n\t},\n\n\tinverse: function () {\n\n\t\tthis.conjugate().normalize();\n\n\t\treturn this;\n\n\t},\n\n\tconjugate: function () {\n\n\t\tthis._x *= -1;\n\t\tthis._y *= -1;\n\t\tthis._z *= -1;\n\n\t\tthis._updateEuler();\n\n\t\treturn this;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\tvar l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'DEPRECATED: Quaternion\\'s .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t},\n\n\tmultiplyQuaternions: function ( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tvar qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tvar qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._updateEuler();\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'DEPRECATED: Quaternion\\'s .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\n\t\treturn vector.applyQuaternion( this );\n\n\t},\n\n\tslerp: function ( qb, t ) {\n\n\t\tvar x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tvar cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = -qb._w;\n\t\t\tthis._x = -qb._x;\n\t\t\tthis._y = -qb._y;\n\t\t\tthis._z = -qb._z;\n\n\t\t\tcosHalfTheta = -cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar halfTheta = Math.acos( cosHalfTheta );\n\t\tvar sinHalfTheta = Math.sqrt( 1.0 - cosHalfTheta * cosHalfTheta );\n\n\t\tif ( Math.abs( sinHalfTheta ) < 0.001 ) {\n\n\t\t\tthis._w = 0.5 * ( w + this._w );\n\t\t\tthis._x = 0.5 * ( x + this._x );\n\t\t\tthis._y = 0.5 * ( y + this._y );\n\t\t\tthis._z = 0.5 * ( z + this._z );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._updateEuler();\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tthis._w = array[ 3 ];\n\n\t\tthis._updateEuler();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function () {\n\n\t\treturn [ this._x, this._y, this._z, this._w ];\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new THREE.Quaternion( this._x, this._y, this._z, this._w );\n\n\t}\n\n};\n\nTHREE.Quaternion.slerp = function ( qa, qb, qm, t ) {\n\n\treturn qm.copy( qa ).slerp( qb, t );\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author philogb / http://blog.thejit.org/\n * @author egraether / http://egraether.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nTHREE.Vector2 = function ( x, y ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\n};\n\nTHREE.Vector2.prototype = {\n\n\tconstructor: THREE.Vector2,\n\n\tset: function ( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( \"index is out of range: \" + index );\n\n\t\t}\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( \"index is out of range: \" + index );\n\n\t\t}\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'DEPRECATED: Vector2\\'s .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'DEPRECATED: Vector2\\'s .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tthis.x *= s;\n\t\tthis.y *= s;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\tif ( scalar !== 0 ) {\n\n\t\t\tvar invScalar = 1 / scalar;\n\n\t\t\tthis.x *= invScalar;\n\t\t\tthis.y *= invScalar;\n\n\t\t} else {\n\n\t\t\tthis.x = 0;\n\t\t\tthis.y = 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tif ( this.x > v.x ) {\n\n\t\t\tthis.x = v.x;\n\n\t\t}\n\n\t\tif ( this.y > v.y ) {\n\n\t\t\tthis.y = v.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tif ( this.x < v.x ) {\n\n\t\t\tthis.x = v.x;\n\n\t\t}\n\n\t\tif ( this.y < v.y ) {\n\n\t\t\tthis.y = v.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// This function assumes min < max, if this assumption isn't true it will not operate correctly\n\n\t\tif ( this.x < min.x ) {\n\n\t\t\tthis.x = min.x;\n\n\t\t} else if ( this.x > max.x ) {\n\n\t\t\tthis.x = max.x;\n\n\t\t}\n\n\t\tif ( this.y < min.y ) {\n\n\t\t\tthis.y = min.y;\n\n\t\t} else if ( this.y > max.y ) {\n\n\t\t\tthis.y = max.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function() {\n\n\t\treturn this.multiplyScalar( - 1 );\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() );\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t},\n\n\tsetLength: function ( l ) {\n\n\t\tvar oldLength = this.length();\n\n\t\tif ( oldLength !== 0 && l !== oldLength ) {\n\n\t\t\tthis.multiplyScalar( l / oldLength );\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tthis.x = array[ 0 ];\n\t\tthis.y = array[ 1 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function () {\n\n\t\treturn [ this.x, this.y ];\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new THREE.Vector2( this.x, this.y );\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author *kile / http://kile.stravaganza.org/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nTHREE.Vector3 = function ( x, y, z ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\n};\n\nTHREE.Vector3.prototype = {\n\n\tconstructor: THREE.Vector3,\n\n\tset: function ( x, y, z ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( \"index is out of range: \" + index );\n\n\t\t}\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( \"index is out of range: \" + index );\n\n\t\t}\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'DEPRECATED: Vector3\\'s .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'DEPRECATED: Vector3\\'s .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'DEPRECATED: Vector3\\'s .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyVectors: function ( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x;\n\t\tvar y = this.y;\n\t\tvar z = this.z;\n\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[0] * x + e[3] * y + e[6] * z;\n\t\tthis.y = e[1] * x + e[4] * y + e[7] * z;\n\t\tthis.z = e[2] * x + e[5] * y + e[8] * z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[0] * x + e[4] * y + e[8]  * z + e[12];\n\t\tthis.y = e[1] * x + e[5] * y + e[9]  * z + e[13];\n\t\tthis.z = e[2] * x + e[6] * y + e[10] * z + e[14];\n\n\t\treturn this;\n\n\t},\n\n\tapplyProjection: function ( m ) {\n\n\t\t// input: THREE.Matrix4 projection matrix\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\n\t\tvar e = m.elements;\n\t\tvar d = 1 / ( e[3] * x + e[7] * y + e[11] * z + e[15] ); // perspective divide\n\n\t\tthis.x = ( e[0] * x + e[4] * y + e[8]  * z + e[12] ) * d;\n\t\tthis.y = ( e[1] * x + e[5] * y + e[9]  * z + e[13] ) * d;\n\t\tthis.z = ( e[2] * x + e[6] * y + e[10] * z + e[14] ) * d;\n\n\t\treturn this;\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tvar x = this.x;\n\t\tvar y = this.y;\n\t\tvar z = this.z;\n\n\t\tvar qx = q.x;\n\t\tvar qy = q.y;\n\t\tvar qz = q.z;\n\t\tvar qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tvar ix =  qw * x + qy * z - qz * y;\n\t\tvar iy =  qw * y + qz * x - qx * z;\n\t\tvar iz =  qw * z + qx * y - qy * x;\n\t\tvar iw = -qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n\t\tthis.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n\t\tthis.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n\n\t\treturn this;\n\n\t},\n\n\ttransformDirection: function ( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[0] * x + e[4] * y + e[8]  * z;\n\t\tthis.y = e[1] * x + e[5] * y + e[9]  * z;\n\t\tthis.z = e[2] * x + e[6] * y + e[10] * z;\n\n\t\tthis.normalize();\n\n\t\treturn this;\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\tif ( scalar !== 0 ) {\n\n\t\t\tvar invScalar = 1 / scalar;\n\n\t\t\tthis.x *= invScalar;\n\t\t\tthis.y *= invScalar;\n\t\t\tthis.z *= invScalar;\n\n\t\t} else {\n\n\t\t\tthis.x = 0;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tif ( this.x > v.x ) {\n\n\t\t\tthis.x = v.x;\n\n\t\t}\n\n\t\tif ( this.y > v.y ) {\n\n\t\t\tthis.y = v.y;\n\n\t\t}\n\n\t\tif ( this.z > v.z ) {\n\n\t\t\tthis.z = v.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tif ( this.x < v.x ) {\n\n\t\t\tthis.x = v.x;\n\n\t\t}\n\n\t\tif ( this.y < v.y ) {\n\n\t\t\tthis.y = v.y;\n\n\t\t}\n\n\t\tif ( this.z < v.z ) {\n\n\t\t\tthis.z = v.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// This function assumes min < max, if this assumption isn't true it will not operate correctly\n\n\t\tif ( this.x < min.x ) {\n\n\t\t\tthis.x = min.x;\n\n\t\t} else if ( this.x > max.x ) {\n\n\t\t\tthis.x = max.x;\n\n\t\t}\n\n\t\tif ( this.y < min.y ) {\n\n\t\t\tthis.y = min.y;\n\n\t\t} else if ( this.y > max.y ) {\n\n\t\t\tthis.y = max.y;\n\n\t\t}\n\n\t\tif ( this.z < min.z ) {\n\n\t\t\tthis.z = min.z;\n\n\t\t} else if ( this.z > max.z ) {\n\n\t\t\tthis.z = max.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\treturn this.multiplyScalar( - 1 );\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t},\n\n\tlengthManhattan: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() );\n\n\t},\n\n\tsetLength: function ( l ) {\n\n\t\tvar oldLength = this.length();\n\n\t\tif ( oldLength !== 0 && l !== oldLength  ) {\n\n\t\t\tthis.multiplyScalar( l / oldLength );\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tcross: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'DEPRECATED: Vector3\\'s .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\n\t\tthis.x = y * v.z - z * v.y;\n\t\tthis.y = z * v.x - x * v.z;\n\t\tthis.z = x * v.y - y * v.x;\n\n\t\treturn this;\n\n\t},\n\n\tcrossVectors: function ( a, b ) {\n\n\t\tvar ax = a.x, ay = a.y, az = a.z;\n\t\tvar bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t},\n\n\tangleTo: function ( v ) {\n\n\t\tvar theta = this.dot( v ) / ( this.length() * v.length() );\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( THREE.Math.clamp( theta, -1, 1 ) );\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x;\n\t\tvar dy = this.y - v.y;\n\t\tvar dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t},\n\n\tsetEulerFromRotationMatrix: function ( m, order ) {\n\n\t\tconsole.error( \"REMOVED: Vector3\\'s setEulerFromRotationMatrix has been removed in favor of Euler.setFromRotationMatrix(), please update your code.\");\n\n\t},\n\n\tsetEulerFromQuaternion: function ( q, order ) {\n\n\t\tconsole.error( \"REMOVED: Vector3\\'s setEulerFromQuaternion: has been removed in favor of Euler.setFromQuaternion(), please update your code.\");\n\n\t},\n\n\tgetPositionFromMatrix: function ( m ) {\n\n\t\tconsole.warn( \"DEPRECATED: Vector3\\'s .getPositionFromMatrix() has been renamed to .setFromMatrixPosition(). Please update your code.\" );\n\n\t\treturn this.setFromMatrixPosition( m );\n\n\t},\n\n\tgetScaleFromMatrix: function ( m ) {\n\n\t\tconsole.warn( \"DEPRECATED: Vector3\\'s .getScaleFromMatrix() has been renamed to .setFromMatrixScale(). Please update your code.\" );\n\n\t\treturn this.setFromMatrixScale( m );\n\t},\n\n\tgetColumnFromMatrix: function ( index, matrix ) {\n\n\t\tconsole.warn( \"DEPRECATED: Vector3\\'s .getColumnFromMatrix() has been renamed to .setFromMatrixColumn(). Please update your code.\" );\n\n\t\treturn this.setFromMatrixColumn( index, matrix );\n\n\t},\n\n\tsetFromMatrixPosition: function ( m ) {\n\n\t\tthis.x = m.elements[ 12 ];\n\t\tthis.y = m.elements[ 13 ];\n\t\tthis.z = m.elements[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixScale: function ( m ) {\n\n\t\tvar sx = this.set( m.elements[ 0 ], m.elements[ 1 ], m.elements[  2 ] ).length();\n\t\tvar sy = this.set( m.elements[ 4 ], m.elements[ 5 ], m.elements[  6 ] ).length();\n\t\tvar sz = this.set( m.elements[ 8 ], m.elements[ 9 ], m.elements[ 10 ] ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\t},\n\n\tsetFromMatrixColumn: function ( index, matrix ) {\n\n\t\tvar offset = index * 4;\n\n\t\tvar me = matrix.elements;\n\n\t\tthis.x = me[ offset ];\n\t\tthis.y = me[ offset + 1 ];\n\t\tthis.z = me[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tthis.x = array[ 0 ];\n\t\tthis.y = array[ 1 ];\n\t\tthis.z = array[ 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function () {\n\n\t\treturn [ this.x, this.y, this.z ];\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new THREE.Vector3( this.x, this.y, this.z );\n\n\t}\n\n};\n\nTHREE.extend( THREE.Vector3.prototype, {\n\n\tapplyEuler: function () {\n\n\t\tvar quaternion = new THREE.Quaternion();\n\n\t\treturn function ( euler ) {\n\n\t\t\tif ( euler instanceof THREE.Euler === false ) {\n\n\t\t\t\tconsole.error( 'ERROR: Vector3\\'s .applyEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.' );\n\n\t\t\t}\n\n\t\t\tthis.applyQuaternion( quaternion.setFromEuler( euler ) );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tapplyAxisAngle: function () {\n\n\t\tvar quaternion = new THREE.Quaternion();\n\n\t\treturn function ( axis, angle ) {\n\n\t\t\tthis.applyQuaternion( quaternion.setFromAxisAngle( axis, angle ) );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tprojectOnVector: function () {\n\n\t\tvar v1 = new THREE.Vector3();\n\n\t\treturn function ( vector ) {\n\n\t\t\tv1.copy( vector ).normalize();\n\t\t\tvar d = this.dot( v1 );\n\t\t\treturn this.copy( v1 ).multiplyScalar( d );\n\n\t\t};\n\n\t}(),\n\n\tprojectOnPlane: function () {\n\n\t\tvar v1 = new THREE.Vector3();\n\n\t\treturn function ( planeNormal ) {\n\n\t\t\tv1.copy( this ).projectOnVector( planeNormal );\n\n\t\t\treturn this.sub( v1 );\n\n\t\t}\n\n\t}(),\n\n\treflect: function () {\n\n\t\tvar v1 = new THREE.Vector3();\n\n\t\treturn function ( vector ) {\n\n\t\t    v1.copy( this ).projectOnVector( vector ).multiplyScalar( 2 );\n\n\t\t    return this.subVectors( v1, this );\n\n\t\t}\n\n\t}()\n\n} );\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nTHREE.Vector4 = function ( x, y, z, w ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\tthis.w = ( w !== undefined ) ? w : 1;\n\n};\n\nTHREE.Vector4.prototype = {\n\n\tconstructor: THREE.Vector4,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( \"index is out of range: \" + index );\n\n\t\t}\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( \"index is out of range: \" + index );\n\n\t\t}\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'DEPRECATED: Vector4\\'s .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'DEPRECATED: Vector4\\'s .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x;\n\t\tvar y = this.y;\n\t\tvar z = this.z;\n\t\tvar w = this.w;\n\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[0] * x + e[4] * y + e[8] * z + e[12] * w;\n\t\tthis.y = e[1] * x + e[5] * y + e[9] * z + e[13] * w;\n\t\tthis.z = e[2] * x + e[6] * y + e[10] * z + e[14] * w;\n\t\tthis.w = e[3] * x + e[7] * y + e[11] * z + e[15] * w;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\tif ( scalar !== 0 ) {\n\n\t\t\tvar invScalar = 1 / scalar;\n\n\t\t\tthis.x *= invScalar;\n\t\t\tthis.y *= invScalar;\n\t\t\tthis.z *= invScalar;\n\t\t\tthis.w *= invScalar;\n\n\t\t} else {\n\n\t\t\tthis.x = 0;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\t\t\tthis.w = 1;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetAxisAngleFromQuaternion: function ( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tvar s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\t this.x = 1;\n\t\t\t this.y = 0;\n\t\t\t this.z = 0;\n\n\t\t} else {\n\n\t\t\t this.x = q.x / s;\n\t\t\t this.y = q.y / s;\n\t\t\t this.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetAxisAngleFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar angle, x, y, z,\t\t// variables for result\n\t\t\tepsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[0], m12 = te[4], m13 = te[8],\n\t\t\tm21 = te[1], m22 = te[5], m23 = te[9],\n\t\t\tm31 = te[2], m32 = te[6], m33 = te[10];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon )\n\t\t  && ( Math.abs( m13 - m31 ) < epsilon )\n\t\t  && ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 )\n\t\t\t  && ( Math.abs( m13 + m31 ) < epsilon2 )\n\t\t\t  && ( Math.abs( m23 + m32 ) < epsilon2 )\n\t\t\t  && ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tvar xx = ( m11 + 1 ) / 2;\n\t\t\tvar yy = ( m22 + 1 ) / 2;\n\t\t\tvar zz = ( m33 + 1 ) / 2;\n\t\t\tvar xy = ( m12 + m21 ) / 4;\n\t\t\tvar xz = ( m13 + m31 ) / 4;\n\t\t\tvar yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) { // m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) { // m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else { // m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tvar s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 )\n\t\t\t\t\t\t + ( m13 - m31 ) * ( m13 - m31 )\n\t\t\t\t\t\t + ( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tif ( this.x > v.x ) {\n\n\t\t\tthis.x = v.x;\n\n\t\t}\n\n\t\tif ( this.y > v.y ) {\n\n\t\t\tthis.y = v.y;\n\n\t\t}\n\n\t\tif ( this.z > v.z ) {\n\n\t\t\tthis.z = v.z;\n\n\t\t}\n\n\t\tif ( this.w > v.w ) {\n\n\t\t\tthis.w = v.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tif ( this.x < v.x ) {\n\n\t\t\tthis.x = v.x;\n\n\t\t}\n\n\t\tif ( this.y < v.y ) {\n\n\t\t\tthis.y = v.y;\n\n\t\t}\n\n\t\tif ( this.z < v.z ) {\n\n\t\t\tthis.z = v.z;\n\n\t\t}\n\n\t\tif ( this.w < v.w ) {\n\n\t\t\tthis.w = v.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// This function assumes min < max, if this assumption isn't true it will not operate correctly\n\n\t\tif ( this.x < min.x ) {\n\n\t\t\tthis.x = min.x;\n\n\t\t} else if ( this.x > max.x ) {\n\n\t\t\tthis.x = max.x;\n\n\t\t}\n\n\t\tif ( this.y < min.y ) {\n\n\t\t\tthis.y = min.y;\n\n\t\t} else if ( this.y > max.y ) {\n\n\t\t\tthis.y = max.y;\n\n\t\t}\n\n\t\tif ( this.z < min.z ) {\n\n\t\t\tthis.z = min.z;\n\n\t\t} else if ( this.z > max.z ) {\n\n\t\t\tthis.z = max.z;\n\n\t\t}\n\n\t\tif ( this.w < min.w ) {\n\n\t\t\tthis.w = min.w;\n\n\t\t} else if ( this.w > max.w ) {\n\n\t\t\tthis.w = max.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function() {\n\n\t\treturn this.multiplyScalar( -1 );\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t},\n\n\tlengthManhattan: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() );\n\n\t},\n\n\tsetLength: function ( l ) {\n\n\t\tvar oldLength = this.length();\n\n\t\tif ( oldLength !== 0 && l !== oldLength ) {\n\n\t\t\tthis.multiplyScalar( l / oldLength );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tthis.x = array[ 0 ];\n\t\tthis.y = array[ 1 ];\n\t\tthis.z = array[ 2 ];\n\t\tthis.w = array[ 3 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function () {\n\n\t\treturn [ this.x, this.y, this.z, this.w ];\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new THREE.Vector4( this.x, this.y, this.z, this.w );\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://exocortex.com\n */\n\nTHREE.Euler = function ( x, y, z, order ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._order = order || THREE.Euler.DefaultOrder;\n\n};\n\nTHREE.Euler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nTHREE.Euler.DefaultOrder = 'XYZ';\n\nTHREE.Euler.prototype = {\n\n\tconstructor: THREE.Euler,\n\n\t_x: 0, _y: 0, _z: 0, _order: THREE.Euler.DefaultOrder,\n\n\t_quaternion: undefined,\n\n\t_updateQuaternion: function () {\n\n\t\tif ( this._quaternion !== undefined ) {\n\n\t\t\tthis._quaternion.setFromEuler( this, false );\n\n\t\t}\n\n\t},\n\n\tget x () {\n\n\t\treturn this._x;\n\n\t},\n\n\tset x ( value ) {\n\n\t\tthis._x = value;\n\t\tthis._updateQuaternion();\n\n\t},\n\n\tget y () {\n\n\t\treturn this._y;\n\n\t},\n\n\tset y ( value ) {\n\n\t\tthis._y = value;\n\t\tthis._updateQuaternion();\n\n\t},\n\n\tget z () {\n\n\t\treturn this._z;\n\n\t},\n\n\tset z ( value ) {\n\n\t\tthis._z = value;\n\t\tthis._updateQuaternion();\n\n\t},\n\n\tget order () {\n\n\t\treturn this._order;\n\n\t},\n\n\tset order ( value ) {\n\n\t\tthis._order = value;\n\t\tthis._updateQuaternion();\n\n\t},\n\n\tset: function ( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis._updateQuaternion();\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis._updateQuaternion();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m, order ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\t// clamp, to handle numerical problems\n\n\t\tfunction clamp( x ) {\n\n\t\t\treturn Math.min( Math.max( x, -1 ), 1 );\n\n\t\t}\n\n\t\tvar te = m.elements;\n\t\tvar m11 = te[0], m12 = te[4], m13 = te[8];\n\t\tvar m21 = te[1], m22 = te[5], m23 = te[9];\n\t\tvar m31 = te[2], m32 = te[6], m33 = te[10];\n\n\t\torder = order || this._order;\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._y = Math.asin( clamp( m13 ) );\n\n\t\t\tif ( Math.abs( m13 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = Math.asin( - clamp( m23 ) );\n\n\t\t\tif ( Math.abs( m23 ) < 0.99999 ) {\n\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = Math.asin( clamp( m32 ) );\n\n\t\t\tif ( Math.abs( m32 ) < 0.99999 ) {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = 0;\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._y = Math.asin( - clamp( m31 ) );\n\n\t\t\tif ( Math.abs( m31 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._z = Math.asin( clamp( m21 ) );\n\n\t\t\tif ( Math.abs( m21 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._z = Math.asin( - clamp( m12 ) );\n\n\t\t\tif ( Math.abs( m12 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._y = 0;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: Euler.setFromRotationMatrix() given unsupported order: ' + order )\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tthis._updateQuaternion();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromQuaternion: function ( q, order, update ) {\n\n\t\t// q is assumed to be normalized\n\n\t\t// clamp, to handle numerical problems\n\n\t\tfunction clamp( x ) {\n\n\t\t\treturn Math.min( Math.max( x, -1 ), 1 );\n\n\t\t}\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/content/SpinCalc.m\n\n\t\tvar sqx = q.x * q.x;\n\t\tvar sqy = q.y * q.y;\n\t\tvar sqz = q.z * q.z;\n\t\tvar sqw = q.w * q.w;\n\n\t\torder = order || this._order;\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._x = Math.atan2( 2 * ( q.x * q.w - q.y * q.z ), ( sqw - sqx - sqy + sqz ) );\n\t\t\tthis._y = Math.asin(  clamp( 2 * ( q.x * q.z + q.y * q.w ) ) );\n\t\t\tthis._z = Math.atan2( 2 * ( q.z * q.w - q.x * q.y ), ( sqw + sqx - sqy - sqz ) );\n\n\t\t} else if ( order ===  'YXZ' ) {\n\n\t\t\tthis._x = Math.asin(  clamp( 2 * ( q.x * q.w - q.y * q.z ) ) );\n\t\t\tthis._y = Math.atan2( 2 * ( q.x * q.z + q.y * q.w ), ( sqw - sqx - sqy + sqz ) );\n\t\t\tthis._z = Math.atan2( 2 * ( q.x * q.y + q.z * q.w ), ( sqw - sqx + sqy - sqz ) );\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = Math.asin(  clamp( 2 * ( q.x * q.w + q.y * q.z ) ) );\n\t\t\tthis._y = Math.atan2( 2 * ( q.y * q.w - q.z * q.x ), ( sqw - sqx - sqy + sqz ) );\n\t\t\tthis._z = Math.atan2( 2 * ( q.z * q.w - q.x * q.y ), ( sqw - sqx + sqy - sqz ) );\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._x = Math.atan2( 2 * ( q.x * q.w + q.z * q.y ), ( sqw - sqx - sqy + sqz ) );\n\t\t\tthis._y = Math.asin(  clamp( 2 * ( q.y * q.w - q.x * q.z ) ) );\n\t\t\tthis._z = Math.atan2( 2 * ( q.x * q.y + q.z * q.w ), ( sqw + sqx - sqy - sqz ) );\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._x = Math.atan2( 2 * ( q.x * q.w - q.z * q.y ), ( sqw - sqx + sqy - sqz ) );\n\t\t\tthis._y = Math.atan2( 2 * ( q.y * q.w - q.x * q.z ), ( sqw + sqx - sqy - sqz ) );\n\t\t\tthis._z = Math.asin(  clamp( 2 * ( q.x * q.y + q.z * q.w ) ) );\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._x = Math.atan2( 2 * ( q.x * q.w + q.y * q.z ), ( sqw - sqx + sqy - sqz ) );\n\t\t\tthis._y = Math.atan2( 2 * ( q.x * q.z + q.y * q.w ), ( sqw + sqx - sqy - sqz ) );\n\t\t\tthis._z = Math.asin(  clamp( 2 * ( q.z * q.w - q.x * q.y ) ) );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: Euler.setFromQuaternion() given unsupported order: ' + order )\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) this._updateQuaternion();\n\n\t\treturn this;\n\n\t},\n\n\treorder: function () {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\tvar q = new THREE.Quaternion();\n\n\t\treturn function ( newOrder ) {\n\n\t\t\tq.setFromEuler( this );\n\t\t\tthis.setFromQuaternion( q, newOrder );\n\n\t\t};\n\n\n\t}(),\n\n\tfromArray: function ( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis._updateQuaternion();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function () {\n\n\t\treturn [ this._x, this._y, this._z, this._order ];\n\n\t},\n\n\tequals: function ( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new THREE.Euler( this._x, this._y, this._z, this._order );\n\n\t}\n\n};\n\n/**\n * @author bhouston / http://exocortex.com\n */\n\nTHREE.Line3 = function ( start, end ) {\n\n\tthis.start = ( start !== undefined ) ? start : new THREE.Vector3();\n\tthis.end = ( end !== undefined ) ? end : new THREE.Vector3();\n\n};\n\nTHREE.Line3.prototype = {\n\n\tconstructor: THREE.Line3,\n\n\tset: function ( start, end ) {\n\n\t\tthis.start.copy( start );\n\t\tthis.end.copy( end );\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( line ) {\n\n\t\tthis.start.copy( line.start );\n\t\tthis.end.copy( line.end );\n\n\t\treturn this;\n\n\t},\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\treturn result.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n\t},\n\n\tdelta: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\treturn result.subVectors( this.end, this.start );\n\n\t},\n\n\tdistanceSq: function () {\n\n\t\treturn this.start.distanceToSquared( this.end );\n\n\t},\n\n\tdistance: function () {\n\n\t\treturn this.start.distanceTo( this.end );\n\n\t},\n\n\tat: function ( t, optionalTarget ) {\n\n\t\tvar result = optionalTarget || new THREE.Vector3();\n\n\t\treturn this.delta( result ).multiplyScalar( t ).add( this.start );\n\n\t},\n\n\tclosestPointToPointParameter: function() {\n\n\t\tvar startP = new THREE.Vector3();\n\t\tvar startEnd = new THREE.Vector3();\n\n\t\treturn function ( point, clampToLine ) {\n\n\t\t\tstartP.subVectors( point, this.start );\n\t\t\tstartEnd.subVectors( this.end, this.start );\n\n\t\t\tvar startEnd2 = startEnd.dot( startEnd );\n\t\t\tvar startEnd_startP = startEnd.dot( startP );\n\n\t\t\tvar t = startEnd_startP / startEnd2;\n\n\t\t\tif ( clampToLine ) {\n\n\t\t\t\tt = THREE.Math.clamp( t, 0, 1 );\n\n\t\t\t}\n\n\t\t\treturn t;\n\n\t\t};\n\n\t}(),\n\n\tclosestPointToPoint: function ( point, clampToLine, optionalTarget ) {\n\n\t\tvar t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\tvar result = optionalTarget || new THREE.Vector3();\n\n\t\treturn this.delta( result ).multiplyScalar( t ).add( this.start );\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.start.applyMatrix4( matrix );\n\t\tthis.end.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( line ) {\n\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new THREE.Line3().copy( this );\n\n\t}\n\n};\n\n/**\n * @author bhouston / http://exocortex.com\n */\n\nTHREE.Box2 = function ( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new THREE.Vector2( Infinity, Infinity );\n\tthis.max = ( max !== undefined ) ? max : new THREE.Vector2( -Infinity, -Infinity );\n\n};\n\nTHREE.Box2.prototype = {\n\n\tconstructor: THREE.Box2,\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tif ( points.length > 0 ) {\n\n\t\t\tvar point = points[ 0 ];\n\n\t\t\tthis.min.copy( point );\n\t\t\tthis.max.copy( point );\n\n\t\t\tfor ( var i = 1, il = points.length; i < il; i ++ ) {\n\n\t\t\t\tpoint = points[ i ];\n\n\t\t\t\tif ( point.x < this.min.x ) {\n\n\t\t\t\t\tthis.min.x = point.x;\n\n\t\t\t\t} else if ( point.x > this.max.x ) {\n\n\t\t\t\t\tthis.max.x = point.x;\n\n\t\t\t\t}\n\n\t\t\t\tif ( point.y < this.min.y ) {\n\n\t\t\t\t\tthis.min.y = point.y;\n\n\t\t\t\t} else if ( point.y > this.max.y ) {\n\n\t\t\t\t\tthis.max.y = point.y;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.makeEmpty();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function () {\n\n\t\tvar v1 = new THREE.Vector2();\n\n\t\treturn function ( center, size ) {\n\n\t\t\tvar halfSize = v1.copy( size ).multiplyScalar( 0.5 );\n\t\t\tthis.min.copy( center ).sub( halfSize );\n\t\t\tthis.max.copy( center ).add( halfSize );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = Infinity;\n\t\tthis.max.x = this.max.y = -Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tempty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n\t},\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new THREE.Vector2();\n\t\treturn result.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tsize: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new THREE.Vector2();\n\t\treturn result.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( -scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\tif ( point.x < this.min.x || point.x > this.max.x ||\n\t\t     point.y < this.min.y || point.y > this.max.y ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\tif ( ( this.min.x <= box.min.x ) && ( box.max.x <= this.max.x ) &&\n\t\t     ( this.min.y <= box.min.y ) && ( box.max.y <= this.max.y ) ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t},\n\n\tgetParameter: function ( point, optionalTarget ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tvar result = optionalTarget || new THREE.Vector2();\n\n\t\treturn result.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t);\n\n\t},\n\n\tisIntersectionBox: function ( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\n\t\tif ( box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t     box.max.y < this.min.y || box.min.y > this.max.y ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tclampPoint: function ( point, optionalTarget ) {\n\n\t\tvar result = optionalTarget || new THREE.Vector2();\n\t\treturn result.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function () {\n\n\t\tvar v1 = new THREE.Vector2();\n\n\t\treturn function ( point ) {\n\n\t\t\tvar clampedPoint = v1.copy( point ).clamp( this.min, this.max );\n\t\t\treturn clampedPoint.sub( point ).length();\n\n\t\t};\n\n\t}(),\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new THREE.Box2().copy( this );\n\n\t}\n\n};\n\n/**\n * @author bhouston / http://exocortex.com\n * @author WestLangley / http://github.com/WestLangley\n */\n\nTHREE.Box3 = function ( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new THREE.Vector3( Infinity, Infinity, Infinity );\n\tthis.max = ( max !== undefined ) ? max : new THREE.Vector3( -Infinity, -Infinity, -Infinity );\n\n};\n\nTHREE.Box3.prototype = {\n\n\tconstructor: THREE.Box3,\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\taddPoint: function ( point ) {\n\n\t\tif ( point.x < this.min.x ) {\n\n\t\t\tthis.min.x = point.x;\n\n\t\t} else if ( point.x > this.max.x ) {\n\n\t\t\tthis.max.x = point.x;\n\n\t\t}\n\n\t\tif ( point.y < this.min.y ) {\n\n\t\t\tthis.min.y = point.y;\n\n\t\t} else if ( point.y > this.max.y ) {\n\n\t\t\tthis.max.y = point.y;\n\n\t\t}\n\n\t\tif ( point.z < this.min.z ) {\n\n\t\t\tthis.min.z = point.z;\n\n\t\t} else if ( point.z > this.max.z ) {\n\n\t\t\tthis.max.z = point.z;\n\n\t\t}\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tif ( points.length > 0 ) {\n\n\t\t\tvar point = points[ 0 ];\n\n\t\t\tthis.min.copy( point );\n\t\t\tthis.max.copy( point );\n\n\t\t\tfor ( var i = 1, il = points.length; i < il; i ++ ) {\n\n\t\t\t\tthis.addPoint( points[ i ] )\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.makeEmpty();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function() {\n\n\t\tvar v1 = new THREE.Vector3();\n\n\t\treturn function ( center, size ) {\n\n\t\t\tvar halfSize = v1.copy( size ).multiplyScalar( 0.5 );\n\n\t\t\tthis.min.copy( center ).sub( halfSize );\n\t\t\tthis.max.copy( center ).add( halfSize );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tsetFromObject: function() {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and childrens', world transforms\n\n\t\tvar v1 = new THREE.Vector3();\n\n\t\treturn function( object ) {\n\n\t\t\tvar scope = this;\n\n\t\t\tobject.updateMatrixWorld( true );\n\n\t\t\tthis.makeEmpty();\n\n\t\t\tobject.traverse( function ( node ) {\n\n\t\t\t\tif ( node.geometry !== undefined && node.geometry.vertices !== undefined ) {\n\n\t\t\t\t\tvar vertices = node.geometry.vertices;\n\n\t\t\t\t\tfor ( var i = 0, il = vertices.length; i < il; i++ ) {\n\n\t\t\t\t\t\tv1.copy( vertices[ i ] );\n\n\t\t\t\t\t\tv1.applyMatrix4( node.matrixWorld );\n\n\t\t\t\t\t\tscope.expandByPoint( v1 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = this.min.z = Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = -Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tempty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t},\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\treturn result.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tsize: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\treturn result.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( -scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\tif ( point.x < this.min.x || point.x > this.max.x ||\n\t\t     point.y < this.min.y || point.y > this.max.y ||\n\t\t     point.z < this.min.z || point.z > this.max.z ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\tif ( ( this.min.x <= box.min.x ) && ( box.max.x <= this.max.x ) &&\n\t\t\t ( this.min.y <= box.min.y ) && ( box.max.y <= this.max.y ) &&\n\t\t\t ( this.min.z <= box.min.z ) && ( box.max.z <= this.max.z ) ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t},\n\n\tgetParameter: function ( point, optionalTarget ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tvar result = optionalTarget || new THREE.Vector3();\n\n\t\treturn result.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t},\n\n\tisIntersectionBox: function ( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\n\t\tif ( box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t     box.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t     box.max.z < this.min.z || box.min.z > this.max.z ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tclampPoint: function ( point, optionalTarget ) {\n\n\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\treturn result.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function() {\n\n\t\tvar v1 = new THREE.Vector3();\n\n\t\treturn function ( point ) {\n\n\t\t\tvar clampedPoint = v1.copy( point ).clamp( this.min, this.max );\n\t\t\treturn clampedPoint.sub( point ).length();\n\n\t\t};\n\n\t}(),\n\n\tgetBoundingSphere: function() {\n\n\t\tvar v1 = new THREE.Vector3();\n\n\t\treturn function ( optionalTarget ) {\n\n\t\t\tvar result = optionalTarget || new THREE.Sphere();\n\n\t\t\tresult.center = this.center();\n\t\t\tresult.radius = this.size( v1 ).length() * 0.5;\n\n\t\t\treturn result;\n\n\t\t};\n\n\t}(),\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function() {\n\n\t\tvar points = [\n\t\t\tnew THREE.Vector3(),\n\t\t\tnew THREE.Vector3(),\n\t\t\tnew THREE.Vector3(),\n\t\t\tnew THREE.Vector3(),\n\t\t\tnew THREE.Vector3(),\n\t\t\tnew THREE.Vector3(),\n\t\t\tnew THREE.Vector3(),\n\t\t\tnew THREE.Vector3()\n\t\t];\n\n\t\treturn function ( matrix ) {\n\n\t\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t\tpoints[0].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t\tpoints[1].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t\tpoints[2].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t\tpoints[3].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t\tpoints[4].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t\tpoints[5].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t\tpoints[6].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t\tpoints[7].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix );  // 111\n\n\t\t\tthis.makeEmpty();\n\t\t\tthis.setFromPoints( points );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new THREE.Box3().copy( this );\n\n\t}\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://exocortex.com\n */\n\nTHREE.Matrix3 = function ( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\tthis.elements = new Float32Array(9);\n\n\tthis.set(\n\n\t\t( n11 !== undefined ) ? n11 : 1, n12 || 0, n13 || 0,\n\t\tn21 || 0, ( n22 !== undefined ) ? n22 : 1, n23 || 0,\n\t\tn31 || 0, n32 || 0, ( n33 !== undefined ) ? n33 : 1\n\n\t);\n};\n\nTHREE.Matrix3.prototype = {\n\n\tconstructor: THREE.Matrix3,\n\n\tset: function ( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[0] = n11; te[3] = n12; te[6] = n13;\n\t\tte[1] = n21; te[4] = n22; te[7] = n23;\n\t\tte[2] = n31; te[5] = n32; te[8] = n33;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[0], me[3], me[6],\n\t\t\tme[1], me[4], me[7],\n\t\t\tme[2], me[5], me[8]\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'DEPRECATED: Matrix3\\'s .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\n\t\treturn vector.applyMatrix3( this );\n\n\t},\n\n\tmultiplyVector3Array: function() {\n\n\t\tvar v1 = new THREE.Vector3();\n\n\t\treturn function ( a ) {\n\n\t\t\tfor ( var i = 0, il = a.length; i < il; i += 3 ) {\n\n\t\t\t\tv1.x = a[ i ];\n\t\t\t\tv1.y = a[ i + 1 ];\n\t\t\t\tv1.z = a[ i + 2 ];\n\n\t\t\t\tv1.applyMatrix3(this);\n\n\t\t\t\ta[ i ]     = v1.x;\n\t\t\t\ta[ i + 1 ] = v1.y;\n\t\t\t\ta[ i + 2 ] = v1.z;\n\n\t\t\t}\n\n\t\t\treturn a;\n\n\t\t};\n\n\t}(),\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[0] *= s; te[3] *= s; te[6] *= s;\n\t\tte[1] *= s; te[4] *= s; te[7] *= s;\n\t\tte[2] *= s; te[5] *= s; te[8] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar a = te[0], b = te[1], c = te[2],\n\t\t\td = te[3], e = te[4], f = te[5],\n\t\t\tg = te[6], h = te[7], i = te[8];\n\n\t\treturn a*e*i - a*f*h - b*d*i + b*f*g + c*d*h - c*e*g;\n\n\t},\n\n\tgetInverse: function ( matrix, throwOnInvertible ) {\n\n\t\t// input: THREE.Matrix4\n\t\t// ( based on http://code.google.com/p/webgl-mjs/ )\n\n\t\tvar me = matrix.elements;\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] =   me[10] * me[5] - me[6] * me[9];\n\t\tte[ 1 ] = - me[10] * me[1] + me[2] * me[9];\n\t\tte[ 2 ] =   me[6] * me[1] - me[2] * me[5];\n\t\tte[ 3 ] = - me[10] * me[4] + me[6] * me[8];\n\t\tte[ 4 ] =   me[10] * me[0] - me[2] * me[8];\n\t\tte[ 5 ] = - me[6] * me[0] + me[2] * me[4];\n\t\tte[ 6 ] =   me[9] * me[4] - me[5] * me[8];\n\t\tte[ 7 ] = - me[9] * me[0] + me[1] * me[8];\n\t\tte[ 8 ] =   me[5] * me[0] - me[1] * me[4];\n\n\t\tvar det = me[ 0 ] * te[ 0 ] + me[ 1 ] * te[ 3 ] + me[ 2 ] * te[ 6 ];\n\n\t\t// no inverse\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"Matrix3.getInverse(): can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnInvertible || false ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\tthis.identity();\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.multiplyScalar( 1.0 / det );\n\n\t\treturn this;\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar tmp, m = this.elements;\n\n\t\ttmp = m[1]; m[1] = m[3]; m[3] = tmp;\n\t\ttmp = m[2]; m[2] = m[6]; m[6] = tmp;\n\t\ttmp = m[5]; m[5] = m[7]; m[7] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tgetNormalMatrix: function ( m ) {\n\n\t\t// input: THREE.Matrix4\n\n\t\tthis.getInverse( m ).transpose();\n\n\t\treturn this;\n\n\t},\n\n\ttransposeIntoArray: function ( r ) {\n\n\t\tvar m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tthis.elements.set( array );\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function () {\n\n\t\tvar te = this.elements;\n\n\t\treturn [\n\t\t\tte[ 0 ], te[ 1 ], te[ 2 ],\n\t\t\tte[ 3 ], te[ 4 ], te[ 5 ],\n\t\t\tte[ 6 ], te[ 7 ], te[ 8 ]\n\t\t];\n\n\t},\n\n\tclone: function () {\n\n\t\tvar te = this.elements;\n\n\t\treturn new THREE.Matrix3(\n\n\t\t\tte[0], te[3], te[6],\n\t\t\tte[1], te[4], te[7],\n\t\t\tte[2], te[5], te[8]\n\n\t\t);\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author jordi_ros / http://plattsoft.com\n * @author D1plo1d / http://github.com/D1plo1d\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author timknip / http://www.floorplanner.com/\n * @author bhouston / http://exocortex.com\n * @author WestLangley / http://github.com/WestLangley\n */\n\n\nTHREE.Matrix4 = function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\tthis.elements = new Float32Array( 16 );\n\n\t// TODO: if n11 is undefined, then just set to identity, otherwise copy all other values into matrix\n\t//   we should not support semi specification of Matrix4, it is just weird.\n\n\tvar te = this.elements;\n\n\tte[0] = ( n11 !== undefined ) ? n11 : 1; te[4] = n12 || 0; te[8] = n13 || 0; te[12] = n14 || 0;\n\tte[1] = n21 || 0; te[5] = ( n22 !== undefined ) ? n22 : 1; te[9] = n23 || 0; te[13] = n24 || 0;\n\tte[2] = n31 || 0; te[6] = n32 || 0; te[10] = ( n33 !== undefined ) ? n33 : 1; te[14] = n34 || 0;\n\tte[3] = n41 || 0; te[7] = n42 || 0; te[11] = n43 || 0; te[15] = ( n44 !== undefined ) ? n44 : 1;\n\n};\n\nTHREE.Matrix4.prototype = {\n\n\tconstructor: THREE.Matrix4,\n\n\tset: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[0] = n11; te[4] = n12; te[8] = n13; te[12] = n14;\n\t\tte[1] = n21; te[5] = n22; te[9] = n23; te[13] = n24;\n\t\tte[2] = n31; te[6] = n32; te[10] = n33; te[14] = n34;\n\t\tte[3] = n41; te[7] = n42; te[11] = n43; te[15] = n44;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tthis.elements.set( m.elements );\n\n\t\treturn this;\n\n\t},\n\n\textractPosition: function ( m ) {\n\n\t\tconsole.warn( 'DEPRECATED: Matrix4\\'s .extractPosition() has been renamed to .copyPosition().' );\n\t\treturn this.copyPosition( m );\n\n\t},\n\n\tcopyPosition: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[12] = me[12];\n\t\tte[13] = me[13];\n\t\tte[14] = me[14];\n\n\t\treturn this;\n\n\t},\n\n\textractRotation: function () {\n\n\t\tvar v1 = new THREE.Vector3();\n\n\t\treturn function ( m ) {\n\n\t\t\tvar te = this.elements;\n\t\t\tvar me = m.elements;\n\n\t\t\tvar scaleX = 1 / v1.set( me[0], me[1], me[2] ).length();\n\t\t\tvar scaleY = 1 / v1.set( me[4], me[5], me[6] ).length();\n\t\t\tvar scaleZ = 1 / v1.set( me[8], me[9], me[10] ).length();\n\n\t\t\tte[0] = me[0] * scaleX;\n\t\t\tte[1] = me[1] * scaleX;\n\t\t\tte[2] = me[2] * scaleX;\n\n\t\t\tte[4] = me[4] * scaleY;\n\t\t\tte[5] = me[5] * scaleY;\n\t\t\tte[6] = me[6] * scaleY;\n\n\t\t\tte[8] = me[8] * scaleZ;\n\t\t\tte[9] = me[9] * scaleZ;\n\t\t\tte[10] = me[10] * scaleZ;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakeRotationFromEuler: function ( euler ) {\n\n\t\tif ( euler instanceof THREE.Euler === false ) {\n\n\t\t\tconsole.error( 'ERROR: Matrix\\'s .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\n\t\tvar x = euler.x, y = euler.y, z = euler.z;\n\t\tvar a = Math.cos( x ), b = Math.sin( x );\n\t\tvar c = Math.cos( y ), d = Math.sin( y );\n\t\tvar e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[0] = c * e;\n\t\t\tte[4] = - c * f;\n\t\t\tte[8] = d;\n\n\t\t\tte[1] = af + be * d;\n\t\t\tte[5] = ae - bf * d;\n\t\t\tte[9] = - b * c;\n\n\t\t\tte[2] = bf - ae * d;\n\t\t\tte[6] = be + af * d;\n\t\t\tte[10] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[0] = ce + df * b;\n\t\t\tte[4] = de * b - cf;\n\t\t\tte[8] = a * d;\n\n\t\t\tte[1] = a * f;\n\t\t\tte[5] = a * e;\n\t\t\tte[9] = - b;\n\n\t\t\tte[2] = cf * b - de;\n\t\t\tte[6] = df + ce * b;\n\t\t\tte[10] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[0] = ce - df * b;\n\t\t\tte[4] = - a * f;\n\t\t\tte[8] = de + cf * b;\n\n\t\t\tte[1] = cf + de * b;\n\t\t\tte[5] = a * e;\n\t\t\tte[9] = df - ce * b;\n\n\t\t\tte[2] = - a * d;\n\t\t\tte[6] = b;\n\t\t\tte[10] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[0] = c * e;\n\t\t\tte[4] = be * d - af;\n\t\t\tte[8] = ae * d + bf;\n\n\t\t\tte[1] = c * f;\n\t\t\tte[5] = bf * d + ae;\n\t\t\tte[9] = af * d - be;\n\n\t\t\tte[2] = - d;\n\t\t\tte[6] = b * c;\n\t\t\tte[10] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[0] = c * e;\n\t\t\tte[4] = bd - ac * f;\n\t\t\tte[8] = bc * f + ad;\n\n\t\t\tte[1] = f;\n\t\t\tte[5] = a * e;\n\t\t\tte[9] = - b * e;\n\n\t\t\tte[2] = - d * e;\n\t\t\tte[6] = ad * f + bc;\n\t\t\tte[10] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[0] = c * e;\n\t\t\tte[4] = - f;\n\t\t\tte[8] = d * e;\n\n\t\t\tte[1] = ac * f + bd;\n\t\t\tte[5] = a * e;\n\t\t\tte[9] = ad * f - bc;\n\n\t\t\tte[2] = bc * f - ad;\n\t\t\tte[6] = b * e;\n\t\t\tte[10] = bd * f + ac;\n\n\t\t}\n\n\t\t// last column\n\t\tte[3] = 0;\n\t\tte[7] = 0;\n\t\tte[11] = 0;\n\n\t\t// bottom row\n\t\tte[12] = 0;\n\t\tte[13] = 0;\n\t\tte[14] = 0;\n\t\tte[15] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\tconsole.warn( 'DEPRECATED: Matrix4\\'s .setRotationFromQuaternion() has been deprecated in favor of makeRotationFromQuaternion.  Please update your code.' );\n\n\t\treturn this.makeRotationFromQuaternion( q );\n\n\t},\n\n\tmakeRotationFromQuaternion: function ( q ) {\n\n\t\tvar te = this.elements;\n\n\t\tvar x = q.x, y = q.y, z = q.z, w = q.w;\n\t\tvar x2 = x + x, y2 = y + y, z2 = z + z;\n\t\tvar xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tvar yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tvar wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tte[0] = 1 - ( yy + zz );\n\t\tte[4] = xy - wz;\n\t\tte[8] = xz + wy;\n\n\t\tte[1] = xy + wz;\n\t\tte[5] = 1 - ( xx + zz );\n\t\tte[9] = yz - wx;\n\n\t\tte[2] = xz - wy;\n\t\tte[6] = yz + wx;\n\t\tte[10] = 1 - ( xx + yy );\n\n\t\t// last column\n\t\tte[3] = 0;\n\t\tte[7] = 0;\n\t\tte[11] = 0;\n\n\t\t// bottom row\n\t\tte[12] = 0;\n\t\tte[13] = 0;\n\t\tte[14] = 0;\n\t\tte[15] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tlookAt: function() {\n\n\t\tvar x = new THREE.Vector3();\n\t\tvar y = new THREE.Vector3();\n\t\tvar z = new THREE.Vector3();\n\n\t\treturn function ( eye, target, up ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tz.subVectors( eye, target ).normalize();\n\n\t\t\tif ( z.length() === 0 ) {\n\n\t\t\t\tz.z = 1;\n\n\t\t\t}\n\n\t\t\tx.crossVectors( up, z ).normalize();\n\n\t\t\tif ( x.length() === 0 ) {\n\n\t\t\t\tz.x += 0.0001;\n\t\t\t\tx.crossVectors( up, z ).normalize();\n\n\t\t\t}\n\n\t\t\ty.crossVectors( z, x );\n\n\n\t\t\tte[0] = x.x; te[4] = y.x; te[8] = z.x;\n\t\t\tte[1] = x.y; te[5] = y.y; te[9] = z.y;\n\t\t\tte[2] = x.z; te[6] = y.z; te[10] = z.z;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmultiply: function ( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'DEPRECATED: Matrix4\\'s .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[0], a12 = ae[4], a13 = ae[8], a14 = ae[12];\n\t\tvar a21 = ae[1], a22 = ae[5], a23 = ae[9], a24 = ae[13];\n\t\tvar a31 = ae[2], a32 = ae[6], a33 = ae[10], a34 = ae[14];\n\t\tvar a41 = ae[3], a42 = ae[7], a43 = ae[11], a44 = ae[15];\n\n\t\tvar b11 = be[0], b12 = be[4], b13 = be[8], b14 = be[12];\n\t\tvar b21 = be[1], b22 = be[5], b23 = be[9], b24 = be[13];\n\t\tvar b31 = be[2], b32 = be[6], b33 = be[10], b34 = be[14];\n\t\tvar b41 = be[3], b42 = be[7], b43 = be[11], b44 = be[15];\n\n\t\tte[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyToArray: function ( a, b, r ) {\n\n\t\tvar te = this.elements;\n\n\t\tthis.multiplyMatrices( a, b );\n\n\t\tr[ 0 ] = te[0]; r[ 1 ] = te[1]; r[ 2 ] = te[2]; r[ 3 ] = te[3];\n\t\tr[ 4 ] = te[4]; r[ 5 ] = te[5]; r[ 6 ] = te[6]; r[ 7 ] = te[7];\n\t\tr[ 8 ]  = te[8]; r[ 9 ]  = te[9]; r[ 10 ] = te[10]; r[ 11 ] = te[11];\n\t\tr[ 12 ] = te[12]; r[ 13 ] = te[13]; r[ 14 ] = te[14]; r[ 15 ] = te[15];\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[0] *= s; te[4] *= s; te[8] *= s; te[12] *= s;\n\t\tte[1] *= s; te[5] *= s; te[9] *= s; te[13] *= s;\n\t\tte[2] *= s; te[6] *= s; te[10] *= s; te[14] *= s;\n\t\tte[3] *= s; te[7] *= s; te[11] *= s; te[15] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'DEPRECATED: Matrix4\\'s .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.' );\n\t\treturn vector.applyProjection( this );\n\n\t},\n\n\tmultiplyVector4: function ( vector ) {\n\n\t\tconsole.warn( 'DEPRECATED: Matrix4\\'s .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\n\tmultiplyVector3Array: function() {\n\n\t\tvar v1 = new THREE.Vector3();\n\n\t\treturn function ( a ) {\n\n\t\t\tfor ( var i = 0, il = a.length; i < il; i += 3 ) {\n\n\t\t\t\tv1.x = a[ i ];\n\t\t\t\tv1.y = a[ i + 1 ];\n\t\t\t\tv1.z = a[ i + 2 ];\n\n\t\t\t\tv1.applyProjection( this );\n\n\t\t\t\ta[ i ]     = v1.x;\n\t\t\t\ta[ i + 1 ] = v1.y;\n\t\t\t\ta[ i + 2 ] = v1.z;\n\n\t\t\t}\n\n\t\t\treturn a;\n\n\t\t};\n\n\t}(),\n\n\trotateAxis: function ( v ) {\n\n\t\tconsole.warn( 'DEPRECATED: Matrix4\\'s .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\n\n\t\tv.transformDirection( this );\n\n\t},\n\n\tcrossVector: function ( vector ) {\n\n\t\tconsole.warn( 'DEPRECATED: Matrix4\\'s .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar n11 = te[0], n12 = te[4], n13 = te[8], n14 = te[12];\n\t\tvar n21 = te[1], n22 = te[5], n23 = te[9], n24 = te[13];\n\t\tvar n31 = te[2], n32 = te[6], n33 = te[10], n34 = te[14];\n\t\tvar n41 = te[3], n42 = te[7], n43 = te[11], n44 = te[15];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+n14 * n23 * n32\n\t\t\t\t-n13 * n24 * n32\n\t\t\t\t-n14 * n22 * n33\n\t\t\t\t+n12 * n24 * n33\n\t\t\t\t+n13 * n22 * n34\n\t\t\t\t-n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+n11 * n23 * n34\n\t\t\t\t-n11 * n24 * n33\n\t\t\t\t+n14 * n21 * n33\n\t\t\t\t-n13 * n21 * n34\n\t\t\t\t+n13 * n24 * n31\n\t\t\t\t-n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+n11 * n24 * n32\n\t\t\t\t-n11 * n22 * n34\n\t\t\t\t-n14 * n21 * n32\n\t\t\t\t+n12 * n21 * n34\n\t\t\t\t+n14 * n22 * n31\n\t\t\t\t-n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t-n13 * n22 * n31\n\t\t\t\t-n11 * n23 * n32\n\t\t\t\t+n11 * n22 * n33\n\t\t\t\t+n13 * n21 * n32\n\t\t\t\t-n12 * n21 * n33\n\t\t\t\t+n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar te = this.elements;\n\t\tvar tmp;\n\n\t\ttmp = te[1]; te[1] = te[4]; te[4] = tmp;\n\t\ttmp = te[2]; te[2] = te[8]; te[8] = tmp;\n\t\ttmp = te[6]; te[6] = te[9]; te[9] = tmp;\n\n\t\ttmp = te[3]; te[3] = te[12]; te[12] = tmp;\n\t\ttmp = te[7]; te[7] = te[13]; te[13] = tmp;\n\t\ttmp = te[11]; te[11] = te[14]; te[14] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tflattenToArray: function ( flat ) {\n\n\t\tvar te = this.elements;\n\t\tflat[ 0 ] = te[0]; flat[ 1 ] = te[1]; flat[ 2 ] = te[2]; flat[ 3 ] = te[3];\n\t\tflat[ 4 ] = te[4]; flat[ 5 ] = te[5]; flat[ 6 ] = te[6]; flat[ 7 ] = te[7];\n\t\tflat[ 8 ] = te[8]; flat[ 9 ] = te[9]; flat[ 10 ] = te[10]; flat[ 11 ] = te[11];\n\t\tflat[ 12 ] = te[12]; flat[ 13 ] = te[13]; flat[ 14 ] = te[14]; flat[ 15 ] = te[15];\n\n\t\treturn flat;\n\n\t},\n\n\tflattenToArrayOffset: function( flat, offset ) {\n\n\t\tvar te = this.elements;\n\t\tflat[ offset ] = te[0];\n\t\tflat[ offset + 1 ] = te[1];\n\t\tflat[ offset + 2 ] = te[2];\n\t\tflat[ offset + 3 ] = te[3];\n\n\t\tflat[ offset + 4 ] = te[4];\n\t\tflat[ offset + 5 ] = te[5];\n\t\tflat[ offset + 6 ] = te[6];\n\t\tflat[ offset + 7 ] = te[7];\n\n\t\tflat[ offset + 8 ]  = te[8];\n\t\tflat[ offset + 9 ]  = te[9];\n\t\tflat[ offset + 10 ] = te[10];\n\t\tflat[ offset + 11 ] = te[11];\n\n\t\tflat[ offset + 12 ] = te[12];\n\t\tflat[ offset + 13 ] = te[13];\n\t\tflat[ offset + 14 ] = te[14];\n\t\tflat[ offset + 15 ] = te[15];\n\n\t\treturn flat;\n\n\t},\n\n\tgetPosition: function() {\n\n\t\tvar v1 = new THREE.Vector3();\n\n\t\treturn function () {\n\n\t\t\tconsole.warn( 'DEPRECATED: Matrix4\\'s .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\n\n\t\t\tvar te = this.elements;\n\t\t\treturn v1.set( te[12], te[13], te[14] );\n\n\t\t};\n\n\t}(),\n\n\tsetPosition: function ( v ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[12] = v.x;\n\t\tte[13] = v.y;\n\t\tte[14] = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tgetInverse: function ( m, throwOnInvertible ) {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tvar n11 = me[0], n12 = me[4], n13 = me[8], n14 = me[12];\n\t\tvar n21 = me[1], n22 = me[5], n23 = me[9], n24 = me[13];\n\t\tvar n31 = me[2], n32 = me[6], n33 = me[10], n34 = me[14];\n\t\tvar n41 = me[3], n42 = me[7], n43 = me[11], n44 = me[15];\n\n\t\tte[0] = n23*n34*n42 - n24*n33*n42 + n24*n32*n43 - n22*n34*n43 - n23*n32*n44 + n22*n33*n44;\n\t\tte[4] = n14*n33*n42 - n13*n34*n42 - n14*n32*n43 + n12*n34*n43 + n13*n32*n44 - n12*n33*n44;\n\t\tte[8] = n13*n24*n42 - n14*n23*n42 + n14*n22*n43 - n12*n24*n43 - n13*n22*n44 + n12*n23*n44;\n\t\tte[12] = n14*n23*n32 - n13*n24*n32 - n14*n22*n33 + n12*n24*n33 + n13*n22*n34 - n12*n23*n34;\n\t\tte[1] = n24*n33*n41 - n23*n34*n41 - n24*n31*n43 + n21*n34*n43 + n23*n31*n44 - n21*n33*n44;\n\t\tte[5] = n13*n34*n41 - n14*n33*n41 + n14*n31*n43 - n11*n34*n43 - n13*n31*n44 + n11*n33*n44;\n\t\tte[9] = n14*n23*n41 - n13*n24*n41 - n14*n21*n43 + n11*n24*n43 + n13*n21*n44 - n11*n23*n44;\n\t\tte[13] = n13*n24*n31 - n14*n23*n31 + n14*n21*n33 - n11*n24*n33 - n13*n21*n34 + n11*n23*n34;\n\t\tte[2] = n22*n34*n41 - n24*n32*n41 + n24*n31*n42 - n21*n34*n42 - n22*n31*n44 + n21*n32*n44;\n\t\tte[6] = n14*n32*n41 - n12*n34*n41 - n14*n31*n42 + n11*n34*n42 + n12*n31*n44 - n11*n32*n44;\n\t\tte[10] = n12*n24*n41 - n14*n22*n41 + n14*n21*n42 - n11*n24*n42 - n12*n21*n44 + n11*n22*n44;\n\t\tte[14] = n14*n22*n31 - n12*n24*n31 - n14*n21*n32 + n11*n24*n32 + n12*n21*n34 - n11*n22*n34;\n\t\tte[3] = n23*n32*n41 - n22*n33*n41 - n23*n31*n42 + n21*n33*n42 + n22*n31*n43 - n21*n32*n43;\n\t\tte[7] = n12*n33*n41 - n13*n32*n41 + n13*n31*n42 - n11*n33*n42 - n12*n31*n43 + n11*n32*n43;\n\t\tte[11] = n13*n22*n41 - n12*n23*n41 - n13*n21*n42 + n11*n23*n42 + n12*n21*n43 - n11*n22*n43;\n\t\tte[15] = n12*n23*n31 - n13*n22*n31 + n13*n21*n32 - n11*n23*n32 - n12*n21*n33 + n11*n22*n33;\n\n\t\tvar det = n11 * te[ 0 ] + n21 * te[ 4 ] + n31 * te[ 8 ] + n41 * te[ 12 ];\n\n\t\tif ( det == 0 ) {\n\n\t\t\tvar msg = \"Matrix4.getInverse(): can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnInvertible || false ) {\n\n\t\t\t\tthrow new Error( msg ); \n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\tthis.identity();\n\n\t\t\treturn this;\n\t\t}\n\n\t\tthis.multiplyScalar( 1 / det );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( v ) {\n\n\t\tconsole.warn( 'DEPRECATED: Matrix4\\'s .translate() has been removed.');\n\n\t},\n\n\trotateX: function ( angle ) {\n\n\t\tconsole.warn( 'DEPRECATED: Matrix4\\'s .rotateX() has been removed.');\n\n\t},\n\n\trotateY: function ( angle ) {\n\n\t\tconsole.warn( 'DEPRECATED: Matrix4\\'s .rotateY() has been removed.');\n\n\t},\n\n\trotateZ: function ( angle ) {\n\n\t\tconsole.warn( 'DEPRECATED: Matrix4\\'s .rotateZ() has been removed.');\n\n\t},\n\n\trotateByAxis: function ( axis, angle ) {\n\n\t\tconsole.warn( 'DEPRECATED: Matrix4\\'s .rotateByAxis() has been removed.');\n\n\t},\n\n\tscale: function ( v ) {\n\n\t\tvar te = this.elements;\n\t\tvar x = v.x, y = v.y, z = v.z;\n\n\t\tte[0] *= x; te[4] *= y; te[8] *= z;\n\t\tte[1] *= x; te[5] *= y; te[9] *= z;\n\t\tte[2] *= x; te[6] *= y; te[10] *= z;\n\t\tte[3] *= x; te[7] *= y; te[11] *= z;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxScaleOnAxis: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar scaleXSq = te[0] * te[0] + te[1] * te[1] + te[2] * te[2];\n\t\tvar scaleYSq = te[4] * te[4] + te[5] * te[5] + te[6] * te[6];\n\t\tvar scaleZSq = te[8] * te[8] + te[9] * te[9] + te[10] * te[10];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, Math.max( scaleYSq, scaleZSq ) ) );\n\n\t},\n\n\tmakeTranslation: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationX: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0,  0, 0,\n\t\t\t0, c, -s, 0,\n\t\t\t0, s,  c, 0,\n\t\t\t0, 0,  0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationY: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t-s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationZ: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, -s, 0, 0,\n\t\t\ts,  c, 0, 0,\n\t\t\t0,  0, 1, 0,\n\t\t\t0,  0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationAxis: function ( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tvar c = Math.cos( angle );\n\t\tvar s = Math.sin( angle );\n\t\tvar t = 1 - c;\n\t\tvar x = axis.x, y = axis.y, z = axis.z;\n\t\tvar tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\t return this;\n\n\t},\n\n\tmakeScale: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tcompose: function ( position, quaternion, scale ) {\n\n\t\tthis.makeRotationFromQuaternion( quaternion );\n\t\tthis.scale( scale );\n\t\tthis.setPosition( position );\n\n\t\treturn this;\n\n\t},\n\n\tdecompose: function () {\n\n\t\tvar vector = new THREE.Vector3();\n\t\tvar matrix = new THREE.Matrix4();\n\n\t\treturn function ( position, quaternion, scale ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tvar sx = vector.set( te[0], te[1], te[2] ).length();\n\t\t\tvar sy = vector.set( te[4], te[5], te[6] ).length();\n\t\t\tvar sz = vector.set( te[8], te[9], te[10] ).length();\n\n\t\t\t// if determine is negative, we need to invert one scale\n\t\t\tvar det = this.determinant();\n\t\t\tif( det < 0 ) {\n\t\t\t\tsx = -sx;\n\t\t\t}\n\n\t\t\tposition.x = te[12];\n\t\t\tposition.y = te[13];\n\t\t\tposition.z = te[14];\n\n\t\t\t// scale the rotation part\n\n\t\t\tmatrix.elements.set( this.elements ); // at this point matrix is incomplete so we can't use .copy()\n\n\t\t\tvar invSX = 1 / sx;\n\t\t\tvar invSY = 1 / sy;\n\t\t\tvar invSZ = 1 / sz;\n\n\t\t\tmatrix.elements[0] *= invSX;\n\t\t\tmatrix.elements[1] *= invSX;\n\t\t\tmatrix.elements[2] *= invSX;\n\n\t\t\tmatrix.elements[4] *= invSY;\n\t\t\tmatrix.elements[5] *= invSY;\n\t\t\tmatrix.elements[6] *= invSY;\n\n\t\t\tmatrix.elements[8] *= invSZ;\n\t\t\tmatrix.elements[9] *= invSZ;\n\t\t\tmatrix.elements[10] *= invSZ;\n\n\t\t\tquaternion.setFromRotationMatrix( matrix );\n\n\t\t\tscale.x = sx;\n\t\t\tscale.y = sy;\n\t\t\tscale.z = sz;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakeFrustum: function ( left, right, bottom, top, near, far ) {\n\n\t\tvar te = this.elements;\n\t\tvar x = 2 * near / ( right - left );\n\t\tvar y = 2 * near / ( top - bottom );\n\n\t\tvar a = ( right + left ) / ( right - left );\n\t\tvar b = ( top + bottom ) / ( top - bottom );\n\t\tvar c = - ( far + near ) / ( far - near );\n\t\tvar d = - 2 * far * near / ( far - near );\n\n\t\tte[0] = x;\tte[4] = 0;\tte[8] = a;\tte[12] = 0;\n\t\tte[1] = 0;\tte[5] = y;\tte[9] = b;\tte[13] = 0;\n\t\tte[2] = 0;\tte[6] = 0;\tte[10] = c;\tte[14] = d;\n\t\tte[3] = 0;\tte[7] = 0;\tte[11] = - 1;\tte[15] = 0;\n\n\t\treturn this;\n\n\t},\n\n\tmakePerspective: function ( fov, aspect, near, far ) {\n\n\t\tvar ymax = near * Math.tan( THREE.Math.degToRad( fov * 0.5 ) );\n\t\tvar ymin = - ymax;\n\t\tvar xmin = ymin * aspect;\n\t\tvar xmax = ymax * aspect;\n\n\t\treturn this.makeFrustum( xmin, xmax, ymin, ymax, near, far );\n\n\t},\n\n\tmakeOrthographic: function ( left, right, top, bottom, near, far ) {\n\n\t\tvar te = this.elements;\n\t\tvar w = right - left;\n\t\tvar h = top - bottom;\n\t\tvar p = far - near;\n\n\t\tvar x = ( right + left ) / w;\n\t\tvar y = ( top + bottom ) / h;\n\t\tvar z = ( far + near ) / p;\n\n\t\tte[0] = 2 / w;\tte[4] = 0;\tte[8] = 0;\tte[12] = -x;\n\t\tte[1] = 0;\tte[5] = 2 / h;\tte[9] = 0;\tte[13] = -y;\n\t\tte[2] = 0;\tte[6] = 0;\tte[10] = -2/p;\tte[14] = -z;\n\t\tte[3] = 0;\tte[7] = 0;\tte[11] = 0;\tte[15] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tthis.elements.set( array );\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function () {\n\n\t\tvar te = this.elements;\n\n\t\treturn [\n\t\t\tte[ 0 ], te[ 1 ], te[ 2 ], te[ 3 ],\n\t\t\tte[ 4 ], te[ 5 ], te[ 6 ], te[ 7 ],\n\t\t\tte[ 8 ], te[ 9 ], te[ 10 ], te[ 11 ],\n\t\t\tte[ 12 ], te[ 13 ], te[ 14 ], te[ 15 ]\n\t\t];\n\n\t},\n\n\tclone: function () {\n\n\t\tvar te = this.elements;\n\n\t\treturn new THREE.Matrix4(\n\n\t\t\tte[0], te[4], te[8], te[12],\n\t\t\tte[1], te[5], te[9], te[13],\n\t\t\tte[2], te[6], te[10], te[14],\n\t\t\tte[3], te[7], te[11], te[15]\n\n\t\t);\n\n\t}\n\n};\n\n/**\n * @author bhouston / http://exocortex.com\n */\n\nTHREE.Ray = function ( origin, direction ) {\n\n\tthis.origin = ( origin !== undefined ) ? origin : new THREE.Vector3();\n\tthis.direction = ( direction !== undefined ) ? direction : new THREE.Vector3();\n\n};\n\nTHREE.Ray.prototype = {\n\n\tconstructor: THREE.Ray,\n\n\tset: function ( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t},\n\n\tat: function ( t, optionalTarget ) {\n\n\t\tvar result = optionalTarget || new THREE.Vector3();\n\n\t\treturn result.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t},\n\n\trecast: function () {\n\n\t\tvar v1 = new THREE.Vector3();\n\n\t\treturn function ( t ) {\n\n\t\t\tthis.origin.copy( this.at( t, v1 ) );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclosestPointToPoint: function ( point, optionalTarget ) {\n\n\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\tresult.subVectors( point, this.origin );\n\t\tvar directionDistance = result.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn result.copy( this.origin );\n\n\t\t}\n\n\t\treturn result.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t},\n\n\tdistanceToPoint: function () {\n\n\t\tvar v1 = new THREE.Vector3();\n\n\t\treturn function ( point ) {\n\n\t\t\tvar directionDistance = v1.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t\t// point behind the ray\n\n\t\t\tif ( directionDistance < 0 ) {\n\n\t\t\t\treturn this.origin.distanceTo( point );\n\n\t\t\t}\n\n\t\t\tv1.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\t\treturn v1.distanceTo( point );\n\n\t\t};\n\n\t}(),\n\n\tdistanceSqToSegment: function( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t// from http://www.geometrictools.com/LibMathematics/Distance/Wm5DistRay3Segment3.cpp\n\t\t// It returns the min distance between the ray and the segment\n\t\t// defined by v0 and v1\n\t\t// It can also set two optional targets :\n\t\t// - The closest point on the ray\n\t\t// - The closest point on the segment\n\n\t\tvar segCenter = v0.clone().add( v1 ).multiplyScalar( 0.5 );\n\t\tvar segDir = v1.clone().sub( v0 ).normalize();\n\t\tvar segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\tvar diff = this.origin.clone().sub( segCenter );\n\t\tvar a01 = - this.direction.dot( segDir );\n\t\tvar b0 = diff.dot( this.direction );\n\t\tvar b1 = - diff.dot( segDir );\n\t\tvar c = diff.lengthSq();\n\t\tvar det = Math.abs( 1 - a01 * a01 );\n\t\tvar s0, s1, sqrDist, extDet;\n\n\t\tif ( det >= 0 ) {\n\n\t\t\t// The ray and segment are not parallel.\n\n\t\t\ts0 = a01 * b1 - b0;\n\t\t\ts1 = a01 * b0 - b1;\n\t\t\textDet = segExtent * det;\n\n\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\tvar invDet = 1 / det;\n\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 5\n\n\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0) );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( s1 <= - extDet) {\n\n\t\t\t\t\t// region 4\n\n\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t// region 3\n\n\t\t\t\t\ts0 = 0;\n\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 2\n\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Ray and segment are parallel.\n\n\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t}\n\n\t\tif ( optionalPointOnRay ) {\n\n\t\t\toptionalPointOnRay.copy( this.direction.clone().multiplyScalar( s0 ).add( this.origin ) );\n\n\t\t}\n\n\t\tif ( optionalPointOnSegment ) {\n\n\t\t\toptionalPointOnSegment.copy( segDir.clone().multiplyScalar( s1 ).add( segCenter ) );\n\n\t\t}\n\n\t\treturn sqrDist;\n\n\t},\n\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) <= sphere.radius;\n\n\t},\n\n\tisIntersectionPlane: function ( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tvar distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t},\n\n\tdistanceToPlane: function ( plane ) {\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\t\tif ( denominator == 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif( plane.distanceToPoint( this.origin ) == 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t :  null;\n\n\t},\n\n\tintersectPlane: function ( plane, optionalTarget ) {\n\n\t\tvar t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this.at( t, optionalTarget );\n\n\t},\n\n\tisIntersectionBox: function () {\n\t\t\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function ( box ) {\n\n\t\t\treturn this.intersectBox( box, v ) !== null;\n\n\t\t}\n\n\t}(),\n\n\tintersectBox: function ( box , optionalTarget ) {\n\n\t\t// http://www.scratchapixel.com/lessons/3d-basic-lessons/lesson-7-intersecting-simple-shapes/ray-box-intersection/\n\n\t\tvar tmin,tmax,tymin,tymax,tzmin,tzmax;\n\n\t\tvar invdirx = 1/this.direction.x,\n\t\t\tinvdiry = 1/this.direction.y,\n\t\t\tinvdirz = 1/this.direction.z;\n\n\t\tvar origin = this.origin;\n\n\t\tif (invdirx >= 0) {\n\t\t\t\t\n\t\t\ttmin = (box.min.x - origin.x) * invdirx;\n\t\t\ttmax = (box.max.x - origin.x) * invdirx;\n\n\t\t} else { \n\n\t\t\ttmin = (box.max.x - origin.x) * invdirx;\n\t\t\ttmax = (box.min.x - origin.x) * invdirx;\n\t\t}\t\t\t\n\n\t\tif (invdiry >= 0) {\n\t\t\n\t\t\ttymin = (box.min.y - origin.y) * invdiry;\n\t\t\ttymax = (box.max.y - origin.y) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = (box.max.y - origin.y) * invdiry;\n\t\t\ttymax = (box.min.y - origin.y) * invdiry;\n\t\t}\n\n\t\tif ((tmin > tymax) || (tymin > tmax)) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\t\t\n\t\tif (tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif (tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif (invdirz >= 0) {\n\t\t\n\t\t\ttzmin = (box.min.z - origin.z) * invdirz;\n\t\t\ttzmax = (box.max.z - origin.z) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = (box.max.z - origin.z) * invdirz;\n\t\t\ttzmax = (box.min.z - origin.z) * invdirz;\n\t\t}\n\n\t\tif ((tmin > tzmax) || (tzmin > tmax)) return null;\n\n\t\tif (tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif (tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, optionalTarget );\n\n\t},\n\n\tintersectTriangle: function() {\n\n\t\t// Compute the offset origin, edges, and normal.\n\t\tvar diff = new THREE.Vector3();\n\t\tvar edge1 = new THREE.Vector3();\n\t\tvar edge2 = new THREE.Vector3();\n\t\tvar normal = new THREE.Vector3();\n\n\t\treturn function ( a, b, c, backfaceCulling, optionalTarget ) {\n\n\t\t\t// from http://www.geometrictools.com/LibMathematics/Intersection/Wm5IntrRay3Triangle3.cpp\n\n\t\t\tedge1.subVectors( b, a );\n\t\t\tedge2.subVectors( c, a );\n\t\t\tnormal.crossVectors( edge1, edge2 );\n\n\t\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\t\tvar DdN = this.direction.dot( normal );\n\t\t\tvar sign;\n\n\t\t\tif ( DdN > 0 ) {\n\n\t\t\t\tif ( backfaceCulling ) return null;\n\t\t\t\tsign = 1;\n\n\t\t\t} else if ( DdN < 0 ) {\n\n\t\t\t\tsign = - 1;\n\t\t\t\tDdN = - DdN;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tdiff.subVectors( this.origin, a );\n\t\t\tvar DdQxE2 = sign * this.direction.dot( edge2.crossVectors( diff, edge2 ) );\n\n\t\t\t// b1 < 0, no intersection\n\t\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tvar DdE1xQ = sign * this.direction.dot( edge1.cross( diff ) );\n\n\t\t\t// b2 < 0, no intersection\n\t\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// b1+b2 > 1, no intersection\n\t\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// Line intersects triangle, check if ray does.\n\t\t\tvar QdN = - sign * diff.dot( normal );\n\n\t\t\t// t < 0, no intersection\n\t\t\tif ( QdN < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// Ray intersects triangle.\n\t\t\treturn this.at( QdN / DdN, optionalTarget );\n\t\n\t\t}\n\t\n\t}(),\n\n\tapplyMatrix4: function ( matrix4 ) {\n\n\t\tthis.direction.add( this.origin ).applyMatrix4( matrix4 );\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.sub( this.origin );\n\t\tthis.direction.normalize();\n\n\t\treturn this;\n\t},\n\n\tequals: function ( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new THREE.Ray().copy( this );\n\n\t}\n\n};\n\n/**\n * @author bhouston / http://exocortex.com\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.Sphere = function ( center, radius ) {\n\n\tthis.center = ( center !== undefined ) ? center : new THREE.Vector3();\n\tthis.radius = ( radius !== undefined ) ? radius : 0;\n\n};\n\nTHREE.Sphere.prototype = {\n\n\tconstructor: THREE.Sphere,\n\n\tset: function ( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\t},\n\n\n\tsetFromPoints: function () {\n\n\t\tvar box = new THREE.Box3();\n\n\t\treturn function ( points, optionalCenter )  {\n\n\t\t\tvar center = this.center;\n\n\t\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\t\tcenter.copy( optionalCenter );\n\n\t\t\t} else {\n\n\t\t\t\tbox.setFromPoints( points ).center( center );\n\n\t\t\t}\n\n\t\t\tvar maxRadiusSq = 0;\n\n\t\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t\t}\n\n\t\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\treturn this;\t\t\t\n \t\t\n \t\t};\n\n\t}(),\n\n\tcopy: function ( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t},\n\n\tempty: function () {\n\n\t\treturn ( this.radius <= 0 );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t},\n\n\tclampPoint: function ( point, optionalTarget ) {\n\n\t\tvar deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\tresult.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\tresult.sub( this.center ).normalize();\n\t\t\tresult.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\tgetBoundingBox: function ( optionalTarget ) {\n\n\t\tvar box = optionalTarget || new THREE.Box3();\n\n\t\tbox.set( this.center, this.center );\n\t\tbox.expandByScalar( this.radius );\n\n\t\treturn box;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new THREE.Sphere().copy( this );\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / http://exocortex.com\n */\n\nTHREE.Frustum = function ( p0, p1, p2, p3, p4, p5 ) {\n\n\tthis.planes = [\n\n\t\t( p0 !== undefined ) ? p0 : new THREE.Plane(),\n\t\t( p1 !== undefined ) ? p1 : new THREE.Plane(),\n\t\t( p2 !== undefined ) ? p2 : new THREE.Plane(),\n\t\t( p3 !== undefined ) ? p3 : new THREE.Plane(),\n\t\t( p4 !== undefined ) ? p4 : new THREE.Plane(),\n\t\t( p5 !== undefined ) ? p5 : new THREE.Plane()\n\n\t];\n\n};\n\nTHREE.Frustum.prototype = {\n\n\tconstructor: THREE.Frustum,\n\n\tset: function ( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tvar planes = this.planes;\n\n\t\tplanes[0].copy( p0 );\n\t\tplanes[1].copy( p1 );\n\t\tplanes[2].copy( p2 );\n\t\tplanes[3].copy( p3 );\n\t\tplanes[4].copy( p4 );\n\t\tplanes[5].copy( p5 );\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( frustum ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor( var i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[i].copy( frustum.planes[i] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrix: function ( m ) {\n\n\t\tvar planes = this.planes;\n\t\tvar me = m.elements;\n\t\tvar me0 = me[0], me1 = me[1], me2 = me[2], me3 = me[3];\n\t\tvar me4 = me[4], me5 = me[5], me6 = me[6], me7 = me[7];\n\t\tvar me8 = me[8], me9 = me[9], me10 = me[10], me11 = me[11];\n\t\tvar me12 = me[12], me13 = me[13], me14 = me[14], me15 = me[15];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\tintersectsObject: function () {\n\n\t\tvar sphere = new THREE.Sphere();\n\n\t\treturn function ( object ) {\n\n\t\t\tvar geometry = object.geometry;\n\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( object.matrixWorld );\n\n\t\t\treturn this.intersectsSphere( sphere );\n\n\t\t};\n\n\t}(),\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar planes = this.planes;\n\t\tvar center = sphere.center;\n\t\tvar negRadius = -sphere.radius;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tvar distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tintersectsBox : function() {\n\n\t\tvar p1 = new THREE.Vector3(),\n\t\t\tp2 = new THREE.Vector3();\n\n\t\treturn function( box ) {\n\n\t\t\tvar planes = this.planes;\n\t\t\t\n\t\t\tfor ( var i = 0; i < 6 ; i ++ ) {\n\t\t\t\n\t\t\t\tvar plane = planes[i];\n\t\t\t\t\n\t\t\t\tp1.x = plane.normal.x > 0 ? box.min.x : box.max.x;\n\t\t\t\tp2.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t\tp1.y = plane.normal.y > 0 ? box.min.y : box.max.y;\n\t\t\t\tp2.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t\tp1.z = plane.normal.z > 0 ? box.min.z : box.max.z;\n\t\t\t\tp2.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\t\tvar d1 = plane.distanceToPoint( p1 );\n\t\t\t\tvar d2 = plane.distanceToPoint( p2 );\n\t\t\t\t\n\t\t\t\t// if both outside plane, no intersection\n\n\t\t\t\tif ( d1 < 0 && d2 < 0 ) {\n\t\t\t\t\t\n\t\t\t\t\treturn false;\n\t\t\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t};\n\n\t}(),\n\n\n\tcontainsPoint: function ( point ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new THREE.Frustum().copy( this );\n\n\t}\n\n};\n\n/**\n * @author bhouston / http://exocortex.com\n */\n\nTHREE.Plane = function ( normal, constant ) {\n\n\tthis.normal = ( normal !== undefined ) ? normal : new THREE.Vector3( 1, 0, 0 );\n\tthis.constant = ( constant !== undefined ) ? constant : 0;\n\n};\n\nTHREE.Plane.prototype = {\n\n\tconstructor: THREE.Plane,\n\n\tset: function ( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponents: function ( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromNormalAndCoplanarPoint: function ( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\t// must be this.normal, not normal, as this.normal is normalized\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCoplanarPoints: function() {\n\n\t\tvar v1 = new THREE.Vector3();\n\t\tvar v2 = new THREE.Vector3();\n\n\t\treturn function ( a, b, c ) {\n\n\t\t\tvar normal = v1.subVectors( c, b ).cross( v2.subVectors( a, b ) ).normalize();\n\n\t\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\n\tcopy: function ( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t},\n\n\tnormalize: function () {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tvar inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.constant *= -1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t},\n\n\tdistanceToSphere: function ( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t},\n\n\tprojectPoint: function ( point, optionalTarget ) {\n\n\t\treturn this.orthoPoint( point, optionalTarget ).sub( point ).negate();\n\n\t},\n\n\torthoPoint: function ( point, optionalTarget ) {\n\n\t\tvar perpendicularMagnitude = this.distanceToPoint( point );\n\n\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\treturn result.copy( this.normal ).multiplyScalar( perpendicularMagnitude );\n\n\t},\n\n\tisIntersectionLine: function ( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tvar startSign = this.distanceToPoint( line.start );\n\t\tvar endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t},\n\n\tintersectLine: function() {\n\n\t\tvar v1 = new THREE.Vector3();\n\n\t\treturn function ( line, optionalTarget ) {\n\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\n\n\t\t\tvar direction = line.delta( v1 );\n\n\t\t\tvar denominator = this.normal.dot( direction );\n\n\t\t\tif ( denominator == 0 ) {\n\n\t\t\t\t// line is coplanar, return origin\n\t\t\t\tif( this.distanceToPoint( line.start ) == 0 ) {\n\n\t\t\t\t\treturn result.copy( line.start );\n\n\t\t\t\t}\n\n\t\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\t\treturn undefined;\n\n\t\t\t}\n\n\t\t\tvar t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\t\tif( t < 0 || t > 1 ) {\n\n\t\t\t\treturn undefined;\n\n\t\t\t}\n\n\t\t\treturn result.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t\t};\n\n\t}(),\n\n\n\tcoplanarPoint: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\treturn result.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t},\n\n\tapplyMatrix4: function() {\n\n\t\tvar v1 = new THREE.Vector3();\n\t\tvar v2 = new THREE.Vector3();\n\t\tvar m1 = new THREE.Matrix3();\n\n\t\treturn function ( matrix, optionalNormalMatrix ) {\n\n\t\t\t// compute new normal based on theory here:\n\t\t\t// http://www.songho.ca/opengl/gl_normaltransform.html\n\t\t\tvar normalMatrix = optionalNormalMatrix || m1.getNormalMatrix( matrix );\n\t\t\tvar newNormal = v1.copy( this.normal ).applyMatrix3( normalMatrix );\n\t\t\t\n\t\t\tvar newCoplanarPoint = this.coplanarPoint( v2 );\n\t\t\tnewCoplanarPoint.applyMatrix4( matrix );\n\n\t\t\tthis.setFromNormalAndCoplanarPoint( newNormal, newCoplanarPoint );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.constant = this.constant - offset.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant == this.constant );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new THREE.Plane().copy( this );\n\n\t}\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.Math = {\n\n\tPI2: Math.PI * 2,\n\n\tgenerateUUID: function () {\n\n\t\t// http://www.broofa.com/Tools/Math.uuid.htm\n\t\t\n\t\tvar chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');\n\t\tvar uuid = new Array(36);\n\t\tvar rnd = 0, r;\n\n\t\treturn function () {\n\n\t\t\tfor ( var i = 0; i < 36; i ++ ) {\n\n\t\t\t\tif ( i == 8 || i == 13 || i == 18 || i == 23 ) {\n\t\t\t\n\t\t\t\t\tuuid[ i ] = '-';\n\t\t\t\n\t\t\t\t} else if ( i == 14 ) {\n\t\t\t\n\t\t\t\t\tuuid[ i ] = '4';\n\t\t\t\n\t\t\t\t} else {\n\t\t\t\n\t\t\t\t\tif (rnd <= 0x02) rnd = 0x2000000 + (Math.random()*0x1000000)|0;\n\t\t\t\t\tr = rnd & 0xf;\n\t\t\t\t\trnd = rnd >> 4;\n\t\t\t\t\tuuid[i] = chars[(i == 19) ? (r & 0x3) | 0x8 : r];\n\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn uuid.join('');\n\n\t\t};\n\n\t}(),\n\n\t// Clamp value to range <a, b>\n\n\tclamp: function ( x, a, b ) {\n\n\t\treturn ( x < a ) ? a : ( ( x > b ) ? b : x );\n\n\t},\n\n\t// Clamp value to range <a, inf)\n\n\tclampBottom: function ( x, a ) {\n\n\t\treturn x < a ? a : x;\n\n\t},\n\n\t// Linear mapping from range <a1, a2> to range <b1, b2>\n\n\tmapLinear: function ( x, a1, a2, b1, b2 ) {\n\n\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n\t},\n\n\t// http://en.wikipedia.org/wiki/Smoothstep\n\n\tsmoothstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min )/( max - min );\n\n\t\treturn x*x*(3 - 2*x);\n\n\t},\n\n\tsmootherstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min )/( max - min );\n\n\t\treturn x*x*x*(x*(x*6 - 15) + 10);\n\n\t},\n\n\t// Random float from <0, 1> with 16 bits of randomness\n\t// (standard Math.random() creates repetitive patterns when applied over larger space)\n\n\trandom16: function () {\n\n\t\treturn ( 65280 * Math.random() + 255 * Math.random() ) / 65535;\n\n\t},\n\n\t// Random integer from <low, high> interval\n\n\trandInt: function ( low, high ) {\n\n\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n\t},\n\n\t// Random float from <low, high> interval\n\n\trandFloat: function ( low, high ) {\n\n\t\treturn low + Math.random() * ( high - low );\n\n\t},\n\n\t// Random float from <-range/2, range/2> interval\n\n\trandFloatSpread: function ( range ) {\n\n\t\treturn range * ( 0.5 - Math.random() );\n\n\t},\n\n\tsign: function ( x ) {\n\n\t\treturn ( x < 0 ) ? -1 : ( ( x > 0 ) ? 1 : 0 );\n\n\t},\n\n\tdegToRad: function() {\n\n\t\tvar degreeToRadiansFactor = Math.PI / 180;\n\n\t\treturn function ( degrees ) {\n\n\t\t\treturn degrees * degreeToRadiansFactor;\n\n\t\t};\n\n\t}(),\n\n\tradToDeg: function() {\n\n\t\tvar radianToDegreesFactor = 180 / Math.PI;\n\n\t\treturn function ( radians ) {\n\n\t\t\treturn radians * radianToDegreesFactor;\n\n\t\t};\n\n\t}()\n\n};\n\n/**\n * Spline from Tween.js, slightly optimized (and trashed)\n * http://sole.github.com/tween.js/examples/05_spline.html\n *\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.Spline = function ( points ) {\n\n\tthis.points = points;\n\n\tvar c = [], v3 = { x: 0, y: 0, z: 0 },\n\tpoint, intPoint, weight, w2, w3,\n\tpa, pb, pc, pd;\n\n\tthis.initFromArray = function( a ) {\n\n\t\tthis.points = [];\n\n\t\tfor ( var i = 0; i < a.length; i++ ) {\n\n\t\t\tthis.points[ i ] = { x: a[ i ][ 0 ], y: a[ i ][ 1 ], z: a[ i ][ 2 ] };\n\n\t\t}\n\n\t};\n\n\tthis.getPoint = function ( k ) {\n\n\t\tpoint = ( this.points.length - 1 ) * k;\n\t\tintPoint = Math.floor( point );\n\t\tweight = point - intPoint;\n\n\t\tc[ 0 ] = intPoint === 0 ? intPoint : intPoint - 1;\n\t\tc[ 1 ] = intPoint;\n\t\tc[ 2 ] = intPoint  > this.points.length - 2 ? this.points.length - 1 : intPoint + 1;\n\t\tc[ 3 ] = intPoint  > this.points.length - 3 ? this.points.length - 1 : intPoint + 2;\n\n\t\tpa = this.points[ c[ 0 ] ];\n\t\tpb = this.points[ c[ 1 ] ];\n\t\tpc = this.points[ c[ 2 ] ];\n\t\tpd = this.points[ c[ 3 ] ];\n\n\t\tw2 = weight * weight;\n\t\tw3 = weight * w2;\n\n\t\tv3.x = interpolate( pa.x, pb.x, pc.x, pd.x, weight, w2, w3 );\n\t\tv3.y = interpolate( pa.y, pb.y, pc.y, pd.y, weight, w2, w3 );\n\t\tv3.z = interpolate( pa.z, pb.z, pc.z, pd.z, weight, w2, w3 );\n\n\t\treturn v3;\n\n\t};\n\n\tthis.getControlPointsArray = function () {\n\n\t\tvar i, p, l = this.points.length,\n\t\t\tcoords = [];\n\n\t\tfor ( i = 0; i < l; i ++ ) {\n\n\t\t\tp = this.points[ i ];\n\t\t\tcoords[ i ] = [ p.x, p.y, p.z ];\n\n\t\t}\n\n\t\treturn coords;\n\n\t};\n\n\t// approximate length by summing linear segments\n\n\tthis.getLength = function ( nSubDivisions ) {\n\n\t\tvar i, index, nSamples, position,\n\t\t\tpoint = 0, intPoint = 0, oldIntPoint = 0,\n\t\t\toldPosition = new THREE.Vector3(),\n\t\t\ttmpVec = new THREE.Vector3(),\n\t\t\tchunkLengths = [],\n\t\t\ttotalLength = 0;\n\n\t\t// first point has 0 length\n\n\t\tchunkLengths[ 0 ] = 0;\n\n\t\tif ( !nSubDivisions ) nSubDivisions = 100;\n\n\t\tnSamples = this.points.length * nSubDivisions;\n\n\t\toldPosition.copy( this.points[ 0 ] );\n\n\t\tfor ( i = 1; i < nSamples; i ++ ) {\n\n\t\t\tindex = i / nSamples;\n\n\t\t\tposition = this.getPoint( index );\n\t\t\ttmpVec.copy( position );\n\n\t\t\ttotalLength += tmpVec.distanceTo( oldPosition );\n\n\t\t\toldPosition.copy( position );\n\n\t\t\tpoint = ( this.points.length - 1 ) * index;\n\t\t\tintPoint = Math.floor( point );\n\n\t\t\tif ( intPoint != oldIntPoint ) {\n\n\t\t\t\tchunkLengths[ intPoint ] = totalLength;\n\t\t\t\toldIntPoint = intPoint;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// last point ends with total length\n\n\t\tchunkLengths[ chunkLengths.length ] = totalLength;\n\n\t\treturn { chunks: chunkLengths, total: totalLength };\n\n\t};\n\n\tthis.reparametrizeByArcLength = function ( samplingCoef ) {\n\n\t\tvar i, j,\n\t\t\tindex, indexCurrent, indexNext,\n\t\t\tlinearDistance, realDistance,\n\t\t\tsampling, position,\n\t\t\tnewpoints = [],\n\t\t\ttmpVec = new THREE.Vector3(),\n\t\t\tsl = this.getLength();\n\n\t\tnewpoints.push( tmpVec.copy( this.points[ 0 ] ).clone() );\n\n\t\tfor ( i = 1; i < this.points.length; i++ ) {\n\n\t\t\t//tmpVec.copy( this.points[ i - 1 ] );\n\t\t\t//linearDistance = tmpVec.distanceTo( this.points[ i ] );\n\n\t\t\trealDistance = sl.chunks[ i ] - sl.chunks[ i - 1 ];\n\n\t\t\tsampling = Math.ceil( samplingCoef * realDistance / sl.total );\n\n\t\t\tindexCurrent = ( i - 1 ) / ( this.points.length - 1 );\n\t\t\tindexNext = i / ( this.points.length - 1 );\n\n\t\t\tfor ( j = 1; j < sampling - 1; j++ ) {\n\n\t\t\t\tindex = indexCurrent + j * ( 1 / sampling ) * ( indexNext - indexCurrent );\n\n\t\t\t\tposition = this.getPoint( index );\n\t\t\t\tnewpoints.push( tmpVec.copy( position ).clone() );\n\n\t\t\t}\n\n\t\t\tnewpoints.push( tmpVec.copy( this.points[ i ] ).clone() );\n\n\t\t}\n\n\t\tthis.points = newpoints;\n\n\t};\n\n\t// Catmull-Rom\n\n\tfunction interpolate( p0, p1, p2, p3, t, t2, t3 ) {\n\n\t\tvar v0 = ( p2 - p0 ) * 0.5,\n\t\t\tv1 = ( p3 - p1 ) * 0.5;\n\n\t\treturn ( 2 * ( p1 - p2 ) + v0 + v1 ) * t3 + ( - 3 * ( p1 - p2 ) - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n\t};\n\n};\n\n/**\n * @author bhouston / http://exocortex.com\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.Triangle = function ( a, b, c ) {\n\n\tthis.a = ( a !== undefined ) ? a : new THREE.Vector3();\n\tthis.b = ( b !== undefined ) ? b : new THREE.Vector3();\n\tthis.c = ( c !== undefined ) ? c : new THREE.Vector3();\n\n};\n\nTHREE.Triangle.normal = function() {\n\n\tvar v0 = new THREE.Vector3();\n\n\treturn function ( a, b, c, optionalTarget ) {\n\n\t\tvar result = optionalTarget || new THREE.Vector3();\n\n\t\tresult.subVectors( c, b );\n\t\tv0.subVectors( a, b );\n\t\tresult.cross( v0 );\n\n\t\tvar resultLengthSq = result.lengthSq();\n\t\tif( resultLengthSq > 0 ) {\n\n\t\t\treturn result.multiplyScalar( 1 / Math.sqrt( resultLengthSq ) );\n\n\t\t}\n\n\t\treturn result.set( 0, 0, 0 );\n\n\t};\n\n}();\n\n// static/instance method to calculate barycoordinates\n// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\nTHREE.Triangle.barycoordFromPoint = function() {\n\n\tvar v0 = new THREE.Vector3();\n\tvar v1 = new THREE.Vector3();\n\tvar v2 = new THREE.Vector3();\n\n\treturn function ( point, a, b, c, optionalTarget ) {\n\n\t\tv0.subVectors( c, a );\n\t\tv1.subVectors( b, a );\n\t\tv2.subVectors( point, a );\n\n\t\tvar dot00 = v0.dot( v0 );\n\t\tvar dot01 = v0.dot( v1 );\n\t\tvar dot02 = v0.dot( v2 );\n\t\tvar dot11 = v1.dot( v1 );\n\t\tvar dot12 = v1.dot( v2 );\n\n\t\tvar denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\tvar result = optionalTarget || new THREE.Vector3();\n\n\t\t// colinear or singular triangle\n\t\tif( denom == 0 ) {\n\t\t\t// arbitrary location outside of triangle?\n\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\treturn result.set( -2, -1, -1 );\n\t\t}\n\n\t\tvar invDenom = 1 / denom;\n\t\tvar u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\tvar v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t// barycoordinates must always sum to 1\n\t\treturn result.set( 1 - u - v, v, u );\n\n\t};\n\n}();\n\nTHREE.Triangle.containsPoint = function() {\n\n\tvar v1 = new THREE.Vector3();\n\n\treturn function ( point, a, b, c ) {\n\n\t\tvar result = THREE.Triangle.barycoordFromPoint( point, a, b, c, v1 );\n\n\t\treturn ( result.x >= 0 ) && ( result.y >= 0 ) && ( ( result.x + result.y ) <= 1 );\n\n\t};\n\n}();\n\nTHREE.Triangle.prototype = {\n\n\tconstructor: THREE.Triangle,\n\n\tset: function ( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPointsAndIndices: function ( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[i0] );\n\t\tthis.b.copy( points[i1] );\n\t\tthis.c.copy( points[i2] );\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t},\n\n\tarea: function() {\n\n\t\tvar v0 = new THREE.Vector3();\n\t\tvar v1 = new THREE.Vector3();\n\n\t\treturn function () {\n\n\t\t\tv0.subVectors( this.c, this.b );\n\t\t\tv1.subVectors( this.a, this.b );\n\n\t\t\treturn v0.cross( v1 ).length() * 0.5;\n\n\t\t};\n\n\t}(),\n\n\tmidpoint: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\treturn result.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t},\n\n\tnormal: function ( optionalTarget ) {\n\n\t\treturn THREE.Triangle.normal( this.a, this.b, this.c, optionalTarget );\n\n\t},\n\n\tplane: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new THREE.Plane();\n\n\t\treturn result.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t},\n\n\tbarycoordFromPoint: function ( point, optionalTarget ) {\n\n\t\treturn THREE.Triangle.barycoordFromPoint( point, this.a, this.b, this.c, optionalTarget );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn THREE.Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t},\n\n\tequals: function ( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new THREE.Triangle().copy( this );\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.Vertex = function ( v ) {\n\n\tconsole.warn( 'THREE.Vertex has been DEPRECATED. Use THREE.Vector3 instead.')\n\treturn v;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.UV = function ( u, v ) {\n\n\tconsole.warn( 'THREE.UV has been DEPRECATED. Use THREE.Vector2 instead.')\n\treturn new THREE.Vector2( u, v );\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.Clock = function ( autoStart ) {\n\n\tthis.autoStart = ( autoStart !== undefined ) ? autoStart : true;\n\n\tthis.startTime = 0;\n\tthis.oldTime = 0;\n\tthis.elapsedTime = 0;\n\n\tthis.running = false;\n\n};\n\nTHREE.Clock.prototype = {\n\n\tconstructor: THREE.Clock,\n\n\tstart: function () {\n\n\t\tthis.startTime = self.performance !== undefined && self.performance.now !== undefined\n\t\t\t\t\t? self.performance.now()\n\t\t\t\t\t: Date.now();\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.running = true;\n\t},\n\n\tstop: function () {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\n\t},\n\n\tgetElapsedTime: function () {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t},\n\n\tgetDelta: function () {\n\n\t\tvar diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tvar newTime = self.performance !== undefined && self.performance.now !== undefined\n\t\t\t\t\t? self.performance.now()\n\t\t\t\t\t: Date.now();\n\n\t\t\tdiff = 0.001 * ( newTime - this.oldTime );\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n};\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nTHREE.EventDispatcher = function () {}\n\nTHREE.EventDispatcher.prototype = {\n\n\tconstructor: THREE.EventDispatcher,\n\n\tapply: function ( object ) {\n\n\t\tobject.addEventListener = THREE.EventDispatcher.prototype.addEventListener;\n\t\tobject.hasEventListener = THREE.EventDispatcher.prototype.hasEventListener;\n\t\tobject.removeEventListener = THREE.EventDispatcher.prototype.removeEventListener;\n\t\tobject.dispatchEvent = THREE.EventDispatcher.prototype.dispatchEvent;\n\n\t},\n\n\taddEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tvar listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t},\n\n\thasEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tvar listeners = this._listeners;\n\n\t\tif ( listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t},\n\n\tremoveEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tvar index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tdispatchEvent: function () {\n\n\t\tvar array = [];\n\n\t\treturn function ( event ) {\n\n\t\t\tif ( this._listeners === undefined ) return;\n\n\t\t\tvar listeners = this._listeners;\n\t\t\tvar listenerArray = listeners[ event.type ];\n\n\t\t\tif ( listenerArray !== undefined ) {\n\n\t\t\t\tevent.target = this;\n\n\t\t\t\tvar length = listenerArray.length;\n\n\t\t\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\t\t\tarray[ i ] = listenerArray[ i ];\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}()\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author bhouston / http://exocortex.com/\n * @author stephomi / http://stephaneginier.com/\n */\n\n( function ( THREE ) {\n\n\tTHREE.Raycaster = function ( origin, direction, near, far ) {\n\n\t\tthis.ray = new THREE.Ray( origin, direction );\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.near = near || 0;\n\t\tthis.far = far || Infinity;\n\n\t};\n\n\tvar sphere = new THREE.Sphere();\n\tvar localRay = new THREE.Ray();\n\tvar facePlane = new THREE.Plane();\n\tvar intersectPoint = new THREE.Vector3();\n\tvar matrixPosition = new THREE.Vector3();\n\n\tvar inverseMatrix = new THREE.Matrix4();\n\n\tvar descSort = function ( a, b ) {\n\n\t\treturn a.distance - b.distance;\n\n\t};\n\n\tvar vA = new THREE.Vector3();\n\tvar vB = new THREE.Vector3();\n\tvar vC = new THREE.Vector3();\n\n\tvar intersectObject = function ( object, raycaster, intersects ) {\n\n\t\tif ( object instanceof THREE.Sprite ) {\n\n\t\t\tmatrixPosition.setFromMatrixPosition( object.matrixWorld );\n\t\t\tvar distance = raycaster.ray.distanceToPoint( matrixPosition );\n\n\t\t\tif ( distance > object.scale.x ) {\n\n\t\t\t\treturn intersects;\n\n\t\t\t}\n\n\t\t\tintersects.push( {\n\n\t\t\t\tdistance: distance,\n\t\t\t\tpoint: object.position,\n\t\t\t\tface: null,\n\t\t\t\tobject: object\n\n\t\t\t} );\n\n\t\t} else if ( object instanceof THREE.ParticleSystem ) {\n\n\t\t\t// ATTENTION! This entire section (else if block) has been\n\t\t\t// added by Georg\n\n\t\t\tvar geometry = object.geometry;\n\t\t\tif ( geometry instanceof THREE.BufferGeometry ) {\n\n\t\t\t\tvar positionArray = geometry.attributes.position.array;\n\t\t\t\tvar numVertices   = geometry.attributes.position.numItems;\n\t\t\t\tvar tempVector    = new THREE.Vector3(0, 0, 0)\n\n\t\t\t\tfor (var i = 0; i < numVertices; i++) {\n\n\t\t\t\t\tvar pos = [positionArray[3 * i], positionArray[3 * i + 1],\n\t\t\t\t\t\tpositionArray[3 * i + 2]];\n\t\t\t\t\tif(raycaster.ray.__scalingFactors !== undefined){\n\t\t\t\t\t\t// Apply scaling of entire group\n\t\t\t\t\t\t// (voxel --> nm)\n\t\t\t\t\t\tpos[0] *= raycaster.ray.__scalingFactors[0];\n\t\t\t\t\t\tpos[1] *= raycaster.ray.__scalingFactors[1];\n\t\t\t\t\t\tpos[2] *= raycaster.ray.__scalingFactors[2];\n\t\t\t\t\t}\n\n\t\t\t\t\ttempVector.set( pos[0], pos[1], pos[2] );\n\n\t\t\t\t\tvar distance = raycaster.ray.distanceToPoint( tempVector );\n\n\t\t\t\t\tif(distance < raycaster.ray.threshold){\n\t\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t\tpoint: tempVector,\n\t\t\t\t\t\t\tface: null,\n\t\t\t\t\t\t\tobject: object,\n\t\t\t\t\t\t\tindex: i\n\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else if ( object instanceof THREE.LOD ) {\n\n\t\t\tmatrixPosition.setFromMatrixPosition( object.matrixWorld );\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( matrixPosition );\n\n\t\t\tintersectObject( object.getObjectForDistance( distance ), raycaster, intersects );\n\n\t\t} else if ( object instanceof THREE.Mesh ) {\n\n\t\t\tvar geometry = object.geometry;\n\n\t\t\t// Checking boundingSphere distance to ray\n\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( object.matrixWorld );\n\n\t\t\tif ( raycaster.ray.isIntersectionSphere( sphere ) === false ) {\n\n\t\t\t\treturn intersects;\n\n\t\t\t}\n\n\t\t\t// Check boundingBox before continuing\n\t\t\t\n\t\t\tinverseMatrix.getInverse( object.matrixWorld );  \n\t\t\tlocalRay.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n\t\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\t\tif ( localRay.isIntersectionBox( geometry.boundingBox ) === false )  {\n\n\t\t\t\t\treturn intersects;\n\n\t\t\t\t}\n\n\t\t\t} \n\n\t\t\tif ( geometry instanceof THREE.BufferGeometry ) {\n\n\t\t\t\tvar material = object.material;\n\n\t\t\t\tif ( material === undefined ) return intersects;\n\t\t\t\tif ( geometry.dynamic === false ) return intersects;\n\n\t\t\t\tvar a, b, c;\n\t\t\t\tvar precision = raycaster.precision;\n\n\t\t\t\tif ( geometry.attributes.index !== undefined ) {\n\n\t\t\t\t\tvar offsets = geometry.offsets;\n\t\t\t\t\tvar indices = geometry.attributes.index.array;\n\t\t\t\t\tvar positions = geometry.attributes.position.array;\n\t\t\t\t\tvar offLength = geometry.offsets.length;\n\n\t\t\t\t\tvar fl = geometry.attributes.index.array.length / 3;\n\n\t\t\t\t\tfor ( var oi = 0; oi < offLength; ++oi ) {\n\n\t\t\t\t\t\tvar start = offsets[ oi ].start;\n\t\t\t\t\t\tvar count = offsets[ oi ].count;\n\t\t\t\t\t\tvar index = offsets[ oi ].index;\n\n\t\t\t\t\t\tfor ( var i = start, il = start + count; i < il; i += 3 ) {\n\n\t\t\t\t\t\t\ta = index + indices[ i ];\n\t\t\t\t\t\t\tb = index + indices[ i + 1 ]; \n\t\t\t\t\t\t\tc = index + indices[ i + 2 ];\n\n\t\t\t\t\t\t\tvA.set(\n\t\t\t\t\t\t\t\tpositions[ a * 3 ],\n\t\t\t\t\t\t\t\tpositions[ a * 3 + 1 ],\n\t\t\t\t\t\t\t\tpositions[ a * 3 + 2 ]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tvB.set(\n\t\t\t\t\t\t\t\tpositions[ b * 3 ],\n\t\t\t\t\t\t\t\tpositions[ b * 3 + 1 ],\n\t\t\t\t\t\t\t\tpositions[ b * 3 + 2 ]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tvC.set(\n\t\t\t\t\t\t\t\tpositions[ c * 3 ],\n\t\t\t\t\t\t\t\tpositions[ c * 3 + 1 ],\n\t\t\t\t\t\t\t\tpositions[ c * 3 + 2 ]\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif ( material.side === THREE.BackSide ) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tvar intersectionPoint = localRay.intersectTriangle( vC, vB, vA, true ); \n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tvar intersectionPoint = localRay.intersectTriangle( vA, vB, vC, material.side !== THREE.DoubleSide );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( intersectionPoint === null ) continue;\n\n\t\t\t\t\t\t\tintersectionPoint.applyMatrix4( object.matrixWorld );\n\n\t\t\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectionPoint );\n\n\t\t\t\t\t\t\tif ( distance < precision || distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t\t\tpoint: intersectionPoint,\n\t\t\t\t\t\t\t\tface: null,\n\t\t\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\t\t\tobject: object\n\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tvar offsets = geometry.offsets;\n\t\t\t\t\tvar positions = geometry.attributes.position.array;\n\t\t\t\t\tvar offLength = geometry.offsets.length;\n\n\t\t\t\t\tvar fl = geometry.attributes.position.array.length;\n\n\t\t\t\t\tfor ( var i = 0; i < fl; i += 3 ) {\n\n\t\t\t\t\t\ta = i;\n\t\t\t\t\t\tb = i + 1;\n\t\t\t\t\t\tc = i + 2;\n\n\t\t\t\t\t\tvA.set(\n\t\t\t\t\t\t\tpositions[ a * 3 ],\n\t\t\t\t\t\t\tpositions[ a * 3 + 1 ],\n\t\t\t\t\t\t\tpositions[ a * 3 + 2 ]\n\t\t\t\t\t\t);\n\t\t\t\t\t\tvB.set(\n\t\t\t\t\t\t\tpositions[ b * 3 ],\n\t\t\t\t\t\t\tpositions[ b * 3 + 1 ],\n\t\t\t\t\t\t\tpositions[ b * 3 + 2 ]\n\t\t\t\t\t\t);\n\t\t\t\t\t\tvC.set(\n\t\t\t\t\t\t\tpositions[ c * 3 ],\n\t\t\t\t\t\t\tpositions[ c * 3 + 1 ],\n\t\t\t\t\t\t\tpositions[ c * 3 + 2 ]\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( material.side === THREE.BackSide ) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar intersectionPoint = localRay.intersectTriangle( vC, vB, vA, true ); \n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tvar intersectionPoint = localRay.intersectTriangle( vA, vB, vC, material.side !== THREE.DoubleSide );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( intersectionPoint === null ) continue;\n\n\t\t\t\t\t\tintersectionPoint.applyMatrix4( object.matrixWorld );\n\n\t\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectionPoint );\n\n\t\t\t\t\t\tif ( distance < precision || distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t\tpoint: intersectionPoint,\n\t\t\t\t\t\t\tface: null,\n\t\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\t\tobject: object\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry instanceof THREE.Geometry ) {\n\n\t\t\t\tvar isFaceMaterial = object.material instanceof THREE.MeshFaceMaterial;\n\t\t\t\tvar objectMaterials = isFaceMaterial === true ? object.material.materials : null;\n\n\t\t\t\tvar a, b, c, d;\n\t\t\t\tvar precision = raycaster.precision;\n\n\t\t\t\tvar vertices = geometry.vertices;\n\n\t\t\t\tfor ( var f = 0, fl = geometry.faces.length; f < fl; f ++ ) {\n\n\t\t\t\t\tvar face = geometry.faces[ f ];\n\n\t\t\t\t\tvar material = isFaceMaterial === true ? objectMaterials[ face.materialIndex ] : object.material;\n\n\t\t\t\t\tif ( material === undefined ) continue;\n\n\t\t\t\t\ta = vertices[ face.a ];\n\t\t\t\t\tb = vertices[ face.b ];\n\t\t\t\t\tc = vertices[ face.c ];\n\n\t\t\t\t\tif ( material.morphTargets === true ) {\n\n\t\t\t\t\t\tvar morphTargets = geometry.morphTargets;\n\t\t\t\t\t\tvar morphInfluences = object.morphTargetInfluences;\n\n\t\t\t\t\t\tvA.set( 0, 0, 0 );\n\t\t\t\t\t\tvB.set( 0, 0, 0 );\n\t\t\t\t\t\tvC.set( 0, 0, 0 );\n\n\t\t\t\t\t\tfor ( var t = 0, tl = morphTargets.length; t < tl; t ++ ) {\n\n\t\t\t\t\t\t\tvar influence = morphInfluences[ t ];\n\n\t\t\t\t\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t\t\t\t\tvar targets = morphTargets[ t ].vertices;\n\n\t\t\t\t\t\t\tvA.x += ( targets[ face.a ].x - a.x ) * influence;\n\t\t\t\t\t\t\tvA.y += ( targets[ face.a ].y - a.y ) * influence;\n\t\t\t\t\t\t\tvA.z += ( targets[ face.a ].z - a.z ) * influence;\n\n\t\t\t\t\t\t\tvB.x += ( targets[ face.b ].x - b.x ) * influence;\n\t\t\t\t\t\t\tvB.y += ( targets[ face.b ].y - b.y ) * influence;\n\t\t\t\t\t\t\tvB.z += ( targets[ face.b ].z - b.z ) * influence;\n\n\t\t\t\t\t\t\tvC.x += ( targets[ face.c ].x - c.x ) * influence;\n\t\t\t\t\t\t\tvC.y += ( targets[ face.c ].y - c.y ) * influence;\n\t\t\t\t\t\t\tvC.z += ( targets[ face.c ].z - c.z ) * influence;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvA.add( a );\n\t\t\t\t\t\tvB.add( b );\n\t\t\t\t\t\tvC.add( c );\n\n\t\t\t\t\t\ta = vA;\n\t\t\t\t\t\tb = vB;\n\t\t\t\t\t\tc = vC;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( material.side === THREE.BackSide ) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\tvar intersectionPoint = localRay.intersectTriangle( c, b, a, true );\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\tvar intersectionPoint = localRay.intersectTriangle( a, b, c, material.side !== THREE.DoubleSide );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( intersectionPoint === null ) continue;\n\n\t\t\t\t\tintersectionPoint.applyMatrix4( object.matrixWorld );\n\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectionPoint );\n\n\t\t\t\t\tif ( distance < precision || distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\tpoint: intersectionPoint,\n\t\t\t\t\t\tface: face,\n\t\t\t\t\t\tfaceIndex: f,\n\t\t\t\t\t\tobject: object\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( object instanceof THREE.Line ) {\n\n\t\t\tvar precision = raycaster.linePrecision;\n\t\t\tvar precisionSq = precision * precision;\n\n\t\t\tvar geometry = object.geometry;\n\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t\t// Checking boundingSphere distance to ray\n\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( object.matrixWorld );\n\t\t\t\n\t\t\tif ( raycaster.ray.isIntersectionSphere( sphere ) === false ) {\n\n\t\t\t\treturn intersects;\n\n\t\t\t}\n\t\t\t\n\t\t\tinverseMatrix.getInverse( object.matrixWorld );\n\t\t\tlocalRay.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n\t\t\t/* if ( geometry instanceof THREE.BufferGeometry ) {\n\n\t\t\t} else */ if ( geometry instanceof THREE.Geometry ) {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar nbVertices = vertices.length;\n\t\t\t\tvar interSegment = new THREE.Vector3();\n\t\t\t\tvar interRay = new THREE.Vector3();\n\t\t\t\tvar step = object.type === THREE.LineStrip ? 1 : 2;\n\n\t\t\t\tfor ( var i = 0; i < nbVertices - 1; i = i + step ) {\n\n\t\t\t\t\tvar distSq = localRay.distanceSqToSegment( vertices[ i ], vertices[ i + 1 ], interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > precisionSq ) continue;\n\n\t\t\t\t\tvar distance = localRay.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( object.matrixWorld ),\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: object\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tvar intersectDescendants = function ( object, raycaster, intersects ) {\n\n\t\tvar descendants = object.getDescendants();\n\n\t\tfor ( var i = 0, l = descendants.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( descendants[ i ], raycaster, intersects );\n\n\t\t}\n\t};\n\n\t//\n\n\tTHREE.Raycaster.prototype.precision = 0.0001;\n\tTHREE.Raycaster.prototype.linePrecision = 1;\n\n\tTHREE.Raycaster.prototype.set = function ( origin, direction ) {\n\n\t\tthis.ray.set( origin, direction );\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t};\n\n\tTHREE.Raycaster.prototype.intersectObject = function ( object, recursive ) {\n\n\t\tvar intersects = [];\n\n\t\tif ( recursive === true ) {\n\n\t\t\tintersectDescendants( object, this, intersects );\n\n\t\t}\n\n\t\tintersectObject( object, this, intersects );\n\n\t\tintersects.sort( descSort );\n\n\t\treturn intersects;\n\n\t};\n\n\tTHREE.Raycaster.prototype.intersectObjects = function ( objects, recursive ) {\n\n\t\tvar intersects = [];\n\n\t\tfor ( var i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( objects[ i ], this, intersects );\n\n\t\t\tif ( recursive === true ) {\n\n\t\t\t\tintersectDescendants( objects[ i ], this, intersects );\n\n\t\t\t}\n\n\t\t}\n\n\t\tintersects.sort( descSort );\n\n\t\treturn intersects;\n\n\t};\n\n}( THREE ) );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nTHREE.Object3D = function () {\n\n\tthis.id = THREE.Object3DIdCount ++;\n\tthis.uuid = THREE.Math.generateUUID();\n\n\tthis.name = '';\n\n\tthis.parent = undefined;\n\tthis.children = [];\n\n\tthis.up = new THREE.Vector3( 0, 1, 0 );\n\n\tthis.position = new THREE.Vector3();\n\tthis._rotation = new THREE.Euler();\n\tthis._quaternion = new THREE.Quaternion();\n\tthis.scale = new THREE.Vector3( 1, 1, 1 );\n\n\t// keep rotation and quaternion in sync\n\n\tthis._rotation._quaternion = this.quaternion;\n\tthis._quaternion._euler = this.rotation;\n\n\tthis.renderDepth = null;\n\n\tthis.rotationAutoUpdate = true;\n\n\tthis.matrix = new THREE.Matrix4();\n\tthis.matrixWorld = new THREE.Matrix4();\n\n\tthis.matrixAutoUpdate = true;\n\tthis.matrixWorldNeedsUpdate = true;\n\n\tthis.visible = true;\n\n\tthis.castShadow = false;\n\tthis.receiveShadow = false;\n\n\tthis.frustumCulled = true;\n\n\tthis.userData = {};\n\n};\n\n\nTHREE.Object3D.prototype = {\n\n\tconstructor: THREE.Object3D,\n\t\n\tget rotation () { \n\t\treturn this._rotation; \n\t},\n\n\tset rotation ( value ) {\n\t\t\n\t\tthis._rotation = value;\n\t\tthis._rotation._quaternion = this._quaternion;\n\t\tthis._quaternion._euler = this._rotation;\n\t\tthis._rotation._updateQuaternion();\n\t\t\n\t},\n\n\tget quaternion () { \n\t\treturn this._quaternion; \n\t},\n\t\n\tset quaternion ( value ) {\n\t\t\n\t\tthis._quaternion = value;\n\t\tthis._quaternion._euler = this._rotation;\n\t\tthis._rotation._quaternion = this._quaternion;\n\t\tthis._quaternion._updateEuler();\n\t\t\n\t},\n\n\tget eulerOrder () {\n\n\t\tconsole.warn( 'DEPRECATED: Object3D\\'s .eulerOrder has been moved to Object3D\\'s .rotation.order.' );\n\n\t\treturn this.rotation.order;\n\n\t},\n\n\tset eulerOrder ( value ) {\n\n\t\tconsole.warn( 'DEPRECATED: Object3D\\'s .eulerOrder has been moved to Object3D\\'s .rotation.order.' );\n\n\t\tthis.rotation.order = value;\n\n\t},\n\n\tget useQuaternion () {\n\n\t\tconsole.warn( 'DEPRECATED: Object3D\\'s .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t},\n\n\tset useQuaternion ( value ) {\n\n\t\tconsole.warn( 'DEPRECATED: Object3D\\'s .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t},\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tthis.matrix.multiplyMatrices( matrix, this.matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t},\n\n\tsetRotationFromAxisAngle: function ( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t},\n\n\tsetRotationFromEuler: function ( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t},\n\n\tsetRotationFromMatrix: function ( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t},\n\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t},\n\n\trotateOnAxis: function() {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\tvar q1 = new THREE.Quaternion();\n\n\t\treturn function ( axis, angle ) {\n\n\t\t\tq1.setFromAxisAngle( axis, angle );\n\n\t\t\tthis.quaternion.multiply( q1 );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t}(),\n\n\trotateX: function () {\n\n\t\tvar v1 = new THREE.Vector3( 1, 0, 0 );\n\n\t\treturn function ( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\trotateY: function () {\n\n\t\tvar v1 = new THREE.Vector3( 0, 1, 0 );\n\n\t\treturn function ( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\trotateZ: function () {\n\n\t\tvar v1 = new THREE.Vector3( 0, 0, 1 );\n\n\t\treturn function ( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\ttranslateOnAxis: function () {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\tvar v1 = new THREE.Vector3();\n\n\t\treturn function ( axis, distance ) {\n\n\t\t\tv1.copy( axis );\n\n\t\t\tv1.applyQuaternion( this.quaternion );\n\n\t\t\tthis.position.add( v1.multiplyScalar( distance ) );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t}(),\n\n\ttranslate: function ( distance, axis ) {\n\n\t\tconsole.warn( 'DEPRECATED: Object3D\\'s .translate() has been removed. Use .translateOnAxis( axis, distance ) instead. Note args have been changed.' );\n\t\treturn this.translateOnAxis( axis, distance );\n\n\t},\n\n\ttranslateX: function () {\n\n\t\tvar v1 = new THREE.Vector3( 1, 0, 0 );\n\n\t\treturn function ( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\ttranslateY: function () {\n\n\t\tvar v1 = new THREE.Vector3( 0, 1, 0 );\n\n\t\treturn function ( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\ttranslateZ: function () {\n\n\t\tvar v1 = new THREE.Vector3( 0, 0, 1 );\n\n\t\treturn function ( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\tlocalToWorld: function ( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t},\n\n\tworldToLocal: function () {\n\n\t\tvar m1 = new THREE.Matrix4();\n\n\t\treturn function ( vector ) {\n\n\t\t\treturn vector.applyMatrix4( m1.getInverse( this.matrixWorld ) );\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\t// This routine does not support objects with rotated and/or translated parent(s)\n\n\t\tvar m1 = new THREE.Matrix4();\n\n\t\treturn function ( vector ) {\n\n\t\t\tm1.lookAt( vector, this.position, this.up );\n\n\t\t\tthis.quaternion.setFromRotationMatrix( m1 );\n\n\t\t};\n\n\t}(),\n\n\tadd: function ( object ) {\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D.add: An object can\\'t be added as a child of itself.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( object instanceof THREE.Object3D ) {\n\n\t\t\tif ( object.parent !== undefined ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tobject.dispatchEvent( { type: 'added' } );\n\n\t\t\tthis.children.push( object );\n\n\t\t\t// add to scene\n\n\t\t\tvar scene = this;\n\n\t\t\twhile ( scene.parent !== undefined ) {\n\n\t\t\t\tscene = scene.parent;\n\n\t\t\t}\n\n\t\t\tif ( scene !== undefined && scene instanceof THREE.Scene )  {\n\n\t\t\t\tscene.__addObject( object );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tremove: function ( object ) {\n\n\t\tvar index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = undefined;\n\t\t\tobject.dispatchEvent( { type: 'removed' } );\n\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t\t// remove from scene\n\n\t\t\tvar scene = this;\n\n\t\t\twhile ( scene.parent !== undefined ) {\n\n\t\t\t\tscene = scene.parent;\n\n\t\t\t}\n\n\t\t\tif ( scene !== undefined && scene instanceof THREE.Scene ) {\n\n\t\t\t\tscene.__removeObject( object );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttraverse: function ( callback ) {\n\n\t\tcallback( this );\n\n\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tthis.children[ i ].traverse( callback );\n\n\t\t}\n\n\t},\n\n\tgetObjectById: function ( id, recursive ) {\n\n\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tvar child = this.children[ i ];\n\n\t\t\tif ( child.id === id ) {\n\n\t\t\t\treturn child;\n\n\t\t\t}\n\n\t\t\tif ( recursive === true ) {\n\n\t\t\t\tchild = child.getObjectById( id, recursive );\n\n\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\treturn child;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t},\n\n\tgetObjectByName: function ( name, recursive ) {\n\n\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tvar child = this.children[ i ];\n\n\t\t\tif ( child.name === name ) {\n\n\t\t\t\treturn child;\n\n\t\t\t}\n\n\t\t\tif ( recursive === true ) {\n\n\t\t\t\tchild = child.getObjectByName( name, recursive );\n\n\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\treturn child;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t},\n\n\tgetChildByName: function ( name, recursive ) {\n\n\t\tconsole.warn( 'DEPRECATED: Object3D\\'s .getChildByName() has been renamed to .getObjectByName().' );\n\t\treturn this.getObjectByName( name, recursive );\n\n\t},\n\n\tgetDescendants: function ( array ) {\n\n\t\tif ( array === undefined ) array = [];\n\n\t\tArray.prototype.push.apply( array, this.children );\n\n\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tthis.children[ i ].getDescendants( array );\n\n\t\t}\n\n\t\treturn array;\n\n\t},\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tif ( this.matrixAutoUpdate === true ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate === true || force === true ) {\n\n\t\t\tif ( this.parent === undefined ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tthis.children[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t},\n\n\tclone: function ( object, recursive ) {\n\n\t\tif ( object === undefined ) object = new THREE.Object3D();\n\t\tif ( recursive === undefined ) recursive = true;\n\n\t\tobject.name = this.name;\n\n\t\tobject.up.copy( this.up );\n\n\t\tobject.position.copy( this.position );\n\t\tobject.quaternion.copy( this.quaternion );\n\t\tobject.scale.copy( this.scale );\n\n\t\tobject.renderDepth = this.renderDepth;\n\n\t\tobject.rotationAutoUpdate = this.rotationAutoUpdate;\n\n\t\tobject.matrix.copy( this.matrix );\n\t\tobject.matrixWorld.copy( this.matrixWorld );\n\n\t\tobject.matrixAutoUpdate = this.matrixAutoUpdate;\n\t\tobject.matrixWorldNeedsUpdate = this.matrixWorldNeedsUpdate;\n\n\t\tobject.visible = this.visible;\n\n\t\tobject.castShadow = this.castShadow;\n\t\tobject.receiveShadow = this.receiveShadow;\n\n\t\tobject.frustumCulled = this.frustumCulled;\n\n\t\tobject.userData = JSON.parse( JSON.stringify( this.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( var i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tvar child = this.children[ i ];\n\t\t\t\tobject.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n};\n\nTHREE.EventDispatcher.prototype.apply( THREE.Object3D.prototype );\n\nTHREE.Object3DIdCount = 0;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author julianwa / https://github.com/julianwa\n */\n\nTHREE.Projector = function () {\n\n\tvar _object, _objectCount, _objectPool = [], _objectPoolLength = 0,\n\t_vertex, _vertexCount, _vertexPool = [], _vertexPoolLength = 0,\n\t_face, _face3Count, _face3Pool = [], _face3PoolLength = 0,\n\t_line, _lineCount, _linePool = [], _linePoolLength = 0,\n\t_sprite, _spriteCount, _spritePool = [], _spritePoolLength = 0,\n\n\t_renderData = { objects: [], sprites: [], lights: [], elements: [] },\n\n\t_vA = new THREE.Vector3(),\n\t_vB = new THREE.Vector3(),\n\t_vC = new THREE.Vector3(),\n\n\t_vector3 = new THREE.Vector3(),\n\t_vector4 = new THREE.Vector4(),\n\n\t_clipBox = new THREE.Box3( new THREE.Vector3( -1, -1, -1 ), new THREE.Vector3( 1, 1, 1 ) ),\n\t_boundingBox = new THREE.Box3(),\n\t_points3 = new Array( 3 ),\n\t_points4 = new Array( 4 ),\n\n\t_viewMatrix = new THREE.Matrix4(),\n\t_viewProjectionMatrix = new THREE.Matrix4(),\n\n\t_modelMatrix,\n\t_modelViewProjectionMatrix = new THREE.Matrix4(),\n\n\t_normalMatrix = new THREE.Matrix3(),\n\t_normalViewMatrix = new THREE.Matrix3(),\n\n\t_centroid = new THREE.Vector3(),\n\n\t_frustum = new THREE.Frustum(),\n\n\t_clippedVertex1PositionScreen = new THREE.Vector4(),\n\t_clippedVertex2PositionScreen = new THREE.Vector4();\n\n\tthis.projectVector = function ( vector, camera ) {\n\n\t\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t\t_viewProjectionMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\n\t\treturn vector.applyProjection( _viewProjectionMatrix );\n\n\t};\n\n\tthis.unprojectVector = function () {\n\n\t\tvar projectionMatrixInverse = new THREE.Matrix4();\n\n\t\treturn function ( vector, camera ) {\n\n\t\t\tprojectionMatrixInverse.getInverse( camera.projectionMatrix );\n\t\t\t_viewProjectionMatrix.multiplyMatrices( camera.matrixWorld, projectionMatrixInverse );\n\n\t\t\treturn vector.applyProjection( _viewProjectionMatrix );\n\n\t\t};\n\n\t}();\n\n\tthis.pickingRay = function ( vector, camera ) {\n\n\t\t// set two vectors with opposing z values\n\t\tvector.z = -1.0;\n\t\tvar end = new THREE.Vector3( vector.x, vector.y, 1.0 );\n\n\t\tthis.unprojectVector( vector, camera );\n\t\tthis.unprojectVector( end, camera );\n\n\t\t// find direction from vector to end\n\t\tend.sub( vector ).normalize();\n\n\t\treturn new THREE.Raycaster( vector, end );\n\n\t};\n\n\tvar getObject = function ( object ) {\n\n\t\t_object = getNextObjectInPool();\n\t\t_object.id = object.id;\n\t\t_object.object = object;\n\n\t\tif ( object.renderDepth !== null ) {\n\n\t\t\t_object.z = object.renderDepth;\n\n\t\t} else {\n\n\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld );\n\t\t\t_vector3.applyProjection( _viewProjectionMatrix );\n\t\t\t_object.z = _vector3.z;\n\n\t\t}\n\n\t\treturn _object;\n\n\t};\n\n\tvar projectVertex = function ( vertex ) {\n\n\t\tvar position = vertex.position;\n\t\tvar positionWorld = vertex.positionWorld;\n\t\tvar positionScreen = vertex.positionScreen;\n\n\t\tpositionWorld.copy( position ).applyMatrix4( _modelMatrix );\n\t\tpositionScreen.copy( positionWorld ).applyMatrix4( _viewProjectionMatrix );\n\n\t\tvar invW = 1 / positionScreen.w;\n\n\t\tpositionScreen.x *= invW;\n\t\tpositionScreen.y *= invW;\n\t\tpositionScreen.z *= invW;\n\n\t\tvertex.visible = positionScreen.x >= -1 && positionScreen.x <= 1 &&\n\t\t\t\t positionScreen.y >= -1 && positionScreen.y <= 1 &&\n\t\t\t\t positionScreen.z >= -1 && positionScreen.z <= 1;\n\n\t};\n\n\tvar projectObject = function ( object ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tif ( object instanceof THREE.Light ) {\n\n\t\t\t_renderData.lights.push( object );\n\n\t\t} else if ( object instanceof THREE.Mesh || object instanceof THREE.Line ) {\n\n\t\t\tif ( object.frustumCulled === false || _frustum.intersectsObject( object ) === true ) {\n\n\t\t\t\t_renderData.objects.push( getObject( object ) );\n\n\t\t\t}\n\n\t\t} else if ( object instanceof THREE.Sprite ) {\n\n\t\t\t_renderData.sprites.push( getObject( object ) );\n\n\t\t}\n\n\t\tfor ( var i = 0, l = object.children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( object.children[ i ] );\n\n\t\t}\n\n\t};\n\n\tvar projectGraph = function ( root, sortObjects ) {\n\n\t\t_objectCount = 0;\n\n\t\t_renderData.objects.length = 0;\n\t\t_renderData.sprites.length = 0;\n\t\t_renderData.lights.length = 0;\n\n\t\tprojectObject( root );\n\n\t\tif ( sortObjects === true ) {\n\n\t\t\t_renderData.objects.sort( painterSort );\n\n\t\t}\n\n\t};\n\n\tthis.projectScene = function ( scene, camera, sortObjects, sortElements ) {\n\n\t\tvar visible = false,\n\t\tobject, geometry, vertices, faces, face, faceVertexNormals, faceVertexUvs, uvs,\n\t\tv1, v2, v3, v4, isFaceMaterial, objectMaterials;\n\n\t\t_face3Count = 0;\n\t\t_lineCount = 0;\n\t\t_spriteCount = 0;\n\n\t\t_renderData.elements.length = 0;\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\t\tif ( camera.parent === undefined ) camera.updateMatrixWorld();\n\n\t\t_viewMatrix.copy( camera.matrixWorldInverse.getInverse( camera.matrixWorld ) );\n\t\t_viewProjectionMatrix.multiplyMatrices( camera.projectionMatrix, _viewMatrix );\n\n\t\t_normalViewMatrix.getNormalMatrix( _viewMatrix );\n\n\t\t_frustum.setFromMatrix( _viewProjectionMatrix );\n\n\t\tprojectGraph( scene, sortObjects );\n\n\t\tfor ( var o = 0, ol = _renderData.objects.length; o < ol; o ++ ) {\n\n\t\t\tobject = _renderData.objects[ o ].object;\n\n\t\t\t_modelMatrix = object.matrixWorld;\n\n\t\t\t_vertexCount = 0;\n\n\t\t\tif ( object instanceof THREE.Mesh ) {\n\n\t\t\t\tgeometry = object.geometry;\n\n\t\t\t\tvertices = geometry.vertices;\n\t\t\t\tfaces = geometry.faces;\n\t\t\t\tfaceVertexUvs = geometry.faceVertexUvs;\n\n\t\t\t\t_normalMatrix.getNormalMatrix( _modelMatrix );\n\n\t\t\t\tisFaceMaterial = object.material instanceof THREE.MeshFaceMaterial;\n\t\t\t\tobjectMaterials = isFaceMaterial === true ? object.material : null;\n\n\t\t\t\tfor ( var v = 0, vl = vertices.length; v < vl; v ++ ) {\n\n\t\t\t\t\t_vertex = getNextVertexInPool();\n\t\t\t\t\t_vertex.position.copy( vertices[ v ] );\n\n\t\t\t\t\tprojectVertex( _vertex );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var f = 0, fl = faces.length; f < fl; f ++ ) {\n\n\t\t\t\t\tface = faces[ f ];\n\n\t\t\t\t\tvar material = isFaceMaterial === true\n\t\t\t\t\t\t? objectMaterials.materials[ face.materialIndex ]\n\t\t\t\t\t\t: object.material;\n\n\t\t\t\t\tif ( material === undefined ) continue;\n\n\t\t\t\t\tvar side = material.side;\n\n\t\t\t\t\tv1 = _vertexPool[ face.a ];\n\t\t\t\t\tv2 = _vertexPool[ face.b ];\n\t\t\t\t\tv3 = _vertexPool[ face.c ];\n\n\t\t\t\t\tif ( material.morphTargets === true ) {\n\n\t\t\t\t\t\tvar morphTargets = geometry.morphTargets;\n\t\t\t\t\t\tvar morphInfluences = object.morphTargetInfluences;\n\n\t\t\t\t\t\tvar v1p = v1.position;\n\t\t\t\t\t\tvar v2p = v2.position;\n\t\t\t\t\t\tvar v3p = v3.position;\n\n\t\t\t\t\t\t_vA.set( 0, 0, 0 );\n\t\t\t\t\t\t_vB.set( 0, 0, 0 );\n\t\t\t\t\t\t_vC.set( 0, 0, 0 );\n\n\t\t\t\t\t\tfor ( var t = 0, tl = morphTargets.length; t < tl; t ++ ) {\n\n\t\t\t\t\t\t\tvar influence = morphInfluences[ t ];\n\n\t\t\t\t\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t\t\t\t\tvar targets = morphTargets[ t ].vertices;\n\n\t\t\t\t\t\t\t_vA.x += ( targets[ face.a ].x - v1p.x ) * influence;\n\t\t\t\t\t\t\t_vA.y += ( targets[ face.a ].y - v1p.y ) * influence;\n\t\t\t\t\t\t\t_vA.z += ( targets[ face.a ].z - v1p.z ) * influence;\n\n\t\t\t\t\t\t\t_vB.x += ( targets[ face.b ].x - v2p.x ) * influence;\n\t\t\t\t\t\t\t_vB.y += ( targets[ face.b ].y - v2p.y ) * influence;\n\t\t\t\t\t\t\t_vB.z += ( targets[ face.b ].z - v2p.z ) * influence;\n\n\t\t\t\t\t\t\t_vC.x += ( targets[ face.c ].x - v3p.x ) * influence;\n\t\t\t\t\t\t\t_vC.y += ( targets[ face.c ].y - v3p.y ) * influence;\n\t\t\t\t\t\t\t_vC.z += ( targets[ face.c ].z - v3p.z ) * influence;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tv1.position.add( _vA );\n\t\t\t\t\t\tv2.position.add( _vB );\n\t\t\t\t\t\tv3.position.add( _vC );\n\n\t\t\t\t\t\tprojectVertex( v1 );\n\t\t\t\t\t\tprojectVertex( v2 );\n\t\t\t\t\t\tprojectVertex( v3 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t_points3[ 0 ] = v1.positionScreen;\n\t\t\t\t\t_points3[ 1 ] = v2.positionScreen;\n\t\t\t\t\t_points3[ 2 ] = v3.positionScreen;\n\n\t\t\t\t\tif ( v1.visible === true || v2.visible === true || v3.visible === true ||\n\t\t\t\t\t\t_clipBox.isIntersectionBox( _boundingBox.setFromPoints( _points3 ) ) ) {\n\n\t\t\t\t\t\tvisible = ( ( v3.positionScreen.x - v1.positionScreen.x ) *\n\t\t\t\t\t\t\t    ( v2.positionScreen.y - v1.positionScreen.y ) -\n\t\t\t\t\t\t\t    ( v3.positionScreen.y - v1.positionScreen.y ) *\n\t\t\t\t\t\t\t    ( v2.positionScreen.x - v1.positionScreen.x ) ) < 0;\n\n\t\t\t\t\t\tif ( side === THREE.DoubleSide || visible === ( side === THREE.FrontSide ) ) {\n\n\t\t\t\t\t\t\t_face = getNextFace3InPool();\n\n\t\t\t\t\t\t\t_face.id = object.id;\n\t\t\t\t\t\t\t_face.v1.copy( v1 );\n\t\t\t\t\t\t\t_face.v2.copy( v2 );\n\t\t\t\t\t\t\t_face.v3.copy( v3 );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t_face.normalModel.copy( face.normal );\n\n\t\t\t\t\tif ( visible === false && ( side === THREE.BackSide || side === THREE.DoubleSide ) ) {\n\n\t\t\t\t\t\t_face.normalModel.negate();\n\n\t\t\t\t\t}\n\n\t\t\t\t\t_face.normalModel.applyMatrix3( _normalMatrix ).normalize();\n\n\t\t\t\t\t_face.normalModelView.copy( _face.normalModel ).applyMatrix3( _normalViewMatrix );\n\n\t\t\t\t\t_face.centroidModel.copy( face.centroid ).applyMatrix4( _modelMatrix );\n\n\t\t\t\t\tfaceVertexNormals = face.vertexNormals;\n\n\t\t\t\t\tfor ( var n = 0, nl = Math.min( faceVertexNormals.length, 3 ); n < nl; n ++ ) {\n\n\t\t\t\t\t\tvar normalModel = _face.vertexNormalsModel[ n ];\n\t\t\t\t\t\tnormalModel.copy( faceVertexNormals[ n ] );\n\n\t\t\t\t\t\tif ( visible === false && ( side === THREE.BackSide || side === THREE.DoubleSide ) ) {\n\n\t\t\t\t\t\t\tnormalModel.negate();\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tnormalModel.applyMatrix3( _normalMatrix ).normalize();\n\n\t\t\t\t\t\tvar normalModelView = _face.vertexNormalsModelView[ n ];\n\t\t\t\t\t\tnormalModelView.copy( normalModel ).applyMatrix3( _normalViewMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t_face.vertexNormalsLength = faceVertexNormals.length;\n\n\t\t\t\t\tfor ( var c = 0, cl = Math.min( faceVertexUvs.length, 3 ); c < cl; c ++ ) {\n\n\t\t\t\t\t\tuvs = faceVertexUvs[ c ][ f ];\n\n\t\t\t\t\t\tif ( uvs === undefined ) continue;\n\n\t\t\t\t\t\tfor ( var u = 0, ul = uvs.length; u < ul; u ++ ) {\n\n\t\t\t\t\t\t\t_face.uvs[ c ][ u ] = uvs[ u ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t_face.color = face.color;\n\t\t\t\t\t_face.material = material;\n\n\t\t\t\t\t_centroid.copy( _face.centroidModel ).applyProjection( _viewProjectionMatrix );\n\n\t\t\t\t\t_face.z = _centroid.z;\n\n\t\t\t\t\t_renderData.elements.push( _face );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object instanceof THREE.Line ) {\n\n\t\t\t\t_modelViewProjectionMatrix.multiplyMatrices( _viewProjectionMatrix, _modelMatrix );\n\n\t\t\t\tvertices = object.geometry.vertices;\n\n\t\t\t\tv1 = getNextVertexInPool();\n\t\t\t\tv1.positionScreen.copy( vertices[ 0 ] ).applyMatrix4( _modelViewProjectionMatrix );\n\n\t\t\t\t// Handle LineStrip and LinePieces\n\t\t\t\tvar step = object.type === THREE.LinePieces ? 2 : 1;\n\n\t\t\t\tfor ( v = 1, vl = vertices.length; v < vl; v ++ ) {\n\n\t\t\t\t\tv1 = getNextVertexInPool();\n\t\t\t\t\tv1.positionScreen.copy( vertices[ v ] ).applyMatrix4( _modelViewProjectionMatrix );\n\n\t\t\t\t\tif ( ( v + 1 ) % step > 0 ) continue;\n\n\t\t\t\t\tv2 = _vertexPool[ _vertexCount - 2 ];\n\n\t\t\t\t\t_clippedVertex1PositionScreen.copy( v1.positionScreen );\n\t\t\t\t\t_clippedVertex2PositionScreen.copy( v2.positionScreen );\n\n\t\t\t\t\tif ( clipLine( _clippedVertex1PositionScreen, _clippedVertex2PositionScreen ) === true ) {\n\n\t\t\t\t\t\t// Perform the perspective divide\n\t\t\t\t\t\t_clippedVertex1PositionScreen.multiplyScalar( 1 / _clippedVertex1PositionScreen.w );\n\t\t\t\t\t\t_clippedVertex2PositionScreen.multiplyScalar( 1 / _clippedVertex2PositionScreen.w );\n\n\t\t\t\t\t\t_line = getNextLineInPool();\n\n\t\t\t\t\t\t_line.id = object.id;\n\t\t\t\t\t\t_line.v1.positionScreen.copy( _clippedVertex1PositionScreen );\n\t\t\t\t\t\t_line.v2.positionScreen.copy( _clippedVertex2PositionScreen );\n\n\t\t\t\t\t\t_line.z = Math.max( _clippedVertex1PositionScreen.z, _clippedVertex2PositionScreen.z );\n\n\t\t\t\t\t\t_line.material = object.material;\n\n\t\t\t\t\t\tif ( object.material.vertexColors === THREE.VertexColors ) {\n\n\t\t\t\t\t\t\t_line.vertexColors[ 0 ].copy( object.geometry.colors[ v ] );\n\t\t\t\t\t\t\t_line.vertexColors[ 1 ].copy( object.geometry.colors[ v - 1 ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_renderData.elements.push( _line );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( o = 0, ol = _renderData.sprites.length; o < ol; o++ ) {\n\n\t\t\tobject = _renderData.sprites[ o ].object;\n\n\t\t\t_modelMatrix = object.matrixWorld;\n\n\t\t\t_vector4.set( _modelMatrix.elements[12], _modelMatrix.elements[13], _modelMatrix.elements[14], 1 );\n\t\t\t_vector4.applyMatrix4( _viewProjectionMatrix );\n\n\t\t\tvar invW = 1 / _vector4.w;\n\n\t\t\t_vector4.z *= invW;\n\n\t\t\tif ( _vector4.z >= -1 && _vector4.z <= 1 ) {\n\n\t\t\t\t_sprite = getNextSpriteInPool();\n\t\t\t\t_sprite.id = object.id;\n\t\t\t\t_sprite.x = _vector4.x * invW;\n\t\t\t\t_sprite.y = _vector4.y * invW;\n\t\t\t\t_sprite.z = _vector4.z;\n\t\t\t\t_sprite.object = object;\n\n\t\t\t\t_sprite.rotation = object.rotation;\n\n\t\t\t\t_sprite.scale.x = object.scale.x * Math.abs( _sprite.x - ( _vector4.x + camera.projectionMatrix.elements[0] ) / ( _vector4.w + camera.projectionMatrix.elements[12] ) );\n\t\t\t\t_sprite.scale.y = object.scale.y * Math.abs( _sprite.y - ( _vector4.y + camera.projectionMatrix.elements[5] ) / ( _vector4.w + camera.projectionMatrix.elements[13] ) );\n\n\t\t\t\t_sprite.material = object.material;\n\n\t\t\t\t_renderData.elements.push( _sprite );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( sortElements === true ) _renderData.elements.sort( painterSort );\n\n\t\treturn _renderData;\n\n\t};\n\n\t// Pools\n\n\tfunction getNextObjectInPool() {\n\n\t\tif ( _objectCount === _objectPoolLength ) {\n\n\t\t\tvar object = new THREE.RenderableObject();\n\t\t\t_objectPool.push( object );\n\t\t\t_objectPoolLength ++;\n\t\t\t_objectCount ++;\n\t\t\treturn object;\n\n\t\t}\n\n\t\treturn _objectPool[ _objectCount ++ ];\n\n\t}\n\n\tfunction getNextVertexInPool() {\n\n\t\tif ( _vertexCount === _vertexPoolLength ) {\n\n\t\t\tvar vertex = new THREE.RenderableVertex();\n\t\t\t_vertexPool.push( vertex );\n\t\t\t_vertexPoolLength ++;\n\t\t\t_vertexCount ++;\n\t\t\treturn vertex;\n\n\t\t}\n\n\t\treturn _vertexPool[ _vertexCount ++ ];\n\n\t}\n\n\tfunction getNextFace3InPool() {\n\n\t\tif ( _face3Count === _face3PoolLength ) {\n\n\t\t\tvar face = new THREE.RenderableFace3();\n\t\t\t_face3Pool.push( face );\n\t\t\t_face3PoolLength ++;\n\t\t\t_face3Count ++;\n\t\t\treturn face;\n\n\t\t}\n\n\t\treturn _face3Pool[ _face3Count ++ ];\n\n\n\t}\n\n\tfunction getNextLineInPool() {\n\n\t\tif ( _lineCount === _linePoolLength ) {\n\n\t\t\tvar line = new THREE.RenderableLine();\n\t\t\t_linePool.push( line );\n\t\t\t_linePoolLength ++;\n\t\t\t_lineCount ++\n\t\t\treturn line;\n\n\t\t}\n\n\t\treturn _linePool[ _lineCount ++ ];\n\n\t}\n\n\tfunction getNextSpriteInPool() {\n\n\t\tif ( _spriteCount === _spritePoolLength ) {\n\n\t\t\tvar sprite = new THREE.RenderableSprite();\n\t\t\t_spritePool.push( sprite );\n\t\t\t_spritePoolLength ++;\n\t\t\t_spriteCount ++\n\t\t\treturn sprite;\n\n\t\t}\n\n\t\treturn _spritePool[ _spriteCount ++ ];\n\n\t}\n\n\t//\n\n\tfunction painterSort( a, b ) {\n\n\t\tif ( a.z !== b.z ) {\n\n\t\t\treturn b.z - a.z;\n\n\t\t} else if ( a.id !== b.id ) {\n\n\t\t\treturn a.id - b.id;\n\n\t\t} else {\n\n\t\t\treturn 0;\n\n\t\t}\n\n\t}\n\n\tfunction clipLine( s1, s2 ) {\n\n\t\tvar alpha1 = 0, alpha2 = 1,\n\n\t\t// Calculate the boundary coordinate of each vertex for the near and far clip planes,\n\t\t// Z = -1 and Z = +1, respectively.\n\t\tbc1near =  s1.z + s1.w,\n\t\tbc2near =  s2.z + s2.w,\n\t\tbc1far =  - s1.z + s1.w,\n\t\tbc2far =  - s2.z + s2.w;\n\n\t\tif ( bc1near >= 0 && bc2near >= 0 && bc1far >= 0 && bc2far >= 0 ) {\n\n\t\t\t// Both vertices lie entirely within all clip planes.\n\t\t\treturn true;\n\n\t\t} else if ( ( bc1near < 0 && bc2near < 0) || (bc1far < 0 && bc2far < 0 ) ) {\n\n\t\t\t// Both vertices lie entirely outside one of the clip planes.\n\t\t\treturn false;\n\n\t\t} else {\n\n\t\t\t// The line segment spans at least one clip plane.\n\n\t\t\tif ( bc1near < 0 ) {\n\n\t\t\t\t// v1 lies outside the near plane, v2 inside\n\t\t\t\talpha1 = Math.max( alpha1, bc1near / ( bc1near - bc2near ) );\n\n\t\t\t} else if ( bc2near < 0 ) {\n\n\t\t\t\t// v2 lies outside the near plane, v1 inside\n\t\t\t\talpha2 = Math.min( alpha2, bc1near / ( bc1near - bc2near ) );\n\n\t\t\t}\n\n\t\t\tif ( bc1far < 0 ) {\n\n\t\t\t\t// v1 lies outside the far plane, v2 inside\n\t\t\t\talpha1 = Math.max( alpha1, bc1far / ( bc1far - bc2far ) );\n\n\t\t\t} else if ( bc2far < 0 ) {\n\n\t\t\t\t// v2 lies outside the far plane, v2 inside\n\t\t\t\talpha2 = Math.min( alpha2, bc1far / ( bc1far - bc2far ) );\n\n\t\t\t}\n\n\t\t\tif ( alpha2 < alpha1 ) {\n\n\t\t\t\t// The line segment spans two boundaries, but is outside both of them.\n\t\t\t\t// (This can't happen when we're only clipping against just near/far but good\n\t\t\t\t//  to leave the check here for future usage if other clip planes are added.)\n\t\t\t\treturn false;\n\n\t\t\t} else {\n\n\t\t\t\t// Update the s1 and s2 vertices to match the clipped line segment.\n\t\t\t\ts1.lerp( s2, alpha1 );\n\t\t\t\ts2.lerp( s1, 1 - alpha2 );\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.Face3 = function ( a, b, c, normal, color, materialIndex ) {\n\n\tthis.a = a;\n\tthis.b = b;\n\tthis.c = c;\n\n\tthis.normal = normal instanceof THREE.Vector3 ? normal : new THREE.Vector3();\n\tthis.vertexNormals = normal instanceof Array ? normal : [ ];\n\n\tthis.color = color instanceof THREE.Color ? color : new THREE.Color();\n\tthis.vertexColors = color instanceof Array ? color : [];\n\n\tthis.vertexTangents = [];\n\n\tthis.materialIndex = materialIndex !== undefined ? materialIndex : 0;\n\n\tthis.centroid = new THREE.Vector3();\n\n};\n\nTHREE.Face3.prototype = {\n\n\tconstructor: THREE.Face3,\n\n\tclone: function () {\n\n\t\tvar face = new THREE.Face3( this.a, this.b, this.c );\n\n\t\tface.normal.copy( this.normal );\n\t\tface.color.copy( this.color );\n\t\tface.centroid.copy( this.centroid );\n\n\t\tface.materialIndex = this.materialIndex;\n\n\t\tvar i, il;\n\t\tfor ( i = 0, il = this.vertexNormals.length; i < il; i ++ ) face.vertexNormals[ i ] = this.vertexNormals[ i ].clone();\n\t\tfor ( i = 0, il = this.vertexColors.length; i < il; i ++ ) face.vertexColors[ i ] = this.vertexColors[ i ].clone();\n\t\tfor ( i = 0, il = this.vertexTangents.length; i < il; i ++ ) face.vertexTangents[ i ] = this.vertexTangents[ i ].clone();\n\n\t\treturn face;\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.Face4 = function ( a, b, c, d, normal, color, materialIndex ) {\n\n\tconsole.warn( 'THREE.Face4 has been removed. A THREE.Face3 will be created instead.')\n\n\treturn new THREE.Face3( a, b, c, normal, color, materialIndex );\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author bhouston / http://exocortex.com\n */\n\nTHREE.Geometry = function () {\n\n\tthis.id = THREE.GeometryIdCount ++;\n\tthis.uuid = THREE.Math.generateUUID();\n\n\tthis.name = '';\n\n\tthis.vertices = [];\n\tthis.colors = [];  // one-to-one vertex colors, used in ParticleSystem and Line\n\n\tthis.faces = [];\n\n\tthis.faceVertexUvs = [[]];\n\n\tthis.morphTargets = [];\n\tthis.morphColors = [];\n\tthis.morphNormals = [];\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\tthis.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\tthis.hasTangents = false;\n\n\tthis.dynamic = true; // the intermediate typed arrays will be deleted when set to false\n\n\t// update flags\n\n\tthis.verticesNeedUpdate = false;\n\tthis.elementsNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.tangentsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.lineDistancesNeedUpdate = false;\n\n\tthis.buffersNeedUpdate = false;\n\n};\n\nTHREE.Geometry.prototype = {\n\n\tconstructor: THREE.Geometry,\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tvar normalMatrix = new THREE.Matrix3().getNormalMatrix( matrix );\n\n\t\tfor ( var i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tvar vertex = this.vertices[ i ];\n\t\t\tvertex.applyMatrix4( matrix );\n\n\t\t}\n\n\t\tfor ( var i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tvar face = this.faces[ i ];\n\t\t\tface.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tface.vertexNormals[ j ].applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t\tface.centroid.applyMatrix4( matrix );\n\n\t\t}\n\n\t\tif ( this.boundingBox instanceof THREE.Box3 ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere instanceof THREE.Sphere ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t},\n\n\tcomputeCentroids: function () {\n\n\t\tvar f, fl, face;\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\t\t\tface.centroid.set( 0, 0, 0 );\n\n\t\t\tface.centroid.add( this.vertices[ face.a ] );\n\t\t\tface.centroid.add( this.vertices[ face.b ] );\n\t\t\tface.centroid.add( this.vertices[ face.c ] );\n\t\t\tface.centroid.divideScalar( 3 );\n\n\t\t}\n\n\t},\n\n\tcomputeFaceNormals: function () {\n\n\t\tvar cb = new THREE.Vector3(), ab = new THREE.Vector3();\n\n\t\tfor ( var f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tvar face = this.faces[ f ];\n\n\t\t\tvar vA = this.vertices[ face.a ];\n\t\t\tvar vB = this.vertices[ face.b ];\n\t\t\tvar vC = this.vertices[ face.c ];\n\n\t\t\tcb.subVectors( vC, vB );\n\t\t\tab.subVectors( vA, vB );\n\t\t\tcb.cross( ab );\n\n\t\t\tcb.normalize();\n\n\t\t\tface.normal.copy( cb );\n\n\t\t}\n\n\t},\n\n\tcomputeVertexNormals: function ( areaWeighted ) {\n\n\t\tvar v, vl, f, fl, face, vertices;\n\n\t\tvertices = new Array( this.vertices.length );\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ] = new THREE.Vector3();\n\n\t\t}\n\n\t\tif ( areaWeighted ) {\n\n\t\t\t// vertex normals weighted by triangle areas\n\t\t\t// http://www.iquilezles.org/www/articles/normals/normals.htm\n\n\t\t\tvar vA, vB, vC, vD;\n\t\t\tvar cb = new THREE.Vector3(), ab = new THREE.Vector3(),\n\t\t\t\tdb = new THREE.Vector3(), dc = new THREE.Vector3(), bc = new THREE.Vector3();\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tvA = this.vertices[ face.a ];\n\t\t\t\tvB = this.vertices[ face.b ];\n\t\t\t\tvC = this.vertices[ face.c ];\n\n\t\t\t\tcb.subVectors( vC, vB );\n\t\t\t\tab.subVectors( vA, vB );\n\t\t\t\tcb.cross( ab );\n\n\t\t\t\tvertices[ face.a ].add( cb );\n\t\t\t\tvertices[ face.b ].add( cb );\n\t\t\t\tvertices[ face.c ].add( cb );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tvertices[ face.a ].add( face.normal );\n\t\t\t\tvertices[ face.b ].add( face.normal );\n\t\t\t\tvertices[ face.c ].add( face.normal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ].normalize();\n\n\t\t}\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tface.vertexNormals[ 0 ] = vertices[ face.a ].clone();\n\t\t\tface.vertexNormals[ 1 ] = vertices[ face.b ].clone();\n\t\t\tface.vertexNormals[ 2 ] = vertices[ face.c ].clone();\n\n\t\t}\n\n\t},\n\n\tcomputeMorphNormals: function () {\n\n\t\tvar i, il, f, fl, face;\n\n\t\t// save original normals\n\t\t// - create temp variables on first access\n\t\t//   otherwise just copy (for faster repeated calls)\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tif ( ! face.__originalFaceNormal ) {\n\n\t\t\t\tface.__originalFaceNormal = face.normal.clone();\n\n\t\t\t} else {\n\n\t\t\t\tface.__originalFaceNormal.copy( face.normal );\n\n\t\t\t}\n\n\t\t\tif ( ! face.__originalVertexNormals ) face.__originalVertexNormals = [];\n\n\t\t\tfor ( i = 0, il = face.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\t\tif ( ! face.__originalVertexNormals[ i ] ) {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ] = face.vertexNormals[ i ].clone();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ].copy( face.vertexNormals[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// use temp geometry to compute face and vertex normals for each morph\n\n\t\tvar tmpGeo = new THREE.Geometry();\n\t\ttmpGeo.faces = this.faces;\n\n\t\tfor ( i = 0, il = this.morphTargets.length; i < il; i ++ ) {\n\n\t\t\t// create on first access\n\n\t\t\tif ( ! this.morphNormals[ i ] ) {\n\n\t\t\t\tthis.morphNormals[ i ] = {};\n\t\t\t\tthis.morphNormals[ i ].faceNormals = [];\n\t\t\t\tthis.morphNormals[ i ].vertexNormals = [];\n\n\t\t\t\tvar dstNormalsFace = this.morphNormals[ i ].faceNormals;\n\t\t\t\tvar dstNormalsVertex = this.morphNormals[ i ].vertexNormals;\n\n\t\t\t\tvar faceNormal, vertexNormals;\n\n\t\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\t\tfaceNormal = new THREE.Vector3();\n\t\t\t\t\tvertexNormals = { a: new THREE.Vector3(), b: new THREE.Vector3(), c: new THREE.Vector3() };\n\n\t\t\t\t\tdstNormalsFace.push( faceNormal );\n\t\t\t\t\tdstNormalsVertex.push( vertexNormals );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar morphNormals = this.morphNormals[ i ];\n\n\t\t\t// set vertices to morph target\n\n\t\t\ttmpGeo.vertices = this.morphTargets[ i ].vertices;\n\n\t\t\t// compute morph normals\n\n\t\t\ttmpGeo.computeFaceNormals();\n\t\t\ttmpGeo.computeVertexNormals();\n\n\t\t\t// store morph normals\n\n\t\t\tvar faceNormal, vertexNormals;\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tfaceNormal = morphNormals.faceNormals[ f ];\n\t\t\t\tvertexNormals = morphNormals.vertexNormals[ f ];\n\n\t\t\t\tfaceNormal.copy( face.normal );\n\n\t\t\t\tvertexNormals.a.copy( face.vertexNormals[ 0 ] );\n\t\t\t\tvertexNormals.b.copy( face.vertexNormals[ 1 ] );\n\t\t\t\tvertexNormals.c.copy( face.vertexNormals[ 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restore original normals\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tface.normal = face.__originalFaceNormal;\n\t\t\tface.vertexNormals = face.__originalVertexNormals;\n\n\t\t}\n\n\t},\n\n\tcomputeTangents: function () {\n\n\t\t// based on http://www.terathon.com/code/tangent.html\n\t\t// tangents go to vertices\n\n\t\tvar f, fl, v, vl, i, il, vertexIndex,\n\t\t\tface, uv, vA, vB, vC, uvA, uvB, uvC,\n\t\t\tx1, x2, y1, y2, z1, z2,\n\t\t\ts1, s2, t1, t2, r, t, test,\n\t\t\ttan1 = [], tan2 = [],\n\t\t\tsdir = new THREE.Vector3(), tdir = new THREE.Vector3(),\n\t\t\ttmp = new THREE.Vector3(), tmp2 = new THREE.Vector3(),\n\t\t\tn = new THREE.Vector3(), w;\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\ttan1[ v ] = new THREE.Vector3();\n\t\t\ttan2[ v ] = new THREE.Vector3();\n\n\t\t}\n\n\t\tfunction handleTriangle( context, a, b, c, ua, ub, uc ) {\n\n\t\t\tvA = context.vertices[ a ];\n\t\t\tvB = context.vertices[ b ];\n\t\t\tvC = context.vertices[ c ];\n\n\t\t\tuvA = uv[ ua ];\n\t\t\tuvB = uv[ ub ];\n\t\t\tuvC = uv[ uc ];\n\n\t\t\tx1 = vB.x - vA.x;\n\t\t\tx2 = vC.x - vA.x;\n\t\t\ty1 = vB.y - vA.y;\n\t\t\ty2 = vC.y - vA.y;\n\t\t\tz1 = vB.z - vA.z;\n\t\t\tz2 = vC.z - vA.z;\n\n\t\t\ts1 = uvB.x - uvA.x;\n\t\t\ts2 = uvC.x - uvA.x;\n\t\t\tt1 = uvB.y - uvA.y;\n\t\t\tt2 = uvC.y - uvA.y;\n\n\t\t\tr = 1.0 / ( s1 * t2 - s2 * t1 );\n\t\t\tsdir.set( ( t2 * x1 - t1 * x2 ) * r,\n\t\t\t\t\t  ( t2 * y1 - t1 * y2 ) * r,\n\t\t\t\t\t  ( t2 * z1 - t1 * z2 ) * r );\n\t\t\ttdir.set( ( s1 * x2 - s2 * x1 ) * r,\n\t\t\t\t\t  ( s1 * y2 - s2 * y1 ) * r,\n\t\t\t\t\t  ( s1 * z2 - s2 * z1 ) * r );\n\n\t\t\ttan1[ a ].add( sdir );\n\t\t\ttan1[ b ].add( sdir );\n\t\t\ttan1[ c ].add( sdir );\n\n\t\t\ttan2[ a ].add( tdir );\n\t\t\ttan2[ b ].add( tdir );\n\t\t\ttan2[ c ].add( tdir );\n\n\t\t}\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\t\t\tuv = this.faceVertexUvs[ 0 ][ f ]; // use UV layer 0 for tangents\n\n\t\t\thandleTriangle( this, face.a, face.b, face.c, 0, 1, 2 );\n\n\t\t}\n\n\t\tvar faceIndex = [ 'a', 'b', 'c', 'd' ];\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tfor ( i = 0; i < Math.min( face.vertexNormals.length, 3 ); i++ ) {\n\n\t\t\t\tn.copy( face.vertexNormals[ i ] );\n\n\t\t\t\tvertexIndex = face[ faceIndex[ i ] ];\n\n\t\t\t\tt = tan1[ vertexIndex ];\n\n\t\t\t\t// Gram-Schmidt orthogonalize\n\n\t\t\t\ttmp.copy( t );\n\t\t\t\ttmp.sub( n.multiplyScalar( n.dot( t ) ) ).normalize();\n\n\t\t\t\t// Calculate handedness\n\n\t\t\t\ttmp2.crossVectors( face.vertexNormals[ i ], t );\n\t\t\t\ttest = tmp2.dot( tan2[ vertexIndex ] );\n\t\t\t\tw = (test < 0.0) ? -1.0 : 1.0;\n\n\t\t\t\tface.vertexTangents[ i ] = new THREE.Vector4( tmp.x, tmp.y, tmp.z, w );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.hasTangents = true;\n\n\t},\n\n\tcomputeLineDistances: function ( ) {\n\n\t\tvar d = 0;\n\t\tvar vertices = this.vertices;\n\n\t\tfor ( var i = 0, il = vertices.length; i < il; i ++ ) {\n\n\t\t\tif ( i > 0 ) {\n\n\t\t\t\td += vertices[ i ].distanceTo( vertices[ i - 1 ] );\n\n\t\t\t}\n\n\t\t\tthis.lineDistances[ i ] = d;\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new THREE.Box3();\n\n\t\t}\n\n\t\tthis.boundingBox.setFromPoints( this.vertices );\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new THREE.Sphere();\n\n\t\t}\n\n\t\tthis.boundingSphere.setFromPoints( this.vertices );\n\n\t},\n\n\t/*\n\t * Checks for duplicate vertices with hashmap.\n\t * Duplicated vertices are removed\n\t * and faces' vertices are updated.\n\t */\n\n\tmergeVertices: function () {\n\n\t\tvar verticesMap = {}; // Hashmap for looking up vertice by position coordinates (and making sure they are unique)\n\t\tvar unique = [], changes = [];\n\n\t\tvar v, key;\n\t\tvar precisionPoints = 4; // number of decimal points, eg. 4 for epsilon of 0.0001\n\t\tvar precision = Math.pow( 10, precisionPoints );\n\t\tvar i,il, face;\n\t\tvar indices, k, j, jl, u;\n\n\t\tfor ( i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tv = this.vertices[ i ];\n\t\t\tkey = Math.round( v.x * precision ) + '_' + Math.round( v.y * precision ) + '_' + Math.round( v.z * precision );\n\n\t\t\tif ( verticesMap[ key ] === undefined ) {\n\n\t\t\t\tverticesMap[ key ] = i;\n\t\t\t\tunique.push( this.vertices[ i ] );\n\t\t\t\tchanges[ i ] = unique.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\t//console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\n\t\t\t\tchanges[ i ] = changes[ verticesMap[ key ] ];\n\n\t\t\t}\n\n\t\t};\n\n\n\t\t// if faces are completely degenerate after merging vertices, we\n\t\t// have to remove them from the geometry.\n\t\tvar faceIndicesToRemove = [];\n\n\t\tfor( i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tface = this.faces[ i ];\n\n\t\t\tface.a = changes[ face.a ];\n\t\t\tface.b = changes[ face.b ];\n\t\t\tface.c = changes[ face.c ];\n\n\t\t\tindices = [ face.a, face.b, face.c ];\n\n\t\t\tvar dupIndex = -1;\n\n\t\t\t// if any duplicate vertices are found in a Face3\n\t\t\t// we have to remove the face as nothing can be saved\n\t\t\tfor ( var n = 0; n < 3; n ++ ) {\n\t\t\t\tif ( indices[ n ] == indices[ ( n + 1 ) % 3 ] ) {\n\n\t\t\t\t\tdupIndex = n;\n\t\t\t\t\tfaceIndicesToRemove.push( i );\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( i = faceIndicesToRemove.length - 1; i >= 0; i -- ) {\n\t\t\tvar idx = faceIndicesToRemove[ i ];\n\n\t\t\tthis.faces.splice( idx, 1 );\n\n\t\t\tfor ( j = 0, jl = this.faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tthis.faceVertexUvs[ j ].splice( idx, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Use unique set of vertices\n\n\t\tvar diff = this.vertices.length - unique.length;\n\t\tthis.vertices = unique;\n\t\treturn diff;\n\n\t},\n\n\tclone: function () {\n\n\t\tvar geometry = new THREE.Geometry();\n\n\t\tvar vertices = this.vertices;\n\n\t\tfor ( var i = 0, il = vertices.length; i < il; i ++ ) {\n\n\t\t\tgeometry.vertices.push( vertices[ i ].clone() );\n\n\t\t}\n\n\t\tvar faces = this.faces;\n\n\t\tfor ( var i = 0, il = faces.length; i < il; i ++ ) {\n\n\t\t\tgeometry.faces.push( faces[ i ].clone() );\n\n\t\t}\n\n\t\tvar uvs = this.faceVertexUvs[ 0 ];\n\n\t\tfor ( var i = 0, il = uvs.length; i < il; i ++ ) {\n\n\t\t\tvar uv = uvs[ i ], uvCopy = [];\n\n\t\t\tfor ( var j = 0, jl = uv.length; j < jl; j ++ ) {\n\n\t\t\t\tuvCopy.push( new THREE.Vector2( uv[ j ].x, uv[ j ].y ) );\n\n\t\t\t}\n\n\t\t\tgeometry.faceVertexUvs[ 0 ].push( uvCopy );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n};\n\nTHREE.EventDispatcher.prototype.apply( THREE.Geometry.prototype );\n\nTHREE.GeometryIdCount = 0;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.BufferGeometry = function () {\n\n\tthis.id = THREE.GeometryIdCount ++;\n\tthis.uuid = THREE.Math.generateUUID();\n\n\tthis.name = '';\n\n\t// attributes\n\n\tthis.attributes = {};\n\n\t// attributes typed arrays are kept only if dynamic flag is set\n\n\tthis.dynamic = true;\n\n\t// offsets for chunks when using indexed elements\n\n\tthis.offsets = [];\n\n\t// boundings\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\tthis.hasTangents = false;\n\n\t// for compatibility\n\n\tthis.morphTargets = [];\n\n};\n\nTHREE.BufferGeometry.prototype = {\n\n\tconstructor: THREE.BufferGeometry,\n\n\taddAttribute: function( name, type, numItems, itemSize ) {\n\n\t\tthis.attributes[ name ] = {\n\n\t\t\titemSize: itemSize,\n\t\t\tarray: new type( numItems * itemSize )\n\n\t\t};\n\n\t},\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tvar positionArray;\n\t\tvar normalArray;\n\n\t\tif ( this.attributes[ \"position\" ] ) positionArray = this.attributes[ \"position\" ].array;\n\t\tif ( this.attributes[ \"normal\" ] ) normalArray = this.attributes[ \"normal\" ].array;\n\n\t\tif ( positionArray !== undefined ) {\n\n\t\t\tmatrix.multiplyVector3Array( positionArray );\n\t\t\tthis.verticesNeedUpdate = true;\n\n\t\t}\n\n\t\tif ( normalArray !== undefined ) {\n\n\t\t\tvar normalMatrix = new THREE.Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormalMatrix.multiplyVector3Array( normalArray );\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new THREE.Box3();\n\n\t\t}\n\n\t\tvar positions = this.attributes[ \"position\" ].array;\n\n\t\tif ( positions ) {\n\n\t\t\tvar bb = this.boundingBox;\n\t\t\tvar x, y, z;\n\n\t\t\tif( positions.length >= 3 ) {\n\t\t\t\tbb.min.x = bb.max.x = positions[ 0 ];\n\t\t\t\tbb.min.y = bb.max.y = positions[ 1 ];\n\t\t\t\tbb.min.z = bb.max.z = positions[ 2 ];\n\t\t\t}\n\n\t\t\tfor ( var i = 3, il = positions.length; i < il; i += 3 ) {\n\n\t\t\t\tx = positions[ i ];\n\t\t\t\ty = positions[ i + 1 ];\n\t\t\t\tz = positions[ i + 2 ];\n\n\t\t\t\t// bounding box\n\n\t\t\t\tif ( x < bb.min.x ) {\n\n\t\t\t\t\tbb.min.x = x;\n\n\t\t\t\t} else if ( x > bb.max.x ) {\n\n\t\t\t\t\tbb.max.x = x;\n\n\t\t\t\t}\n\n\t\t\t\tif ( y < bb.min.y ) {\n\n\t\t\t\t\tbb.min.y = y;\n\n\t\t\t\t} else if ( y > bb.max.y ) {\n\n\t\t\t\t\tbb.max.y = y;\n\n\t\t\t\t}\n\n\t\t\t\tif ( z < bb.min.z ) {\n\n\t\t\t\t\tbb.min.z = z;\n\n\t\t\t\t} else if ( z > bb.max.z ) {\n\n\t\t\t\t\tbb.max.z = z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( positions === undefined || positions.length === 0 ) {\n\n\t\t\tthis.boundingBox.min.set( 0, 0, 0 );\n\t\t\tthis.boundingBox.max.set( 0, 0, 0 );\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tvar box = new THREE.Box3();\n\t\tvar vector = new THREE.Vector3();\n\n\t\treturn function () {\n\n\t\t\tif ( this.boundingSphere === null ) {\n\n\t\t\t\tthis.boundingSphere = new THREE.Sphere();\n\n\t\t\t}\n\n\t\t\tvar positions = this.attributes[ \"position\" ].array;\n\n\t\t\tif ( positions ) {\n\n\t\t\t\tbox.makeEmpty();\n\n\t\t\t\tvar center = this.boundingSphere.center;\n\n\t\t\t\tfor ( var i = 0, il = positions.length; i < il; i += 3 ) {\n\n\t\t\t\t\tvector.set( positions[ i ], positions[ i + 1 ], positions[ i + 2 ] );\n\t\t\t\t\tbox.addPoint( vector );\n\n\t\t\t\t}\n\n\t\t\t\tbox.center( center );\n\n\t\t\t\tvar maxRadiusSq = 0;\n\n\t\t\t\tfor ( var i = 0, il = positions.length; i < il; i += 3 ) {\n\n\t\t\t\t\tvector.set( positions[ i ], positions[ i + 1 ], positions[ i + 2 ] );\n\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( vector ) );\n\n\t\t\t\t}\n\n\t\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\t}\n\n\t\t}\n\n\t}(),\n\n\tcomputeVertexNormals: function () {\n\n\t\tif ( this.attributes[ \"position\" ] ) {\n\n\t\t\tvar i, il;\n\t\t\tvar j, jl;\n\n\t\t\tvar nVertexElements = this.attributes[ \"position\" ].array.length;\n\n\t\t\tif ( this.attributes[ \"normal\" ] === undefined ) {\n\n\t\t\t\tthis.attributes[ \"normal\" ] = {\n\n\t\t\t\t\titemSize: 3,\n\t\t\t\t\tarray: new Float32Array( nVertexElements )\n\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tfor ( i = 0, il = this.attributes[ \"normal\" ].array.length; i < il; i ++ ) {\n\n\t\t\t\t\tthis.attributes[ \"normal\" ].array[ i ] = 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar positions = this.attributes[ \"position\" ].array;\n\t\t\tvar normals = this.attributes[ \"normal\" ].array;\n\n\t\t\tvar vA, vB, vC, x, y, z,\n\n\t\t\tpA = new THREE.Vector3(),\n\t\t\tpB = new THREE.Vector3(),\n\t\t\tpC = new THREE.Vector3(),\n\n\t\t\tcb = new THREE.Vector3(),\n\t\t\tab = new THREE.Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( this.attributes[ \"index\" ] ) {\n\n\t\t\t\tvar indices = this.attributes[ \"index\" ].array;\n\n\t\t\t\tvar offsets = this.offsets;\n\n\t\t\t\tfor ( j = 0, jl = offsets.length; j < jl; ++ j ) {\n\n\t\t\t\t\tvar start = offsets[ j ].start;\n\t\t\t\t\tvar count = offsets[ j ].count;\n\t\t\t\t\tvar index = offsets[ j ].index;\n\n\t\t\t\t\tfor ( i = start, il = start + count; i < il; i += 3 ) {\n\n\t\t\t\t\t\tvA = index + indices[ i ];\n\t\t\t\t\t\tvB = index + indices[ i + 1 ];\n\t\t\t\t\t\tvC = index + indices[ i + 2 ];\n\n\t\t\t\t\t\tx = positions[ vA * 3 ];\n\t\t\t\t\t\ty = positions[ vA * 3 + 1 ];\n\t\t\t\t\t\tz = positions[ vA * 3 + 2 ];\n\t\t\t\t\t\tpA.set( x, y, z );\n\n\t\t\t\t\t\tx = positions[ vB * 3 ];\n\t\t\t\t\t\ty = positions[ vB * 3 + 1 ];\n\t\t\t\t\t\tz = positions[ vB * 3 + 2 ];\n\t\t\t\t\t\tpB.set( x, y, z );\n\n\t\t\t\t\t\tx = positions[ vC * 3 ];\n\t\t\t\t\t\ty = positions[ vC * 3 + 1 ];\n\t\t\t\t\t\tz = positions[ vC * 3 + 2 ];\n\t\t\t\t\t\tpC.set( x, y, z );\n\n\t\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\t\tnormals[ vA * 3 ]     += cb.x;\n\t\t\t\t\t\tnormals[ vA * 3 + 1 ] += cb.y;\n\t\t\t\t\t\tnormals[ vA * 3 + 2 ] += cb.z;\n\n\t\t\t\t\t\tnormals[ vB * 3 ]     += cb.x;\n\t\t\t\t\t\tnormals[ vB * 3 + 1 ] += cb.y;\n\t\t\t\t\t\tnormals[ vB * 3 + 2 ] += cb.z;\n\n\t\t\t\t\t\tnormals[ vC * 3 ]     += cb.x;\n\t\t\t\t\t\tnormals[ vC * 3 + 1 ] += cb.y;\n\t\t\t\t\t\tnormals[ vC * 3 + 2 ] += cb.z;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t} else {\n\n\t\t\t\tfor ( i = 0, il = positions.length; i < il; i += 9 ) {\n\n\t\t\t\t\tx = positions[ i ];\n\t\t\t\t\ty = positions[ i + 1 ];\n\t\t\t\t\tz = positions[ i + 2 ];\n\t\t\t\t\tpA.set( x, y, z );\n\n\t\t\t\t\tx = positions[ i + 3 ];\n\t\t\t\t\ty = positions[ i + 4 ];\n\t\t\t\t\tz = positions[ i + 5 ];\n\t\t\t\t\tpB.set( x, y, z );\n\n\t\t\t\t\tx = positions[ i + 6 ];\n\t\t\t\t\ty = positions[ i + 7 ];\n\t\t\t\t\tz = positions[ i + 8 ];\n\t\t\t\t\tpC.set( x, y, z );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormals[ i ] \t = cb.x;\n\t\t\t\t\tnormals[ i + 1 ] = cb.y;\n\t\t\t\t\tnormals[ i + 2 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 3 ] = cb.x;\n\t\t\t\t\tnormals[ i + 4 ] = cb.y;\n\t\t\t\t\tnormals[ i + 5 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 6 ] = cb.x;\n\t\t\t\t\tnormals[ i + 7 ] = cb.y;\n\t\t\t\t\tnormals[ i + 8 ] = cb.z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tnormalizeNormals: function () {\n\n\t\tvar normals = this.attributes[ \"normal\" ].array;\n\n\t\tvar x, y, z, n;\n\n\t\tfor ( var i = 0, il = normals.length; i < il; i += 3 ) {\n\n\t\t\tx = normals[ i ];\n\t\t\ty = normals[ i + 1 ];\n\t\t\tz = normals[ i + 2 ];\n\n\t\t\tn = 1.0 / Math.sqrt( x * x + y * y + z * z );\n\n\t\t\tnormals[ i ] \t *= n;\n\t\t\tnormals[ i + 1 ] *= n;\n\t\t\tnormals[ i + 2 ] *= n;\n\n\t\t}\n\n\t},\n\n\tcomputeTangents: function () {\n\n\t\t// based on http://www.terathon.com/code/tangent.html\n\t\t// (per vertex tangents)\n\n\t\tif ( this.attributes[ \"index\" ] === undefined ||\n\t\t\t this.attributes[ \"position\" ] === undefined ||\n\t\t\t this.attributes[ \"normal\" ] === undefined ||\n\t\t\t this.attributes[ \"uv\" ] === undefined ) {\n\n\t\t\tconsole.warn( \"Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()\" );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar indices = this.attributes[ \"index\" ].array;\n\t\tvar positions = this.attributes[ \"position\" ].array;\n\t\tvar normals = this.attributes[ \"normal\" ].array;\n\t\tvar uvs = this.attributes[ \"uv\" ].array;\n\n\t\tvar nVertices = positions.length / 3;\n\n\t\tif ( this.attributes[ \"tangent\" ] === undefined ) {\n\n\t\t\tvar nTangentElements = 4 * nVertices;\n\n\t\t\tthis.attributes[ \"tangent\" ] = {\n\n\t\t\t\titemSize: 4,\n\t\t\t\tarray: new Float32Array( nTangentElements )\n\n\t\t\t};\n\n\t\t}\n\n\t\tvar tangents = this.attributes[ \"tangent\" ].array;\n\n\t\tvar tan1 = [], tan2 = [];\n\n\t\tfor ( var k = 0; k < nVertices; k ++ ) {\n\n\t\t\ttan1[ k ] = new THREE.Vector3();\n\t\t\ttan2[ k ] = new THREE.Vector3();\n\n\t\t}\n\n\t\tvar xA, yA, zA,\n\t\t\txB, yB, zB,\n\t\t\txC, yC, zC,\n\n\t\t\tuA, vA,\n\t\t\tuB, vB,\n\t\t\tuC, vC,\n\n\t\t\tx1, x2, y1, y2, z1, z2,\n\t\t\ts1, s2, t1, t2, r;\n\n\t\tvar sdir = new THREE.Vector3(), tdir = new THREE.Vector3();\n\n\t\tfunction handleTriangle( a, b, c ) {\n\n\t\t\txA = positions[ a * 3 ];\n\t\t\tyA = positions[ a * 3 + 1 ];\n\t\t\tzA = positions[ a * 3 + 2 ];\n\n\t\t\txB = positions[ b * 3 ];\n\t\t\tyB = positions[ b * 3 + 1 ];\n\t\t\tzB = positions[ b * 3 + 2 ];\n\n\t\t\txC = positions[ c * 3 ];\n\t\t\tyC = positions[ c * 3 + 1 ];\n\t\t\tzC = positions[ c * 3 + 2 ];\n\n\t\t\tuA = uvs[ a * 2 ];\n\t\t\tvA = uvs[ a * 2 + 1 ];\n\n\t\t\tuB = uvs[ b * 2 ];\n\t\t\tvB = uvs[ b * 2 + 1 ];\n\n\t\t\tuC = uvs[ c * 2 ];\n\t\t\tvC = uvs[ c * 2 + 1 ];\n\n\t\t\tx1 = xB - xA;\n\t\t\tx2 = xC - xA;\n\n\t\t\ty1 = yB - yA;\n\t\t\ty2 = yC - yA;\n\n\t\t\tz1 = zB - zA;\n\t\t\tz2 = zC - zA;\n\n\t\t\ts1 = uB - uA;\n\t\t\ts2 = uC - uA;\n\n\t\t\tt1 = vB - vA;\n\t\t\tt2 = vC - vA;\n\n\t\t\tr = 1.0 / ( s1 * t2 - s2 * t1 );\n\n\t\t\tsdir.set(\n\t\t\t\t( t2 * x1 - t1 * x2 ) * r,\n\t\t\t\t( t2 * y1 - t1 * y2 ) * r,\n\t\t\t\t( t2 * z1 - t1 * z2 ) * r\n\t\t\t);\n\n\t\t\ttdir.set(\n\t\t\t\t( s1 * x2 - s2 * x1 ) * r,\n\t\t\t\t( s1 * y2 - s2 * y1 ) * r,\n\t\t\t\t( s1 * z2 - s2 * z1 ) * r\n\t\t\t);\n\n\t\t\ttan1[ a ].add( sdir );\n\t\t\ttan1[ b ].add( sdir );\n\t\t\ttan1[ c ].add( sdir );\n\n\t\t\ttan2[ a ].add( tdir );\n\t\t\ttan2[ b ].add( tdir );\n\t\t\ttan2[ c ].add( tdir );\n\n\t\t}\n\n\t\tvar i, il;\n\t\tvar j, jl;\n\t\tvar iA, iB, iC;\n\n\t\tvar offsets = this.offsets;\n\n\t\tfor ( j = 0, jl = offsets.length; j < jl; ++ j ) {\n\n\t\t\tvar start = offsets[ j ].start;\n\t\t\tvar count = offsets[ j ].count;\n\t\t\tvar index = offsets[ j ].index;\n\n\t\t\tfor ( i = start, il = start + count; i < il; i += 3 ) {\n\n\t\t\t\tiA = index + indices[ i ];\n\t\t\t\tiB = index + indices[ i + 1 ];\n\t\t\t\tiC = index + indices[ i + 2 ];\n\n\t\t\t\thandleTriangle( iA, iB, iC );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar tmp = new THREE.Vector3(), tmp2 = new THREE.Vector3();\n\t\tvar n = new THREE.Vector3(), n2 = new THREE.Vector3();\n\t\tvar w, t, test;\n\n\t\tfunction handleVertex( v ) {\n\n\t\t\tn.x = normals[ v * 3 ];\n\t\t\tn.y = normals[ v * 3 + 1 ];\n\t\t\tn.z = normals[ v * 3 + 2 ];\n\n\t\t\tn2.copy( n );\n\n\t\t\tt = tan1[ v ];\n\n\t\t\t// Gram-Schmidt orthogonalize\n\n\t\t\ttmp.copy( t );\n\t\t\ttmp.sub( n.multiplyScalar( n.dot( t ) ) ).normalize();\n\n\t\t\t// Calculate handedness\n\n\t\t\ttmp2.crossVectors( n2, t );\n\t\t\ttest = tmp2.dot( tan2[ v ] );\n\t\t\tw = ( test < 0.0 ) ? -1.0 : 1.0;\n\n\t\t\ttangents[ v * 4 ]     = tmp.x;\n\t\t\ttangents[ v * 4 + 1 ] = tmp.y;\n\t\t\ttangents[ v * 4 + 2 ] = tmp.z;\n\t\t\ttangents[ v * 4 + 3 ] = w;\n\n\t\t}\n\n\t\tfor ( j = 0, jl = offsets.length; j < jl; ++ j ) {\n\n\t\t\tvar start = offsets[ j ].start;\n\t\t\tvar count = offsets[ j ].count;\n\t\t\tvar index = offsets[ j ].index;\n\n\t\t\tfor ( i = start, il = start + count; i < il; i += 3 ) {\n\n\t\t\t\tiA = index + indices[ i ];\n\t\t\t\tiB = index + indices[ i + 1 ];\n\t\t\t\tiC = index + indices[ i + 2 ];\n\n\t\t\t\thandleVertex( iA );\n\t\t\t\thandleVertex( iB );\n\t\t\t\thandleVertex( iC );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.hasTangents = true;\n\t\tthis.tangentsNeedUpdate = true;\n\n\t},\n\n\tclone: function () {\n\n\t\tvar geometry = new THREE.BufferGeometry();\n\n\t\tvar types = [ Int8Array, Uint8Array, Uint8ClampedArray, Int16Array, Uint16Array, Int32Array, Uint32Array, Float32Array, Float64Array ];\n\n\t\tfor ( var attr in this.attributes ) {\n\n\t\t\tvar sourceAttr = this.attributes[ attr ];\n\t\t\tvar sourceArray = sourceAttr.array;\n\n\t\t\tvar attribute = {\n\n\t\t\t\titemSize: sourceAttr.itemSize,\n\t\t\t\tnumItems: sourceAttr.numItems,\n\t\t\t\tarray: null\n\n\t\t\t};\n\n\t\t\tfor ( var i = 0, il = types.length; i < il; i ++ ) {\n\n\t\t\t\tvar type = types[ i ];\n\n\t\t\t\tif ( sourceArray instanceof type ) {\n\n\t\t\t\t\tattribute.array = new type( sourceArray );\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tgeometry.attributes[ attr ] = attribute;\n\n\t\t}\n\n\t\tfor ( var i = 0, il = this.offsets.length; i < il; i ++ ) {\n\n\t\t\tvar offset = this.offsets[ i ];\n\n\t\t\tgeometry.offsets.push( {\n\n\t\t\t\tstart: offset.start,\n\t\t\t\tindex: offset.index,\n\t\t\t\tcount: offset.count\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n};\n\nTHREE.EventDispatcher.prototype.apply( THREE.BufferGeometry.prototype );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author WestLangley / http://github.com/WestLangley\n*/\n\nTHREE.Camera = function () {\n\n\tTHREE.Object3D.call( this );\n\n\tthis.matrixWorldInverse = new THREE.Matrix4();\n\tthis.projectionMatrix = new THREE.Matrix4();\n\n};\n\nTHREE.Camera.prototype = Object.create( THREE.Object3D.prototype );\n\nTHREE.Camera.prototype.lookAt = function () {\n\n\t// This routine does not support cameras with rotated and/or translated parent(s)\n\n\tvar m1 = new THREE.Matrix4();\n\n\treturn function ( vector ) {\n\n\t\tm1.lookAt( this.position, vector, this.up );\n\n\t\tthis.quaternion.setFromRotationMatrix( m1 );\n\n\t};\n\n}();\n\nTHREE.Camera.prototype.clone = function (camera) {\n\n\tif ( camera === undefined ) camera = new THREE.Camera();\n\n\tTHREE.Object3D.prototype.clone.call( this, camera );\n\n\tcamera.matrixWorldInverse.copy( this.matrixWorldInverse );\n\tcamera.projectionMatrix.copy( this.projectionMatrix );\n\n\treturn camera;\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.OrthographicCamera = function ( left, right, top, bottom, near, far ) {\n\n\tTHREE.Camera.call( this );\n\n\tthis.left = left;\n\tthis.right = right;\n\tthis.top = top;\n\tthis.bottom = bottom;\n\n\tthis.near = ( near !== undefined ) ? near : 0.1;\n\tthis.far = ( far !== undefined ) ? far : 2000;\n\n\tthis.updateProjectionMatrix();\n\n};\n\nTHREE.OrthographicCamera.prototype = Object.create( THREE.Camera.prototype );\n\nTHREE.OrthographicCamera.prototype.updateProjectionMatrix = function () {\n\n\tthis.projectionMatrix.makeOrthographic( this.left, this.right, this.top, this.bottom, this.near, this.far );\n\n};\n\nTHREE.OrthographicCamera.prototype.clone = function () {\n\n\tvar camera = new THREE.OrthographicCamera();\n\n\tTHREE.Camera.prototype.clone.call( this, camera );\n\n\tcamera.left = this.left;\n\tcamera.right = this.right;\n\tcamera.top = this.top;\n\tcamera.bottom = this.bottom;\n\t\n\tcamera.near = this.near;\n\tcamera.far = this.far;\n\n\treturn camera;\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author greggman / http://games.greggman.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nTHREE.PerspectiveCamera = function ( fov, aspect, near, far ) {\n\n\tTHREE.Camera.call( this );\n\n\tthis.fov = fov !== undefined ? fov : 50;\n\tthis.aspect = aspect !== undefined ? aspect : 1;\n\tthis.near = near !== undefined ? near : 0.1;\n\tthis.far = far !== undefined ? far : 2000;\n\n\tthis.updateProjectionMatrix();\n\n};\n\nTHREE.PerspectiveCamera.prototype = Object.create( THREE.Camera.prototype );\n\n\n/**\n * Uses Focal Length (in mm) to estimate and set FOV\n * 35mm (fullframe) camera is used if frame size is not specified;\n * Formula based on http://www.bobatkins.com/photography/technical/field_of_view.html\n */\n\nTHREE.PerspectiveCamera.prototype.setLens = function ( focalLength, frameHeight ) {\n\n\tif ( frameHeight === undefined ) frameHeight = 24;\n\n\tthis.fov = 2 * THREE.Math.radToDeg( Math.atan( frameHeight / ( focalLength * 2 ) ) );\n\tthis.updateProjectionMatrix();\n\n}\n\n\n/**\n * Sets an offset in a larger frustum. This is useful for multi-window or\n * multi-monitor/multi-machine setups.\n *\n * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n * the monitors are in grid like this\n *\n *   +---+---+---+\n *   | A | B | C |\n *   +---+---+---+\n *   | D | E | F |\n *   +---+---+---+\n *\n * then for each monitor you would call it like this\n *\n *   var w = 1920;\n *   var h = 1080;\n *   var fullWidth = w * 3;\n *   var fullHeight = h * 2;\n *\n *   --A--\n *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n *   --B--\n *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n *   --C--\n *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n *   --D--\n *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n *   --E--\n *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n *   --F--\n *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n *\n *   Note there is no reason monitors have to be the same size or in a grid.\n */\n\nTHREE.PerspectiveCamera.prototype.setViewOffset = function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\tthis.fullWidth = fullWidth;\n\tthis.fullHeight = fullHeight;\n\tthis.x = x;\n\tthis.y = y;\n\tthis.width = width;\n\tthis.height = height;\n\n\tthis.updateProjectionMatrix();\n\n};\n\n\nTHREE.PerspectiveCamera.prototype.updateProjectionMatrix = function () {\n\n\tif ( this.fullWidth ) {\n\n\t\tvar aspect = this.fullWidth / this.fullHeight;\n\t\tvar top = Math.tan( THREE.Math.degToRad( this.fov * 0.5 ) ) * this.near;\n\t\tvar bottom = -top;\n\t\tvar left = aspect * bottom;\n\t\tvar right = aspect * top;\n\t\tvar width = Math.abs( right - left );\n\t\tvar height = Math.abs( top - bottom );\n\n\t\tthis.projectionMatrix.makeFrustum(\n\t\t\tleft + this.x * width / this.fullWidth,\n\t\t\tleft + ( this.x + this.width ) * width / this.fullWidth,\n\t\t\ttop - ( this.y + this.height ) * height / this.fullHeight,\n\t\t\ttop - this.y * height / this.fullHeight,\n\t\t\tthis.near,\n\t\t\tthis.far\n\t\t);\n\n\t} else {\n\n\t\tthis.projectionMatrix.makePerspective( this.fov, this.aspect, this.near, this.far );\n\n\t}\n\n};\n\nTHREE.PerspectiveCamera.prototype.clone = function () {\n\n\tvar camera = new THREE.PerspectiveCamera();\n\n\tTHREE.Camera.prototype.clone.call( this, camera );\n\n\tcamera.fov = this.fov;\n\tcamera.aspect = this.aspect;\n\tcamera.near = this.near;\n\tcamera.far = this.far;\n\n\treturn camera;\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n \nTHREE.Light = function ( hex ) {\n\n\tTHREE.Object3D.call( this );\n\n\tthis.color = new THREE.Color( hex );\n\n};\n\nTHREE.Light.prototype = Object.create( THREE.Object3D.prototype );\n\nTHREE.Light.prototype.clone = function ( light ) {\n\n\tif ( light === undefined ) light = new THREE.Light();\n\n\tTHREE.Object3D.prototype.clone.call( this, light );\n\n\tlight.color.copy( this.color );\n\n\treturn light;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.AmbientLight = function ( hex ) {\n\n\tTHREE.Light.call( this, hex );\n\n};\n\nTHREE.AmbientLight.prototype = Object.create( THREE.Light.prototype );\n\nTHREE.AmbientLight.prototype.clone = function () {\n\n\tvar light = new THREE.AmbientLight();\n\n\tTHREE.Light.prototype.clone.call( this, light );\n\n\treturn light;\n\n};\n\n/**\n * @author MPanknin / http://www.redplant.de/\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.AreaLight = function ( hex, intensity ) {\n\n\tTHREE.Light.call( this, hex );\n\n\tthis.normal = new THREE.Vector3( 0, -1, 0 );\n\tthis.right = new THREE.Vector3( 1, 0, 0 );\n\n\tthis.intensity = ( intensity !== undefined ) ? intensity : 1;\n\n\tthis.width = 1.0;\n\tthis.height = 1.0;\n\n\tthis.constantAttenuation = 1.5;\n\tthis.linearAttenuation = 0.5;\n\tthis.quadraticAttenuation = 0.1;\n\n};\n\nTHREE.AreaLight.prototype = Object.create( THREE.Light.prototype );\n\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.DirectionalLight = function ( hex, intensity ) {\n\n\tTHREE.Light.call( this, hex );\n\n\tthis.position.set( 0, 1, 0 );\n\tthis.target = new THREE.Object3D();\n\n\tthis.intensity = ( intensity !== undefined ) ? intensity : 1;\n\n\tthis.castShadow = false;\n\tthis.onlyShadow = false;\n\n\t//\n\n\tthis.shadowCameraNear = 50;\n\tthis.shadowCameraFar = 5000;\n\n\tthis.shadowCameraLeft = -500;\n\tthis.shadowCameraRight = 500;\n\tthis.shadowCameraTop = 500;\n\tthis.shadowCameraBottom = -500;\n\n\tthis.shadowCameraVisible = false;\n\n\tthis.shadowBias = 0;\n\tthis.shadowDarkness = 0.5;\n\n\tthis.shadowMapWidth = 512;\n\tthis.shadowMapHeight = 512;\n\n\t//\n\n\tthis.shadowCascade = false;\n\n\tthis.shadowCascadeOffset = new THREE.Vector3( 0, 0, -1000 );\n\tthis.shadowCascadeCount = 2;\n\n\tthis.shadowCascadeBias = [ 0, 0, 0 ];\n\tthis.shadowCascadeWidth = [ 512, 512, 512 ];\n\tthis.shadowCascadeHeight = [ 512, 512, 512 ];\n\n\tthis.shadowCascadeNearZ = [ -1.000, 0.990, 0.998 ];\n\tthis.shadowCascadeFarZ  = [  0.990, 0.998, 1.000 ];\n\n\tthis.shadowCascadeArray = [];\n\n\t//\n\n\tthis.shadowMap = null;\n\tthis.shadowMapSize = null;\n\tthis.shadowCamera = null;\n\tthis.shadowMatrix = null;\n\n};\n\nTHREE.DirectionalLight.prototype = Object.create( THREE.Light.prototype );\n\nTHREE.DirectionalLight.prototype.clone = function () {\n\n\tvar light = new THREE.DirectionalLight();\n\n\tTHREE.Light.prototype.clone.call( this, light );\n\n\tlight.target = this.target.clone();\n\n\tlight.intensity = this.intensity;\n\n\tlight.castShadow = this.castShadow;\n\tlight.onlyShadow = this.onlyShadow;\n\n\treturn light;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.HemisphereLight = function ( skyColorHex, groundColorHex, intensity ) {\n\n\tTHREE.Light.call( this, skyColorHex );\n\n\tthis.position.set( 0, 100, 0 );\n\n\tthis.groundColor = new THREE.Color( groundColorHex );\n\tthis.intensity = ( intensity !== undefined ) ? intensity : 1;\n\n};\n\nTHREE.HemisphereLight.prototype = Object.create( THREE.Light.prototype );\n\nTHREE.HemisphereLight.prototype.clone = function () {\n\n\tvar light = new THREE.HemisphereLight();\n\n\tTHREE.Light.prototype.clone.call( this, light );\n\n\tlight.groundColor.copy( this.groundColor );\n\tlight.intensity = this.intensity;\n\n\treturn light;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.PointLight = function ( hex, intensity, distance ) {\n\n\tTHREE.Light.call( this, hex );\n\n\tthis.intensity = ( intensity !== undefined ) ? intensity : 1;\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\n};\n\nTHREE.PointLight.prototype = Object.create( THREE.Light.prototype );\n\nTHREE.PointLight.prototype.clone = function () {\n\n\tvar light = new THREE.PointLight();\n\n\tTHREE.Light.prototype.clone.call( this, light );\n\n\tlight.intensity = this.intensity;\n\tlight.distance = this.distance;\n\n\treturn light;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.SpotLight = function ( hex, intensity, distance, angle, exponent ) {\n\n\tTHREE.Light.call( this, hex );\n\n\tthis.position.set( 0, 1, 0 );\n\tthis.target = new THREE.Object3D();\n\n\tthis.intensity = ( intensity !== undefined ) ? intensity : 1;\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.angle = ( angle !== undefined ) ? angle : Math.PI / 3;\n\tthis.exponent = ( exponent !== undefined ) ? exponent : 10;\n\n\tthis.castShadow = false;\n\tthis.onlyShadow = false;\n\n\t//\n\n\tthis.shadowCameraNear = 50;\n\tthis.shadowCameraFar = 5000;\n\tthis.shadowCameraFov = 50;\n\n\tthis.shadowCameraVisible = false;\n\n\tthis.shadowBias = 0;\n\tthis.shadowDarkness = 0.5;\n\n\tthis.shadowMapWidth = 512;\n\tthis.shadowMapHeight = 512;\n\n\t//\n\n\tthis.shadowMap = null;\n\tthis.shadowMapSize = null;\n\tthis.shadowCamera = null;\n\tthis.shadowMatrix = null;\n\n};\n\nTHREE.SpotLight.prototype = Object.create( THREE.Light.prototype );\n\nTHREE.SpotLight.prototype.clone = function () {\n\n\tvar light = new THREE.SpotLight();\n\n\tTHREE.Light.prototype.clone.call( this, light );\n\n\tlight.target = this.target.clone();\n\n\tlight.intensity = this.intensity;\n\tlight.distance = this.distance;\n\tlight.angle = this.angle;\n\tlight.exponent = this.exponent;\n\n\tlight.castShadow = this.castShadow;\n\tlight.onlyShadow = this.onlyShadow;\n\n\treturn light;\n\n};\n\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.Loader = function ( showStatus ) {\r\n\r\n\tthis.showStatus = showStatus;\r\n\tthis.statusDomElement = showStatus ? THREE.Loader.prototype.addStatusElement() : null;\r\n\r\n\tthis.onLoadStart = function () {};\r\n\tthis.onLoadProgress = function () {};\r\n\tthis.onLoadComplete = function () {};\r\n\r\n};\r\n\r\nTHREE.Loader.prototype = {\r\n\r\n\tconstructor: THREE.Loader,\r\n\r\n\tcrossOrigin: undefined,\r\n\r\n\taddStatusElement: function () {\r\n\r\n\t\tvar e = document.createElement( \"div\" );\r\n\r\n\t\te.style.position = \"absolute\";\r\n\t\te.style.right = \"0px\";\r\n\t\te.style.top = \"0px\";\r\n\t\te.style.fontSize = \"0.8em\";\r\n\t\te.style.textAlign = \"left\";\r\n\t\te.style.background = \"rgba(0,0,0,0.25)\";\r\n\t\te.style.color = \"#fff\";\r\n\t\te.style.width = \"120px\";\r\n\t\te.style.padding = \"0.5em 0.5em 0.5em 0.5em\";\r\n\t\te.style.zIndex = 1000;\r\n\r\n\t\te.innerHTML = \"Loading ...\";\r\n\r\n\t\treturn e;\r\n\r\n\t},\r\n\r\n\tupdateProgress: function ( progress ) {\r\n\r\n\t\tvar message = \"Loaded \";\r\n\r\n\t\tif ( progress.total ) {\r\n\r\n\t\t\tmessage += ( 100 * progress.loaded / progress.total ).toFixed(0) + \"%\";\r\n\r\n\r\n\t\t} else {\r\n\r\n\t\t\tmessage += ( progress.loaded / 1000 ).toFixed(2) + \" KB\";\r\n\r\n\t\t}\r\n\r\n\t\tthis.statusDomElement.innerHTML = message;\r\n\r\n\t},\r\n\r\n\textractUrlBase: function ( url ) {\r\n\r\n\t\tvar parts = url.split( '/' );\r\n\t\tparts.pop();\r\n\t\treturn ( parts.length < 1 ? '.' : parts.join( '/' ) ) + '/';\r\n\r\n\t},\r\n\r\n\tinitMaterials: function ( materials, texturePath ) {\r\n\r\n\t\tvar array = [];\r\n\r\n\t\tfor ( var i = 0; i < materials.length; ++ i ) {\r\n\r\n\t\t\tarray[ i ] = THREE.Loader.prototype.createMaterial( materials[ i ], texturePath );\r\n\r\n\t\t}\r\n\r\n\t\treturn array;\r\n\r\n\t},\r\n\r\n\tneedsTangents: function ( materials ) {\r\n\r\n\t\tfor( var i = 0, il = materials.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar m = materials[ i ];\r\n\r\n\t\t\tif ( m instanceof THREE.ShaderMaterial ) return true;\r\n\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\r\n\t},\r\n\r\n\tcreateMaterial: function ( m, texturePath ) {\r\n\r\n\t\tvar _this = this;\r\n\r\n\t\tfunction is_pow2( n ) {\r\n\r\n\t\t\tvar l = Math.log( n ) / Math.LN2;\r\n\t\t\treturn Math.floor( l ) == l;\r\n\r\n\t\t}\r\n\r\n\t\tfunction nearest_pow2( n ) {\r\n\r\n\t\t\tvar l = Math.log( n ) / Math.LN2;\r\n\t\t\treturn Math.pow( 2, Math.round(  l ) );\r\n\r\n\t\t}\r\n\r\n\t\tfunction load_image( where, url ) {\r\n\r\n\t\t\tvar image = new Image();\r\n\r\n\t\t\timage.onload = function () {\r\n\r\n\t\t\t\tif ( !is_pow2( this.width ) || !is_pow2( this.height ) ) {\r\n\r\n\t\t\t\t\tvar width = nearest_pow2( this.width );\r\n\t\t\t\t\tvar height = nearest_pow2( this.height );\r\n\r\n\t\t\t\t\twhere.image.width = width;\r\n\t\t\t\t\twhere.image.height = height;\r\n\t\t\t\t\twhere.image.getContext( '2d' ).drawImage( this, 0, 0, width, height );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\twhere.image = this;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\twhere.needsUpdate = true;\r\n\r\n\t\t\t};\r\n\r\n\t\t\tif ( _this.crossOrigin !== undefined ) image.crossOrigin = _this.crossOrigin;\r\n\t\t\timage.src = url;\r\n\r\n\t\t}\r\n\r\n\t\tfunction create_texture( where, name, sourceFile, repeat, offset, wrap, anisotropy ) {\r\n\r\n\t\t\tvar isCompressed = /\\.dds$/i.test( sourceFile );\r\n\t\t\tvar fullPath = texturePath + \"/\" + sourceFile;\r\n\r\n\t\t\tif ( isCompressed ) {\r\n\r\n\t\t\t\tvar texture = THREE.ImageUtils.loadCompressedTexture( fullPath );\r\n\r\n\t\t\t\twhere[ name ] = texture;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar texture = document.createElement( 'canvas' );\r\n\r\n\t\t\t\twhere[ name ] = new THREE.Texture( texture );\r\n\r\n\t\t\t}\r\n\r\n\t\t\twhere[ name ].sourceFile = sourceFile;\r\n\r\n\t\t\tif( repeat ) {\r\n\r\n\t\t\t\twhere[ name ].repeat.set( repeat[ 0 ], repeat[ 1 ] );\r\n\r\n\t\t\t\tif ( repeat[ 0 ] !== 1 ) where[ name ].wrapS = THREE.RepeatWrapping;\r\n\t\t\t\tif ( repeat[ 1 ] !== 1 ) where[ name ].wrapT = THREE.RepeatWrapping;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( offset ) {\r\n\r\n\t\t\t\twhere[ name ].offset.set( offset[ 0 ], offset[ 1 ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( wrap ) {\r\n\r\n\t\t\t\tvar wrapMap = {\r\n\t\t\t\t\t\"repeat\": THREE.RepeatWrapping,\r\n\t\t\t\t\t\"mirror\": THREE.MirroredRepeatWrapping\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( wrapMap[ wrap[ 0 ] ] !== undefined ) where[ name ].wrapS = wrapMap[ wrap[ 0 ] ];\r\n\t\t\t\tif ( wrapMap[ wrap[ 1 ] ] !== undefined ) where[ name ].wrapT = wrapMap[ wrap[ 1 ] ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( anisotropy ) {\r\n\r\n\t\t\t\twhere[ name ].anisotropy = anisotropy;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( ! isCompressed ) {\r\n\r\n\t\t\t\tload_image( where[ name ], fullPath );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction rgb2hex( rgb ) {\r\n\r\n\t\t\treturn ( rgb[ 0 ] * 255 << 16 ) + ( rgb[ 1 ] * 255 << 8 ) + rgb[ 2 ] * 255;\r\n\r\n\t\t}\r\n\r\n\t\t// defaults\r\n\r\n\t\tvar mtype = \"MeshLambertMaterial\";\r\n\t\tvar mpars = { color: 0xeeeeee, opacity: 1.0, map: null, lightMap: null, normalMap: null, bumpMap: null, wireframe: false };\r\n\r\n\t\t// parameters from model file\r\n\r\n\t\tif ( m.shading ) {\r\n\r\n\t\t\tvar shading = m.shading.toLowerCase();\r\n\r\n\t\t\tif ( shading === \"phong\" ) mtype = \"MeshPhongMaterial\";\r\n\t\t\telse if ( shading === \"basic\" ) mtype = \"MeshBasicMaterial\";\r\n\r\n\t\t}\r\n\r\n\t\tif ( m.blending !== undefined && THREE[ m.blending ] !== undefined ) {\r\n\r\n\t\t\tmpars.blending = THREE[ m.blending ];\r\n\r\n\t\t}\r\n\r\n\t\tif ( m.transparent !== undefined || m.opacity < 1.0 ) {\r\n\r\n\t\t\tmpars.transparent = m.transparent;\r\n\r\n\t\t}\r\n\r\n\t\tif ( m.depthTest !== undefined ) {\r\n\r\n\t\t\tmpars.depthTest = m.depthTest;\r\n\r\n\t\t}\r\n\r\n\t\tif ( m.depthWrite !== undefined ) {\r\n\r\n\t\t\tmpars.depthWrite = m.depthWrite;\r\n\r\n\t\t}\r\n\r\n\t\tif ( m.visible !== undefined ) {\r\n\r\n\t\t\tmpars.visible = m.visible;\r\n\r\n\t\t}\r\n\r\n\t\tif ( m.flipSided !== undefined ) {\r\n\r\n\t\t\tmpars.side = THREE.BackSide;\r\n\r\n\t\t}\r\n\r\n\t\tif ( m.doubleSided !== undefined ) {\r\n\r\n\t\t\tmpars.side = THREE.DoubleSide;\r\n\r\n\t\t}\r\n\r\n\t\tif ( m.wireframe !== undefined ) {\r\n\r\n\t\t\tmpars.wireframe = m.wireframe;\r\n\r\n\t\t}\r\n\r\n\t\tif ( m.vertexColors !== undefined ) {\r\n\r\n\t\t\tif ( m.vertexColors === \"face\" ) {\r\n\r\n\t\t\t\tmpars.vertexColors = THREE.FaceColors;\r\n\r\n\t\t\t} else if ( m.vertexColors ) {\r\n\r\n\t\t\t\tmpars.vertexColors = THREE.VertexColors;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// colors\r\n\r\n\t\tif ( m.colorDiffuse ) {\r\n\r\n\t\t\tmpars.color = rgb2hex( m.colorDiffuse );\r\n\r\n\t\t} else if ( m.DbgColor ) {\r\n\r\n\t\t\tmpars.color = m.DbgColor;\r\n\r\n\t\t}\r\n\r\n\t\tif ( m.colorSpecular ) {\r\n\r\n\t\t\tmpars.specular = rgb2hex( m.colorSpecular );\r\n\r\n\t\t}\r\n\r\n\t\tif ( m.colorAmbient ) {\r\n\r\n\t\t\tmpars.ambient = rgb2hex( m.colorAmbient );\r\n\r\n\t\t}\r\n\r\n\t\t// modifiers\r\n\r\n\t\tif ( m.transparency ) {\r\n\r\n\t\t\tmpars.opacity = m.transparency;\r\n\r\n\t\t}\r\n\r\n\t\tif ( m.specularCoef ) {\r\n\r\n\t\t\tmpars.shininess = m.specularCoef;\r\n\r\n\t\t}\r\n\r\n\t\t// textures\r\n\r\n\t\tif ( m.mapDiffuse && texturePath ) {\r\n\r\n\t\t\tcreate_texture( mpars, \"map\", m.mapDiffuse, m.mapDiffuseRepeat, m.mapDiffuseOffset, m.mapDiffuseWrap, m.mapDiffuseAnisotropy );\r\n\r\n\t\t}\r\n\r\n\t\tif ( m.mapLight && texturePath ) {\r\n\r\n\t\t\tcreate_texture( mpars, \"lightMap\", m.mapLight, m.mapLightRepeat, m.mapLightOffset, m.mapLightWrap, m.mapLightAnisotropy );\r\n\r\n\t\t}\r\n\r\n\t\tif ( m.mapBump && texturePath ) {\r\n\r\n\t\t\tcreate_texture( mpars, \"bumpMap\", m.mapBump, m.mapBumpRepeat, m.mapBumpOffset, m.mapBumpWrap, m.mapBumpAnisotropy );\r\n\r\n\t\t}\r\n\r\n\t\tif ( m.mapNormal && texturePath ) {\r\n\r\n\t\t\tcreate_texture( mpars, \"normalMap\", m.mapNormal, m.mapNormalRepeat, m.mapNormalOffset, m.mapNormalWrap, m.mapNormalAnisotropy );\r\n\r\n\t\t}\r\n\r\n\t\tif ( m.mapSpecular && texturePath ) {\r\n\r\n\t\t\tcreate_texture( mpars, \"specularMap\", m.mapSpecular, m.mapSpecularRepeat, m.mapSpecularOffset, m.mapSpecularWrap, m.mapSpecularAnisotropy );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tif ( m.mapBumpScale ) {\r\n\r\n\t\t\tmpars.bumpScale = m.mapBumpScale;\r\n\r\n\t\t}\r\n\r\n\t\t// special case for normal mapped material\r\n\r\n\t\tif ( m.mapNormal ) {\r\n\r\n\t\t\tvar shader = THREE.ShaderLib[ \"normalmap\" ];\r\n\t\t\tvar uniforms = THREE.UniformsUtils.clone( shader.uniforms );\r\n\r\n\t\t\tuniforms[ \"tNormal\" ].value = mpars.normalMap;\r\n\r\n\t\t\tif ( m.mapNormalFactor ) {\r\n\r\n\t\t\t\tuniforms[ \"uNormalScale\" ].value.set( m.mapNormalFactor, m.mapNormalFactor );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( mpars.map ) {\r\n\r\n\t\t\t\tuniforms[ \"tDiffuse\" ].value = mpars.map;\r\n\t\t\t\tuniforms[ \"enableDiffuse\" ].value = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( mpars.specularMap ) {\r\n\r\n\t\t\t\tuniforms[ \"tSpecular\" ].value = mpars.specularMap;\r\n\t\t\t\tuniforms[ \"enableSpecular\" ].value = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( mpars.lightMap ) {\r\n\r\n\t\t\t\tuniforms[ \"tAO\" ].value = mpars.lightMap;\r\n\t\t\t\tuniforms[ \"enableAO\" ].value = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// for the moment don't handle displacement texture\r\n\r\n\t\t\tuniforms[ \"diffuse\" ].value.setHex( mpars.color );\r\n\t\t\tuniforms[ \"specular\" ].value.setHex( mpars.specular );\r\n\t\t\tuniforms[ \"ambient\" ].value.setHex( mpars.ambient );\r\n\r\n\t\t\tuniforms[ \"shininess\" ].value = mpars.shininess;\r\n\r\n\t\t\tif ( mpars.opacity !== undefined ) {\r\n\r\n\t\t\t\tuniforms[ \"opacity\" ].value = mpars.opacity;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar parameters = { fragmentShader: shader.fragmentShader, vertexShader: shader.vertexShader, uniforms: uniforms, lights: true, fog: true };\r\n\t\t\tvar material = new THREE.ShaderMaterial( parameters );\r\n\r\n\t\t\tif ( mpars.transparent ) {\r\n\r\n\t\t\t\tmaterial.transparent = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar material = new THREE[ mtype ]( mpars );\r\n\r\n\t\t}\r\n\r\n\t\tif ( m.DbgName !== undefined ) material.name = m.DbgName;\r\n\r\n\t\treturn material;\r\n\r\n\t}\r\n\r\n};\r\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.XHRLoader = function ( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\n};\n\nTHREE.XHRLoader.prototype = {\n\n\tconstructor: THREE.XHRLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\t\tvar request = new XMLHttpRequest();\n\n\t\tif ( onLoad !== undefined ) {\n\n\t\t\trequest.addEventListener( 'load', function ( event ) {\n\n\t\t\t\tonLoad( event.target.responseText );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t}\n\n\t\tif ( onProgress !== undefined ) {\n\n\t\t\trequest.addEventListener( 'progress', function ( event ) {\n\n\t\t\t\tonProgress( event );\n\n\t\t\t}, false );\n\n\t\t}\n\n\t\tif ( onError !== undefined ) {\n\n\t\t\trequest.addEventListener( 'error', function ( event ) {\n\n\t\t\t\tonError( event );\n\n\t\t\t}, false );\n\n\t\t}\n\n\t\tif ( this.crossOrigin !== undefined ) request.crossOrigin = this.crossOrigin;\n\n\t\trequest.open( 'GET', url, true );\n\t\trequest.send( null );\n\n\t\tscope.manager.itemStart( url );\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.ImageLoader = function ( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\n};\n\nTHREE.ImageLoader.prototype = {\n\n\tconstructor: THREE.ImageLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\t\tvar image = document.createElement( 'img' );\n\n\t\tif ( onLoad !== undefined ) {\n\n\t\t\timage.addEventListener( 'load', function ( event ) {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\t\t\t\tonLoad( this );\n\n\t\t\t}, false );\n\n\t\t}\n\n\t\tif ( onProgress !== undefined ) {\n\n\t\t\timage.addEventListener( 'progress', function ( event ) {\n\n\t\t\t\tonProgress( event );\n\n\t\t\t}, false );\n\n\t\t}\n\n\t\tif ( onError !== undefined ) {\n\n\t\t\timage.addEventListener( 'error', function ( event ) {\n\n\t\t\t\tonError( event );\n\n\t\t\t}, false );\n\n\t\t}\n\n\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\timage.src = url;\n\n\t\tscope.manager.itemStart( url );\n\n\t\treturn image;\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\n\t}\n\n}\n\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.JSONLoader = function ( showStatus ) {\r\n\r\n\tTHREE.Loader.call( this, showStatus );\r\n\r\n\tthis.withCredentials = false;\r\n\r\n};\r\n\r\nTHREE.JSONLoader.prototype = Object.create( THREE.Loader.prototype );\r\n\r\nTHREE.JSONLoader.prototype.load = function ( url, callback, texturePath ) {\r\n\r\n\tvar scope = this;\r\n\r\n\t// todo: unify load API to for easier SceneLoader use\r\n\r\n\ttexturePath = texturePath && ( typeof texturePath === \"string\" ) ? texturePath : this.extractUrlBase( url );\r\n\r\n\tthis.onLoadStart();\r\n\tthis.loadAjaxJSON( this, url, callback, texturePath );\r\n\r\n};\r\n\r\nTHREE.JSONLoader.prototype.loadAjaxJSON = function ( context, url, callback, texturePath, callbackProgress ) {\r\n\r\n\tvar xhr = new XMLHttpRequest();\r\n\r\n\tvar length = 0;\r\n\r\n\txhr.onreadystatechange = function () {\r\n\r\n\t\tif ( xhr.readyState === xhr.DONE ) {\r\n\r\n\t\t\tif ( xhr.status === 200 || xhr.status === 0 ) {\r\n\r\n\t\t\t\tif ( xhr.responseText ) {\r\n\r\n\t\t\t\t\tvar json = JSON.parse( xhr.responseText );\r\n\t\t\t\t\tvar result = context.parse( json, texturePath );\r\n\t\t\t\t\tcallback( result.geometry, result.materials );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn( \"THREE.JSONLoader: [\" + url + \"] seems to be unreachable or file there is empty\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// in context of more complex asset initialization\r\n\t\t\t\t// do not block on single failed file\r\n\t\t\t\t// maybe should go even one more level up\r\n\r\n\t\t\t\tcontext.onLoadComplete();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.error( \"THREE.JSONLoader: Couldn't load [\" + url + \"] [\" + xhr.status + \"]\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( xhr.readyState === xhr.LOADING ) {\r\n\r\n\t\t\tif ( callbackProgress ) {\r\n\r\n\t\t\t\tif ( length === 0 ) {\r\n\r\n\t\t\t\t\tlength = xhr.getResponseHeader( \"Content-Length\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcallbackProgress( { total: length, loaded: xhr.responseText.length } );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( xhr.readyState === xhr.HEADERS_RECEIVED ) {\r\n\r\n\t\t\tif ( callbackProgress !== undefined ) {\r\n\r\n\t\t\t\tlength = xhr.getResponseHeader( \"Content-Length\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\txhr.open( \"GET\", url, true );\r\n\txhr.withCredentials = this.withCredentials;\r\n\txhr.send( null );\r\n\r\n};\r\n\r\nTHREE.JSONLoader.prototype.parse = function ( json, texturePath ) {\r\n\r\n\tvar scope = this,\r\n\tgeometry = new THREE.Geometry(),\r\n\tscale = ( json.scale !== undefined ) ? 1.0 / json.scale : 1.0;\r\n\r\n\tparseModel( scale );\r\n\r\n\tparseSkin();\r\n\tparseMorphing( scale );\r\n\r\n\tgeometry.computeCentroids();\r\n\tgeometry.computeFaceNormals();\r\n\tgeometry.computeBoundingSphere();\r\n\r\n\tfunction parseModel( scale ) {\r\n\r\n\t\tfunction isBitSet( value, position ) {\r\n\r\n\t\t\treturn value & ( 1 << position );\r\n\r\n\t\t}\r\n\r\n\t\tvar i, j, fi,\r\n\r\n\t\toffset, zLength,\r\n\r\n\t\tcolorIndex, normalIndex, uvIndex, materialIndex,\r\n\r\n\t\ttype,\r\n\t\tisQuad,\r\n\t\thasMaterial,\r\n\t\thasFaceVertexUv,\r\n\t\thasFaceNormal, hasFaceVertexNormal,\r\n\t\thasFaceColor, hasFaceVertexColor,\r\n\r\n\t\tvertex, face, faceA, faceB, color, hex, normal,\r\n\r\n\t\tuvLayer, uv, u, v,\r\n\r\n\t\tfaces = json.faces,\r\n\t\tvertices = json.vertices,\r\n\t\tnormals = json.normals,\r\n\t\tcolors = json.colors,\r\n\r\n\t\tnUvLayers = 0;\r\n\r\n\t\tif ( json.uvs !== undefined ) {\r\n\r\n\t\t\t// disregard empty arrays\r\n\r\n\t\t\tfor ( i = 0; i < json.uvs.length; i++ ) {\r\n\r\n\t\t\t\tif ( json.uvs[ i ].length ) nUvLayers ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( i = 0; i < nUvLayers; i++ ) {\r\n\r\n\t\t\t\tgeometry.faceVertexUvs[ i ] = [];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\toffset = 0;\r\n\t\tzLength = vertices.length;\r\n\r\n\t\twhile ( offset < zLength ) {\r\n\r\n\t\t\tvertex = new THREE.Vector3();\r\n\r\n\t\t\tvertex.x = vertices[ offset ++ ] * scale;\r\n\t\t\tvertex.y = vertices[ offset ++ ] * scale;\r\n\t\t\tvertex.z = vertices[ offset ++ ] * scale;\r\n\r\n\t\t\tgeometry.vertices.push( vertex );\r\n\r\n\t\t}\r\n\r\n\t\toffset = 0;\r\n\t\tzLength = faces.length;\r\n\r\n\t\twhile ( offset < zLength ) {\r\n\r\n\t\t\ttype = faces[ offset ++ ];\r\n\r\n\r\n\t\t\tisQuad              = isBitSet( type, 0 );\r\n\t\t\thasMaterial         = isBitSet( type, 1 );\r\n\t\t\thasFaceVertexUv     = isBitSet( type, 3 );\r\n\t\t\thasFaceNormal       = isBitSet( type, 4 );\r\n\t\t\thasFaceVertexNormal = isBitSet( type, 5 );\r\n\t\t\thasFaceColor\t    = isBitSet( type, 6 );\r\n\t\t\thasFaceVertexColor  = isBitSet( type, 7 );\r\n\r\n\t\t\t// console.log(\"type\", type, \"bits\", isQuad, hasMaterial, hasFaceVertexUv, hasFaceNormal, hasFaceVertexNormal, hasFaceColor, hasFaceVertexColor);\r\n\r\n\t\t\tif ( isQuad ) {\r\n\r\n\t\t\t\tfaceA = new THREE.Face3();\r\n\t\t\t\tfaceA.a = faces[ offset ];\r\n\t\t\t\tfaceA.b = faces[ offset + 1 ];\r\n\t\t\t\tfaceA.c = faces[ offset + 3 ];\r\n\r\n\t\t\t\tfaceB = new THREE.Face3();\r\n\t\t\t\tfaceB.a = faces[ offset + 1 ];\r\n\t\t\t\tfaceB.b = faces[ offset + 2 ];\r\n\t\t\t\tfaceB.c = faces[ offset + 3 ];\r\n\r\n\t\t\t\toffset += 4;\r\n\r\n\t\t\t\tif ( hasMaterial ) {\r\n\r\n\t\t\t\t\tmaterialIndex = faces[ offset ++ ];\r\n\t\t\t\t\tfaceA.materialIndex = materialIndex;\r\n\t\t\t\t\tfaceB.materialIndex = materialIndex;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// to get face <=> uv index correspondence\r\n\r\n\t\t\t\tfi = geometry.faces.length;\r\n\r\n\t\t\t\tif ( hasFaceVertexUv ) {\r\n\r\n\t\t\t\t\tfor ( i = 0; i < nUvLayers; i++ ) {\r\n\r\n\t\t\t\t\t\tuvLayer = json.uvs[ i ];\r\n\r\n\t\t\t\t\t\tgeometry.faceVertexUvs[ i ][ fi ] = [];\r\n\t\t\t\t\t\tgeometry.faceVertexUvs[ i ][ fi + 1 ] = []\r\n\r\n\t\t\t\t\t\tfor ( j = 0; j < 4; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tuvIndex = faces[ offset ++ ];\r\n\r\n\t\t\t\t\t\t\tu = uvLayer[ uvIndex * 2 ];\r\n\t\t\t\t\t\t\tv = uvLayer[ uvIndex * 2 + 1 ];\r\n\r\n\t\t\t\t\t\t\tuv = new THREE.Vector2( u, v );\r\n\r\n\t\t\t\t\t\t\tif ( j !== 2 ) geometry.faceVertexUvs[ i ][ fi ].push( uv );\r\n\t\t\t\t\t\t\tif ( j !== 0 ) geometry.faceVertexUvs[ i ][ fi + 1 ].push( uv );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( hasFaceNormal ) {\r\n\r\n\t\t\t\t\tnormalIndex = faces[ offset ++ ] * 3;\r\n\r\n\t\t\t\t\tfaceA.normal.set(\r\n\t\t\t\t\t\tnormals[ normalIndex ++ ],\r\n\t\t\t\t\t\tnormals[ normalIndex ++ ],\r\n\t\t\t\t\t\tnormals[ normalIndex ]\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tfaceB.normal.copy( faceA.normal );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( hasFaceVertexNormal ) {\r\n\r\n\t\t\t\t\tfor ( i = 0; i < 4; i++ ) {\r\n\r\n\t\t\t\t\t\tnormalIndex = faces[ offset ++ ] * 3;\r\n\r\n\t\t\t\t\t\tnormal = new THREE.Vector3(\r\n\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\r\n\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\r\n\t\t\t\t\t\t\tnormals[ normalIndex ]\r\n\t\t\t\t\t\t);\r\n\r\n\r\n\t\t\t\t\t\tif ( i !== 2 ) faceA.vertexNormals.push( normal );\r\n\t\t\t\t\t\tif ( i !== 0 ) faceB.vertexNormals.push( normal );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif ( hasFaceColor ) {\r\n\r\n\t\t\t\t\tcolorIndex = faces[ offset ++ ];\r\n\t\t\t\t\thex = colors[ colorIndex ];\r\n\r\n\t\t\t\t\tfaceA.color.setHex( hex );\r\n\t\t\t\t\tfaceB.color.setHex( hex );\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif ( hasFaceVertexColor ) {\r\n\r\n\t\t\t\t\tfor ( i = 0; i < 4; i++ ) {\r\n\r\n\t\t\t\t\t\tcolorIndex = faces[ offset ++ ];\r\n\t\t\t\t\t\thex = colors[ colorIndex ];\r\n\r\n\t\t\t\t\t\tif ( i !== 2 ) faceA.vertexColors.push( new THREE.Color( hex ) );\r\n\t\t\t\t\t\tif ( i !== 0 ) faceB.vertexColors.push( new THREE.Color( hex ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgeometry.faces.push( faceA );\r\n\t\t\t\tgeometry.faces.push( faceB );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tface = new THREE.Face3();\r\n\t\t\t\tface.a = faces[ offset ++ ];\r\n\t\t\t\tface.b = faces[ offset ++ ];\r\n\t\t\t\tface.c = faces[ offset ++ ];\r\n\r\n\t\t\t\tif ( hasMaterial ) {\r\n\r\n\t\t\t\t\tmaterialIndex = faces[ offset ++ ];\r\n\t\t\t\t\tface.materialIndex = materialIndex;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// to get face <=> uv index correspondence\r\n\r\n\t\t\t\tfi = geometry.faces.length;\r\n\r\n\t\t\t\tif ( hasFaceVertexUv ) {\r\n\r\n\t\t\t\t\tfor ( i = 0; i < nUvLayers; i++ ) {\r\n\r\n\t\t\t\t\t\tuvLayer = json.uvs[ i ];\r\n\r\n\t\t\t\t\t\tgeometry.faceVertexUvs[ i ][ fi ] = [];\r\n\r\n\t\t\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tuvIndex = faces[ offset ++ ];\r\n\r\n\t\t\t\t\t\t\tu = uvLayer[ uvIndex * 2 ];\r\n\t\t\t\t\t\t\tv = uvLayer[ uvIndex * 2 + 1 ];\r\n\r\n\t\t\t\t\t\t\tuv = new THREE.Vector2( u, v );\r\n\r\n\t\t\t\t\t\t\tgeometry.faceVertexUvs[ i ][ fi ].push( uv );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( hasFaceNormal ) {\r\n\r\n\t\t\t\t\tnormalIndex = faces[ offset ++ ] * 3;\r\n\r\n\t\t\t\t\tface.normal.set(\r\n\t\t\t\t\t\tnormals[ normalIndex ++ ],\r\n\t\t\t\t\t\tnormals[ normalIndex ++ ],\r\n\t\t\t\t\t\tnormals[ normalIndex ]\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( hasFaceVertexNormal ) {\r\n\r\n\t\t\t\t\tfor ( i = 0; i < 3; i++ ) {\r\n\r\n\t\t\t\t\t\tnormalIndex = faces[ offset ++ ] * 3;\r\n\r\n\t\t\t\t\t\tnormal = new THREE.Vector3(\r\n\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\r\n\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\r\n\t\t\t\t\t\t\tnormals[ normalIndex ]\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tface.vertexNormals.push( normal );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif ( hasFaceColor ) {\r\n\r\n\t\t\t\t\tcolorIndex = faces[ offset ++ ];\r\n\t\t\t\t\tface.color.setHex( colors[ colorIndex ] );\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif ( hasFaceVertexColor ) {\r\n\r\n\t\t\t\t\tfor ( i = 0; i < 3; i++ ) {\r\n\r\n\t\t\t\t\t\tcolorIndex = faces[ offset ++ ];\r\n\t\t\t\t\t\tface.vertexColors.push( new THREE.Color( colors[ colorIndex ] ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgeometry.faces.push( face );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tfunction parseSkin() {\r\n\r\n\t\tvar i, l, x, y, z, w, a, b, c, d;\r\n\r\n\t\tif ( json.skinWeights ) {\r\n\r\n\t\t\tfor ( i = 0, l = json.skinWeights.length; i < l; i += 2 ) {\r\n\r\n\t\t\t\tx = json.skinWeights[ i     ];\r\n\t\t\t\ty = json.skinWeights[ i + 1 ];\r\n\t\t\t\tz = 0;\r\n\t\t\t\tw = 0;\r\n\r\n\t\t\t\tgeometry.skinWeights.push( new THREE.Vector4( x, y, z, w ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( json.skinIndices ) {\r\n\r\n\t\t\tfor ( i = 0, l = json.skinIndices.length; i < l; i += 2 ) {\r\n\r\n\t\t\t\ta = json.skinIndices[ i     ];\r\n\t\t\t\tb = json.skinIndices[ i + 1 ];\r\n\t\t\t\tc = 0;\r\n\t\t\t\td = 0;\r\n\r\n\t\t\t\tgeometry.skinIndices.push( new THREE.Vector4( a, b, c, d ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tgeometry.bones = json.bones;\r\n\t\t// could change this to json.animations[0] or remove completely\r\n\t\tgeometry.animation = json.animation;\r\n\t\tgeometry.animations = json.animations;\r\n\t};\r\n\r\n\tfunction parseMorphing( scale ) {\r\n\r\n\t\tif ( json.morphTargets !== undefined ) {\r\n\r\n\t\t\tvar i, l, v, vl, dstVertices, srcVertices;\r\n\r\n\t\t\tfor ( i = 0, l = json.morphTargets.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tgeometry.morphTargets[ i ] = {};\r\n\t\t\t\tgeometry.morphTargets[ i ].name = json.morphTargets[ i ].name;\r\n\t\t\t\tgeometry.morphTargets[ i ].vertices = [];\r\n\r\n\t\t\t\tdstVertices = geometry.morphTargets[ i ].vertices;\r\n\t\t\t\tsrcVertices = json.morphTargets [ i ].vertices;\r\n\r\n\t\t\t\tfor( v = 0, vl = srcVertices.length; v < vl; v += 3 ) {\r\n\r\n\t\t\t\t\tvar vertex = new THREE.Vector3();\r\n\t\t\t\t\tvertex.x = srcVertices[ v ] * scale;\r\n\t\t\t\t\tvertex.y = srcVertices[ v + 1 ] * scale;\r\n\t\t\t\t\tvertex.z = srcVertices[ v + 2 ] * scale;\r\n\r\n\t\t\t\t\tdstVertices.push( vertex );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( json.morphColors !== undefined ) {\r\n\r\n\t\t\tvar i, l, c, cl, dstColors, srcColors, color;\r\n\r\n\t\t\tfor ( i = 0, l = json.morphColors.length; i < l; i++ ) {\r\n\r\n\t\t\t\tgeometry.morphColors[ i ] = {};\r\n\t\t\t\tgeometry.morphColors[ i ].name = json.morphColors[ i ].name;\r\n\t\t\t\tgeometry.morphColors[ i ].colors = [];\r\n\r\n\t\t\t\tdstColors = geometry.morphColors[ i ].colors;\r\n\t\t\t\tsrcColors = json.morphColors [ i ].colors;\r\n\r\n\t\t\t\tfor ( c = 0, cl = srcColors.length; c < cl; c += 3 ) {\r\n\r\n\t\t\t\t\tcolor = new THREE.Color( 0xffaa00 );\r\n\t\t\t\t\tcolor.setRGB( srcColors[ c ], srcColors[ c + 1 ], srcColors[ c + 2 ] );\r\n\t\t\t\t\tdstColors.push( color );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tif ( json.materials === undefined ) {\r\n\r\n\t\treturn { geometry: geometry };\r\n\r\n\t} else {\r\n\r\n\t\tvar materials = this.initMaterials( json.materials, texturePath );\r\n\r\n\t\tif ( this.needsTangents( materials ) ) {\r\n\r\n\t\t\tgeometry.computeTangents();\r\n\r\n\t\t}\r\n\r\n\t\treturn { geometry: geometry, materials: materials };\r\n\r\n\t}\r\n\r\n};\r\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.LoadingManager = function ( onLoad, onProgress, onError ) {\n\n\tvar scope = this;\n\n\tvar loaded = 0, total = 0;\n\n\tthis.onLoad = onLoad;\n\tthis.onProgress = onProgress;\n\tthis.onError = onError;\n\n\tthis.itemStart = function ( url ) {\n\n\t\ttotal ++;\n\n\t};\n\n\tthis.itemEnd = function ( url ) {\n\n\t\tloaded ++;\n\n\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\tscope.onProgress( url, loaded, total );\n\n\t\t}\n\n\t\tif ( loaded === total && scope.onLoad !== undefined ) {\n\n\t\t\tscope.onLoad();\n\n\t\t}\n\n\t};\n\n};\n\nTHREE.DefaultLoadingManager = new THREE.LoadingManager();\n\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.BufferGeometryLoader = function ( manager ) {\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\r\n\r\n};\r\n\r\nTHREE.BufferGeometryLoader.prototype = {\r\n\r\n\tconstructor: THREE.BufferGeometryLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar loader = new THREE.XHRLoader();\r\n\t\tloader.setCrossOrigin( this.crossOrigin );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\r\n\r\n\t\t} );\r\n\r\n\t},\r\n\r\n\tsetCrossOrigin: function ( value ) {\r\n\r\n\t\tthis.crossOrigin = value;\r\n\r\n\t},\r\n\r\n\tparse: function ( json ) {\r\n\r\n\t\tvar geometry = new THREE.BufferGeometry();\r\n\r\n\t\tvar attributes = json.attributes;\r\n\t\tvar offsets = json.offsets;\r\n\t\tvar boundingSphere = json.boundingSphere;\r\n\r\n\t\tfor ( var key in attributes ) {\r\n\r\n\t\t\tvar attribute = attributes[ key ];\r\n\r\n\t\t\tgeometry.attributes[ key ] = {\r\n\t\t\t\titemSize: attribute.itemSize,\r\n\t\t\t\tarray: new self[ attribute.type ]( attribute.array )\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( offsets !== undefined ) {\r\n\r\n\t\t\tgeometry.offsets = JSON.parse( JSON.stringify( offsets ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( boundingSphere !== undefined ) {\r\n\r\n\t\t\tgeometry.boundingSphere = new THREE.Sphere(\r\n\t\t\t\tnew THREE.Vector3().fromArray( boundingSphere.center !== undefined ? boundingSphere.center : [ 0, 0, 0 ] ),\r\n\t\t\t\tboundingSphere.radius\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\treturn geometry;\r\n\r\n\t}\r\n\r\n};\r\n\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.GeometryLoader = function ( manager ) {\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\r\n\r\n};\r\n\r\nTHREE.GeometryLoader.prototype = {\r\n\r\n\tconstructor: THREE.GeometryLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar loader = new THREE.XHRLoader();\r\n\t\tloader.setCrossOrigin( this.crossOrigin );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\r\n\r\n\t\t} );\r\n\r\n\t},\r\n\r\n\tsetCrossOrigin: function ( value ) {\r\n\r\n\t\tthis.crossOrigin = value;\r\n\r\n\t},\r\n\r\n\tparse: function ( json ) {\r\n\r\n\t\t\r\n\r\n\t}\r\n\r\n};\r\n\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nTHREE.MaterialLoader = function ( manager ) {\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\r\n\r\n};\r\n\r\nTHREE.MaterialLoader.prototype = {\r\n\r\n\tconstructor: THREE.MaterialLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar loader = new THREE.XHRLoader();\r\n\t\tloader.setCrossOrigin( this.crossOrigin );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\r\n\r\n\t\t} );\r\n\r\n\t},\r\n\r\n\tsetCrossOrigin: function ( value ) {\r\n\r\n\t\tthis.crossOrigin = value;\r\n\r\n\t},\r\n\r\n\tparse: function ( json ) {\r\n\r\n\t\tvar material = new THREE[ json.type ];\r\n\r\n\t\tif ( json.color !== undefined ) material.color.setHex( json.color );\r\n\t\tif ( json.ambient !== undefined ) material.ambient.setHex( json.ambient );\r\n\t\tif ( json.emissive !== undefined ) material.emissive.setHex( json.emissive );\r\n\t\tif ( json.specular !== undefined ) material.specular.setHex( json.specular );\r\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\r\n\t\tif ( json.vertexColors !== undefined ) material.vertexColors = json.vertexColors;\r\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\r\n\t\tif ( json.side !== undefined ) material.side = json.side;\r\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\r\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\r\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\r\n\r\n\t\tif ( json.materials !== undefined ) {\r\n\r\n\t\t\tfor ( var i = 0, l = json.materials.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tmaterial.materials.push( this.parse( json.materials[ i ] ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn material;\r\n\r\n\t}\r\n\r\n};\r\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.ObjectLoader = function ( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\n};\n\nTHREE.ObjectLoader.prototype = {\n\n\tconstructor: THREE.ObjectLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new THREE.XHRLoader( scope.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t} );\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar geometries = this.parseGeometries( json.geometries );\n\t\tvar materials = this.parseMaterials( json.materials );\n\t\tvar object = this.parseObject( json.object, geometries, materials );\n\n\t\treturn object;\n\n\t},\n\n\tparseGeometries: function ( json ) {\n\n\t\tvar geometries = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tvar geometryLoader = new THREE.JSONLoader();\n\t\t\tvar bufferGeometryLoader = new THREE.BufferGeometryLoader();\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar geometry;\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tswitch ( data.type ) {\n\n\t\t\t\t\tcase 'PlaneGeometry':\n\n\t\t\t\t\t\tgeometry = new THREE.PlaneGeometry(\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CircleGeometry':\n\n\t\t\t\t\t\tgeometry = new THREE.CircleGeometry(\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.segments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CubeGeometry':\n\n\t\t\t\t\t\tgeometry = new THREE.CubeGeometry(\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.depth,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.depthSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CylinderGeometry':\n\n\t\t\t\t\t\tgeometry = new THREE.CylinderGeometry(\n\t\t\t\t\t\t\tdata.radiusTop,\n\t\t\t\t\t\t\tdata.radiusBottom,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SphereGeometry':\n\n\t\t\t\t\t\tgeometry = new THREE.SphereGeometry(\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'IcosahedronGeometry':\n\n\t\t\t\t\t\tgeometry = new THREE.IcosahedronGeometry(\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.detail\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusGeometry':\n\n\t\t\t\t\t\tgeometry = new THREE.TorusGeometry(\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.arc\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusKnotGeometry':\n\n\t\t\t\t\t\tgeometry = new THREE.TorusKnotGeometry(\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.p,\n\t\t\t\t\t\t\tdata.q,\n\t\t\t\t\t\t\tdata.heightScale\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BufferGeometry':\n\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data.data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Geometry':\n\n\t\t\t\t\t\tgeometry = geometryLoader.parse( data.data ).geometry;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\n\t\t\t\tgeometries[ data.uuid ] = geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t},\n\n\tparseMaterials: function ( json ) {\n\n\t\tvar materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tvar loader = new THREE.MaterialLoader();\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar data = json[ i ];\n\t\t\t\tvar material = loader.parse( data );\n\n\t\t\t\tmaterial.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) material.name = data.name;\n\n\t\t\t\tmaterials[ data.uuid ] = material;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t},\n\n\tparseObject: function () {\n\n\t\tvar matrix = new THREE.Matrix4();\n\n\t\treturn function ( data, geometries, materials ) {\n\n\t\t\tvar object;\n\n\t\t\tswitch ( data.type ) {\n\n\t\t\t\tcase 'Scene':\n\n\t\t\t\t\tobject = new THREE.Scene();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PerspectiveCamera':\n\n\t\t\t\t\tobject = new THREE.PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'OrthographicCamera':\n\n\t\t\t\t\tobject = new THREE.OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'AmbientLight':\n\n\t\t\t\t\tobject = new THREE.AmbientLight( data.color );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'DirectionalLight':\n\n\t\t\t\t\tobject = new THREE.DirectionalLight( data.color, data.intensity );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\n\t\t\t\t\tobject = new THREE.PointLight( data.color, data.intensity, data.distance );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\n\t\t\t\t\tobject = new THREE.SpotLight( data.color, data.intensity, data.distance, data.angle, data.exponent );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\n\t\t\t\t\tobject = new THREE.HemisphereLight( data.color, data.groundColor, data.intensity );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Mesh':\n\n\t\t\t\t\tvar geometry = geometries[ data.geometry ];\n\t\t\t\t\tvar material = materials[ data.material ];\n\n\t\t\t\t\tif ( geometry === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.ObjectLoader: Undefined geometry ' + data.geometry );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( material === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.ObjectLoader: Undefined material ' + data.material );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobject = new THREE.Mesh( geometry, material );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Sprite':\n\n\t\t\t\t\tvar material = materials[ data.material ];\n\n\t\t\t\t\tif ( material === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.ObjectLoader: Undefined material ' + data.material );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobject = new THREE.Sprite( material );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tobject = new THREE.Object3D();\n\n\t\t\t}\n\n\t\t\tobject.uuid = data.uuid;\n\n\t\t\tif ( data.name !== undefined ) object.name = data.name;\n\t\t\tif ( data.matrix !== undefined ) {\n\n\t\t\t\tmatrix.fromArray( data.matrix );\n\t\t\t\tmatrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t\t} else {\n\n\t\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n\t\t\t}\n\n\t\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\n\t\t\tif ( data.children !== undefined ) {\n\n\t\t\t\tfor ( var child in data.children ) {\n\n\t\t\t\t\tobject.add( this.parseObject( data.children[ child ], geometries, materials ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn object;\n\n\t\t}\n\n\t}()\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.SceneLoader = function () {\n\n\tthis.onLoadStart = function () {};\n\tthis.onLoadProgress = function() {};\n\tthis.onLoadComplete = function () {};\n\n\tthis.callbackSync = function () {};\n\tthis.callbackProgress = function () {};\n\n\tthis.geometryHandlers = {};\n\tthis.hierarchyHandlers = {};\n\n\tthis.addGeometryHandler( \"ascii\", THREE.JSONLoader );\n\n};\n\nTHREE.SceneLoader.prototype = {\n\n\tconstructor: THREE.SceneLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new THREE.XHRLoader( scope.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tscope.parse( JSON.parse( text ), onLoad, url );\n\n\t\t} );\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\n\t},\n\n\taddGeometryHandler: function ( typeID, loaderClass ) {\n\n\t\tthis.geometryHandlers[ typeID ] = { \"loaderClass\": loaderClass };\n\n\t},\n\n\taddHierarchyHandler: function ( typeID, loaderClass ) {\n\n\t\tthis.hierarchyHandlers[ typeID ] = { \"loaderClass\": loaderClass };\n\n\t},\n\n\tparse: function ( json, callbackFinished, url ) {\n\n\t\tvar scope = this;\n\n\t\tvar urlBase = THREE.Loader.prototype.extractUrlBase( url );\n\n\t\tvar geometry, material, camera, fog,\n\t\t\ttexture, images, color,\n\t\t\tlight, hex, intensity,\n\t\t\tcounter_models, counter_textures,\n\t\t\ttotal_models, total_textures,\n\t\t\tresult;\n\n\t\tvar target_array = [];\n\n\t\tvar data = json;\n\n\t\t// async geometry loaders\n\n\t\tfor ( var typeID in this.geometryHandlers ) {\n\n\t\t\tvar loaderClass = this.geometryHandlers[ typeID ][ \"loaderClass\" ];\n\t\t\tthis.geometryHandlers[ typeID ][ \"loaderObject\" ] = new loaderClass();\n\n\t\t}\n\n\t\t// async hierachy loaders\n\n\t\tfor ( var typeID in this.hierarchyHandlers ) {\n\n\t\t\tvar loaderClass = this.hierarchyHandlers[ typeID ][ \"loaderClass\" ];\n\t\t\tthis.hierarchyHandlers[ typeID ][ \"loaderObject\" ] = new loaderClass();\n\n\t\t}\n\n\t\tcounter_models = 0;\n\t\tcounter_textures = 0;\n\n\t\tresult = {\n\n\t\t\tscene: new THREE.Scene(),\n\t\t\tgeometries: {},\n\t\t\tface_materials: {},\n\t\t\tmaterials: {},\n\t\t\ttextures: {},\n\t\t\tobjects: {},\n\t\t\tcameras: {},\n\t\t\tlights: {},\n\t\t\tfogs: {},\n\t\t\tempties: {},\n\t\t\tgroups: {}\n\n\t\t};\n\n\t\tif ( data.transform ) {\n\n\t\t\tvar position = data.transform.position,\n\t\t\t\trotation = data.transform.rotation,\n\t\t\t\tscale = data.transform.scale;\n\n\t\t\tif ( position ) {\n\n\t\t\t\tresult.scene.position.fromArray( position );\n\n\t\t\t}\n\n\t\t\tif ( rotation ) {\n\n\t\t\t\tresult.scene.rotation.fromArray( rotation );\n\n\t\t\t}\n\n\t\t\tif ( scale ) {\n\n\t\t\t\tresult.scene.scale.fromArray( scale );\n\n\t\t\t}\n\n\t\t\tif ( position || rotation || scale ) {\n\n\t\t\t\tresult.scene.updateMatrix();\n\t\t\t\tresult.scene.updateMatrixWorld();\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction get_url( source_url, url_type ) {\n\n\t\t\tif ( url_type == \"relativeToHTML\" ) {\n\n\t\t\t\treturn source_url;\n\n\t\t\t} else {\n\n\t\t\t\treturn urlBase + \"/\" + source_url;\n\n\t\t\t}\n\n\t\t};\n\n\t\t// toplevel loader function, delegates to handle_children\n\n\t\tfunction handle_objects() {\n\n\t\t\thandle_children( result.scene, data.objects );\n\n\t\t}\n\n\t\t// handle all the children from the loaded json and attach them to given parent\n\n\t\tfunction handle_children( parent, children ) {\n\n\t\t\tvar mat, dst, pos, rot, scl, quat;\n\n\t\t\tfor ( var objID in children ) {\n\n\t\t\t\t// check by id if child has already been handled,\n\t\t\t\t// if not, create new object\n\n\t\t\t\tvar object = result.objects[ objID ];\n\t\t\t\tvar objJSON = children[ objID ];\n\n\t\t\t\tif ( object === undefined ) {\n\n\t\t\t\t\t// meshes\n\n\t\t\t\t\tif ( objJSON.type && ( objJSON.type in scope.hierarchyHandlers ) ) {\n\n\t\t\t\t\t\tif ( objJSON.loading === undefined ) {\n\n\t\t\t\t\t\t\tvar reservedTypes = {\n\t\t\t\t\t\t\t\t\"type\": 1, \"url\": 1, \"material\": 1,\n\t\t\t\t\t\t\t\t\"position\": 1, \"rotation\": 1, \"scale\" : 1,\n\t\t\t\t\t\t\t\t\"visible\": 1, \"children\": 1, \"userData\": 1,\n\t\t\t\t\t\t\t\t\"skin\": 1, \"morph\": 1, \"mirroredLoop\": 1, \"duration\": 1\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tvar loaderParameters = {};\n\n\t\t\t\t\t\t\tfor ( var parType in objJSON ) {\n\n\t\t\t\t\t\t\t\tif ( ! ( parType in reservedTypes ) ) {\n\n\t\t\t\t\t\t\t\t\tloaderParameters[ parType ] = objJSON[ parType ];\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tmaterial = result.materials[ objJSON.material ];\n\n\t\t\t\t\t\t\tobjJSON.loading = true;\n\n\t\t\t\t\t\t\tvar loader = scope.hierarchyHandlers[ objJSON.type ][ \"loaderObject\" ];\n\n\t\t\t\t\t\t\t// ColladaLoader\n\n\t\t\t\t\t\t\tif ( loader.options ) {\n\n\t\t\t\t\t\t\t\tloader.load( get_url( objJSON.url, data.urlBaseType ), create_callback_hierachy( objID, parent, material, objJSON ) );\n\n\t\t\t\t\t\t\t// UTF8Loader\n\t\t\t\t\t\t\t// OBJLoader\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tloader.load( get_url( objJSON.url, data.urlBaseType ), create_callback_hierachy( objID, parent, material, objJSON ), loaderParameters );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( objJSON.geometry !== undefined ) {\n\n\t\t\t\t\t\tgeometry = result.geometries[ objJSON.geometry ];\n\n\t\t\t\t\t\t// geometry already loaded\n\n\t\t\t\t\t\tif ( geometry ) {\n\n\t\t\t\t\t\t\tvar needsTangents = false;\n\n\t\t\t\t\t\t\tmaterial = result.materials[ objJSON.material ];\n\t\t\t\t\t\t\tneedsTangents = material instanceof THREE.ShaderMaterial;\n\n\t\t\t\t\t\t\tpos = objJSON.position;\n\t\t\t\t\t\t\trot = objJSON.rotation;\n\t\t\t\t\t\t\tscl = objJSON.scale;\n\t\t\t\t\t\t\tmat = objJSON.matrix;\n\t\t\t\t\t\t\tquat = objJSON.quaternion;\n\n\t\t\t\t\t\t\t// use materials from the model file\n\t\t\t\t\t\t\t// if there is no material specified in the object\n\n\t\t\t\t\t\t\tif ( ! objJSON.material ) {\n\n\t\t\t\t\t\t\t\tmaterial = new THREE.MeshFaceMaterial( result.face_materials[ objJSON.geometry ] );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// use materials from the model file\n\t\t\t\t\t\t\t// if there is just empty face material\n\t\t\t\t\t\t\t// (must create new material as each model has its own face material)\n\n\t\t\t\t\t\t\tif ( ( material instanceof THREE.MeshFaceMaterial ) && material.materials.length === 0 ) {\n\n\t\t\t\t\t\t\t\tmaterial = new THREE.MeshFaceMaterial( result.face_materials[ objJSON.geometry ] );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( material instanceof THREE.MeshFaceMaterial ) {\n\n\t\t\t\t\t\t\t\tfor ( var i = 0; i < material.materials.length; i ++ ) {\n\n\t\t\t\t\t\t\t\t\tneedsTangents = needsTangents || ( material.materials[ i ] instanceof THREE.ShaderMaterial );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( needsTangents ) {\n\n\t\t\t\t\t\t\t\tgeometry.computeTangents();\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( objJSON.skin ) {\n\n\t\t\t\t\t\t\t\tobject = new THREE.SkinnedMesh( geometry, material );\n\n\t\t\t\t\t\t\t} else if ( objJSON.morph ) {\n\n\t\t\t\t\t\t\t\tobject = new THREE.MorphAnimMesh( geometry, material );\n\n\t\t\t\t\t\t\t\tif ( objJSON.duration !== undefined ) {\n\n\t\t\t\t\t\t\t\t\tobject.duration = objJSON.duration;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif ( objJSON.time !== undefined ) {\n\n\t\t\t\t\t\t\t\t\tobject.time = objJSON.time;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif ( objJSON.mirroredLoop !== undefined ) {\n\n\t\t\t\t\t\t\t\t\tobject.mirroredLoop = objJSON.mirroredLoop;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif ( material.morphNormals ) {\n\n\t\t\t\t\t\t\t\t\tgeometry.computeMorphNormals();\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tobject = new THREE.Mesh( geometry, material );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tobject.name = objID;\n\n\t\t\t\t\t\t\tif ( mat ) {\n\n\t\t\t\t\t\t\t\tobject.matrixAutoUpdate = false;\n\t\t\t\t\t\t\t\tobject.matrix.set(\n\t\t\t\t\t\t\t\t\tmat[0],  mat[1],  mat[2],  mat[3],\n\t\t\t\t\t\t\t\t\tmat[4],  mat[5],  mat[6],  mat[7],\n\t\t\t\t\t\t\t\t\tmat[8],  mat[9],  mat[10], mat[11],\n\t\t\t\t\t\t\t\t\tmat[12], mat[13], mat[14], mat[15]\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tobject.position.fromArray( pos );\n\n\t\t\t\t\t\t\t\tif ( quat ) {\n\n\t\t\t\t\t\t\t\t\tobject.quaternion.fromArray( quat );\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tobject.rotation.fromArray( rot );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tobject.scale.fromArray( scl );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tobject.visible = objJSON.visible;\n\t\t\t\t\t\t\tobject.castShadow = objJSON.castShadow;\n\t\t\t\t\t\t\tobject.receiveShadow = objJSON.receiveShadow;\n\n\t\t\t\t\t\t\tparent.add( object );\n\n\t\t\t\t\t\t\tresult.objects[ objID ] = object;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// lights\n\n\t\t\t\t\t} else if ( objJSON.type === \"AmbientLight\" || objJSON.type === \"PointLight\" ||\n\t\t\t\t\t\tobjJSON.type === \"DirectionalLight\" || objJSON.type === \"SpotLight\" ||\n\t\t\t\t\t\tobjJSON.type === \"HemisphereLight\" || objJSON.type === \"AreaLight\" ) {\n\n\t\t\t\t\t\tvar color = objJSON.color;\n\t\t\t\t\t\tvar intensity = objJSON.intensity;\n\t\t\t\t\t\tvar distance = objJSON.distance;\n\t\t\t\t\t\tvar position = objJSON.position;\n\t\t\t\t\t\tvar rotation = objJSON.rotation;\n\n\t\t\t\t\t\tswitch ( objJSON.type ) {\n\n\t\t\t\t\t\t\tcase 'AmbientLight':\n\t\t\t\t\t\t\t\tlight = new THREE.AmbientLight( color );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'PointLight':\n\t\t\t\t\t\t\t\tlight = new THREE.PointLight( color, intensity, distance );\n\t\t\t\t\t\t\t\tlight.position.fromArray( position );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\t\t\t\tlight = new THREE.DirectionalLight( color, intensity );\n\t\t\t\t\t\t\t\tlight.position.fromArray( objJSON.direction );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'SpotLight':\n\t\t\t\t\t\t\t\tlight = new THREE.SpotLight( color, intensity, distance, 1 );\n\t\t\t\t\t\t\t\tlight.angle = objJSON.angle;\n\t\t\t\t\t\t\t\tlight.position.fromArray( position );\n\t\t\t\t\t\t\t\tlight.target.set( position[ 0 ], position[ 1 ] - distance, position[ 2 ] );\n\t\t\t\t\t\t\t\tlight.target.applyEuler( new THREE.Euler( rotation[ 0 ], rotation[ 1 ], rotation[ 2 ], 'XYZ' ) );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\t\t\t\tlight = new THREE.DirectionalLight( color, intensity, distance );\n\t\t\t\t\t\t\t\tlight.target.set( position[ 0 ], position[ 1 ] - distance, position[ 2 ] );\n\t\t\t\t\t\t\t\tlight.target.applyEuler( new THREE.Euler( rotation[ 0 ], rotation[ 1 ], rotation[ 2 ], 'XYZ' ) );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'AreaLight':\n\t\t\t\t\t\t\t\tlight = new THREE.AreaLight(color, intensity);\n\t\t\t\t\t\t\t\tlight.position.fromArray( position );\n\t\t\t\t\t\t\t\tlight.width = objJSON.size;\n\t\t\t\t\t\t\t\tlight.height = objJSON.size_y;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tparent.add( light );\n\n\t\t\t\t\t\tlight.name = objID;\n\t\t\t\t\t\tresult.lights[ objID ] = light;\n\t\t\t\t\t\tresult.objects[ objID ] = light;\n\n\t\t\t\t\t// cameras\n\n\t\t\t\t\t} else if ( objJSON.type === \"PerspectiveCamera\" || objJSON.type === \"OrthographicCamera\" ) {\n\n\t\t\t\t\t\tpos = objJSON.position;\n\t\t\t\t\t\trot = objJSON.rotation;\n\t\t\t\t\t\tquat = objJSON.quaternion;\n\n\t\t\t\t\t\tif ( objJSON.type === \"PerspectiveCamera\" ) {\n\n\t\t\t\t\t\t\tcamera = new THREE.PerspectiveCamera( objJSON.fov, objJSON.aspect, objJSON.near, objJSON.far );\n\n\t\t\t\t\t\t} else if ( objJSON.type === \"OrthographicCamera\" ) {\n\n\t\t\t\t\t\t\tcamera = new THREE.OrthographicCamera( objJSON.left, objJSON.right, objJSON.top, objJSON.bottom, objJSON.near, objJSON.far );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcamera.name = objID;\n\t\t\t\t\t\tcamera.position.fromArray( pos );\n\n\t\t\t\t\t\tif ( quat !== undefined ) {\n\n\t\t\t\t\t\t\tcamera.quaternion.fromArray( quat );\n\n\t\t\t\t\t\t} else if ( rot !== undefined ) {\n\n\t\t\t\t\t\t\tcamera.rotation.fromArray( rot );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tparent.add( camera );\n\n\t\t\t\t\t\tresult.cameras[ objID ] = camera;\n\t\t\t\t\t\tresult.objects[ objID ] = camera;\n\n\t\t\t\t\t// pure Object3D\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tpos = objJSON.position;\n\t\t\t\t\t\trot = objJSON.rotation;\n\t\t\t\t\t\tscl = objJSON.scale;\n\t\t\t\t\t\tquat = objJSON.quaternion;\n\n\t\t\t\t\t\tobject = new THREE.Object3D();\n\t\t\t\t\t\tobject.name = objID;\n\t\t\t\t\t\tobject.position.fromArray( pos );\n\n\t\t\t\t\t\tif ( quat ) {\n\n\t\t\t\t\t\t\tobject.quaternion.fromArray( quat );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tobject.rotation.fromArray( rot );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tobject.scale.fromArray( scl );\n\t\t\t\t\t\tobject.visible = ( objJSON.visible !== undefined ) ? objJSON.visible : false;\n\n\t\t\t\t\t\tparent.add( object );\n\n\t\t\t\t\t\tresult.objects[ objID ] = object;\n\t\t\t\t\t\tresult.empties[ objID ] = object;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( object ) {\n\n\t\t\t\t\t\tif ( objJSON.userData !== undefined ) {\n\n\t\t\t\t\t\t\tfor ( var key in objJSON.userData ) {\n\n\t\t\t\t\t\t\t\tvar value = objJSON.userData[ key ];\n\t\t\t\t\t\t\t\tobject.userData[ key ] = value;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( objJSON.groups !== undefined ) {\n\n\t\t\t\t\t\t\tfor ( var i = 0; i < objJSON.groups.length; i ++ ) {\n\n\t\t\t\t\t\t\t\tvar groupID = objJSON.groups[ i ];\n\n\t\t\t\t\t\t\t\tif ( result.groups[ groupID ] === undefined ) {\n\n\t\t\t\t\t\t\t\t\tresult.groups[ groupID ] = [];\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tresult.groups[ groupID ].push( objID );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( object !== undefined && objJSON.children !== undefined ) {\n\n\t\t\t\t\thandle_children( object, objJSON.children );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tfunction handle_mesh( geo, mat, id ) {\n\n\t\t\tresult.geometries[ id ] = geo;\n\t\t\tresult.face_materials[ id ] = mat;\n\t\t\thandle_objects();\n\n\t\t};\n\n\t\tfunction handle_hierarchy( node, id, parent, material, obj ) {\n\n\t\t\tvar p = obj.position;\n\t\t\tvar r = obj.rotation;\n\t\t\tvar q = obj.quaternion;\n\t\t\tvar s = obj.scale;\n\n\t\t\tnode.position.fromArray( p );\n\n\t\t\tif ( q ) {\n\n\t\t\t\tnode.quaternion.fromArray( q );\n\n\t\t\t} else {\n\n\t\t\t\tnode.rotation.fromArray( r );\n\n\t\t\t}\n\n\t\t\tnode.scale.fromArray( s );\n\n\t\t\t// override children materials\n\t\t\t// if object material was specified in JSON explicitly\n\n\t\t\tif ( material ) {\n\n\t\t\t\tnode.traverse( function ( child ) {\n\n\t\t\t\t\tchild.material = material;\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\t// override children visibility\n\t\t\t// with root node visibility as specified in JSON\n\n\t\t\tvar visible = ( obj.visible !== undefined ) ? obj.visible : true;\n\n\t\t\tnode.traverse( function ( child ) {\n\n\t\t\t\tchild.visible = visible;\n\n\t\t\t} );\n\n\t\t\tparent.add( node );\n\n\t\t\tnode.name = id;\n\n\t\t\tresult.objects[ id ] = node;\n\t\t\thandle_objects();\n\n\t\t};\n\n\t\tfunction create_callback_geometry( id ) {\n\n\t\t\treturn function ( geo, mat ) {\n\n\t\t\t\tgeo.name = id;\n\n\t\t\t\thandle_mesh( geo, mat, id );\n\n\t\t\t\tcounter_models -= 1;\n\n\t\t\t\tscope.onLoadComplete();\n\n\t\t\t\tasync_callback_gate();\n\n\t\t\t}\n\n\t\t};\n\n\t\tfunction create_callback_hierachy( id, parent, material, obj ) {\n\n\t\t\treturn function ( event ) {\n\n\t\t\t\tvar result;\n\n\t\t\t\t// loaders which use EventDispatcher\n\n\t\t\t\tif ( event.content ) {\n\n\t\t\t\t\tresult = event.content;\n\n\t\t\t\t// ColladaLoader\n\n\t\t\t\t} else if ( event.dae ) {\n\n\t\t\t\t\tresult = event.scene;\n\n\n\t\t\t\t// UTF8Loader\n\n\t\t\t\t} else {\n\n\t\t\t\t\tresult = event;\n\n\t\t\t\t}\n\n\t\t\t\thandle_hierarchy( result, id, parent, material, obj );\n\n\t\t\t\tcounter_models -= 1;\n\n\t\t\t\tscope.onLoadComplete();\n\n\t\t\t\tasync_callback_gate();\n\n\t\t\t}\n\n\t\t};\n\n\t\tfunction create_callback_embed( id ) {\n\n\t\t\treturn function ( geo, mat ) {\n\n\t\t\t\tgeo.name = id;\n\n\t\t\t\tresult.geometries[ id ] = geo;\n\t\t\t\tresult.face_materials[ id ] = mat;\n\n\t\t\t}\n\n\t\t};\n\n\t\tfunction async_callback_gate() {\n\n\t\t\tvar progress = {\n\n\t\t\t\ttotalModels : total_models,\n\t\t\t\ttotalTextures : total_textures,\n\t\t\t\tloadedModels : total_models - counter_models,\n\t\t\t\tloadedTextures : total_textures - counter_textures\n\n\t\t\t};\n\n\t\t\tscope.callbackProgress( progress, result );\n\n\t\t\tscope.onLoadProgress();\n\n\t\t\tif ( counter_models === 0 && counter_textures === 0 ) {\n\n\t\t\t\tfinalize();\n\t\t\t\tcallbackFinished( result );\n\n\t\t\t}\n\n\t\t};\n\n\t\tfunction finalize() {\n\n\t\t\t// take care of targets which could be asynchronously loaded objects\n\n\t\t\tfor ( var i = 0; i < target_array.length; i ++ ) {\n\n\t\t\t\tvar ta = target_array[ i ];\n\n\t\t\t\tvar target = result.objects[ ta.targetName ];\n\n\t\t\t\tif ( target ) {\n\n\t\t\t\t\tta.object.target = target;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// if there was error and target of specified name doesn't exist in the scene file\n\t\t\t\t\t// create instead dummy target\n\t\t\t\t\t// (target must be added to scene explicitly as parent is already added)\n\n\t\t\t\t\tta.object.target = new THREE.Object3D();\n\t\t\t\t\tresult.scene.add( ta.object.target );\n\n\t\t\t\t}\n\n\t\t\t\tta.object.target.userData.targetInverse = ta.object;\n\n\t\t\t}\n\n\t\t};\n\n\t\tvar callbackTexture = function ( count ) {\n\n\t\t\tcounter_textures -= count;\n\t\t\tasync_callback_gate();\n\n\t\t\tscope.onLoadComplete();\n\n\t\t};\n\n\t\t// must use this instead of just directly calling callbackTexture\n\t\t// because of closure in the calling context loop\n\n\t\tvar generateTextureCallback = function ( count ) {\n\n\t\t\treturn function () {\n\n\t\t\t\tcallbackTexture( count );\n\n\t\t\t};\n\n\t\t};\n\n\t\tfunction traverse_json_hierarchy( objJSON, callback ) {\n\n\t\t\tcallback( objJSON );\n\n\t\t\tif ( objJSON.children !== undefined ) {\n\n\t\t\t\tfor ( var objChildID in objJSON.children ) {\n\n\t\t\t\t\ttraverse_json_hierarchy( objJSON.children[ objChildID ], callback );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\t// first go synchronous elements\n\n\t\t// fogs\n\n\t\tvar fogID, fogJSON;\n\n\t\tfor ( fogID in data.fogs ) {\n\n\t\t\tfogJSON = data.fogs[ fogID ];\n\n\t\t\tif ( fogJSON.type === \"linear\" ) {\n\n\t\t\t\tfog = new THREE.Fog( 0x000000, fogJSON.near, fogJSON.far );\n\n\t\t\t} else if ( fogJSON.type === \"exp2\" ) {\n\n\t\t\t\tfog = new THREE.FogExp2( 0x000000, fogJSON.density );\n\n\t\t\t}\n\n\t\t\tcolor = fogJSON.color;\n\t\t\tfog.color.setRGB( color[0], color[1], color[2] );\n\n\t\t\tresult.fogs[ fogID ] = fog;\n\n\t\t}\n\n\t\t// now come potentially asynchronous elements\n\n\t\t// geometries\n\n\t\t// count how many geometries will be loaded asynchronously\n\n\t\tvar geoID, geoJSON;\n\n\t\tfor ( geoID in data.geometries ) {\n\n\t\t\tgeoJSON = data.geometries[ geoID ];\n\n\t\t\tif ( geoJSON.type in this.geometryHandlers ) {\n\n\t\t\t\tcounter_models += 1;\n\n\t\t\t\tscope.onLoadStart();\n\n\t\t\t}\n\n\t\t}\n\n\t\t// count how many hierarchies will be loaded asynchronously\n\n\t\tfor ( var objID in data.objects ) {\n\n\t\t\ttraverse_json_hierarchy( data.objects[ objID ], function ( objJSON ) {\n\n\t\t\t\tif ( objJSON.type && ( objJSON.type in scope.hierarchyHandlers ) ) {\n\n\t\t\t\t\tcounter_models += 1;\n\n\t\t\t\t\tscope.onLoadStart();\n\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t}\n\n\t\ttotal_models = counter_models;\n\n\t\tfor ( geoID in data.geometries ) {\n\n\t\t\tgeoJSON = data.geometries[ geoID ];\n\n\t\t\tif ( geoJSON.type === \"cube\" ) {\n\n\t\t\t\tgeometry = new THREE.CubeGeometry( geoJSON.width, geoJSON.height, geoJSON.depth, geoJSON.widthSegments, geoJSON.heightSegments, geoJSON.depthSegments );\n\t\t\t\tgeometry.name = geoID;\n\t\t\t\tresult.geometries[ geoID ] = geometry;\n\n\t\t\t} else if ( geoJSON.type === \"plane\" ) {\n\n\t\t\t\tgeometry = new THREE.PlaneGeometry( geoJSON.width, geoJSON.height, geoJSON.widthSegments, geoJSON.heightSegments );\n\t\t\t\tgeometry.name = geoID;\n\t\t\t\tresult.geometries[ geoID ] = geometry;\n\n\t\t\t} else if ( geoJSON.type === \"sphere\" ) {\n\n\t\t\t\tgeometry = new THREE.SphereGeometry( geoJSON.radius, geoJSON.widthSegments, geoJSON.heightSegments );\n\t\t\t\tgeometry.name = geoID;\n\t\t\t\tresult.geometries[ geoID ] = geometry;\n\n\t\t\t} else if ( geoJSON.type === \"cylinder\" ) {\n\n\t\t\t\tgeometry = new THREE.CylinderGeometry( geoJSON.topRad, geoJSON.botRad, geoJSON.height, geoJSON.radSegs, geoJSON.heightSegs );\n\t\t\t\tgeometry.name = geoID;\n\t\t\t\tresult.geometries[ geoID ] = geometry;\n\n\t\t\t} else if ( geoJSON.type === \"torus\" ) {\n\n\t\t\t\tgeometry = new THREE.TorusGeometry( geoJSON.radius, geoJSON.tube, geoJSON.segmentsR, geoJSON.segmentsT );\n\t\t\t\tgeometry.name = geoID;\n\t\t\t\tresult.geometries[ geoID ] = geometry;\n\n\t\t\t} else if ( geoJSON.type === \"icosahedron\" ) {\n\n\t\t\t\tgeometry = new THREE.IcosahedronGeometry( geoJSON.radius, geoJSON.subdivisions );\n\t\t\t\tgeometry.name = geoID;\n\t\t\t\tresult.geometries[ geoID ] = geometry;\n\n\t\t\t} else if ( geoJSON.type in this.geometryHandlers ) {\n\n\t\t\t\tvar loaderParameters = {};\n\n\t\t\t\tfor ( var parType in geoJSON ) {\n\n\t\t\t\t\tif ( parType !== \"type\" && parType !== \"url\" ) {\n\n\t\t\t\t\t\tloaderParameters[ parType ] = geoJSON[ parType ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tvar loader = this.geometryHandlers[ geoJSON.type ][ \"loaderObject\" ];\n\t\t\t\tloader.load( get_url( geoJSON.url, data.urlBaseType ), create_callback_geometry( geoID ), loaderParameters );\n\n\t\t\t} else if ( geoJSON.type === \"embedded\" ) {\n\n\t\t\t\tvar modelJson = data.embeds[ geoJSON.id ],\n\t\t\t\t\ttexture_path = \"\";\n\n\t\t\t\t// pass metadata along to jsonLoader so it knows the format version\n\n\t\t\t\tmodelJson.metadata = data.metadata;\n\n\t\t\t\tif ( modelJson ) {\n\n\t\t\t\t\tvar jsonLoader = this.geometryHandlers[ \"ascii\" ][ \"loaderObject\" ];\n\t\t\t\t\tvar model = jsonLoader.parse( modelJson, texture_path );\n\t\t\t\t\tcreate_callback_embed( geoID )( model.geometry, model.materials );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// textures\n\n\t\t// count how many textures will be loaded asynchronously\n\n\t\tvar textureID, textureJSON;\n\n\t\tfor ( textureID in data.textures ) {\n\n\t\t\ttextureJSON = data.textures[ textureID ];\n\n\t\t\tif ( textureJSON.url instanceof Array ) {\n\n\t\t\t\tcounter_textures += textureJSON.url.length;\n\n\t\t\t\tfor( var n = 0; n < textureJSON.url.length; n ++ ) {\n\n\t\t\t\t\tscope.onLoadStart();\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tcounter_textures += 1;\n\n\t\t\t\tscope.onLoadStart();\n\n\t\t\t}\n\n\t\t}\n\n\t\ttotal_textures = counter_textures;\n\n\t\tfor ( textureID in data.textures ) {\n\n\t\t\ttextureJSON = data.textures[ textureID ];\n\n\t\t\tif ( textureJSON.mapping !== undefined && THREE[ textureJSON.mapping ] !== undefined ) {\n\n\t\t\t\ttextureJSON.mapping = new THREE[ textureJSON.mapping ]();\n\n\t\t\t}\n\n\t\t\tif ( textureJSON.url instanceof Array ) {\n\n\t\t\t\tvar count = textureJSON.url.length;\n\t\t\t\tvar url_array = [];\n\n\t\t\t\tfor( var i = 0; i < count; i ++ ) {\n\n\t\t\t\t\turl_array[ i ] = get_url( textureJSON.url[ i ], data.urlBaseType );\n\n\t\t\t\t}\n\n\t\t\t\tvar isCompressed = /\\.dds$/i.test( url_array[ 0 ] );\n\n\t\t\t\tif ( isCompressed ) {\n\n\t\t\t\t\ttexture = THREE.ImageUtils.loadCompressedTextureCube( url_array, textureJSON.mapping, generateTextureCallback( count ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture = THREE.ImageUtils.loadTextureCube( url_array, textureJSON.mapping, generateTextureCallback( count ) );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tvar isCompressed = /\\.dds$/i.test( textureJSON.url );\n\t\t\t\tvar fullUrl = get_url( textureJSON.url, data.urlBaseType );\n\t\t\t\tvar textureCallback = generateTextureCallback( 1 );\n\n\t\t\t\tif ( isCompressed ) {\n\n\t\t\t\t\ttexture = THREE.ImageUtils.loadCompressedTexture( fullUrl, textureJSON.mapping, textureCallback );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture = THREE.ImageUtils.loadTexture( fullUrl, textureJSON.mapping, textureCallback );\n\n\t\t\t\t}\n\n\t\t\t\tif ( THREE[ textureJSON.minFilter ] !== undefined )\n\t\t\t\t\ttexture.minFilter = THREE[ textureJSON.minFilter ];\n\n\t\t\t\tif ( THREE[ textureJSON.magFilter ] !== undefined )\n\t\t\t\t\ttexture.magFilter = THREE[ textureJSON.magFilter ];\n\n\t\t\t\tif ( textureJSON.anisotropy ) texture.anisotropy = textureJSON.anisotropy;\n\n\t\t\t\tif ( textureJSON.repeat ) {\n\n\t\t\t\t\ttexture.repeat.set( textureJSON.repeat[ 0 ], textureJSON.repeat[ 1 ] );\n\n\t\t\t\t\tif ( textureJSON.repeat[ 0 ] !== 1 ) texture.wrapS = THREE.RepeatWrapping;\n\t\t\t\t\tif ( textureJSON.repeat[ 1 ] !== 1 ) texture.wrapT = THREE.RepeatWrapping;\n\n\t\t\t\t}\n\n\t\t\t\tif ( textureJSON.offset ) {\n\n\t\t\t\t\ttexture.offset.set( textureJSON.offset[ 0 ], textureJSON.offset[ 1 ] );\n\n\t\t\t\t}\n\n\t\t\t\t// handle wrap after repeat so that default repeat can be overriden\n\n\t\t\t\tif ( textureJSON.wrap ) {\n\n\t\t\t\t\tvar wrapMap = {\n\t\t\t\t\t\t\"repeat\": THREE.RepeatWrapping,\n\t\t\t\t\t\t\"mirror\": THREE.MirroredRepeatWrapping\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( wrapMap[ textureJSON.wrap[ 0 ] ] !== undefined ) texture.wrapS = wrapMap[ textureJSON.wrap[ 0 ] ];\n\t\t\t\t\tif ( wrapMap[ textureJSON.wrap[ 1 ] ] !== undefined ) texture.wrapT = wrapMap[ textureJSON.wrap[ 1 ] ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tresult.textures[ textureID ] = texture;\n\n\t\t}\n\n\t\t// materials\n\n\t\tvar matID, matJSON;\n\t\tvar parID;\n\n\t\tfor ( matID in data.materials ) {\n\n\t\t\tmatJSON = data.materials[ matID ];\n\n\t\t\tfor ( parID in matJSON.parameters ) {\n\n\t\t\t\tif ( parID === \"envMap\" || parID === \"map\" || parID === \"lightMap\" || parID === \"bumpMap\" ) {\n\n\t\t\t\t\tmatJSON.parameters[ parID ] = result.textures[ matJSON.parameters[ parID ] ];\n\n\t\t\t\t} else if ( parID === \"shading\" ) {\n\n\t\t\t\t\tmatJSON.parameters[ parID ] = ( matJSON.parameters[ parID ] === \"flat\" ) ? THREE.FlatShading : THREE.SmoothShading;\n\n\t\t\t\t} else if ( parID === \"side\" ) {\n\n\t\t\t\t\tif ( matJSON.parameters[ parID ] == \"double\" ) {\n\n\t\t\t\t\t\tmatJSON.parameters[ parID ] = THREE.DoubleSide;\n\n\t\t\t\t\t} else if ( matJSON.parameters[ parID ] == \"back\" ) {\n\n\t\t\t\t\t\tmatJSON.parameters[ parID ] = THREE.BackSide;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmatJSON.parameters[ parID ] = THREE.FrontSide;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( parID === \"blending\" ) {\n\n\t\t\t\t\tmatJSON.parameters[ parID ] = matJSON.parameters[ parID ] in THREE ? THREE[ matJSON.parameters[ parID ] ] : THREE.NormalBlending;\n\n\t\t\t\t} else if ( parID === \"combine\" ) {\n\n\t\t\t\t\tmatJSON.parameters[ parID ] = matJSON.parameters[ parID ] in THREE ? THREE[ matJSON.parameters[ parID ] ] : THREE.MultiplyOperation;\n\n\t\t\t\t} else if ( parID === \"vertexColors\" ) {\n\n\t\t\t\t\tif ( matJSON.parameters[ parID ] == \"face\" ) {\n\n\t\t\t\t\t\tmatJSON.parameters[ parID ] = THREE.FaceColors;\n\n\t\t\t\t\t// default to vertex colors if \"vertexColors\" is anything else face colors or 0 / null / false\n\n\t\t\t\t\t} else if ( matJSON.parameters[ parID ] ) {\n\n\t\t\t\t\t\tmatJSON.parameters[ parID ] = THREE.VertexColors;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( parID === \"wrapRGB\" ) {\n\n\t\t\t\t\tvar v3 = matJSON.parameters[ parID ];\n\t\t\t\t\tmatJSON.parameters[ parID ] = new THREE.Vector3( v3[ 0 ], v3[ 1 ], v3[ 2 ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( matJSON.parameters.opacity !== undefined && matJSON.parameters.opacity < 1.0 ) {\n\n\t\t\t\tmatJSON.parameters.transparent = true;\n\n\t\t\t}\n\n\t\t\tif ( matJSON.parameters.normalMap ) {\n\n\t\t\t\tvar shader = THREE.ShaderLib[ \"normalmap\" ];\n\t\t\t\tvar uniforms = THREE.UniformsUtils.clone( shader.uniforms );\n\n\t\t\t\tvar diffuse = matJSON.parameters.color;\n\t\t\t\tvar specular = matJSON.parameters.specular;\n\t\t\t\tvar ambient = matJSON.parameters.ambient;\n\t\t\t\tvar shininess = matJSON.parameters.shininess;\n\n\t\t\t\tuniforms[ \"tNormal\" ].value = result.textures[ matJSON.parameters.normalMap ];\n\n\t\t\t\tif ( matJSON.parameters.normalScale ) {\n\n\t\t\t\t\tuniforms[ \"uNormalScale\" ].value.set( matJSON.parameters.normalScale[ 0 ], matJSON.parameters.normalScale[ 1 ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( matJSON.parameters.map ) {\n\n\t\t\t\t\tuniforms[ \"tDiffuse\" ].value = matJSON.parameters.map;\n\t\t\t\t\tuniforms[ \"enableDiffuse\" ].value = true;\n\n\t\t\t\t}\n\n\t\t\t\tif ( matJSON.parameters.envMap ) {\n\n\t\t\t\t\tuniforms[ \"tCube\" ].value = matJSON.parameters.envMap;\n\t\t\t\t\tuniforms[ \"enableReflection\" ].value = true;\n\t\t\t\t\tuniforms[ \"reflectivity\" ].value = matJSON.parameters.reflectivity;\n\n\t\t\t\t}\n\n\t\t\t\tif ( matJSON.parameters.lightMap ) {\n\n\t\t\t\t\tuniforms[ \"tAO\" ].value = matJSON.parameters.lightMap;\n\t\t\t\t\tuniforms[ \"enableAO\" ].value = true;\n\n\t\t\t\t}\n\n\t\t\t\tif ( matJSON.parameters.specularMap ) {\n\n\t\t\t\t\tuniforms[ \"tSpecular\" ].value = result.textures[ matJSON.parameters.specularMap ];\n\t\t\t\t\tuniforms[ \"enableSpecular\" ].value = true;\n\n\t\t\t\t}\n\n\t\t\t\tif ( matJSON.parameters.displacementMap ) {\n\n\t\t\t\t\tuniforms[ \"tDisplacement\" ].value = result.textures[ matJSON.parameters.displacementMap ];\n\t\t\t\t\tuniforms[ \"enableDisplacement\" ].value = true;\n\n\t\t\t\t\tuniforms[ \"uDisplacementBias\" ].value = matJSON.parameters.displacementBias;\n\t\t\t\t\tuniforms[ \"uDisplacementScale\" ].value = matJSON.parameters.displacementScale;\n\n\t\t\t\t}\n\n\t\t\t\tuniforms[ \"diffuse\" ].value.setHex( diffuse );\n\t\t\t\tuniforms[ \"specular\" ].value.setHex( specular );\n\t\t\t\tuniforms[ \"ambient\" ].value.setHex( ambient );\n\n\t\t\t\tuniforms[ \"shininess\" ].value = shininess;\n\n\t\t\t\tif ( matJSON.parameters.opacity ) {\n\n\t\t\t\t\tuniforms[ \"opacity\" ].value = matJSON.parameters.opacity;\n\n\t\t\t\t}\n\n\t\t\t\tvar parameters = { fragmentShader: shader.fragmentShader, vertexShader: shader.vertexShader, uniforms: uniforms, lights: true, fog: true };\n\n\t\t\t\tmaterial = new THREE.ShaderMaterial( parameters );\n\n\t\t\t} else {\n\n\t\t\t\tmaterial = new THREE[ matJSON.type ]( matJSON.parameters );\n\n\t\t\t}\n\n\t\t\tmaterial.name = matID;\n\n\t\t\tresult.materials[ matID ] = material;\n\n\t\t}\n\n\t\t// second pass through all materials to initialize MeshFaceMaterials\n\t\t// that could be referring to other materials out of order\n\n\t\tfor ( matID in data.materials ) {\n\n\t\t\tmatJSON = data.materials[ matID ];\n\n\t\t\tif ( matJSON.parameters.materials ) {\n\n\t\t\t\tvar materialArray = [];\n\n\t\t\t\tfor ( var i = 0; i < matJSON.parameters.materials.length; i ++ ) {\n\n\t\t\t\t\tvar label = matJSON.parameters.materials[ i ];\n\t\t\t\t\tmaterialArray.push( result.materials[ label ] );\n\n\t\t\t\t}\n\n\t\t\t\tresult.materials[ matID ].materials = materialArray;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// objects ( synchronous init of procedural primitives )\n\n\t\thandle_objects();\n\n\t\t// defaults\n\n\t\tif ( result.cameras && data.defaults.camera ) {\n\n\t\t\tresult.currentCamera = result.cameras[ data.defaults.camera ];\n\n\t\t}\n\n\t\tif ( result.fogs && data.defaults.fog ) {\n\n\t\t\tresult.scene.fog = result.fogs[ data.defaults.fog ];\n\n\t\t}\n\n\t\t// synchronous callback\n\n\t\tscope.callbackSync( result );\n\n\t\t// just in case there are no async elements\n\n\t\tasync_callback_gate();\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.TextureLoader = function ( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\n};\n\nTHREE.TextureLoader.prototype = {\n\n\tconstructor: THREE.TextureLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new THREE.ImageLoader( scope.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.load( url, function ( image ) {\n\n\t\t\tvar texture = new THREE.Texture( image );\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t} );\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.Material = function () {\n\n\tthis.id = THREE.MaterialIdCount ++;\n\tthis.uuid = THREE.Math.generateUUID();\n\n\tthis.name = '';\n\n\tthis.side = THREE.FrontSide;\n\n\tthis.opacity = 1;\n\tthis.transparent = false;\n\n\tthis.blending = THREE.NormalBlending;\n\n\tthis.blendSrc = THREE.SrcAlphaFactor;\n\tthis.blendDst = THREE.OneMinusSrcAlphaFactor;\n\tthis.blendEquation = THREE.AddEquation;\n\n\tthis.depthTest = true;\n\tthis.depthWrite = true;\n\n\tthis.polygonOffset = false;\n\tthis.polygonOffsetFactor = 0;\n\tthis.polygonOffsetUnits = 0;\n\n\tthis.alphaTest = 0;\n\n\tthis.overdraw = 0; // Overdrawn pixels (typically between 0 and 1) for fixing antialiasing gaps in CanvasRenderer\n\n\tthis.visible = true;\n\n\tthis.needsUpdate = true;\n\n};\n\nTHREE.Material.prototype = {\n\n\tconstructor: THREE.Material,\n\n\tsetValues: function ( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( var key in values ) {\n\n\t\t\tvar newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Material: \\'' + key + '\\' parameter is undefined.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( key in this ) {\n\n\t\t\t\tvar currentValue = this[ key ];\n\n\t\t\t\tif ( currentValue instanceof THREE.Color ) {\n\n\t\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t\t} else if ( currentValue instanceof THREE.Vector3 && newValue instanceof THREE.Vector3 ) {\n\n\t\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t\t} else if ( key == 'overdraw') {\n\n\t\t\t\t\t// ensure overdraw is backwards-compatable with legacy boolean type\n\t\t\t\t\tthis[ key ] = Number(newValue);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tclone: function ( material ) {\n\n\t\tif ( material === undefined ) material = new THREE.Material();\n\n\t\tmaterial.name = this.name;\n\n\t\tmaterial.side = this.side;\n\n\t\tmaterial.opacity = this.opacity;\n\t\tmaterial.transparent = this.transparent;\n\n\t\tmaterial.blending = this.blending;\n\n\t\tmaterial.blendSrc = this.blendSrc;\n\t\tmaterial.blendDst = this.blendDst;\n\t\tmaterial.blendEquation = this.blendEquation;\n\n\t\tmaterial.depthTest = this.depthTest;\n\t\tmaterial.depthWrite = this.depthWrite;\n\n\t\tmaterial.polygonOffset = this.polygonOffset;\n\t\tmaterial.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tmaterial.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tmaterial.alphaTest = this.alphaTest;\n\n\t\tmaterial.overdraw = this.overdraw;\n\n\t\tmaterial.visible = this.visible;\n\n\t\treturn material;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n};\n\nTHREE.EventDispatcher.prototype.apply( THREE.Material.prototype );\n\nTHREE.MaterialIdCount = 0;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  blending: THREE.NormalBlending,\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\",\n *\n *  vertexColors: <bool>\n *\n *  fog: <bool>\n * }\n */\n\nTHREE.LineBasicMaterial = function ( parameters ) {\n\n\tTHREE.Material.call( this );\n\n\tthis.color = new THREE.Color( 0xffffff );\n\n\tthis.linewidth = 1;\n\tthis.linecap = 'round';\n\tthis.linejoin = 'round';\n\n\tthis.vertexColors = false;\n\n\tthis.fog = true;\n\n\tthis.setValues( parameters );\n\n};\n\nTHREE.LineBasicMaterial.prototype = Object.create( THREE.Material.prototype );\n\nTHREE.LineBasicMaterial.prototype.clone = function () {\n\n\tvar material = new THREE.LineBasicMaterial();\n\n\tTHREE.Material.prototype.clone.call( this, material );\n\n\tmaterial.color.copy( this.color );\n\n\tmaterial.linewidth = this.linewidth;\n\tmaterial.linecap = this.linecap;\n\tmaterial.linejoin = this.linejoin;\n\n\tmaterial.vertexColors = this.vertexColors;\n\n\tmaterial.fog = this.fog;\n\n\treturn material;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  blending: THREE.NormalBlending,\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  linewidth: <float>,\n *\n *  scale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>,\n *\n *  vertexColors: <bool>\n *\n *  fog: <bool>\n * }\n */\n\nTHREE.LineDashedMaterial = function ( parameters ) {\n\n\tTHREE.Material.call( this );\n\n\tthis.color = new THREE.Color( 0xffffff );\n\n\tthis.linewidth = 1;\n\n\tthis.scale = 1;\n\tthis.dashSize = 3;\n\tthis.gapSize = 1;\n\n\tthis.vertexColors = false;\n\n\tthis.fog = true;\n\n\tthis.setValues( parameters );\n\n};\n\nTHREE.LineDashedMaterial.prototype = Object.create( THREE.Material.prototype );\n\nTHREE.LineDashedMaterial.prototype.clone = function () {\n\n\tvar material = new THREE.LineDashedMaterial();\n\n\tTHREE.Material.prototype.clone.call( this, material );\n\n\tmaterial.color.copy( this.color );\n\n\tmaterial.linewidth = this.linewidth;\n\n\tmaterial.scale = this.scale;\n\tmaterial.dashSize = this.dashSize;\n\tmaterial.gapSize = this.gapSize;\n\n\tmaterial.vertexColors = this.vertexColors;\n\n\tmaterial.fog = this.fog;\n\n\treturn material;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  shading: THREE.SmoothShading,\n *  blending: THREE.NormalBlending,\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  vertexColors: THREE.NoColors / THREE.VertexColors / THREE.FaceColors,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *\n *  fog: <bool>\n * }\n */\n\nTHREE.MeshBasicMaterial = function ( parameters ) {\n\n\tTHREE.Material.call( this );\n\n\tthis.color = new THREE.Color( 0xffffff ); // emissive\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\n\tthis.specularMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = THREE.MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.fog = true;\n\n\tthis.shading = THREE.SmoothShading;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.vertexColors = THREE.NoColors;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.setValues( parameters );\n\n};\n\nTHREE.MeshBasicMaterial.prototype = Object.create( THREE.Material.prototype );\n\nTHREE.MeshBasicMaterial.prototype.clone = function () {\n\n\tvar material = new THREE.MeshBasicMaterial();\n\n\tTHREE.Material.prototype.clone.call( this, material );\n\n\tmaterial.color.copy( this.color );\n\n\tmaterial.map = this.map;\n\n\tmaterial.lightMap = this.lightMap;\n\n\tmaterial.specularMap = this.specularMap;\n\n\tmaterial.envMap = this.envMap;\n\tmaterial.combine = this.combine;\n\tmaterial.reflectivity = this.reflectivity;\n\tmaterial.refractionRatio = this.refractionRatio;\n\n\tmaterial.fog = this.fog;\n\n\tmaterial.shading = this.shading;\n\n\tmaterial.wireframe = this.wireframe;\n\tmaterial.wireframeLinewidth = this.wireframeLinewidth;\n\tmaterial.wireframeLinecap = this.wireframeLinecap;\n\tmaterial.wireframeLinejoin = this.wireframeLinejoin;\n\n\tmaterial.vertexColors = this.vertexColors;\n\n\tmaterial.skinning = this.skinning;\n\tmaterial.morphTargets = this.morphTargets;\n\n\treturn material;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  ambient: <hex>,\n *  emissive: <hex>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  shading: THREE.SmoothShading,\n *  blending: THREE.NormalBlending,\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  vertexColors: THREE.NoColors / THREE.VertexColors / THREE.FaceColors,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>,\n *\n *\tfog: <bool>\n * }\n */\n\nTHREE.MeshLambertMaterial = function ( parameters ) {\n\n\tTHREE.Material.call( this );\n\n\tthis.color = new THREE.Color( 0xffffff ); // diffuse\n\tthis.ambient = new THREE.Color( 0xffffff );\n\tthis.emissive = new THREE.Color( 0x000000 );\n\n\tthis.wrapAround = false;\n\tthis.wrapRGB = new THREE.Vector3( 1, 1, 1 );\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\n\tthis.specularMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = THREE.MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.fog = true;\n\n\tthis.shading = THREE.SmoothShading;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.vertexColors = THREE.NoColors;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n};\n\nTHREE.MeshLambertMaterial.prototype = Object.create( THREE.Material.prototype );\n\nTHREE.MeshLambertMaterial.prototype.clone = function () {\n\n\tvar material = new THREE.MeshLambertMaterial();\n\n\tTHREE.Material.prototype.clone.call( this, material );\n\n\tmaterial.color.copy( this.color );\n\tmaterial.ambient.copy( this.ambient );\n\tmaterial.emissive.copy( this.emissive );\n\n\tmaterial.wrapAround = this.wrapAround;\n\tmaterial.wrapRGB.copy( this.wrapRGB );\n\n\tmaterial.map = this.map;\n\n\tmaterial.lightMap = this.lightMap;\n\n\tmaterial.specularMap = this.specularMap;\n\n\tmaterial.envMap = this.envMap;\n\tmaterial.combine = this.combine;\n\tmaterial.reflectivity = this.reflectivity;\n\tmaterial.refractionRatio = this.refractionRatio;\n\n\tmaterial.fog = this.fog;\n\n\tmaterial.shading = this.shading;\n\n\tmaterial.wireframe = this.wireframe;\n\tmaterial.wireframeLinewidth = this.wireframeLinewidth;\n\tmaterial.wireframeLinecap = this.wireframeLinecap;\n\tmaterial.wireframeLinejoin = this.wireframeLinejoin;\n\n\tmaterial.vertexColors = this.vertexColors;\n\n\tmaterial.skinning = this.skinning;\n\tmaterial.morphTargets = this.morphTargets;\n\tmaterial.morphNormals = this.morphNormals;\n\n\treturn material;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  ambient: <hex>,\n *  emissive: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalScale: <Vector2>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  shading: THREE.SmoothShading,\n *  blending: THREE.NormalBlending,\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  vertexColors: THREE.NoColors / THREE.VertexColors / THREE.FaceColors,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>,\n *\n *\tfog: <bool>\n * }\n */\n\nTHREE.MeshPhongMaterial = function ( parameters ) {\n\n\tTHREE.Material.call( this );\n\n\tthis.color = new THREE.Color( 0xffffff ); // diffuse\n\tthis.ambient = new THREE.Color( 0xffffff );\n\tthis.emissive = new THREE.Color( 0x000000 );\n\tthis.specular = new THREE.Color( 0x111111 );\n\tthis.shininess = 30;\n\n\tthis.metal = false;\n\tthis.perPixel = true;\n\n\tthis.wrapAround = false;\n\tthis.wrapRGB = new THREE.Vector3( 1, 1, 1 );\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalScale = new THREE.Vector2( 1, 1 );\n\n\tthis.specularMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = THREE.MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.fog = true;\n\n\tthis.shading = THREE.SmoothShading;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.vertexColors = THREE.NoColors;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n};\n\nTHREE.MeshPhongMaterial.prototype = Object.create( THREE.Material.prototype );\n\nTHREE.MeshPhongMaterial.prototype.clone = function () {\n\n\tvar material = new THREE.MeshPhongMaterial();\n\n\tTHREE.Material.prototype.clone.call( this, material );\n\n\tmaterial.color.copy( this.color );\n\tmaterial.ambient.copy( this.ambient );\n\tmaterial.emissive.copy( this.emissive );\n\tmaterial.specular.copy( this.specular );\n\tmaterial.shininess = this.shininess;\n\n\tmaterial.metal = this.metal;\n\tmaterial.perPixel = this.perPixel;\n\n\tmaterial.wrapAround = this.wrapAround;\n\tmaterial.wrapRGB.copy( this.wrapRGB );\n\n\tmaterial.map = this.map;\n\n\tmaterial.lightMap = this.lightMap;\n\n\tmaterial.bumpMap = this.bumpMap;\n\tmaterial.bumpScale = this.bumpScale;\n\n\tmaterial.normalMap = this.normalMap;\n\tmaterial.normalScale.copy( this.normalScale );\n\n\tmaterial.specularMap = this.specularMap;\n\n\tmaterial.envMap = this.envMap;\n\tmaterial.combine = this.combine;\n\tmaterial.reflectivity = this.reflectivity;\n\tmaterial.refractionRatio = this.refractionRatio;\n\n\tmaterial.fog = this.fog;\n\n\tmaterial.shading = this.shading;\n\n\tmaterial.wireframe = this.wireframe;\n\tmaterial.wireframeLinewidth = this.wireframeLinewidth;\n\tmaterial.wireframeLinecap = this.wireframeLinecap;\n\tmaterial.wireframeLinejoin = this.wireframeLinejoin;\n\n\tmaterial.vertexColors = this.vertexColors;\n\n\tmaterial.skinning = this.skinning;\n\tmaterial.morphTargets = this.morphTargets;\n\tmaterial.morphNormals = this.morphNormals;\n\n\treturn material;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  opacity: <float>,\n *\n *  blending: THREE.NormalBlending,\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nTHREE.MeshDepthMaterial = function ( parameters ) {\n\n\tTHREE.Material.call( this );\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.setValues( parameters );\n\n};\n\nTHREE.MeshDepthMaterial.prototype = Object.create( THREE.Material.prototype );\n\nTHREE.MeshDepthMaterial.prototype.clone = function () {\n\n\tvar material = new THREE.MeshDepthMaterial();\n\n\tTHREE.Material.prototype.clone.call( this, material );\n\n\tmaterial.wireframe = this.wireframe;\n\tmaterial.wireframeLinewidth = this.wireframeLinewidth;\n\n\treturn material;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * parameters = {\n *  opacity: <float>,\n *\n *  shading: THREE.FlatShading,\n *  blending: THREE.NormalBlending,\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nTHREE.MeshNormalMaterial = function ( parameters ) {\n\n\tTHREE.Material.call( this, parameters );\n\n\tthis.shading = THREE.FlatShading;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.morphTargets = false;\n\n\tthis.setValues( parameters );\n\n};\n\nTHREE.MeshNormalMaterial.prototype = Object.create( THREE.Material.prototype );\n\nTHREE.MeshNormalMaterial.prototype.clone = function () {\n\n\tvar material = new THREE.MeshNormalMaterial();\n\n\tTHREE.Material.prototype.clone.call( this, material );\n\n\tmaterial.shading = this.shading;\n\n\tmaterial.wireframe = this.wireframe;\n\tmaterial.wireframeLinewidth = this.wireframeLinewidth;\n\n\treturn material;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.MeshFaceMaterial = function ( materials ) {\n\n\tthis.materials = materials instanceof Array ? materials : [];\n\n};\n\nTHREE.MeshFaceMaterial.prototype.clone = function () {\n\n\tvar material = new THREE.MeshFaceMaterial();\n\n\tfor ( var i = 0; i < this.materials.length; i ++ ) {\n\n\t\tmaterial.materials.push( this.materials[ i ].clone() );\n\n\t}\n\n\treturn material;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  size: <float>,\n *\n *  blending: THREE.NormalBlending,\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  vertexColors: <bool>,\n *\n *  fog: <bool>\n * }\n */\n\nTHREE.ParticleSystemMaterial = function ( parameters ) {\n\n\tTHREE.Material.call( this );\n\n\tthis.color = new THREE.Color( 0xffffff );\n\n\tthis.map = null;\n\n\tthis.size = 1;\n\tthis.sizeAttenuation = true;\n\n\tthis.vertexColors = false;\n\n\tthis.fog = true;\n\n\tthis.setValues( parameters );\n\n};\n\nTHREE.ParticleSystemMaterial.prototype = Object.create( THREE.Material.prototype );\n\nTHREE.ParticleSystemMaterial.prototype.clone = function () {\n\n\tvar material = new THREE.ParticleSystemMaterial();\n\n\tTHREE.Material.prototype.clone.call( this, material );\n\n\tmaterial.color.copy( this.color );\n\n\tmaterial.map = this.map;\n\n\tmaterial.size = this.size;\n\tmaterial.sizeAttenuation = this.sizeAttenuation;\n\n\tmaterial.vertexColors = this.vertexColors;\n\n\tmaterial.fog = this.fog;\n\n\treturn material;\n\n};\n\n// backwards compatibility\n\nTHREE.ParticleBasicMaterial = THREE.ParticleSystemMaterial;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  uniforms: { \"parameter1\": { type: \"f\", value: 1.0 }, \"parameter2\": { type: \"i\" value2: 2 } },\n *\n *  defines: { \"label\" : \"value\" },\n *\n *  shading: THREE.SmoothShading,\n *  blending: THREE.NormalBlending,\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>,\n *\n *  vertexColors: THREE.NoColors / THREE.VertexColors / THREE.FaceColors,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>,\n *\n *\tfog: <bool>\n * }\n */\n\nTHREE.ShaderMaterial = function ( parameters ) {\n\n\tTHREE.Material.call( this );\n\n\tthis.fragmentShader = \"void main() {}\";\n\tthis.vertexShader = \"void main() {}\";\n\tthis.uniforms = {};\n\tthis.defines = {};\n\tthis.attributes = null;\n\n\tthis.shading = THREE.SmoothShading;\n\n\tthis.linewidth = 1;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false; // set to use scene fog\n\n\tthis.lights = false; // set to use scene lights\n\n\tthis.vertexColors = THREE.NoColors; // set to use \"color\" attribute stream\n\n\tthis.skinning = false; // set to use skinning attribute streams\n\n\tthis.morphTargets = false; // set to use morph targets\n\tthis.morphNormals = false; // set to use morph normals\n\n\t// When rendered geometry doesn't include these attributes but the material does,\n\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\tthis.defaultAttributeValues = {\n\t\t\"color\" : [ 1, 1, 1],\n\t\t\"uv\" : [ 0, 0 ],\n\t\t\"uv2\" : [ 0, 0 ]\n\t};\n\n\t// By default, bind position to attribute index 0. In WebGL, attribute 0\n\t// should always be used to avoid potentially expensive emulation.\n\tthis.index0AttributeName = \"position\";\n\n\tthis.setValues( parameters );\n\n};\n\nTHREE.ShaderMaterial.prototype = Object.create( THREE.Material.prototype );\n\nTHREE.ShaderMaterial.prototype.clone = function () {\n\n\tvar material = new THREE.ShaderMaterial();\n\n\tTHREE.Material.prototype.clone.call( this, material );\n\n\tmaterial.fragmentShader = this.fragmentShader;\n\tmaterial.vertexShader = this.vertexShader;\n\n\tmaterial.uniforms = THREE.UniformsUtils.clone( this.uniforms );\n\n\tmaterial.attributes = this.attributes;\n\tmaterial.defines = this.defines;\n\n\tmaterial.shading = this.shading;\n\n\tmaterial.wireframe = this.wireframe;\n\tmaterial.wireframeLinewidth = this.wireframeLinewidth;\n\n\tmaterial.fog = this.fog;\n\n\tmaterial.lights = this.lights;\n\n\tmaterial.vertexColors = this.vertexColors;\n\n\tmaterial.skinning = this.skinning;\n\n\tmaterial.morphTargets = this.morphTargets;\n\tmaterial.morphNormals = this.morphNormals;\n\n\treturn material;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  blending: THREE.NormalBlending,\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *\tuvOffset: new THREE.Vector2(),\n *\tuvScale: new THREE.Vector2(),\n *\n *  fog: <bool>\n * }\n */\n\nTHREE.SpriteMaterial = function ( parameters ) {\n\n\tTHREE.Material.call( this );\n\n\t// defaults\n\n\tthis.color = new THREE.Color( 0xffffff );\n\tthis.map = null;\n\n\tthis.rotation = 0;\n\n\tthis.fog = false;\n\n\t// set parameters\n\n\tthis.setValues( parameters );\n\n};\n\nTHREE.SpriteMaterial.prototype = Object.create( THREE.Material.prototype );\n\nTHREE.SpriteMaterial.prototype.clone = function () {\n\n\tvar material = new THREE.SpriteMaterial();\n\n\tTHREE.Material.prototype.clone.call( this, material );\n\n\tmaterial.color.copy( this.color );\n\tmaterial.map = this.map;\n\n\tmaterial.rotation = this.rotation;\n\n\tmaterial.fog = this.fog;\n\n\treturn material;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * parameters = {\n *  color: <hex>,\n *  program: <function>,\n *  opacity: <float>,\n *  blending: THREE.NormalBlending\n * }\n */\n\nTHREE.SpriteCanvasMaterial = function ( parameters ) {\n\n\tTHREE.Material.call( this );\n\n\tthis.color = new THREE.Color( 0xffffff );\n\tthis.program = function ( context, color ) {};\n\n\tthis.setValues( parameters );\n\n};\n\nTHREE.SpriteCanvasMaterial.prototype = Object.create( THREE.Material.prototype );\n\nTHREE.SpriteCanvasMaterial.prototype.clone = function () {\n\n\tvar material = new THREE.SpriteCanvasMaterial();\n\n\tTHREE.Material.prototype.clone.call( this, material );\n\n\tmaterial.color.copy( this.color );\n\tmaterial.program = this.program;\n\n\treturn material;\n\n};\n\n// backwards compatibility\n\nTHREE.ParticleCanvasMaterial = THREE.SpriteCanvasMaterial;\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nTHREE.Texture = function ( image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tthis.id = THREE.TextureIdCount ++;\n\tthis.uuid = THREE.Math.generateUUID();\n\n\tthis.name = '';\n\n\tthis.image = image;\n\tthis.mipmaps = [];\n\n\tthis.mapping = mapping !== undefined ? mapping : new THREE.UVMapping();\n\n\tthis.wrapS = wrapS !== undefined ? wrapS : THREE.ClampToEdgeWrapping;\n\tthis.wrapT = wrapT !== undefined ? wrapT : THREE.ClampToEdgeWrapping;\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : THREE.LinearFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : THREE.LinearMipMapLinearFilter;\n\n\tthis.anisotropy = anisotropy !== undefined ? anisotropy : 1;\n\n\tthis.format = format !== undefined ? format : THREE.RGBAFormat;\n\tthis.type = type !== undefined ? type : THREE.UnsignedByteType;\n\n\tthis.offset = new THREE.Vector2( 0, 0 );\n\tthis.repeat = new THREE.Vector2( 1, 1 );\n\n\tthis.generateMipmaps = true;\n\tthis.premultiplyAlpha = false;\n\tthis.flipY = true;\n\tthis.unpackAlignment = 4; // valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\tthis._needsUpdate = false;\n\tthis.onUpdate = null;\n\n};\n\nTHREE.Texture.prototype = {\n\n\tconstructor: THREE.Texture,\n\n\tget needsUpdate () {\n\n\t\treturn this._needsUpdate;\n\n\t},\n\n\tset needsUpdate ( value ) {\n\n\t\tif ( value === true ) this.update();\n\n\t\tthis._needsUpdate = value;\n\n\t},\n\n\tclone: function ( texture ) {\n\n\t\tif ( texture === undefined ) texture = new THREE.Texture();\n\n\t\ttexture.image = this.image;\n\t\ttexture.mipmaps = this.mipmaps.slice(0);\n\n\t\ttexture.mapping = this.mapping;\n\n\t\ttexture.wrapS = this.wrapS;\n\t\ttexture.wrapT = this.wrapT;\n\n\t\ttexture.magFilter = this.magFilter;\n\t\ttexture.minFilter = this.minFilter;\n\n\t\ttexture.anisotropy = this.anisotropy;\n\n\t\ttexture.format = this.format;\n\t\ttexture.type = this.type;\n\n\t\ttexture.offset.copy( this.offset );\n\t\ttexture.repeat.copy( this.repeat );\n\n\t\ttexture.generateMipmaps = this.generateMipmaps;\n\t\ttexture.premultiplyAlpha = this.premultiplyAlpha;\n\t\ttexture.flipY = this.flipY;\n\t\ttexture.unpackAlignment = this.unpackAlignment;\n\n\t\treturn texture;\n\n\t},\n\n\tupdate: function () {\n\n\t\tthis.dispatchEvent( { type: 'update' } );\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n};\n\nTHREE.EventDispatcher.prototype.apply( THREE.Texture.prototype );\n\nTHREE.TextureIdCount = 0;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.CompressedTexture = function ( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy ) {\n\n\tTHREE.Texture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.image = { width: width, height: height };\n\tthis.mipmaps = mipmaps;\n\n\tthis.generateMipmaps = false; // WebGL currently can't generate mipmaps for compressed textures, they must be embedded in DDS file\n\n};\n\nTHREE.CompressedTexture.prototype = Object.create( THREE.Texture.prototype );\n\nTHREE.CompressedTexture.prototype.clone = function () {\n\n\tvar texture = new THREE.CompressedTexture();\n\n\tTHREE.Texture.prototype.clone.call( this, texture );\n\n\treturn texture;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.DataTexture = function ( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy ) {\n\n\tTHREE.Texture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.image = { data: data, width: width, height: height };\n\n};\n\nTHREE.DataTexture.prototype = Object.create( THREE.Texture.prototype );\n\nTHREE.DataTexture.prototype.clone = function () {\n\n\tvar texture = new THREE.DataTexture();\n\n\tTHREE.Texture.prototype.clone.call( this, texture );\n\n\treturn texture;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.ParticleSystem = function ( geometry, material ) {\n\n\tTHREE.Object3D.call( this );\n\n\tthis.geometry = geometry !== undefined ? geometry : new THREE.Geometry();\n\tthis.material = material !== undefined ? material : new THREE.ParticleSystemMaterial( { color: Math.random() * 0xffffff } );\n\n\tthis.sortParticles = false;\n\tthis.frustumCulled = false;\n\n};\n\nTHREE.ParticleSystem.prototype = Object.create( THREE.Object3D.prototype );\n\nTHREE.ParticleSystem.prototype.clone = function ( object ) {\n\n\tif ( object === undefined ) object = new THREE.ParticleSystem( this.geometry, this.material );\n\n\tobject.sortParticles = this.sortParticles;\n\n\tTHREE.Object3D.prototype.clone.call( this, object );\n\n\treturn object;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.Line = function ( geometry, material, type ) {\n\n\tTHREE.Object3D.call( this );\n\n\tthis.geometry = geometry !== undefined ? geometry : new THREE.Geometry();\n\tthis.material = material !== undefined ? material : new THREE.LineBasicMaterial( { color: Math.random() * 0xffffff } );\n\n\tthis.type = ( type !== undefined ) ? type : THREE.LineStrip;\n\n};\n\nTHREE.LineStrip = 0;\nTHREE.LinePieces = 1;\n\nTHREE.Line.prototype = Object.create( THREE.Object3D.prototype );\n\nTHREE.Line.prototype.clone = function ( object ) {\n\n\tif ( object === undefined ) object = new THREE.Line( this.geometry, this.material, this.type );\n\n\tTHREE.Object3D.prototype.clone.call( this, object );\n\n\treturn object;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author jonobr1 / http://jonobr1.com/\n */\n\nTHREE.Mesh = function ( geometry, material ) {\n\n\tTHREE.Object3D.call( this );\n\n\tthis.geometry = geometry !== undefined ? geometry : new THREE.Geometry();\n\tthis.material = material !== undefined ? material : new THREE.MeshBasicMaterial( { color: Math.random() * 0xffffff } );\n\n\tthis.updateMorphTargets();\n\n};\n\nTHREE.Mesh.prototype = Object.create( THREE.Object3D.prototype );\n\nTHREE.Mesh.prototype.updateMorphTargets = function () {\n\n\tif ( this.geometry.morphTargets.length > 0 ) {\n\n\t\tthis.morphTargetBase = -1;\n\t\tthis.morphTargetForcedOrder = [];\n\t\tthis.morphTargetInfluences = [];\n\t\tthis.morphTargetDictionary = {};\n\n\t\tfor ( var m = 0, ml = this.geometry.morphTargets.length; m < ml; m ++ ) {\n\n\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\tthis.morphTargetDictionary[ this.geometry.morphTargets[ m ].name ] = m;\n\n\t\t}\n\n\t}\n\n};\n\nTHREE.Mesh.prototype.getMorphTargetIndexByName = function ( name ) {\n\n\tif ( this.morphTargetDictionary[ name ] !== undefined ) {\n\n\t\treturn this.morphTargetDictionary[ name ];\n\n\t}\n\n\tconsole.log( \"THREE.Mesh.getMorphTargetIndexByName: morph target \" + name + \" does not exist. Returning 0.\" );\n\n\treturn 0;\n\n};\n\nTHREE.Mesh.prototype.clone = function ( object ) {\n\n\tif ( object === undefined ) object = new THREE.Mesh( this.geometry, this.material );\n\n\tTHREE.Object3D.prototype.clone.call( this, object );\n\n\treturn object;\n\n};\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.Bone = function( belongsToSkin ) {\n\n\tTHREE.Object3D.call( this );\n\n\tthis.skin = belongsToSkin;\n\tthis.skinMatrix = new THREE.Matrix4();\n\n};\n\nTHREE.Bone.prototype = Object.create( THREE.Object3D.prototype );\n\nTHREE.Bone.prototype.update = function ( parentSkinMatrix, forceUpdate ) {\n\n\t// update local\n\n\tif ( this.matrixAutoUpdate ) {\n\n\t\tforceUpdate |= this.updateMatrix();\n\n\t}\n\n\t// update skin matrix\n\n\tif ( forceUpdate || this.matrixWorldNeedsUpdate ) {\n\n\t\tif( parentSkinMatrix ) {\n\n\t\t\tthis.skinMatrix.multiplyMatrices( parentSkinMatrix, this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.skinMatrix.copy( this.matrix );\n\n\t\t}\n\n\t\tthis.matrixWorldNeedsUpdate = false;\n\t\tforceUpdate = true;\n\n\t}\n\n\t// update children\n\n\tvar child, i, l = this.children.length;\n\n\tfor ( i = 0; i < l; i ++ ) {\n\n\t\tthis.children[ i ].update( this.skinMatrix, forceUpdate );\n\n\t}\n\n};\n\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.SkinnedMesh = function ( geometry, material, useVertexTexture ) {\n\n\tTHREE.Mesh.call( this, geometry, material );\n\n\t//\n\n\tthis.useVertexTexture = useVertexTexture !== undefined ? useVertexTexture : true;\n\n\t// init bones\n\n\tthis.identityMatrix = new THREE.Matrix4();\n\n\tthis.bones = [];\n\tthis.boneMatrices = [];\n\n\tvar b, bone, gbone, p, q, s;\n\n\tif ( this.geometry && this.geometry.bones !== undefined ) {\n\n\t\tfor ( b = 0; b < this.geometry.bones.length; b ++ ) {\n\n\t\t\tgbone = this.geometry.bones[ b ];\n\n\t\t\tp = gbone.pos;\n\t\t\tq = gbone.rotq;\n\t\t\ts = gbone.scl;\n\n\t\t\tbone = this.addBone();\n\n\t\t\tbone.name = gbone.name;\n\t\t\tbone.position.set( p[0], p[1], p[2] );\n\t\t\tbone.quaternion.set( q[0], q[1], q[2], q[3] );\n\t\t\n\t\t\tif ( s !== undefined ) {\n\n\t\t\t\tbone.scale.set( s[0], s[1], s[2] );\n\n\t\t\t} else {\n\n\t\t\t\tbone.scale.set( 1, 1, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( b = 0; b < this.bones.length; b ++ ) {\n\n\t\t\tgbone = this.geometry.bones[ b ];\n\t\t\tbone = this.bones[ b ];\n\n\t\t\tif ( gbone.parent === -1 ) {\n\n\t\t\t\tthis.add( bone );\n\n\t\t\t} else {\n\n\t\t\t\tthis.bones[ gbone.parent ].add( bone );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tvar nBones = this.bones.length;\n\n\t\tif ( this.useVertexTexture ) {\n\n\t\t\t// layout (1 matrix = 4 pixels)\n\t\t\t//\tRGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t\t//  with  8x8  pixel texture max   16 bones  (8 * 8  / 4)\n\t\t\t//  \t 16x16 pixel texture max   64 bones (16 * 16 / 4)\n\t\t\t//  \t 32x32 pixel texture max  256 bones (32 * 32 / 4)\n\t\t\t//  \t 64x64 pixel texture max 1024 bones (64 * 64 / 4)\n\n\t\t\tvar size;\n\n\t\t\tif ( nBones > 256 )\n\t\t\t\tsize = 64;\n\t\t\telse if ( nBones > 64 )\n\t\t\t\tsize = 32;\n\t\t\telse if ( nBones > 16 )\n\t\t\t\tsize = 16;\n\t\t\telse\n\t\t\t\tsize = 8;\n\n\t\t\tthis.boneTextureWidth = size;\n\t\t\tthis.boneTextureHeight = size;\n\n\t\t\tthis.boneMatrices = new Float32Array( this.boneTextureWidth * this.boneTextureHeight * 4 ); // 4 floats per RGBA pixel\n\t\t\tthis.boneTexture = new THREE.DataTexture( this.boneMatrices, this.boneTextureWidth, this.boneTextureHeight, THREE.RGBAFormat, THREE.FloatType );\n\t\t\tthis.boneTexture.minFilter = THREE.NearestFilter;\n\t\t\tthis.boneTexture.magFilter = THREE.NearestFilter;\n\t\t\tthis.boneTexture.generateMipmaps = false;\n\t\t\tthis.boneTexture.flipY = false;\n\n\t\t} else {\n\n\t\t\tthis.boneMatrices = new Float32Array( 16 * nBones );\n\n\t\t}\n\n\t\tthis.pose();\n\n\t}\n\n};\n\nTHREE.SkinnedMesh.prototype = Object.create( THREE.Mesh.prototype );\n\nTHREE.SkinnedMesh.prototype.addBone = function( bone ) {\n\n\tif ( bone === undefined ) {\n\n\t\tbone = new THREE.Bone( this );\n\n\t}\n\n\tthis.bones.push( bone );\n\n\treturn bone;\n\n};\n\nTHREE.SkinnedMesh.prototype.updateMatrixWorld = function () {\n\n\tvar offsetMatrix = new THREE.Matrix4();\n\n\treturn function ( force ) {\n\n\t\tthis.matrixAutoUpdate && this.updateMatrix();\n\n\t\t// update matrixWorld\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent ) {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tvar child = this.children[ i ];\n\n\t\t\tif ( child instanceof THREE.Bone ) {\n\n\t\t\t\tchild.update( this.identityMatrix, false );\n\n\t\t\t} else {\n\n\t\t\t\tchild.updateMatrixWorld( true );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// make a snapshot of the bones' rest position\n\n\t\tif ( this.boneInverses == undefined ) {\n\n\t\t\tthis.boneInverses = [];\n\n\t\t\tfor ( var b = 0, bl = this.bones.length; b < bl; b ++ ) {\n\n\t\t\t\tvar inverse = new THREE.Matrix4();\n\n\t\t\t\tinverse.getInverse( this.bones[ b ].skinMatrix );\n\n\t\t\t\tthis.boneInverses.push( inverse );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// flatten bone matrices to array\n\n\t\tfor ( var b = 0, bl = this.bones.length; b < bl; b ++ ) {\n\n\t\t\t// compute the offset between the current and the original transform;\n\n\t\t\t// TODO: we could get rid of this multiplication step if the skinMatrix\n\t\t\t// was already representing the offset; however, this requires some\n\t\t\t// major changes to the animation system\n\n\t\t\toffsetMatrix.multiplyMatrices( this.bones[ b ].skinMatrix, this.boneInverses[ b ] );\n\t\t\toffsetMatrix.flattenToArrayOffset( this.boneMatrices, b * 16 );\n\n\t\t}\n\n\t\tif ( this.useVertexTexture ) {\n\n\t\t\tthis.boneTexture.needsUpdate = true;\n\n\t\t}\n\n\t};\n\n}();\n\nTHREE.SkinnedMesh.prototype.pose = function () {\n\n\tthis.updateMatrixWorld( true );\n\n\tthis.normalizeSkinWeights();\n\n};\n\nTHREE.SkinnedMesh.prototype.normalizeSkinWeights = function () {\n\n\tif ( this.geometry instanceof THREE.Geometry ) {\n\n\t\tfor ( var i = 0; i < this.geometry.skinIndices.length; i ++ ) {\n\n\t\t\tvar sw = this.geometry.skinWeights[ i ];\n\n\t\t\tvar scale = 1.0 / sw.lengthManhattan();\n\n\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\tsw.multiplyScalar( scale );\n\n\t\t\t} else {\n\n\t\t\t\tsw.set( 1 ); // this will be normalized by the shader anyway\n\n\t\t\t}\n\n\t\t}\n\n\t} else {\n\n\t\t// skinning weights assumed to be normalized for THREE.BufferGeometry\n\n\t}\n\n};\n\nTHREE.SkinnedMesh.prototype.clone = function ( object ) {\n\n\tif ( object === undefined ) {\n\n\t\tobject = new THREE.SkinnedMesh( this.geometry, this.material, this.useVertexTexture );\n\n\t}\n\n\tTHREE.Mesh.prototype.clone.call( this, object );\n\n\treturn object;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.MorphAnimMesh = function ( geometry, material ) {\n\n\tTHREE.Mesh.call( this, geometry, material );\n\n\t// API\n\n\tthis.duration = 1000; // milliseconds\n\tthis.mirroredLoop = false;\n\tthis.time = 0;\n\n\t// internals\n\n\tthis.lastKeyframe = 0;\n\tthis.currentKeyframe = 0;\n\n\tthis.direction = 1;\n\tthis.directionBackwards = false;\n\n\tthis.setFrameRange( 0, this.geometry.morphTargets.length - 1 );\n\n};\n\nTHREE.MorphAnimMesh.prototype = Object.create( THREE.Mesh.prototype );\n\nTHREE.MorphAnimMesh.prototype.setFrameRange = function ( start, end ) {\n\n\tthis.startKeyframe = start;\n\tthis.endKeyframe = end;\n\n\tthis.length = this.endKeyframe - this.startKeyframe + 1;\n\n};\n\nTHREE.MorphAnimMesh.prototype.setDirectionForward = function () {\n\n\tthis.direction = 1;\n\tthis.directionBackwards = false;\n\n};\n\nTHREE.MorphAnimMesh.prototype.setDirectionBackward = function () {\n\n\tthis.direction = -1;\n\tthis.directionBackwards = true;\n\n};\n\nTHREE.MorphAnimMesh.prototype.parseAnimations = function () {\n\n\tvar geometry = this.geometry;\n\n\tif ( ! geometry.animations ) geometry.animations = {};\n\n\tvar firstAnimation, animations = geometry.animations;\n\n\tvar pattern = /([a-z]+)(\\d+)/;\n\n\tfor ( var i = 0, il = geometry.morphTargets.length; i < il; i ++ ) {\n\n\t\tvar morph = geometry.morphTargets[ i ];\n\t\tvar parts = morph.name.match( pattern );\n\n\t\tif ( parts && parts.length > 1 ) {\n\n\t\t\tvar label = parts[ 1 ];\n\t\t\tvar num = parts[ 2 ];\n\n\t\t\tif ( ! animations[ label ] ) animations[ label ] = { start: Infinity, end: -Infinity };\n\n\t\t\tvar animation = animations[ label ];\n\n\t\t\tif ( i < animation.start ) animation.start = i;\n\t\t\tif ( i > animation.end ) animation.end = i;\n\n\t\t\tif ( ! firstAnimation ) firstAnimation = label;\n\n\t\t}\n\n\t}\n\n\tgeometry.firstAnimation = firstAnimation;\n\n};\n\nTHREE.MorphAnimMesh.prototype.setAnimationLabel = function ( label, start, end ) {\n\n\tif ( ! this.geometry.animations ) this.geometry.animations = {};\n\n\tthis.geometry.animations[ label ] = { start: start, end: end };\n\n};\n\nTHREE.MorphAnimMesh.prototype.playAnimation = function ( label, fps ) {\n\n\tvar animation = this.geometry.animations[ label ];\n\n\tif ( animation ) {\n\n\t\tthis.setFrameRange( animation.start, animation.end );\n\t\tthis.duration = 1000 * ( ( animation.end - animation.start ) / fps );\n\t\tthis.time = 0;\n\n\t} else {\n\n\t\tconsole.warn( \"animation[\" + label + \"] undefined\" );\n\n\t}\n\n};\n\nTHREE.MorphAnimMesh.prototype.updateAnimation = function ( delta ) {\n\n\tvar frameTime = this.duration / this.length;\n\n\tthis.time += this.direction * delta;\n\n\tif ( this.mirroredLoop ) {\n\n\t\tif ( this.time > this.duration || this.time < 0 ) {\n\n\t\t\tthis.direction *= -1;\n\n\t\t\tif ( this.time > this.duration ) {\n\n\t\t\t\tthis.time = this.duration;\n\t\t\t\tthis.directionBackwards = true;\n\n\t\t\t}\n\n\t\t\tif ( this.time < 0 ) {\n\n\t\t\t\tthis.time = 0;\n\t\t\t\tthis.directionBackwards = false;\n\n\t\t\t}\n\n\t\t}\n\n\t} else {\n\n\t\tthis.time = this.time % this.duration;\n\n\t\tif ( this.time < 0 ) this.time += this.duration;\n\n\t}\n\n\tvar keyframe = this.startKeyframe + THREE.Math.clamp( Math.floor( this.time / frameTime ), 0, this.length - 1 );\n\n\tif ( keyframe !== this.currentKeyframe ) {\n\n\t\tthis.morphTargetInfluences[ this.lastKeyframe ] = 0;\n\t\tthis.morphTargetInfluences[ this.currentKeyframe ] = 1;\n\n\t\tthis.morphTargetInfluences[ keyframe ] = 0;\n\n\t\tthis.lastKeyframe = this.currentKeyframe;\n\t\tthis.currentKeyframe = keyframe;\n\n\t}\n\n\tvar mix = ( this.time % frameTime ) / frameTime;\n\n\tif ( this.directionBackwards ) {\n\n\t\tmix = 1 - mix;\n\n\t}\n\n\tthis.morphTargetInfluences[ this.currentKeyframe ] = mix;\n\tthis.morphTargetInfluences[ this.lastKeyframe ] = 1 - mix;\n\n};\n\nTHREE.MorphAnimMesh.prototype.clone = function ( object ) {\n\n\tif ( object === undefined ) object = new THREE.MorphAnimMesh( this.geometry, this.material );\n\n\tobject.duration = this.duration;\n\tobject.mirroredLoop = this.mirroredLoop;\n\tobject.time = this.time;\n\n\tobject.lastKeyframe = this.lastKeyframe;\n\tobject.currentKeyframe = this.currentKeyframe;\n\n\tobject.direction = this.direction;\n\tobject.directionBackwards = this.directionBackwards;\n\n\tTHREE.Mesh.prototype.clone.call( this, object );\n\n\treturn object;\n\n};\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.LOD = function () {\n\n\tTHREE.Object3D.call( this );\n\n\tthis.objects = [];\n\n};\n\n\nTHREE.LOD.prototype = Object.create( THREE.Object3D.prototype );\n\nTHREE.LOD.prototype.addLevel = function ( object, distance ) {\n\n\tif ( distance === undefined ) distance = 0;\n\n\tdistance = Math.abs( distance );\n\n\tfor ( var l = 0; l < this.objects.length; l ++ ) {\n\n\t\tif ( distance < this.objects[ l ].distance ) {\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tthis.objects.splice( l, 0, { distance: distance, object: object } );\n\tthis.add( object );\n\n};\n\nTHREE.LOD.prototype.getObjectForDistance = function ( distance ) {\n\n\tfor ( var i = 1, l = this.objects.length; i < l; i ++ ) {\n\n\t\tif ( distance < this.objects[ i ].distance ) {\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn this.objects[ i - 1 ].object;\n\n};\n\nTHREE.LOD.prototype.update = function () {\n\n\tvar v1 = new THREE.Vector3();\n\tvar v2 = new THREE.Vector3();\n\n\treturn function ( camera ) {\n\n\t\tif ( this.objects.length > 1 ) {\n\n\t\t\tv1.setFromMatrixPosition( camera.matrixWorld );\n\t\t\tv2.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tvar distance = v1.distanceTo( v2 );\n\n\t\t\tthis.objects[ 0 ].object.visible = true;\n\n\t\t\tfor ( var i = 1, l = this.objects.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance >= this.objects[ i ].distance ) {\n\n\t\t\t\t\tthis.objects[ i - 1 ].object.visible = false;\n\t\t\t\t\tthis.objects[ i     ].object.visible = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfor( ; i < l; i ++ ) {\n\n\t\t\t\tthis.objects[ i ].object.visible = false;\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n}();\n\nTHREE.LOD.prototype.clone = function () {\n\n\t// TODO\n\n};\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.Sprite = function ( material ) {\n\n\tTHREE.Object3D.call( this );\n\n\tthis.material = ( material !== undefined ) ? material : new THREE.SpriteMaterial();\n\n};\n\nTHREE.Sprite.prototype = Object.create( THREE.Object3D.prototype );\n\n/*\n * Custom update matrix\n */\n\nTHREE.Sprite.prototype.updateMatrix = function () {\n\n\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\tthis.matrixWorldNeedsUpdate = true;\n\n};\n\nTHREE.Sprite.prototype.clone = function ( object ) {\n\n\tif ( object === undefined ) object = new THREE.Sprite( this.material );\n\n\tTHREE.Object3D.prototype.clone.call( this, object );\n\n\treturn object;\n\n};\n\n// Backwards compatibility\n\nTHREE.Particle = THREE.Sprite;\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.Scene = function () {\n\n\tTHREE.Object3D.call( this );\n\n\tthis.fog = null;\n\tthis.overrideMaterial = null;\n\n\tthis.autoUpdate = true; // checked by the renderer\n\tthis.matrixAutoUpdate = false;\n\n\tthis.__lights = [];\n\n\tthis.__objectsAdded = [];\n\tthis.__objectsRemoved = [];\n\n};\n\nTHREE.Scene.prototype = Object.create( THREE.Object3D.prototype );\n\nTHREE.Scene.prototype.__addObject = function ( object ) {\n\n\tif ( object instanceof THREE.Light ) {\n\n\t\tif ( this.__lights.indexOf( object ) === - 1 ) {\n\n\t\t\tthis.__lights.push( object );\n\n\t\t}\n\n\t\tif ( object.target && object.target.parent === undefined ) {\n\n\t\t\tthis.add( object.target );\n\n\t\t}\n\n\t} else if ( !( object instanceof THREE.Camera || object instanceof THREE.Bone ) ) {\n\n\t\tthis.__objectsAdded.push( object );\n\n\t\t// check if previously removed\n\n\t\tvar i = this.__objectsRemoved.indexOf( object );\n\n\t\tif ( i !== -1 ) {\n\n\t\t\tthis.__objectsRemoved.splice( i, 1 );\n\n\t\t}\n\n\t}\n\n\tthis.dispatchEvent( { type: 'objectAdded', object: object } );\n\tobject.dispatchEvent( { type: 'addedToScene', scene: this } );\n\n\tfor ( var c = 0; c < object.children.length; c ++ ) {\n\n\t\tthis.__addObject( object.children[ c ] );\n\n\t}\n\n};\n\nTHREE.Scene.prototype.__removeObject = function ( object ) {\n\n\tif ( object instanceof THREE.Light ) {\n\n\t\tvar i = this.__lights.indexOf( object );\n\n\t\tif ( i !== -1 ) {\n\n\t\t\tthis.__lights.splice( i, 1 );\n\n\t\t}\n\n\t\tif ( object.shadowCascadeArray ) {\n\n\t\t\tfor ( var x = 0; x < object.shadowCascadeArray.length; x ++ ) {\n\n\t\t\t\tthis.__removeObject( object.shadowCascadeArray[ x ] );\n\n\t\t\t}\n\n\t\t}\n\n\t} else if ( !( object instanceof THREE.Camera ) ) {\n\n\t\tthis.__objectsRemoved.push( object );\n\n\t\t// check if previously added\n\n\t\tvar i = this.__objectsAdded.indexOf( object );\n\n\t\tif ( i !== -1 ) {\n\n\t\t\tthis.__objectsAdded.splice( i, 1 );\n\n\t\t}\n\n\t}\n\n\tthis.dispatchEvent( { type: 'objectRemoved', object: object } );\n\tobject.dispatchEvent( { type: 'removedFromScene', scene: this } );\n\n\tfor ( var c = 0; c < object.children.length; c ++ ) {\n\n\t\tthis.__removeObject( object.children[ c ] );\n\n\t}\n\n};\n\nTHREE.Scene.prototype.clone = function ( object ) {\n\n\tif ( object === undefined ) object = new THREE.Scene();\n\n\tTHREE.Object3D.prototype.clone.call(this, object);\n\n\tif ( this.fog !== null ) object.fog = this.fog.clone();\n\tif ( this.overrideMaterial !== null ) object.overrideMaterial = this.overrideMaterial.clone();\n\n\tobject.autoUpdate = this.autoUpdate;\n\tobject.matrixAutoUpdate = this.matrixAutoUpdate;\n\n\treturn object;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.Fog = function ( hex, near, far ) {\n\n\tthis.name = '';\n\n\tthis.color = new THREE.Color( hex );\n\n\tthis.near = ( near !== undefined ) ? near : 1;\n\tthis.far = ( far !== undefined ) ? far : 1000;\n\n};\n\nTHREE.Fog.prototype.clone = function () {\n\n\treturn new THREE.Fog( this.color.getHex(), this.near, this.far );\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.FogExp2 = function ( hex, density ) {\n\n\tthis.name = '';\n\n\tthis.color = new THREE.Color( hex );\n\tthis.density = ( density !== undefined ) ? density : 0.00025;\n\n};\n\nTHREE.FogExp2.prototype.clone = function () {\n\n\treturn new THREE.FogExp2( this.color.getHex(), this.density );\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.CanvasRenderer = function ( parameters ) {\n\n\tconsole.log( 'THREE.CanvasRenderer', THREE.REVISION );\n\n\tvar smoothstep = THREE.Math.smoothstep;\n\n\tparameters = parameters || {};\n\n\tvar _this = this,\n\t_renderData, _elements, _lights,\n\t_projector = new THREE.Projector(),\n\n\t_canvas = parameters.canvas !== undefined\n\t\t\t? parameters.canvas\n\t\t\t: document.createElement( 'canvas' ),\n\n\t_canvasWidth = _canvas.width,\n\t_canvasHeight = _canvas.height,\n\t_canvasWidthHalf = Math.floor( _canvasWidth / 2 ),\n\t_canvasHeightHalf = Math.floor( _canvasHeight / 2 ),\n\t\n\t_context = _canvas.getContext( '2d' ),\n\n\t_clearColor = new THREE.Color( 0x000000 ),\n\t_clearAlpha = 0,\n\n\t_contextGlobalAlpha = 1,\n\t_contextGlobalCompositeOperation = 0,\n\t_contextStrokeStyle = null,\n\t_contextFillStyle = null,\n\t_contextLineWidth = null,\n\t_contextLineCap = null,\n\t_contextLineJoin = null,\n\t_contextDashSize = null,\n\t_contextGapSize = 0,\n\n\t_camera,\n\n\t_v1, _v2, _v3, _v4,\n\t_v5 = new THREE.RenderableVertex(),\n\t_v6 = new THREE.RenderableVertex(),\n\n\t_v1x, _v1y, _v2x, _v2y, _v3x, _v3y,\n\t_v4x, _v4y, _v5x, _v5y, _v6x, _v6y,\n\n\t_color = new THREE.Color(),\n\t_color1 = new THREE.Color(),\n\t_color2 = new THREE.Color(),\n\t_color3 = new THREE.Color(),\n\t_color4 = new THREE.Color(),\n\n\t_diffuseColor = new THREE.Color(),\n\t_emissiveColor = new THREE.Color(),\n\n\t_lightColor = new THREE.Color(),\n\n\t_patterns = {},\n\n\t_near, _far,\n\n\t_image, _uvs,\n\t_uv1x, _uv1y, _uv2x, _uv2y, _uv3x, _uv3y,\n\n\t_clipBox = new THREE.Box2(),\n\t_clearBox = new THREE.Box2(),\n\t_elemBox = new THREE.Box2(),\n\n\t_ambientLight = new THREE.Color(),\n\t_directionalLights = new THREE.Color(),\n\t_pointLights = new THREE.Color(),\n\n\t_vector3 = new THREE.Vector3(), // Needed for PointLight\n\n\t_pixelMap, _pixelMapContext, _pixelMapImage, _pixelMapData,\n\t_gradientMap, _gradientMapContext, _gradientMapQuality = 16;\n\n\t_pixelMap = document.createElement( 'canvas' );\n\t_pixelMap.width = _pixelMap.height = 2;\n\n\t_pixelMapContext = _pixelMap.getContext( '2d' );\n\t_pixelMapContext.fillStyle = 'rgba(0,0,0,1)';\n\t_pixelMapContext.fillRect( 0, 0, 2, 2 );\n\n\t_pixelMapImage = _pixelMapContext.getImageData( 0, 0, 2, 2 );\n\t_pixelMapData = _pixelMapImage.data;\n\n\t_gradientMap = document.createElement( 'canvas' );\n\t_gradientMap.width = _gradientMap.height = _gradientMapQuality;\n\n\t_gradientMapContext = _gradientMap.getContext( '2d' );\n\t_gradientMapContext.translate( - _gradientMapQuality / 2, - _gradientMapQuality / 2 );\n\t_gradientMapContext.scale( _gradientMapQuality, _gradientMapQuality );\n\n\t_gradientMapQuality --; // Fix UVs\n\n\t// dash+gap fallbacks for Firefox and everything else\n\n\tif ( _context.setLineDash === undefined ) {\n\n\t\tif ( _context.mozDash !== undefined ) {\n\n\t\t\t_context.setLineDash = function ( values ) {\n\n\t\t\t\t_context.mozDash = values[ 0 ] !== null ? values : null;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_context.setLineDash = function () {}\n\n\t\t}\n\n\t}\n\n\tthis.domElement = _canvas;\n\n\tthis.devicePixelRatio = parameters.devicePixelRatio !== undefined\n\t\t\t\t? parameters.devicePixelRatio\n\t\t\t\t: self.devicePixelRatio !== undefined\n\t\t\t\t\t? self.devicePixelRatio\n\t\t\t\t\t: 1;\n\n\tthis.autoClear = true;\n\tthis.sortObjects = true;\n\tthis.sortElements = true;\n\n\tthis.info = {\n\n\t\trender: {\n\n\t\t\tvertices: 0,\n\t\t\tfaces: 0\n\n\t\t}\n\n\t}\n\n\t// WebGLRenderer compatibility\n\n\tthis.supportsVertexTextures = function () {};\n\tthis.setFaceCulling = function () {};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\t_canvasWidth = width * this.devicePixelRatio;\n\t\t_canvasHeight = height * this.devicePixelRatio;\n\n\t\t_canvasWidthHalf = Math.floor( _canvasWidth / 2 );\n\t\t_canvasHeightHalf = Math.floor( _canvasHeight / 2 );\n\n\t\t_canvas.width = _canvasWidth;\n\t\t_canvas.height = _canvasHeight;\n\n\t\tif ( this.devicePixelRatio !== 1 && updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\t_clipBox.set(\n\t\t\tnew THREE.Vector2( - _canvasWidthHalf, - _canvasHeightHalf ),\n\t\t\tnew THREE.Vector2( _canvasWidthHalf, _canvasHeightHalf )\n\t\t);\n\n\t\t_clearBox.set(\n\t\t\tnew THREE.Vector2( - _canvasWidthHalf, - _canvasHeightHalf ),\n\t\t\tnew THREE.Vector2( _canvasWidthHalf, _canvasHeightHalf )\n\t\t);\n\n\t\t_contextGlobalAlpha = 1;\n\t\t_contextGlobalCompositeOperation = 0;\n\t\t_contextStrokeStyle = null;\n\t\t_contextFillStyle = null;\n\t\t_contextLineWidth = null;\n\t\t_contextLineCap = null;\n\t\t_contextLineJoin = null;\n\n\t};\n\n\tthis.setClearColor = function ( color, alpha ) {\n\n\t\t_clearColor.set( color );\n\t\t_clearAlpha = alpha !== undefined ? alpha : 1;\n\n\t\t_clearBox.set(\n\t\t\tnew THREE.Vector2( - _canvasWidthHalf, - _canvasHeightHalf ),\n\t\t\tnew THREE.Vector2( _canvasWidthHalf, _canvasHeightHalf )\n\t\t);\n\n\t};\n\n\tthis.setClearColorHex = function ( hex, alpha ) {\n\n\t\tconsole.warn( 'DEPRECATED: .setClearColorHex() is being removed. Use .setClearColor() instead.' );\n\t\tthis.setClearColor( hex, alpha );\n\n\t};\n\n\tthis.getMaxAnisotropy = function () {\n\n\t\treturn 0;\n\n\t};\n\n\tthis.clear = function () {\n\n\t\t_context.setTransform( 1, 0, 0, - 1, _canvasWidthHalf, _canvasHeightHalf );\n\n\t\tif ( _clearBox.empty() === false ) {\n\n\t\t\t_clearBox.intersect( _clipBox );\n\t\t\t_clearBox.expandByScalar( 2 );\n\n\t\t\tif ( _clearAlpha < 1 ) {\n\n\t\t\t\t_context.clearRect(\n\t\t\t\t\t_clearBox.min.x | 0,\n\t\t\t\t\t_clearBox.min.y | 0,\n\t\t\t\t\t( _clearBox.max.x - _clearBox.min.x ) | 0,\n\t\t\t\t\t( _clearBox.max.y - _clearBox.min.y ) | 0\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( _clearAlpha > 0 ) {\n\n\t\t\t\tsetBlending( THREE.NormalBlending );\n\t\t\t\tsetOpacity( 1 );\n\n\t\t\t\tsetFillStyle( 'rgba(' + Math.floor( _clearColor.r * 255 ) + ',' + Math.floor( _clearColor.g * 255 ) + ',' + Math.floor( _clearColor.b * 255 ) + ',' + _clearAlpha + ')' );\n\n\t\t\t\t_context.fillRect(\n\t\t\t\t\t_clearBox.min.x | 0,\n\t\t\t\t\t_clearBox.min.y | 0,\n\t\t\t\t\t( _clearBox.max.x - _clearBox.min.x ) | 0,\n\t\t\t\t\t( _clearBox.max.y - _clearBox.min.y ) | 0\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\t_clearBox.makeEmpty();\n\n\t\t}\n\n\t};\n\n\t// compatibility\n\n\tthis.clearColor = function () {};\n\tthis.clearDepth = function () {};\n\tthis.clearStencil = function () {};\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tif ( camera instanceof THREE.Camera === false ) {\n\n\t\t\tconsole.error( 'THREE.CanvasRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.autoClear === true ) this.clear();\n\n\t\t_context.setTransform( 1, 0, 0, - 1, _canvasWidthHalf, _canvasHeightHalf );\n\n\t\t_this.info.render.vertices = 0;\n\t\t_this.info.render.faces = 0;\n\n\t\t_renderData = _projector.projectScene( scene, camera, this.sortObjects, this.sortElements );\n\t\t_elements = _renderData.elements;\n\t\t_lights = _renderData.lights;\n\t\t_camera = camera;\n\n\t\t/* DEBUG\n\t\tsetFillStyle( 'rgba( 0, 255, 255, 0.5 )' );\n\t\t_context.fillRect( _clipBox.min.x, _clipBox.min.y, _clipBox.max.x - _clipBox.min.x, _clipBox.max.y - _clipBox.min.y );\n\t\t*/\n\n\t\tcalculateLights();\n\n\t\tfor ( var e = 0, el = _elements.length; e < el; e++ ) {\n\n\t\t\tvar element = _elements[ e ];\n\n\t\t\tvar material = element.material;\n\n\t\t\tif ( material === undefined || material.visible === false ) continue;\n\n\t\t\t_elemBox.makeEmpty();\n\n\t\t\tif ( element instanceof THREE.RenderableSprite ) {\n\n\t\t\t\t_v1 = element;\n\t\t\t\t_v1.x *= _canvasWidthHalf; _v1.y *= _canvasHeightHalf;\n\n\t\t\t\trenderSprite( _v1, element, material );\n\n\t\t\t} else if ( element instanceof THREE.RenderableLine ) {\n\n\t\t\t\t_v1 = element.v1; _v2 = element.v2;\n\n\t\t\t\t_v1.positionScreen.x *= _canvasWidthHalf; _v1.positionScreen.y *= _canvasHeightHalf;\n\t\t\t\t_v2.positionScreen.x *= _canvasWidthHalf; _v2.positionScreen.y *= _canvasHeightHalf;\n\n\t\t\t\t_elemBox.setFromPoints( [\n\t\t\t\t\t_v1.positionScreen,\n\t\t\t\t\t_v2.positionScreen\n\t\t\t\t] );\n\n\t\t\t\tif ( _clipBox.isIntersectionBox( _elemBox ) === true ) {\n\n\t\t\t\t\trenderLine( _v1, _v2, element, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( element instanceof THREE.RenderableFace3 ) {\n\n\t\t\t\t_v1 = element.v1; _v2 = element.v2; _v3 = element.v3;\n\n\t\t\t\tif ( _v1.positionScreen.z < -1 || _v1.positionScreen.z > 1 ) continue;\n\t\t\t\tif ( _v2.positionScreen.z < -1 || _v2.positionScreen.z > 1 ) continue;\n\t\t\t\tif ( _v3.positionScreen.z < -1 || _v3.positionScreen.z > 1 ) continue;\n\n\t\t\t\t_v1.positionScreen.x *= _canvasWidthHalf; _v1.positionScreen.y *= _canvasHeightHalf;\n\t\t\t\t_v2.positionScreen.x *= _canvasWidthHalf; _v2.positionScreen.y *= _canvasHeightHalf;\n\t\t\t\t_v3.positionScreen.x *= _canvasWidthHalf; _v3.positionScreen.y *= _canvasHeightHalf;\n\n\t\t\t\tif ( material.overdraw > 0 ) {\n\n\t\t\t\t\texpand( _v1.positionScreen, _v2.positionScreen, material.overdraw );\n\t\t\t\t\texpand( _v2.positionScreen, _v3.positionScreen, material.overdraw );\n\t\t\t\t\texpand( _v3.positionScreen, _v1.positionScreen, material.overdraw );\n\n\t\t\t\t}\n\n\t\t\t\t_elemBox.setFromPoints( [\n\t\t\t\t\t_v1.positionScreen,\n\t\t\t\t\t_v2.positionScreen,\n\t\t\t\t\t_v3.positionScreen\n\t\t\t\t] );\n\n\t\t\t\tif ( _clipBox.isIntersectionBox( _elemBox ) === true ) {\n\n\t\t\t\t\trenderFace3( _v1, _v2, _v3, 0, 1, 2, element, material );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t/* DEBUG\n\t\t\tsetLineWidth( 1 );\n\t\t\tsetStrokeStyle( 'rgba( 0, 255, 0, 0.5 )' );\n\t\t\t_context.strokeRect( _elemBox.min.x, _elemBox.min.y, _elemBox.max.x - _elemBox.min.x, _elemBox.max.y - _elemBox.min.y );\n\t\t\t*/\n\n\t\t\t_clearBox.union( _elemBox );\n\n\t\t}\n\n\t\t/* DEBUG\n\t\tsetLineWidth( 1 );\n\t\tsetStrokeStyle( 'rgba( 255, 0, 0, 0.5 )' );\n\t\t_context.strokeRect( _clearBox.min.x, _clearBox.min.y, _clearBox.max.x - _clearBox.min.x, _clearBox.max.y - _clearBox.min.y );\n\t\t*/\n\n\t\t_context.setTransform( 1, 0, 0, 1, 0, 0 );\n\n\t};\n\n\t//\n\n\tfunction calculateLights() {\n\n\t\t_ambientLight.setRGB( 0, 0, 0 );\n\t\t_directionalLights.setRGB( 0, 0, 0 );\n\t\t_pointLights.setRGB( 0, 0, 0 );\n\n\t\tfor ( var l = 0, ll = _lights.length; l < ll; l ++ ) {\n\n\t\t\tvar light = _lights[ l ];\n\t\t\tvar lightColor = light.color;\n\n\t\t\tif ( light instanceof THREE.AmbientLight ) {\n\n\t\t\t\t_ambientLight.add( lightColor );\n\n\t\t\t} else if ( light instanceof THREE.DirectionalLight ) {\n\n\t\t\t\t// for sprites\n\n\t\t\t\t_directionalLights.add( lightColor );\n\n\t\t\t} else if ( light instanceof THREE.PointLight ) {\n\n\t\t\t\t// for sprites\n\n\t\t\t\t_pointLights.add( lightColor );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction calculateLight( position, normal, color ) {\n\n\t\tfor ( var l = 0, ll = _lights.length; l < ll; l ++ ) {\n\n\t\t\tvar light = _lights[ l ];\n\n\t\t\t_lightColor.copy( light.color );\n\n\t\t\tif ( light instanceof THREE.DirectionalLight ) {\n\n\t\t\t\tvar lightPosition = _vector3.setFromMatrixPosition( light.matrixWorld ).normalize();\n\n\t\t\t\tvar amount = normal.dot( lightPosition );\n\n\t\t\t\tif ( amount <= 0 ) continue;\n\n\t\t\t\tamount *= light.intensity;\n\n\t\t\t\tcolor.add( _lightColor.multiplyScalar( amount ) );\n\n\t\t\t} else if ( light instanceof THREE.PointLight ) {\n\n\t\t\t\tvar lightPosition = _vector3.setFromMatrixPosition( light.matrixWorld );\n\n\t\t\t\tvar amount = normal.dot( _vector3.subVectors( lightPosition, position ).normalize() );\n\n\t\t\t\tif ( amount <= 0 ) continue;\n\n\t\t\t\tamount *= light.distance == 0 ? 1 : 1 - Math.min( position.distanceTo( lightPosition ) / light.distance, 1 );\n\n\t\t\t\tif ( amount == 0 ) continue;\n\n\t\t\t\tamount *= light.intensity;\n\n\t\t\t\tcolor.add( _lightColor.multiplyScalar( amount ) );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderSprite( v1, element, material ) {\n\n\t\tsetOpacity( material.opacity );\n\t\tsetBlending( material.blending );\n\n\t\tvar scaleX = element.scale.x * _canvasWidthHalf;\n\t\tvar scaleY = element.scale.y * _canvasHeightHalf;\n\n\t\tvar dist = 0.5 * Math.sqrt( scaleX * scaleX + scaleY * scaleY ); // allow for rotated sprite\n\t\t_elemBox.min.set( v1.x - dist, v1.y - dist );\n\t\t_elemBox.max.set( v1.x + dist, v1.y + dist );\n\n\t\tif ( _clipBox.isIntersectionBox( _elemBox ) === false ) {\n\n\t\t\t_elemBox.makeEmpty();\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( material instanceof THREE.SpriteMaterial ||\n\t\t\t material instanceof THREE.ParticleSystemMaterial ) { // Backwards compatibility\n\n\t\t\tvar texture = material.map;\n\n\t\t\tif ( texture !== null ) {\n\n\t\t\t\tif ( texture.hasEventListener( 'update', onTextureUpdate ) === false ) {\n\n\t\t\t\t\tif ( texture.image !== undefined && texture.image.width > 0 ) {\n\n\t\t\t\t\t\ttextureToPattern( texture );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.addEventListener( 'update', onTextureUpdate );\n\n\t\t\t\t}\n\n\t\t\t\tvar pattern = _patterns[ texture.id ];\n\n\t\t\t\tif ( pattern !== undefined ) {\n\n\t\t\t\t\tsetFillStyle( pattern );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tsetFillStyle( 'rgba( 0, 0, 0, 1 )' );\n\n\t\t\t\t}\n\n\t\t\t\t//\n\n\t\t\t\tvar bitmap = texture.image;\n\n\t\t\t\tvar ox = bitmap.width * texture.offset.x;\n\t\t\t\tvar oy = bitmap.height * texture.offset.y;\n\n\t\t\t\tvar sx = bitmap.width * texture.repeat.x;\n\t\t\t\tvar sy = bitmap.height * texture.repeat.y;\n\n\t\t\t\tvar cx = scaleX / sx;\n\t\t\t\tvar cy = scaleY / sy;\n\n\t\t\t\t_context.save();\n\t\t\t\t_context.translate( v1.x, v1.y );\n\t\t\t\tif ( material.rotation !== 0 ) _context.rotate( material.rotation );\n\t\t\t\t_context.translate( - scaleX / 2, - scaleY / 2 );\n\t\t\t\t_context.scale( cx, cy );\n\t\t\t\t_context.translate( - ox, - oy );\n\t\t\t\t_context.fillRect( ox, oy, sx, sy );\n\t\t\t\t_context.restore();\n\n\t\t\t} else { // no texture\n\n\t\t\t\tsetFillStyle( material.color.getStyle() );\n\n\t\t\t\t_context.save();\n\t\t\t\t_context.translate( v1.x, v1.y );\n\t\t\t\tif ( material.rotation !== 0 ) _context.rotate( material.rotation );\n\t\t\t\t_context.scale( scaleX, - scaleY );\n\t\t\t\t_context.fillRect( - 0.5, - 0.5, 1, 1 );\n\t\t\t\t_context.restore();\n\n\t\t\t}\n\n\t\t} else if ( material instanceof THREE.SpriteCanvasMaterial ) {\n\n\t\t\tsetStrokeStyle( material.color.getStyle() );\n\t\t\tsetFillStyle( material.color.getStyle() );\n\n\t\t\t_context.save();\n\t\t\t_context.translate( v1.x, v1.y );\n\t\t\tif ( material.rotation !== 0 ) _context.rotate( material.rotation );\n\t\t\t_context.scale( scaleX, scaleY );\n\n\t\t\tmaterial.program( _context );\n\n\t\t\t_context.restore();\n\n\t\t}\n\n\t\t/* DEBUG\n\t\tsetStrokeStyle( 'rgb(255,255,0)' );\n\t\t_context.beginPath();\n\t\t_context.moveTo( v1.x - 10, v1.y );\n\t\t_context.lineTo( v1.x + 10, v1.y );\n\t\t_context.moveTo( v1.x, v1.y - 10 );\n\t\t_context.lineTo( v1.x, v1.y + 10 );\n\t\t_context.stroke();\n\t\t*/\n\n\t}\n\n\tfunction renderLine( v1, v2, element, material ) {\n\n\t\tsetOpacity( material.opacity );\n\t\tsetBlending( material.blending );\n\n\t\t_context.beginPath();\n\t\t_context.moveTo( v1.positionScreen.x, v1.positionScreen.y );\n\t\t_context.lineTo( v2.positionScreen.x, v2.positionScreen.y );\n\n\t\tif ( material instanceof THREE.LineBasicMaterial ) {\n\n\t\t\tsetLineWidth( material.linewidth );\n\t\t\tsetLineCap( material.linecap );\n\t\t\tsetLineJoin( material.linejoin );\n\n\t\t\tif ( material.vertexColors !== THREE.VertexColors ) {\n\n\t\t\t\tsetStrokeStyle( material.color.getStyle() );\n\n\t\t\t} else {\n\n\t\t\t\tvar colorStyle1 = element.vertexColors[0].getStyle();\n\t\t\t\tvar colorStyle2 = element.vertexColors[1].getStyle();\n\n\t\t\t\tif ( colorStyle1 === colorStyle2 ) {\n\n\t\t\t\t\tsetStrokeStyle( colorStyle1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\tvar grad = _context.createLinearGradient(\n\t\t\t\t\t\t\tv1.positionScreen.x,\n\t\t\t\t\t\t\tv1.positionScreen.y,\n\t\t\t\t\t\t\tv2.positionScreen.x,\n\t\t\t\t\t\t\tv2.positionScreen.y\n\t\t\t\t\t\t);\n\t\t\t\t\t\tgrad.addColorStop( 0, colorStyle1 );\n\t\t\t\t\t\tgrad.addColorStop( 1, colorStyle2 );\n\n\t\t\t\t\t} catch ( exception ) {\n\n\t\t\t\t\t\tgrad = colorStyle1;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tsetStrokeStyle( grad );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_context.stroke();\n\t\t\t_elemBox.expandByScalar( material.linewidth * 2 );\n\n\t\t} else if ( material instanceof THREE.LineDashedMaterial ) {\n\n\t\t\tsetLineWidth( material.linewidth );\n\t\t\tsetLineCap( material.linecap );\n\t\t\tsetLineJoin( material.linejoin );\n\t\t\tsetStrokeStyle( material.color.getStyle() );\n\t\t\tsetDashAndGap( material.dashSize, material.gapSize );\n\n\t\t\t_context.stroke();\n\n\t\t\t_elemBox.expandByScalar( material.linewidth * 2 );\n\n\t\t\tsetDashAndGap( null, null );\n\n\t\t}\n\n\t}\n\n\tfunction renderFace3( v1, v2, v3, uv1, uv2, uv3, element, material ) {\n\n\t\t_this.info.render.vertices += 3;\n\t\t_this.info.render.faces ++;\n\n\t\tsetOpacity( material.opacity );\n\t\tsetBlending( material.blending );\n\n\t\t_v1x = v1.positionScreen.x; _v1y = v1.positionScreen.y;\n\t\t_v2x = v2.positionScreen.x; _v2y = v2.positionScreen.y;\n\t\t_v3x = v3.positionScreen.x; _v3y = v3.positionScreen.y;\n\n\t\tdrawTriangle( _v1x, _v1y, _v2x, _v2y, _v3x, _v3y );\n\n\t\tif ( ( material instanceof THREE.MeshLambertMaterial || material instanceof THREE.MeshPhongMaterial ) && material.map === null ) {\n\n\t\t\t_diffuseColor.copy( material.color );\n\t\t\t_emissiveColor.copy( material.emissive );\n\n\t\t\tif ( material.vertexColors === THREE.FaceColors ) {\n\n\t\t\t\t_diffuseColor.multiply( element.color );\n\n\t\t\t}\n\n\t\t\tif ( material.wireframe === false && material.shading === THREE.SmoothShading && element.vertexNormalsLength === 3 ) {\n\n\t\t\t\t_color1.copy( _ambientLight );\n\t\t\t\t_color2.copy( _ambientLight );\n\t\t\t\t_color3.copy( _ambientLight );\n\n\t\t\t\tcalculateLight( element.v1.positionWorld, element.vertexNormalsModel[ 0 ], _color1 );\n\t\t\t\tcalculateLight( element.v2.positionWorld, element.vertexNormalsModel[ 1 ], _color2 );\n\t\t\t\tcalculateLight( element.v3.positionWorld, element.vertexNormalsModel[ 2 ], _color3 );\n\n\t\t\t\t_color1.multiply( _diffuseColor ).add( _emissiveColor );\n\t\t\t\t_color2.multiply( _diffuseColor ).add( _emissiveColor );\n\t\t\t\t_color3.multiply( _diffuseColor ).add( _emissiveColor );\n\t\t\t\t_color4.addColors( _color2, _color3 ).multiplyScalar( 0.5 );\n\n\t\t\t\t_image = getGradientTexture( _color1, _color2, _color3, _color4 );\n\n\t\t\t\tclipImage( _v1x, _v1y, _v2x, _v2y, _v3x, _v3y, 0, 0, 1, 0, 0, 1, _image );\n\n\t\t\t} else {\n\n\t\t\t\t_color.copy( _ambientLight );\n\n\t\t\t\tcalculateLight( element.centroidModel, element.normalModel, _color );\n\n\t\t\t\t_color.multiply( _diffuseColor ).add( _emissiveColor );\n\n\t\t\t\tmaterial.wireframe === true\n\t\t\t\t\t? strokePath( _color, material.wireframeLinewidth, material.wireframeLinecap, material.wireframeLinejoin )\n\t\t\t\t\t: fillPath( _color );\n\n\t\t\t}\n\n\t\t} else if ( material instanceof THREE.MeshBasicMaterial || material instanceof THREE.MeshLambertMaterial || material instanceof THREE.MeshPhongMaterial ) {\n\n\t\t\tif ( material.map !== null ) {\n\n\t\t\t\tif ( material.map.mapping instanceof THREE.UVMapping ) {\n\n\t\t\t\t\t_uvs = element.uvs[ 0 ];\n\t\t\t\t\tpatternPath( _v1x, _v1y, _v2x, _v2y, _v3x, _v3y, _uvs[ uv1 ].x, _uvs[ uv1 ].y, _uvs[ uv2 ].x, _uvs[ uv2 ].y, _uvs[ uv3 ].x, _uvs[ uv3 ].y, material.map );\n\n\t\t\t\t}\n\n\n\t\t\t} else if ( material.envMap !== null ) {\n\n\t\t\t\tif ( material.envMap.mapping instanceof THREE.SphericalReflectionMapping ) {\n\n\t\t\t\t\t_vector3.copy( element.vertexNormalsModelView[ uv1 ] );\n\t\t\t\t\t_uv1x = 0.5 * _vector3.x + 0.5;\n\t\t\t\t\t_uv1y = 0.5 * _vector3.y + 0.5;\n\n\t\t\t\t\t_vector3.copy( element.vertexNormalsModelView[ uv2 ] );\n\t\t\t\t\t_uv2x = 0.5 * _vector3.x + 0.5;\n\t\t\t\t\t_uv2y = 0.5 * _vector3.y + 0.5;\n\n\t\t\t\t\t_vector3.copy( element.vertexNormalsModelView[ uv3 ] );\n\t\t\t\t\t_uv3x = 0.5 * _vector3.x + 0.5;\n\t\t\t\t\t_uv3y = 0.5 * _vector3.y + 0.5;\n\n\t\t\t\t\tpatternPath( _v1x, _v1y, _v2x, _v2y, _v3x, _v3y, _uv1x, _uv1y, _uv2x, _uv2y, _uv3x, _uv3y, material.envMap );\n\n\t\t\t\t}/* else if ( material.envMap.mapping === THREE.SphericalRefractionMapping ) {\n\n\n\n\t\t\t\t}*/\n\n\n\t\t\t} else {\n\n\t\t\t\t_color.copy( material.color );\n\n\t\t\t\tif ( material.vertexColors === THREE.FaceColors ) {\n\n\t\t\t\t\t_color.multiply( element.color );\n\n\t\t\t\t}\n\n\t\t\t\tmaterial.wireframe === true\n\t\t\t\t\t? strokePath( _color, material.wireframeLinewidth, material.wireframeLinecap, material.wireframeLinejoin )\n\t\t\t\t\t: fillPath( _color );\n\n\t\t\t}\n\n\t\t} else if ( material instanceof THREE.MeshDepthMaterial ) {\n\n\t\t\t_near = _camera.near;\n\t\t\t_far = _camera.far;\n\n\t\t\t_color1.r = _color1.g = _color1.b = 1 - smoothstep( v1.positionScreen.z * v1.positionScreen.w, _near, _far );\n\t\t\t_color2.r = _color2.g = _color2.b = 1 - smoothstep( v2.positionScreen.z * v2.positionScreen.w, _near, _far );\n\t\t\t_color3.r = _color3.g = _color3.b = 1 - smoothstep( v3.positionScreen.z * v3.positionScreen.w, _near, _far );\n\t\t\t_color4.addColors( _color2, _color3 ).multiplyScalar( 0.5 );\n\n\t\t\t_image = getGradientTexture( _color1, _color2, _color3, _color4 );\n\n\t\t\tclipImage( _v1x, _v1y, _v2x, _v2y, _v3x, _v3y, 0, 0, 1, 0, 0, 1, _image );\n\n\t\t} else if ( material instanceof THREE.MeshNormalMaterial ) {\n\n\t\t\tvar normal;\n\n\t\t\tif ( material.shading === THREE.FlatShading ) {\n\n\t\t\t\tnormal = element.normalModelView;\n\n\t\t\t\t_color.setRGB( normal.x, normal.y, normal.z ).multiplyScalar( 0.5 ).addScalar( 0.5 );\n\n\t\t\t\tmaterial.wireframe === true\n\t\t\t\t\t? strokePath( _color, material.wireframeLinewidth, material.wireframeLinecap, material.wireframeLinejoin )\n\t\t\t\t\t: fillPath( _color );\n\n\t\t\t} else if ( material.shading === THREE.SmoothShading ) {\n\n\t\t\t\tnormal = element.vertexNormalsModelView[ uv1 ];\n\t\t\t\t_color1.setRGB( normal.x, normal.y, normal.z ).multiplyScalar( 0.5 ).addScalar( 0.5 );\n\n\t\t\t\tnormal = element.vertexNormalsModelView[ uv2 ];\n\t\t\t\t_color2.setRGB( normal.x, normal.y, normal.z ).multiplyScalar( 0.5 ).addScalar( 0.5 );\n\n\t\t\t\tnormal = element.vertexNormalsModelView[ uv3 ];\n\t\t\t\t_color3.setRGB( normal.x, normal.y, normal.z ).multiplyScalar( 0.5 ).addScalar( 0.5 );\n\n\t\t\t\t_color4.addColors( _color2, _color3 ).multiplyScalar( 0.5 );\n\n\t\t\t\t_image = getGradientTexture( _color1, _color2, _color3, _color4 );\n\n\t\t\t\tclipImage( _v1x, _v1y, _v2x, _v2y, _v3x, _v3y, 0, 0, 1, 0, 0, 1, _image );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction drawTriangle( x0, y0, x1, y1, x2, y2 ) {\n\n\t\t_context.beginPath();\n\t\t_context.moveTo( x0, y0 );\n\t\t_context.lineTo( x1, y1 );\n\t\t_context.lineTo( x2, y2 );\n\t\t_context.closePath();\n\n\t}\n\n\tfunction strokePath( color, linewidth, linecap, linejoin ) {\n\n\t\tsetLineWidth( linewidth );\n\t\tsetLineCap( linecap );\n\t\tsetLineJoin( linejoin );\n\t\tsetStrokeStyle( color.getStyle() );\n\n\t\t_context.stroke();\n\n\t\t_elemBox.expandByScalar( linewidth * 2 );\n\n\t}\n\n\tfunction fillPath( color ) {\n\n\t\tsetFillStyle( color.getStyle() );\n\t\t_context.fill();\n\n\t}\n\n\tfunction onTextureUpdate ( event ) {\n\n\t\ttextureToPattern( event.target );\n\n\t}\n\n\tfunction textureToPattern( texture ) {\n\n\t\tvar repeatX = texture.wrapS === THREE.RepeatWrapping;\n\t\tvar repeatY = texture.wrapT === THREE.RepeatWrapping;\n\n\t\tvar image = texture.image;\n\n\t\tvar canvas = document.createElement( 'canvas' );\n\t\tcanvas.width = image.width;\n\t\tcanvas.height = image.height;\n\n\t\tvar context = canvas.getContext( '2d' );\n\t\tcontext.setTransform( 1, 0, 0, - 1, 0, image.height );\n\t\tcontext.drawImage( image, 0, 0 );\n\n\t\t_patterns[ texture.id ] = _context.createPattern(\n\t\t\tcanvas, repeatX === true && repeatY === true\n\t\t\t\t? 'repeat'\n\t\t\t\t: repeatX === true && repeatY === false\n\t\t\t\t\t? 'repeat-x'\n\t\t\t\t\t: repeatX === false && repeatY === true\n\t\t\t\t\t\t? 'repeat-y'\n\t\t\t\t\t\t: 'no-repeat'\n\t\t);\n\n\t}\n\n\tfunction patternPath( x0, y0, x1, y1, x2, y2, u0, v0, u1, v1, u2, v2, texture ) {\n\n\t\tif ( texture instanceof THREE.DataTexture ) return;\n\n\t\tif ( texture.hasEventListener( 'update', onTextureUpdate ) === false ) {\n\n\t\t\tif ( texture.image !== undefined && texture.image.width > 0 ) {\n\n\t\t\t\ttextureToPattern( texture );\n\n\t\t\t}\n\n\t\t\ttexture.addEventListener( 'update', onTextureUpdate );\n\n\t\t}\n\n\t\tvar pattern = _patterns[ texture.id ];\n\n\t\tif ( pattern !== undefined ) {\n\n\t\t\tsetFillStyle( pattern );\n\n\t\t} else {\n\n\t\t\tsetFillStyle( 'rgba(0,0,0,1)' );\n\t\t\t_context.fill();\n\n\t\t\treturn;\n\n\t\t}\t\n\n\t\t// http://extremelysatisfactorytotalitarianism.com/blog/?p=2120\n\n\t\tvar a, b, c, d, e, f, det, idet,\n\t\toffsetX = texture.offset.x / texture.repeat.x,\n\t\toffsetY = texture.offset.y / texture.repeat.y,\n\t\twidth = texture.image.width * texture.repeat.x,\n\t\theight = texture.image.height * texture.repeat.y;\n\n\t\tu0 = ( u0 + offsetX ) * width;\n\t\tv0 = ( v0 + offsetY ) * height;\n\n\t\tu1 = ( u1 + offsetX ) * width;\n\t\tv1 = ( v1 + offsetY ) * height;\n\n\t\tu2 = ( u2 + offsetX ) * width;\n\t\tv2 = ( v2 + offsetY ) * height;\n\n\t\tx1 -= x0; y1 -= y0;\n\t\tx2 -= x0; y2 -= y0;\n\n\t\tu1 -= u0; v1 -= v0;\n\t\tu2 -= u0; v2 -= v0;\n\n\t\tdet = u1 * v2 - u2 * v1;\n\n\t\tif ( det === 0 ) return;\n\n\t\tidet = 1 / det;\n\n\t\ta = ( v2 * x1 - v1 * x2 ) * idet;\n\t\tb = ( v2 * y1 - v1 * y2 ) * idet;\n\t\tc = ( u1 * x2 - u2 * x1 ) * idet;\n\t\td = ( u1 * y2 - u2 * y1 ) * idet;\n\n\t\te = x0 - a * u0 - c * v0;\n\t\tf = y0 - b * u0 - d * v0;\n\n\t\t_context.save();\n\t\t_context.transform( a, b, c, d, e, f );\n\t\t_context.fill();\n\t\t_context.restore();\n\n\t}\n\n\tfunction clipImage( x0, y0, x1, y1, x2, y2, u0, v0, u1, v1, u2, v2, image ) {\n\n\t\t// http://extremelysatisfactorytotalitarianism.com/blog/?p=2120\n\n\t\tvar a, b, c, d, e, f, det, idet,\n\t\twidth = image.width - 1,\n\t\theight = image.height - 1;\n\n\t\tu0 *= width; v0 *= height;\n\t\tu1 *= width; v1 *= height;\n\t\tu2 *= width; v2 *= height;\n\n\t\tx1 -= x0; y1 -= y0;\n\t\tx2 -= x0; y2 -= y0;\n\n\t\tu1 -= u0; v1 -= v0;\n\t\tu2 -= u0; v2 -= v0;\n\n\t\tdet = u1 * v2 - u2 * v1;\n\n\t\tidet = 1 / det;\n\n\t\ta = ( v2 * x1 - v1 * x2 ) * idet;\n\t\tb = ( v2 * y1 - v1 * y2 ) * idet;\n\t\tc = ( u1 * x2 - u2 * x1 ) * idet;\n\t\td = ( u1 * y2 - u2 * y1 ) * idet;\n\n\t\te = x0 - a * u0 - c * v0;\n\t\tf = y0 - b * u0 - d * v0;\n\n\t\t_context.save();\n\t\t_context.transform( a, b, c, d, e, f );\n\t\t_context.clip();\n\t\t_context.drawImage( image, 0, 0 );\n\t\t_context.restore();\n\n\t}\n\n\tfunction getGradientTexture( color1, color2, color3, color4 ) {\n\n\t\t// http://mrdoob.com/blog/post/710\n\n\t\t_pixelMapData[ 0 ] = ( color1.r * 255 ) | 0;\n\t\t_pixelMapData[ 1 ] = ( color1.g * 255 ) | 0;\n\t\t_pixelMapData[ 2 ] = ( color1.b * 255 ) | 0;\n\n\t\t_pixelMapData[ 4 ] = ( color2.r * 255 ) | 0;\n\t\t_pixelMapData[ 5 ] = ( color2.g * 255 ) | 0;\n\t\t_pixelMapData[ 6 ] = ( color2.b * 255 ) | 0;\n\n\t\t_pixelMapData[ 8 ] = ( color3.r * 255 ) | 0;\n\t\t_pixelMapData[ 9 ] = ( color3.g * 255 ) | 0;\n\t\t_pixelMapData[ 10 ] = ( color3.b * 255 ) | 0;\n\n\t\t_pixelMapData[ 12 ] = ( color4.r * 255 ) | 0;\n\t\t_pixelMapData[ 13 ] = ( color4.g * 255 ) | 0;\n\t\t_pixelMapData[ 14 ] = ( color4.b * 255 ) | 0;\n\n\t\t_pixelMapContext.putImageData( _pixelMapImage, 0, 0 );\n\t\t_gradientMapContext.drawImage( _pixelMap, 0, 0 );\n\n\t\treturn _gradientMap;\n\n\t}\n\n\t// Hide anti-alias gaps\n\n\tfunction expand( v1, v2, pixels ) {\n\n\t\tvar x = v2.x - v1.x, y = v2.y - v1.y,\n\t\tdet = x * x + y * y, idet;\n\n\t\tif ( det === 0 ) return;\n\n\t\tidet = pixels / Math.sqrt( det );\n\n\t\tx *= idet; y *= idet;\n\n\t\tv2.x += x; v2.y += y;\n\t\tv1.x -= x; v1.y -= y;\n\n\t}\n\n\t// Context cached methods.\n\n\tfunction setOpacity( value ) {\n\n\t\tif ( _contextGlobalAlpha !== value ) {\n\n\t\t\t_context.globalAlpha = value;\n\t\t\t_contextGlobalAlpha = value;\n\n\t\t}\n\n\t}\n\n\tfunction setBlending( value ) {\n\n\t\tif ( _contextGlobalCompositeOperation !== value ) {\n\n\t\t\tif ( value === THREE.NormalBlending ) {\n\n\t\t\t\t_context.globalCompositeOperation = 'source-over';\n\n\t\t\t} else if ( value === THREE.AdditiveBlending ) {\n\n\t\t\t\t_context.globalCompositeOperation = 'lighter';\n\n\t\t\t} else if ( value === THREE.SubtractiveBlending ) {\n\n\t\t\t\t_context.globalCompositeOperation = 'darker';\n\n\t\t\t}\n\n\t\t\t_contextGlobalCompositeOperation = value;\n\n\t\t}\n\n\t}\n\n\tfunction setLineWidth( value ) {\n\n\t\tif ( _contextLineWidth !== value ) {\n\n\t\t\t_context.lineWidth = value;\n\t\t\t_contextLineWidth = value;\n\n\t\t}\n\n\t}\n\n\tfunction setLineCap( value ) {\n\n\t\t// \"butt\", \"round\", \"square\"\n\n\t\tif ( _contextLineCap !== value ) {\n\n\t\t\t_context.lineCap = value;\n\t\t\t_contextLineCap = value;\n\n\t\t}\n\n\t}\n\n\tfunction setLineJoin( value ) {\n\n\t\t// \"round\", \"bevel\", \"miter\"\n\n\t\tif ( _contextLineJoin !== value ) {\n\n\t\t\t_context.lineJoin = value;\n\t\t\t_contextLineJoin = value;\n\n\t\t}\n\n\t}\n\n\tfunction setStrokeStyle( value ) {\n\n\t\tif ( _contextStrokeStyle !== value ) {\n\n\t\t\t_context.strokeStyle = value;\n\t\t\t_contextStrokeStyle = value;\n\n\t\t}\n\n\t}\n\n\tfunction setFillStyle( value ) {\n\n\t\tif ( _contextFillStyle !== value ) {\n\n\t\t\t_context.fillStyle = value;\n\t\t\t_contextFillStyle = value;\n\n\t\t}\n\n\t}\n\n\tfunction setDashAndGap( dashSizeValue, gapSizeValue ) {\n\n\t\tif ( _contextDashSize !== dashSizeValue || _contextGapSize !== gapSizeValue ) {\n\n\t\t\t_context.setLineDash( [ dashSizeValue, gapSizeValue ] );\n\t\t\t_contextDashSize = dashSizeValue;\n\t\t\t_contextGapSize = gapSizeValue;\n\n\t\t}\n\n\t}\n\n};\n\n/**\n * Shader chunks for WebLG Shader library\n * \n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n */\n\nTHREE.ShaderChunk = {\n\n\t// FOG\n\n\tfog_pars_fragment: [\n\n\t\t\"#ifdef USE_FOG\",\n\n\t\t\t\"uniform vec3 fogColor;\",\n\n\t\t\t\"#ifdef FOG_EXP2\",\n\n\t\t\t\t\"uniform float fogDensity;\",\n\n\t\t\t\"#else\",\n\n\t\t\t\t\"uniform float fogNear;\",\n\t\t\t\t\"uniform float fogFar;\",\n\n\t\t\t\"#endif\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tfog_fragment: [\n\n\t\t\"#ifdef USE_FOG\",\n\n\t\t\t\"float depth = gl_FragCoord.z / gl_FragCoord.w;\",\n\n\t\t\t\"#ifdef FOG_EXP2\",\n\n\t\t\t\t\"const float LOG2 = 1.442695;\",\n\t\t\t\t\"float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\",\n\t\t\t\t\"fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\",\n\n\t\t\t\"#else\",\n\n\t\t\t\t\"float fogFactor = smoothstep( fogNear, fogFar, depth );\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\t// ENVIRONMENT MAP\n\n\tenvmap_pars_fragment: [\n\n\t\t\"#ifdef USE_ENVMAP\",\n\n\t\t\t\"uniform float reflectivity;\",\n\t\t\t\"uniform samplerCube envMap;\",\n\t\t\t\"uniform float flipEnvMap;\",\n\t\t\t\"uniform int combine;\",\n\n\t\t\t\"#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\",\n\n\t\t\t\t\"uniform bool useRefract;\",\n\t\t\t\t\"uniform float refractionRatio;\",\n\n\t\t\t\"#else\",\n\n\t\t\t\t\"varying vec3 vReflect;\",\n\n\t\t\t\"#endif\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tenvmap_fragment: [\n\n\t\t\"#ifdef USE_ENVMAP\",\n\n\t\t\t\"vec3 reflectVec;\",\n\n\t\t\t\"#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\",\n\n\t\t\t\t\"vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\",\n\n\t\t\t\t\"if ( useRefract ) {\",\n\n\t\t\t\t\t\"reflectVec = refract( cameraToVertex, normal, refractionRatio );\",\n\n\t\t\t\t\"} else { \",\n\n\t\t\t\t\t\"reflectVec = reflect( cameraToVertex, normal );\",\n\n\t\t\t\t\"}\",\n\n\t\t\t\"#else\",\n\n\t\t\t\t\"reflectVec = vReflect;\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"#ifdef DOUBLE_SIDED\",\n\n\t\t\t\t\"float flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );\",\n\t\t\t\t\"vec4 cubeColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\",\n\n\t\t\t\"#else\",\n\n\t\t\t\t\"vec4 cubeColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"#ifdef GAMMA_INPUT\",\n\n\t\t\t\t\"cubeColor.xyz *= cubeColor.xyz;\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"if ( combine == 1 ) {\",\n\n\t\t\t\t\"gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularStrength * reflectivity );\",\n\n\t\t\t\"} else if ( combine == 2 ) {\",\n\n\t\t\t\t\"gl_FragColor.xyz += cubeColor.xyz * specularStrength * reflectivity;\",\n\n\t\t\t\"} else {\",\n\n\t\t\t\t\"gl_FragColor.xyz = mix( gl_FragColor.xyz, gl_FragColor.xyz * cubeColor.xyz, specularStrength * reflectivity );\",\n\n\t\t\t\"}\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tenvmap_pars_vertex: [\n\n\t\t\"#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )\",\n\n\t\t\t\"varying vec3 vReflect;\",\n\n\t\t\t\"uniform float refractionRatio;\",\n\t\t\t\"uniform bool useRefract;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tworldpos_vertex : [\n\n\t\t\"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\",\n\n\t\t\t\"#ifdef USE_SKINNING\",\n\n\t\t\t\t\"vec4 worldPosition = modelMatrix * skinned;\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"#if defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )\",\n\n\t\t\t\t\"vec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"#if ! defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )\",\n\n\t\t\t\t\"vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\",\n\n\t\t\t\"#endif\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tenvmap_vertex : [\n\n\t\t\"#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )\",\n\n\t\t\t\"vec3 worldNormal = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * objectNormal;\",\n\t\t\t\"worldNormal = normalize( worldNormal );\",\n\n\t\t\t\"vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\",\n\n\t\t\t\"if ( useRefract ) {\",\n\n\t\t\t\t\"vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\",\n\n\t\t\t\"} else {\",\n\n\t\t\t\t\"vReflect = reflect( cameraToVertex, worldNormal );\",\n\n\t\t\t\"}\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\t// COLOR MAP (particles)\n\n\tmap_particle_pars_fragment: [\n\n\t\t\"#ifdef USE_MAP\",\n\n\t\t\t\"uniform sampler2D map;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\n\tmap_particle_fragment: [\n\n\t\t\"#ifdef USE_MAP\",\n\n\t\t\t\"gl_FragColor = gl_FragColor * texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\t// COLOR MAP (triangles)\n\n\tmap_pars_vertex: [\n\n\t\t\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )\",\n\n\t\t\t\"varying vec2 vUv;\",\n\t\t\t\"uniform vec4 offsetRepeat;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tmap_pars_fragment: [\n\n\t\t\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )\",\n\n\t\t\t\"varying vec2 vUv;\",\n\n\t\t\"#endif\",\n\n\t\t\"#ifdef USE_MAP\",\n\n\t\t\t\"uniform sampler2D map;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tmap_vertex: [\n\n\t\t\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )\",\n\n\t\t\t\"vUv = uv * offsetRepeat.zw + offsetRepeat.xy;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tmap_fragment: [\n\n\t\t\"#ifdef USE_MAP\",\n\n\t\t\t\"vec4 texelColor = texture2D( map, vUv );\",\n\n\t\t\t\"#ifdef GAMMA_INPUT\",\n\n\t\t\t\t\"texelColor.xyz *= texelColor.xyz;\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"gl_FragColor = gl_FragColor * texelColor;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\t// LIGHT MAP\n\n\tlightmap_pars_fragment: [\n\n\t\t\"#ifdef USE_LIGHTMAP\",\n\n\t\t\t\"varying vec2 vUv2;\",\n\t\t\t\"uniform sampler2D lightMap;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tlightmap_pars_vertex: [\n\n\t\t\"#ifdef USE_LIGHTMAP\",\n\n\t\t\t\"varying vec2 vUv2;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tlightmap_fragment: [\n\n\t\t\"#ifdef USE_LIGHTMAP\",\n\n\t\t\t\"gl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tlightmap_vertex: [\n\n\t\t\"#ifdef USE_LIGHTMAP\",\n\n\t\t\t\"vUv2 = uv2;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\t// BUMP MAP\n\n\tbumpmap_pars_fragment: [\n\n\t\t\"#ifdef USE_BUMPMAP\",\n\n\t\t\t\"uniform sampler2D bumpMap;\",\n\t\t\t\"uniform float bumpScale;\",\n\n\t\t\t// Derivative maps - bump mapping unparametrized surfaces by Morten Mikkelsen\n\t\t\t//\thttp://mmikkelsen3d.blogspot.sk/2011/07/derivative-maps.html\n\n\t\t\t// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\n\n\t\t\t\"vec2 dHdxy_fwd() {\",\n\n\t\t\t\t\"vec2 dSTdx = dFdx( vUv );\",\n\t\t\t\t\"vec2 dSTdy = dFdy( vUv );\",\n\n\t\t\t\t\"float Hll = bumpScale * texture2D( bumpMap, vUv ).x;\",\n\t\t\t\t\"float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\",\n\t\t\t\t\"float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\",\n\n\t\t\t\t\"return vec2( dBx, dBy );\",\n\n\t\t\t\"}\",\n\n\t\t\t\"vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\",\n\n\t\t\t\t\"vec3 vSigmaX = dFdx( surf_pos );\",\n\t\t\t\t\"vec3 vSigmaY = dFdy( surf_pos );\",\n\t\t\t\t\"vec3 vN = surf_norm;\",\t\t// normalized\n\n\t\t\t\t\"vec3 R1 = cross( vSigmaY, vN );\",\n\t\t\t\t\"vec3 R2 = cross( vN, vSigmaX );\",\n\n\t\t\t\t\"float fDet = dot( vSigmaX, R1 );\",\n\n\t\t\t\t\"vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\",\n\t\t\t\t\"return normalize( abs( fDet ) * surf_norm - vGrad );\",\n\n\t\t\t\"}\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\t// NORMAL MAP\n\n\tnormalmap_pars_fragment: [\n\n\t\t\"#ifdef USE_NORMALMAP\",\n\n\t\t\t\"uniform sampler2D normalMap;\",\n\t\t\t\"uniform vec2 normalScale;\",\n\n\t\t\t// Per-Pixel Tangent Space Normal Mapping\n\t\t\t// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\n\n\t\t\t\"vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\",\n\n\t\t\t\t\"vec3 q0 = dFdx( eye_pos.xyz );\",\n\t\t\t\t\"vec3 q1 = dFdy( eye_pos.xyz );\",\n\t\t\t\t\"vec2 st0 = dFdx( vUv.st );\",\n\t\t\t\t\"vec2 st1 = dFdy( vUv.st );\",\n\n\t\t\t\t\"vec3 S = normalize(  q0 * st1.t - q1 * st0.t );\",\n\t\t\t\t\"vec3 T = normalize( -q0 * st1.s + q1 * st0.s );\",\n\t\t\t\t\"vec3 N = normalize( surf_norm );\",\n\n\t\t\t\t\"vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\",\n\t\t\t\t\"mapN.xy = normalScale * mapN.xy;\",\n\t\t\t\t\"mat3 tsn = mat3( S, T, N );\",\n\t\t\t\t\"return normalize( tsn * mapN );\",\n\n\t\t\t\"}\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\t// SPECULAR MAP\n\n\tspecularmap_pars_fragment: [\n\n\t\t\"#ifdef USE_SPECULARMAP\",\n\n\t\t\t\"uniform sampler2D specularMap;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tspecularmap_fragment: [\n\n\t\t\"float specularStrength;\",\n\n\t\t\"#ifdef USE_SPECULARMAP\",\n\n\t\t\t\"vec4 texelSpecular = texture2D( specularMap, vUv );\",\n\t\t\t\"specularStrength = texelSpecular.r;\",\n\n\t\t\"#else\",\n\n\t\t\t\"specularStrength = 1.0;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\t// LIGHTS LAMBERT\n\n\tlights_lambert_pars_vertex: [\n\n\t\t\"uniform vec3 ambient;\",\n\t\t\"uniform vec3 diffuse;\",\n\t\t\"uniform vec3 emissive;\",\n\n\t\t\"uniform vec3 ambientLightColor;\",\n\n\t\t\"#if MAX_DIR_LIGHTS > 0\",\n\n\t\t\t\"uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\",\n\t\t\t\"uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\",\n\n\t\t\"#endif\",\n\n\t\t\"#if MAX_HEMI_LIGHTS > 0\",\n\n\t\t\t\"uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\",\n\t\t\t\"uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\",\n\t\t\t\"uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\",\n\n\t\t\"#endif\",\n\n\t\t\"#if MAX_POINT_LIGHTS > 0\",\n\n\t\t\t\"uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\",\n\t\t\t\"uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\",\n\t\t\t\"uniform float pointLightDistance[ MAX_POINT_LIGHTS ];\",\n\n\t\t\"#endif\",\n\n\t\t\"#if MAX_SPOT_LIGHTS > 0\",\n\n\t\t\t\"uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\",\n\t\t\t\"uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\",\n\t\t\t\"uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\",\n\t\t\t\"uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\",\n\t\t\t\"uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\",\n\t\t\t\"uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\",\n\n\t\t\"#endif\",\n\n\t\t\"#ifdef WRAP_AROUND\",\n\n\t\t\t\"uniform vec3 wrapRGB;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tlights_lambert_vertex: [\n\n\t\t\"vLightFront = vec3( 0.0 );\",\n\n\t\t\"#ifdef DOUBLE_SIDED\",\n\n\t\t\t\"vLightBack = vec3( 0.0 );\",\n\n\t\t\"#endif\",\n\n\t\t\"transformedNormal = normalize( transformedNormal );\",\n\n\t\t\"#if MAX_DIR_LIGHTS > 0\",\n\n\t\t\"for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\",\n\n\t\t\t\"vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\",\n\t\t\t\"vec3 dirVector = normalize( lDirection.xyz );\",\n\n\t\t\t\"float dotProduct = dot( transformedNormal, dirVector );\",\n\t\t\t\"vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\",\n\n\t\t\t\"#ifdef DOUBLE_SIDED\",\n\n\t\t\t\t\"vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\",\n\n\t\t\t\t\"#ifdef WRAP_AROUND\",\n\n\t\t\t\t\t\"vec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"#ifdef WRAP_AROUND\",\n\n\t\t\t\t\"vec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\",\n\t\t\t\t\"directionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );\",\n\n\t\t\t\t\"#ifdef DOUBLE_SIDED\",\n\n\t\t\t\t\t\"directionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"vLightFront += directionalLightColor[ i ] * directionalLightWeighting;\",\n\n\t\t\t\"#ifdef DOUBLE_SIDED\",\n\n\t\t\t\t\"vLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;\",\n\n\t\t\t\"#endif\",\n\n\t\t\"}\",\n\n\t\t\"#endif\",\n\n\t\t\"#if MAX_POINT_LIGHTS > 0\",\n\n\t\t\t\"for( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\",\n\n\t\t\t\t\"vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\",\n\t\t\t\t\"vec3 lVector = lPosition.xyz - mvPosition.xyz;\",\n\n\t\t\t\t\"float lDistance = 1.0;\",\n\t\t\t\t\"if ( pointLightDistance[ i ] > 0.0 )\",\n\t\t\t\t\t\"lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\",\n\n\t\t\t\t\"lVector = normalize( lVector );\",\n\t\t\t\t\"float dotProduct = dot( transformedNormal, lVector );\",\n\n\t\t\t\t\"vec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );\",\n\n\t\t\t\t\"#ifdef DOUBLE_SIDED\",\n\n\t\t\t\t\t\"vec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\",\n\n\t\t\t\t\t\"#ifdef WRAP_AROUND\",\n\n\t\t\t\t\t\t\"vec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\",\n\n\t\t\t\t\t\"#endif\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\t\"#ifdef WRAP_AROUND\",\n\n\t\t\t\t\t\"vec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\",\n\t\t\t\t\t\"pointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );\",\n\n\t\t\t\t\t\"#ifdef DOUBLE_SIDED\",\n\n\t\t\t\t\t\t\"pointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );\",\n\n\t\t\t\t\t\"#endif\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\t\"vLightFront += pointLightColor[ i ] * pointLightWeighting * lDistance;\",\n\n\t\t\t\t\"#ifdef DOUBLE_SIDED\",\n\n\t\t\t\t\t\"vLightBack += pointLightColor[ i ] * pointLightWeightingBack * lDistance;\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\"}\",\n\n\t\t\"#endif\",\n\n\t\t\"#if MAX_SPOT_LIGHTS > 0\",\n\n\t\t\t\"for( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\",\n\n\t\t\t\t\"vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\",\n\t\t\t\t\"vec3 lVector = lPosition.xyz - mvPosition.xyz;\",\n\n\t\t\t\t\"float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );\",\n\n\t\t\t\t\"if ( spotEffect > spotLightAngleCos[ i ] ) {\",\n\n\t\t\t\t\t\"spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );\",\n\n\t\t\t\t\t\"float lDistance = 1.0;\",\n\t\t\t\t\t\"if ( spotLightDistance[ i ] > 0.0 )\",\n\t\t\t\t\t\t\"lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\",\n\n\t\t\t\t\t\"lVector = normalize( lVector );\",\n\n\t\t\t\t\t\"float dotProduct = dot( transformedNormal, lVector );\",\n\t\t\t\t\t\"vec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );\",\n\n\t\t\t\t\t\"#ifdef DOUBLE_SIDED\",\n\n\t\t\t\t\t\t\"vec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\",\n\n\t\t\t\t\t\t\"#ifdef WRAP_AROUND\",\n\n\t\t\t\t\t\t\t\"vec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\",\n\n\t\t\t\t\t\t\"#endif\",\n\n\t\t\t\t\t\"#endif\",\n\n\t\t\t\t\t\"#ifdef WRAP_AROUND\",\n\n\t\t\t\t\t\t\"vec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\",\n\t\t\t\t\t\t\"spotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );\",\n\n\t\t\t\t\t\t\"#ifdef DOUBLE_SIDED\",\n\n\t\t\t\t\t\t\t\"spotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );\",\n\n\t\t\t\t\t\t\"#endif\",\n\n\t\t\t\t\t\"#endif\",\n\n\t\t\t\t\t\"vLightFront += spotLightColor[ i ] * spotLightWeighting * lDistance * spotEffect;\",\n\n\t\t\t\t\t\"#ifdef DOUBLE_SIDED\",\n\n\t\t\t\t\t\t\"vLightBack += spotLightColor[ i ] * spotLightWeightingBack * lDistance * spotEffect;\",\n\n\t\t\t\t\t\"#endif\",\n\n\t\t\t\t\"}\",\n\n\t\t\t\"}\",\n\n\t\t\"#endif\",\n\n\t\t\"#if MAX_HEMI_LIGHTS > 0\",\n\n\t\t\t\"for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\",\n\n\t\t\t\t\"vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\",\n\t\t\t\t\"vec3 lVector = normalize( lDirection.xyz );\",\n\n\t\t\t\t\"float dotProduct = dot( transformedNormal, lVector );\",\n\n\t\t\t\t\"float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\",\n\t\t\t\t\"float hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;\",\n\n\t\t\t\t\"vLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\",\n\n\t\t\t\t\"#ifdef DOUBLE_SIDED\",\n\n\t\t\t\t\t\"vLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\"}\",\n\n\t\t\"#endif\",\n\n\t\t\"vLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;\",\n\n\t\t\"#ifdef DOUBLE_SIDED\",\n\n\t\t\t\"vLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\t// LIGHTS PHONG\n\n\tlights_phong_pars_vertex: [\n\n\t\t\"#ifndef PHONG_PER_PIXEL\",\n\n\t\t\"#if MAX_POINT_LIGHTS > 0\",\n\n\t\t\t\"uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\",\n\t\t\t\"uniform float pointLightDistance[ MAX_POINT_LIGHTS ];\",\n\n\t\t\t\"varying vec4 vPointLight[ MAX_POINT_LIGHTS ];\",\n\n\t\t\"#endif\",\n\n\t\t\"#if MAX_SPOT_LIGHTS > 0\",\n\n\t\t\t\"uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\",\n\t\t\t\"uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\",\n\n\t\t\t\"varying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];\",\n\n\t\t\"#endif\",\n\n\t\t\"#endif\",\n\n\t\t\"#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )\",\n\n\t\t\t\"varying vec3 vWorldPosition;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\n\tlights_phong_vertex: [\n\n\t\t\"#ifndef PHONG_PER_PIXEL\",\n\n\t\t\"#if MAX_POINT_LIGHTS > 0\",\n\n\t\t\t\"for( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\",\n\n\t\t\t\t\"vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\",\n\t\t\t\t\"vec3 lVector = lPosition.xyz - mvPosition.xyz;\",\n\n\t\t\t\t\"float lDistance = 1.0;\",\n\t\t\t\t\"if ( pointLightDistance[ i ] > 0.0 )\",\n\t\t\t\t\t\"lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\",\n\n\t\t\t\t\"vPointLight[ i ] = vec4( lVector, lDistance );\",\n\n\t\t\t\"}\",\n\n\t\t\"#endif\",\n\n\t\t\"#if MAX_SPOT_LIGHTS > 0\",\n\n\t\t\t\"for( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\",\n\n\t\t\t\t\"vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\",\n\t\t\t\t\"vec3 lVector = lPosition.xyz - mvPosition.xyz;\",\n\n\t\t\t\t\"float lDistance = 1.0;\",\n\t\t\t\t\"if ( spotLightDistance[ i ] > 0.0 )\",\n\t\t\t\t\t\"lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\",\n\n\t\t\t\t\"vSpotLight[ i ] = vec4( lVector, lDistance );\",\n\n\t\t\t\"}\",\n\n\t\t\"#endif\",\n\n\t\t\"#endif\",\n\n\t\t\"#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )\",\n\n\t\t\t\"vWorldPosition = worldPosition.xyz;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tlights_phong_pars_fragment: [\n\n\t\t\"uniform vec3 ambientLightColor;\",\n\n\t\t\"#if MAX_DIR_LIGHTS > 0\",\n\n\t\t\t\"uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\",\n\t\t\t\"uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\",\n\n\t\t\"#endif\",\n\n\t\t\"#if MAX_HEMI_LIGHTS > 0\",\n\n\t\t\t\"uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\",\n\t\t\t\"uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\",\n\t\t\t\"uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\",\n\n\t\t\"#endif\",\n\n\t\t\"#if MAX_POINT_LIGHTS > 0\",\n\n\t\t\t\"uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\",\n\n\t\t\t\"#ifdef PHONG_PER_PIXEL\",\n\n\t\t\t\t\"uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\",\n\t\t\t\t\"uniform float pointLightDistance[ MAX_POINT_LIGHTS ];\",\n\n\t\t\t\"#else\",\n\n\t\t\t\t\"varying vec4 vPointLight[ MAX_POINT_LIGHTS ];\",\n\n\t\t\t\"#endif\",\n\n\t\t\"#endif\",\n\n\t\t\"#if MAX_SPOT_LIGHTS > 0\",\n\n\t\t\t\"uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\",\n\t\t\t\"uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\",\n\t\t\t\"uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\",\n\t\t\t\"uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\",\n\t\t\t\"uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\",\n\n\t\t\t\"#ifdef PHONG_PER_PIXEL\",\n\n\t\t\t\t\"uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\",\n\n\t\t\t\"#else\",\n\n\t\t\t\t\"varying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];\",\n\n\t\t\t\"#endif\",\n\n\t\t\"#endif\",\n\n\t\t\"#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )\",\n\n\t\t\t\"varying vec3 vWorldPosition;\",\n\n\t\t\"#endif\",\n\n\t\t\"#ifdef WRAP_AROUND\",\n\n\t\t\t\"uniform vec3 wrapRGB;\",\n\n\t\t\"#endif\",\n\n\t\t\"varying vec3 vViewPosition;\",\n\t\t\"varying vec3 vNormal;\"\n\n\t].join(\"\\n\"),\n\n\tlights_phong_fragment: [\n\n\t\t\"vec3 normal = normalize( vNormal );\",\n\t\t\"vec3 viewPosition = normalize( vViewPosition );\",\n\n\t\t\"#ifdef DOUBLE_SIDED\",\n\n\t\t\t\"normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\",\n\n\t\t\"#endif\",\n\n\t\t\"#ifdef USE_NORMALMAP\",\n\n\t\t\t\"normal = perturbNormal2Arb( -vViewPosition, normal );\",\n\n\t\t\"#elif defined( USE_BUMPMAP )\",\n\n\t\t\t\"normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\",\n\n\t\t\"#endif\",\n\n\t\t\"#if MAX_POINT_LIGHTS > 0\",\n\n\t\t\t\"vec3 pointDiffuse  = vec3( 0.0 );\",\n\t\t\t\"vec3 pointSpecular = vec3( 0.0 );\",\n\n\t\t\t\"for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\",\n\n\t\t\t\t\"#ifdef PHONG_PER_PIXEL\",\n\n\t\t\t\t\t\"vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\",\n\t\t\t\t\t\"vec3 lVector = lPosition.xyz + vViewPosition.xyz;\",\n\n\t\t\t\t\t\"float lDistance = 1.0;\",\n\t\t\t\t\t\"if ( pointLightDistance[ i ] > 0.0 )\",\n\t\t\t\t\t\t\"lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\",\n\n\t\t\t\t\t\"lVector = normalize( lVector );\",\n\n\t\t\t\t\"#else\",\n\n\t\t\t\t\t\"vec3 lVector = normalize( vPointLight[ i ].xyz );\",\n\t\t\t\t\t\"float lDistance = vPointLight[ i ].w;\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\t// diffuse\n\n\t\t\t\t\"float dotProduct = dot( normal, lVector );\",\n\n\t\t\t\t\"#ifdef WRAP_AROUND\",\n\n\t\t\t\t\t\"float pointDiffuseWeightFull = max( dotProduct, 0.0 );\",\n\t\t\t\t\t\"float pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\",\n\n\t\t\t\t\t\"vec3 pointDiffuseWeight = mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\",\n\n\t\t\t\t\"#else\",\n\n\t\t\t\t\t\"float pointDiffuseWeight = max( dotProduct, 0.0 );\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\t\"pointDiffuse  += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;\",\n\n\t\t\t\t// specular\n\n\t\t\t\t\"vec3 pointHalfVector = normalize( lVector + viewPosition );\",\n\t\t\t\t\"float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\",\n\t\t\t\t\"float pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );\",\n\n\t\t\t\t// 2.0 => 2.0001 is hack to work around ANGLE bug\n\n\t\t\t\t\"float specularNormalization = ( shininess + 2.0001 ) / 8.0;\",\n\n\t\t\t\t\"vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, pointHalfVector ), 5.0 );\",\n\t\t\t\t\"pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;\",\n\n\t\t\t\"}\",\n\n\t\t\"#endif\",\n\n\t\t\"#if MAX_SPOT_LIGHTS > 0\",\n\n\t\t\t\"vec3 spotDiffuse  = vec3( 0.0 );\",\n\t\t\t\"vec3 spotSpecular = vec3( 0.0 );\",\n\n\t\t\t\"for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\",\n\n\t\t\t\t\"#ifdef PHONG_PER_PIXEL\",\n\n\t\t\t\t\t\"vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\",\n\t\t\t\t\t\"vec3 lVector = lPosition.xyz + vViewPosition.xyz;\",\n\n\t\t\t\t\t\"float lDistance = 1.0;\",\n\t\t\t\t\t\"if ( spotLightDistance[ i ] > 0.0 )\",\n\t\t\t\t\t\t\"lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\",\n\n\t\t\t\t\t\"lVector = normalize( lVector );\",\n\n\t\t\t\t\"#else\",\n\n\t\t\t\t\t\"vec3 lVector = normalize( vSpotLight[ i ].xyz );\",\n\t\t\t\t\t\"float lDistance = vSpotLight[ i ].w;\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\t\"float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );\",\n\n\t\t\t\t\"if ( spotEffect > spotLightAngleCos[ i ] ) {\",\n\n\t\t\t\t\t\"spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );\",\n\n\t\t\t\t\t// diffuse\n\n\t\t\t\t\t\"float dotProduct = dot( normal, lVector );\",\n\n\t\t\t\t\t\"#ifdef WRAP_AROUND\",\n\n\t\t\t\t\t\t\"float spotDiffuseWeightFull = max( dotProduct, 0.0 );\",\n\t\t\t\t\t\t\"float spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\",\n\n\t\t\t\t\t\t\"vec3 spotDiffuseWeight = mix( vec3 ( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\",\n\n\t\t\t\t\t\"#else\",\n\n\t\t\t\t\t\t\"float spotDiffuseWeight = max( dotProduct, 0.0 );\",\n\n\t\t\t\t\t\"#endif\",\n\n\t\t\t\t\t\"spotDiffuse += diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;\",\n\n\t\t\t\t\t// specular\n\n\t\t\t\t\t\"vec3 spotHalfVector = normalize( lVector + viewPosition );\",\n\t\t\t\t\t\"float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );\",\n\t\t\t\t\t\"float spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );\",\n\n\t\t\t\t\t// 2.0 => 2.0001 is hack to work around ANGLE bug\n\n\t\t\t\t\t\"float specularNormalization = ( shininess + 2.0001 ) / 8.0;\",\n\n\t\t\t\t\t\"vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, spotHalfVector ), 5.0 );\",\n\t\t\t\t\t\"spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;\",\n\n\t\t\t\t\"}\",\n\n\t\t\t\"}\",\n\n\t\t\"#endif\",\n\n\t\t\"#if MAX_DIR_LIGHTS > 0\",\n\n\t\t\t\"vec3 dirDiffuse  = vec3( 0.0 );\",\n\t\t\t\"vec3 dirSpecular = vec3( 0.0 );\" ,\n\n\t\t\t\"for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\",\n\n\t\t\t\t\"vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\",\n\t\t\t\t\"vec3 dirVector = normalize( lDirection.xyz );\",\n\n\t\t\t\t// diffuse\n\n\t\t\t\t\"float dotProduct = dot( normal, dirVector );\",\n\n\t\t\t\t\"#ifdef WRAP_AROUND\",\n\n\t\t\t\t\t\"float dirDiffuseWeightFull = max( dotProduct, 0.0 );\",\n\t\t\t\t\t\"float dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\",\n\n\t\t\t\t\t\"vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );\",\n\n\t\t\t\t\"#else\",\n\n\t\t\t\t\t\"float dirDiffuseWeight = max( dotProduct, 0.0 );\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\t\"dirDiffuse  += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;\",\n\n\t\t\t\t// specular\n\n\t\t\t\t\"vec3 dirHalfVector = normalize( dirVector + viewPosition );\",\n\t\t\t\t\"float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\",\n\t\t\t\t\"float dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );\",\n\n\t\t\t\t\t/*\n\t\t\t\t// fresnel term from skin shader\n\t\t\t\t\"const float F0 = 0.128;\",\n\n\t\t\t\t\"float base = 1.0 - dot( viewPosition, dirHalfVector );\",\n\t\t\t\t\"float exponential = pow( base, 5.0 );\",\n\n\t\t\t\t\"float fresnel = exponential + F0 * ( 1.0 - exponential );\",\n\t\t\t\t*/\n\n\t\t\t\t/*\n\t\t\t\t// fresnel term from fresnel shader\n\t\t\t\t\"const float mFresnelBias = 0.08;\",\n\t\t\t\t\"const float mFresnelScale = 0.3;\",\n\t\t\t\t\"const float mFresnelPower = 5.0;\",\n\n\t\t\t\t\"float fresnel = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( -viewPosition ), normal ), mFresnelPower );\",\n\t\t\t\t*/\n\n\t\t\t\t// 2.0 => 2.0001 is hack to work around ANGLE bug\n\n\t\t\t\t\"float specularNormalization = ( shininess + 2.0001 ) / 8.0;\",\n\n\t\t\t\t//\"dirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization * fresnel;\",\n\n\t\t\t\t\"vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );\",\n\t\t\t\t\"dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\",\n\n\n\t\t\t\"}\",\n\n\t\t\"#endif\",\n\n\t\t\"#if MAX_HEMI_LIGHTS > 0\",\n\n\t\t\t\"vec3 hemiDiffuse  = vec3( 0.0 );\",\n\t\t\t\"vec3 hemiSpecular = vec3( 0.0 );\" ,\n\n\t\t\t\"for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\",\n\n\t\t\t\t\"vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\",\n\t\t\t\t\"vec3 lVector = normalize( lDirection.xyz );\",\n\n\t\t\t\t// diffuse\n\n\t\t\t\t\"float dotProduct = dot( normal, lVector );\",\n\t\t\t\t\"float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\",\n\n\t\t\t\t\"vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\",\n\n\t\t\t\t\"hemiDiffuse += diffuse * hemiColor;\",\n\n\t\t\t\t// specular (sky light)\n\n\t\t\t\t\"vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );\",\n\t\t\t\t\"float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;\",\n\t\t\t\t\"float hemiSpecularWeightSky = specularStrength * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );\",\n\n\t\t\t\t// specular (ground light)\n\n\t\t\t\t\"vec3 lVectorGround = -lVector;\",\n\n\t\t\t\t\"vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );\",\n\t\t\t\t\"float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;\",\n\t\t\t\t\"float hemiSpecularWeightGround = specularStrength * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );\",\n\n\t\t\t\t\"float dotProductGround = dot( normal, lVectorGround );\",\n\n\t\t\t\t// 2.0 => 2.0001 is hack to work around ANGLE bug\n\n\t\t\t\t\"float specularNormalization = ( shininess + 2.0001 ) / 8.0;\",\n\n\t\t\t\t\"vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 );\",\n\t\t\t\t\"vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 );\",\n\t\t\t\t\"hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\",\n\n\t\t\t\"}\",\n\n\t\t\"#endif\",\n\n\t\t\"vec3 totalDiffuse = vec3( 0.0 );\",\n\t\t\"vec3 totalSpecular = vec3( 0.0 );\",\n\n\t\t\"#if MAX_DIR_LIGHTS > 0\",\n\n\t\t\t\"totalDiffuse += dirDiffuse;\",\n\t\t\t\"totalSpecular += dirSpecular;\",\n\n\t\t\"#endif\",\n\n\t\t\"#if MAX_HEMI_LIGHTS > 0\",\n\n\t\t\t\"totalDiffuse += hemiDiffuse;\",\n\t\t\t\"totalSpecular += hemiSpecular;\",\n\n\t\t\"#endif\",\n\n\t\t\"#if MAX_POINT_LIGHTS > 0\",\n\n\t\t\t\"totalDiffuse += pointDiffuse;\",\n\t\t\t\"totalSpecular += pointSpecular;\",\n\n\t\t\"#endif\",\n\n\t\t\"#if MAX_SPOT_LIGHTS > 0\",\n\n\t\t\t\"totalDiffuse += spotDiffuse;\",\n\t\t\t\"totalSpecular += spotSpecular;\",\n\n\t\t\"#endif\",\n\n\t\t\"#ifdef METAL\",\n\n\t\t\t\"gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );\",\n\n\t\t\"#else\",\n\n\t\t\t\"gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\t// VERTEX COLORS\n\n\tcolor_pars_fragment: [\n\n\t\t\"#ifdef USE_COLOR\",\n\n\t\t\t\"varying vec3 vColor;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\n\tcolor_fragment: [\n\n\t\t\"#ifdef USE_COLOR\",\n\n\t\t\t\"gl_FragColor = gl_FragColor * vec4( vColor, 1.0 );\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tcolor_pars_vertex: [\n\n\t\t\"#ifdef USE_COLOR\",\n\n\t\t\t\"varying vec3 vColor;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\n\tcolor_vertex: [\n\n\t\t\"#ifdef USE_COLOR\",\n\n\t\t\t\"#ifdef GAMMA_INPUT\",\n\n\t\t\t\t\"vColor = color * color;\",\n\n\t\t\t\"#else\",\n\n\t\t\t\t\"vColor = color;\",\n\n\t\t\t\"#endif\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\t// SKINNING\n\n\tskinning_pars_vertex: [\n\n\t\t\"#ifdef USE_SKINNING\",\n\n\t\t\t\"#ifdef BONE_TEXTURE\",\n\n\t\t\t\t\"uniform sampler2D boneTexture;\",\n\t\t\t\t\"uniform int boneTextureWidth;\",\n\t\t\t\t\"uniform int boneTextureHeight;\",\n\n\t\t\t\t\"mat4 getBoneMatrix( const in float i ) {\",\n\n\t\t\t\t\t\"float j = i * 4.0;\",\n\t\t\t\t\t\"float x = mod( j, float( boneTextureWidth ) );\",\n\t\t\t\t\t\"float y = floor( j / float( boneTextureWidth ) );\",\n\n\t\t\t\t\t\"float dx = 1.0 / float( boneTextureWidth );\",\n\t\t\t\t\t\"float dy = 1.0 / float( boneTextureHeight );\",\n\n\t\t\t\t\t\"y = dy * ( y + 0.5 );\",\n\n\t\t\t\t\t\"vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\",\n\t\t\t\t\t\"vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\",\n\t\t\t\t\t\"vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\",\n\t\t\t\t\t\"vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\",\n\n\t\t\t\t\t\"mat4 bone = mat4( v1, v2, v3, v4 );\",\n\n\t\t\t\t\t\"return bone;\",\n\n\t\t\t\t\"}\",\n\n\t\t\t\"#else\",\n\n\t\t\t\t\"uniform mat4 boneGlobalMatrices[ MAX_BONES ];\",\n\n\t\t\t\t\"mat4 getBoneMatrix( const in float i ) {\",\n\n\t\t\t\t\t\"mat4 bone = boneGlobalMatrices[ int(i) ];\",\n\t\t\t\t\t\"return bone;\",\n\n\t\t\t\t\"}\",\n\n\t\t\t\"#endif\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tskinbase_vertex: [\n\n\t\t\"#ifdef USE_SKINNING\",\n\n\t\t\t\"mat4 boneMatX = getBoneMatrix( skinIndex.x );\",\n\t\t\t\"mat4 boneMatY = getBoneMatrix( skinIndex.y );\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tskinning_vertex: [\n\n\t\t\"#ifdef USE_SKINNING\",\n\n\t\t\t\"#ifdef USE_MORPHTARGETS\",\n\n\t\t\t\"vec4 skinVertex = vec4( morphed, 1.0 );\",\n\n\t\t\t\"#else\",\n\n\t\t\t\"vec4 skinVertex = vec4( position, 1.0 );\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"vec4 skinned  = boneMatX * skinVertex * skinWeight.x;\",\n\t\t\t\"skinned \t  += boneMatY * skinVertex * skinWeight.y;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\t// MORPHING\n\n\tmorphtarget_pars_vertex: [\n\n\t\t\"#ifdef USE_MORPHTARGETS\",\n\n\t\t\t\"#ifndef USE_MORPHNORMALS\",\n\n\t\t\t\"uniform float morphTargetInfluences[ 8 ];\",\n\n\t\t\t\"#else\",\n\n\t\t\t\"uniform float morphTargetInfluences[ 4 ];\",\n\n\t\t\t\"#endif\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tmorphtarget_vertex: [\n\n\t\t\"#ifdef USE_MORPHTARGETS\",\n\n\t\t\t\"vec3 morphed = vec3( 0.0 );\",\n\t\t\t\"morphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\",\n\t\t\t\"morphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\",\n\t\t\t\"morphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\",\n\t\t\t\"morphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\",\n\n\t\t\t\"#ifndef USE_MORPHNORMALS\",\n\n\t\t\t\"morphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\",\n\t\t\t\"morphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\",\n\t\t\t\"morphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\",\n\t\t\t\"morphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"morphed += position;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tdefault_vertex : [\n\n\t\t\"vec4 mvPosition;\",\n\n\t\t\"#ifdef USE_SKINNING\",\n\n\t\t\t\"mvPosition = modelViewMatrix * skinned;\",\n\n\t\t\"#endif\",\n\n\t\t\"#if !defined( USE_SKINNING ) && defined( USE_MORPHTARGETS )\",\n\n\t\t\t\"mvPosition = modelViewMatrix * vec4( morphed, 1.0 );\",\n\n\t\t\"#endif\",\n\n\t\t\"#if !defined( USE_SKINNING ) && ! defined( USE_MORPHTARGETS )\",\n\n\t\t\t\"mvPosition = modelViewMatrix * vec4( position, 1.0 );\",\n\n\t\t\"#endif\",\n\n\t\t\"gl_Position = projectionMatrix * mvPosition;\"\n\n\t].join(\"\\n\"),\n\n\tmorphnormal_vertex: [\n\n\t\t\"#ifdef USE_MORPHNORMALS\",\n\n\t\t\t\"vec3 morphedNormal = vec3( 0.0 );\",\n\n\t\t\t\"morphedNormal +=  ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\",\n\t\t\t\"morphedNormal +=  ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\",\n\t\t\t\"morphedNormal +=  ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\",\n\t\t\t\"morphedNormal +=  ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\",\n\n\t\t\t\"morphedNormal += normal;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tskinnormal_vertex: [\n\n\t\t\"#ifdef USE_SKINNING\",\n\n\t\t\t\"mat4 skinMatrix = skinWeight.x * boneMatX;\",\n\t\t\t\"skinMatrix \t+= skinWeight.y * boneMatY;\",\n\n\t\t\t\"#ifdef USE_MORPHNORMALS\",\n\n\t\t\t\"vec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );\",\n\n\t\t\t\"#else\",\n\n\t\t\t\"vec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );\",\n\n\t\t\t\"#endif\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tdefaultnormal_vertex: [\n\n\t\t\"vec3 objectNormal;\",\n\n\t\t\"#ifdef USE_SKINNING\",\n\n\t\t\t\"objectNormal = skinnedNormal.xyz;\",\n\n\t\t\"#endif\",\n\n\t\t\"#if !defined( USE_SKINNING ) && defined( USE_MORPHNORMALS )\",\n\n\t\t\t\"objectNormal = morphedNormal;\",\n\n\t\t\"#endif\",\n\n\t\t\"#if !defined( USE_SKINNING ) && ! defined( USE_MORPHNORMALS )\",\n\n\t\t\t\"objectNormal = normal;\",\n\n\t\t\"#endif\",\n\n\t\t\"#ifdef FLIP_SIDED\",\n\n\t\t\t\"objectNormal = -objectNormal;\",\n\n\t\t\"#endif\",\n\n\t\t\"vec3 transformedNormal = normalMatrix * objectNormal;\"\n\n\t].join(\"\\n\"),\n\n\t// SHADOW MAP\n\n\t// based on SpiderGL shadow map and Fabien Sanglard's GLSL shadow mapping examples\n\t//  http://spidergl.org/example.php?id=6\n\t// \thttp://fabiensanglard.net/shadowmapping\n\n\tshadowmap_pars_fragment: [\n\n\t\t\"#ifdef USE_SHADOWMAP\",\n\n\t\t\t\"uniform sampler2D shadowMap[ MAX_SHADOWS ];\",\n\t\t\t\"uniform vec2 shadowMapSize[ MAX_SHADOWS ];\",\n\n\t\t\t\"uniform float shadowDarkness[ MAX_SHADOWS ];\",\n\t\t\t\"uniform float shadowBias[ MAX_SHADOWS ];\",\n\n\t\t\t\"varying vec4 vShadowCoord[ MAX_SHADOWS ];\",\n\n\t\t\t\"float unpackDepth( const in vec4 rgba_depth ) {\",\n\n\t\t\t\t\"const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\",\n\t\t\t\t\"float depth = dot( rgba_depth, bit_shift );\",\n\t\t\t\t\"return depth;\",\n\n\t\t\t\"}\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tshadowmap_fragment: [\n\n\t\t\"#ifdef USE_SHADOWMAP\",\n\n\t\t\t\"#ifdef SHADOWMAP_DEBUG\",\n\n\t\t\t\t\"vec3 frustumColors[3];\",\n\t\t\t\t\"frustumColors[0] = vec3( 1.0, 0.5, 0.0 );\",\n\t\t\t\t\"frustumColors[1] = vec3( 0.0, 1.0, 0.8 );\",\n\t\t\t\t\"frustumColors[2] = vec3( 0.0, 0.5, 1.0 );\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"#ifdef SHADOWMAP_CASCADE\",\n\n\t\t\t\t\"int inFrustumCount = 0;\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"float fDepth;\",\n\t\t\t\"vec3 shadowColor = vec3( 1.0 );\",\n\n\t\t\t\"for( int i = 0; i < MAX_SHADOWS; i ++ ) {\",\n\n\t\t\t\t\"vec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\",\n\n\t\t\t\t// \"if ( something && something )\" \t\t breaks ATI OpenGL shader compiler\n\t\t\t\t// \"if ( all( something, something ) )\"  using this instead\n\n\t\t\t\t\"bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\",\n\t\t\t\t\"bool inFrustum = all( inFrustumVec );\",\n\n\t\t\t\t// don't shadow pixels outside of light frustum\n\t\t\t\t// use just first frustum (for cascades)\n\t\t\t\t// don't shadow pixels behind far plane of light frustum\n\n\t\t\t\t\"#ifdef SHADOWMAP_CASCADE\",\n\n\t\t\t\t\t\"inFrustumCount += int( inFrustum );\",\n\t\t\t\t\t\"bvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );\",\n\n\t\t\t\t\"#else\",\n\n\t\t\t\t\t\"bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\t\"bool frustumTest = all( frustumTestVec );\",\n\n\t\t\t\t\"if ( frustumTest ) {\",\n\n\t\t\t\t\t\"shadowCoord.z += shadowBias[ i ];\",\n\n\t\t\t\t\t\"#if defined( SHADOWMAP_TYPE_PCF )\",\n\n\t\t\t\t\t\t// Percentage-close filtering\n\t\t\t\t\t\t// (9 pixel kernel)\n\t\t\t\t\t\t// http://fabiensanglard.net/shadowmappingPCF/\n\n\t\t\t\t\t\t\"float shadow = 0.0;\",\n\n\t\t\t\t\t\t/*\n\t\t\t\t\t\t// nested loops breaks shader compiler / validator on some ATI cards when using OpenGL\n\t\t\t\t\t\t// must enroll loop manually\n\n\t\t\t\t\t\t\"for ( float y = -1.25; y <= 1.25; y += 1.25 )\",\n\t\t\t\t\t\t\t\"for ( float x = -1.25; x <= 1.25; x += 1.25 ) {\",\n\n\t\t\t\t\t\t\t\t\"vec4 rgbaDepth = texture2D( shadowMap[ i ], vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy );\",\n\n\t\t\t\t\t\t\t\t// doesn't seem to produce any noticeable visual difference compared to simple \"texture2D\" lookup\n\t\t\t\t\t\t\t\t//\"vec4 rgbaDepth = texture2DProj( shadowMap[ i ], vec4( vShadowCoord[ i ].w * ( vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy ), 0.05, vShadowCoord[ i ].w ) );\",\n\n\t\t\t\t\t\t\t\t\"float fDepth = unpackDepth( rgbaDepth );\",\n\n\t\t\t\t\t\t\t\t\"if ( fDepth < shadowCoord.z )\",\n\t\t\t\t\t\t\t\t\t\"shadow += 1.0;\",\n\n\t\t\t\t\t\t\"}\",\n\n\t\t\t\t\t\t\"shadow /= 9.0;\",\n\n\t\t\t\t\t\t*/\n\n\t\t\t\t\t\t\"const float shadowDelta = 1.0 / 9.0;\",\n\n\t\t\t\t\t\t\"float xPixelOffset = 1.0 / shadowMapSize[ i ].x;\",\n\t\t\t\t\t\t\"float yPixelOffset = 1.0 / shadowMapSize[ i ].y;\",\n\n\t\t\t\t\t\t\"float dx0 = -1.25 * xPixelOffset;\",\n\t\t\t\t\t\t\"float dy0 = -1.25 * yPixelOffset;\",\n\t\t\t\t\t\t\"float dx1 = 1.25 * xPixelOffset;\",\n\t\t\t\t\t\t\"float dy1 = 1.25 * yPixelOffset;\",\n\n\t\t\t\t\t\t\"fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\",\n\t\t\t\t\t\t\"if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\",\n\n\t\t\t\t\t\t\"fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\",\n\t\t\t\t\t\t\"if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\",\n\n\t\t\t\t\t\t\"fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\",\n\t\t\t\t\t\t\"if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\",\n\n\t\t\t\t\t\t\"fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\",\n\t\t\t\t\t\t\"if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\",\n\n\t\t\t\t\t\t\"fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\",\n\t\t\t\t\t\t\"if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\",\n\n\t\t\t\t\t\t\"fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\",\n\t\t\t\t\t\t\"if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\",\n\n\t\t\t\t\t\t\"fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\",\n\t\t\t\t\t\t\"if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\",\n\n\t\t\t\t\t\t\"fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\",\n\t\t\t\t\t\t\"if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\",\n\n\t\t\t\t\t\t\"fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\",\n\t\t\t\t\t\t\"if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\",\n\n\t\t\t\t\t\t\"shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\",\n\n\t\t\t\t\t\"#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\",\n\n\t\t\t\t\t\t// Percentage-close filtering\n\t\t\t\t\t\t// (9 pixel kernel)\n\t\t\t\t\t\t// http://fabiensanglard.net/shadowmappingPCF/\n\n\t\t\t\t\t\t\"float shadow = 0.0;\",\n\n\t\t\t\t\t\t\"float xPixelOffset = 1.0 / shadowMapSize[ i ].x;\",\n\t\t\t\t\t\t\"float yPixelOffset = 1.0 / shadowMapSize[ i ].y;\",\n\n\t\t\t\t\t\t\"float dx0 = -1.0 * xPixelOffset;\",\n\t\t\t\t\t\t\"float dy0 = -1.0 * yPixelOffset;\",\n\t\t\t\t\t\t\"float dx1 = 1.0 * xPixelOffset;\",\n\t\t\t\t\t\t\"float dy1 = 1.0 * yPixelOffset;\",\n\n\t\t\t\t\t\t\"mat3 shadowKernel;\",\n\t\t\t\t\t\t\"mat3 depthKernel;\",\n\n\t\t\t\t\t\t\"depthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\",\n\t\t\t\t\t\t\"depthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\",\n\t\t\t\t\t\t\"depthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\",\n\t\t\t\t\t\t\"depthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\",\n\t\t\t\t\t\t\"depthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\",\n\t\t\t\t\t\t\"depthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\",\n\t\t\t\t\t\t\"depthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\",\n\t\t\t\t\t\t\"depthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\",\n\t\t\t\t\t\t\"depthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\",\n\n\t\t\t\t\t\t\"vec3 shadowZ = vec3( shadowCoord.z );\",\n\t\t\t\t\t\t\"shadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));\",\n\t\t\t\t\t\t\"shadowKernel[0] *= vec3(0.25);\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\"shadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));\",\n\t\t\t\t\t\t\"shadowKernel[1] *= vec3(0.25);\",\n\n\t\t\t\t\t\t\"shadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));\",\n\t\t\t\t\t\t\"shadowKernel[2] *= vec3(0.25);\",\n\n\t\t\t\t\t\t\"vec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );\",\n\n\t\t\t\t\t\t\"shadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );\",\n\t\t\t\t\t\t\"shadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );\",\n\n\t\t\t\t\t\t\"vec4 shadowValues;\",\n\t\t\t\t\t\t\"shadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );\",\n\t\t\t\t\t\t\"shadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );\",\n\t\t\t\t\t\t\"shadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );\",\n\t\t\t\t\t\t\"shadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );\",\n\n\t\t\t\t\t\t\"shadow = dot( shadowValues, vec4( 1.0 ) );\",\n\n\t\t\t\t\t\t\"shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\",\n\n\t\t\t\t\t\"#else\",\n\n\t\t\t\t\t\t\"vec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );\",\n\t\t\t\t\t\t\"float fDepth = unpackDepth( rgbaDepth );\",\n\n\t\t\t\t\t\t\"if ( fDepth < shadowCoord.z )\",\n\n\t\t\t\t\t\t\t// spot with multiple shadows is darker\n\n\t\t\t\t\t\t\t\"shadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );\",\n\n\t\t\t\t\t\t\t// spot with multiple shadows has the same color as single shadow spot\n\n\t\t\t\t\t\t\t//\"shadowColor = min( shadowColor, vec3( shadowDarkness[ i ] ) );\",\n\n\t\t\t\t\t\"#endif\",\n\n\t\t\t\t\"}\",\n\n\n\t\t\t\t\"#ifdef SHADOWMAP_DEBUG\",\n\n\t\t\t\t\t\"#ifdef SHADOWMAP_CASCADE\",\n\n\t\t\t\t\t\t\"if ( inFrustum && inFrustumCount == 1 ) gl_FragColor.xyz *= frustumColors[ i ];\",\n\n\t\t\t\t\t\"#else\",\n\n\t\t\t\t\t\t\"if ( inFrustum ) gl_FragColor.xyz *= frustumColors[ i ];\",\n\n\t\t\t\t\t\"#endif\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\"}\",\n\n\t\t\t\"#ifdef GAMMA_OUTPUT\",\n\n\t\t\t\t\"shadowColor *= shadowColor;\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"gl_FragColor.xyz = gl_FragColor.xyz * shadowColor;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tshadowmap_pars_vertex: [\n\n\t\t\"#ifdef USE_SHADOWMAP\",\n\n\t\t\t\"varying vec4 vShadowCoord[ MAX_SHADOWS ];\",\n\t\t\t\"uniform mat4 shadowMatrix[ MAX_SHADOWS ];\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\tshadowmap_vertex: [\n\n\t\t\"#ifdef USE_SHADOWMAP\",\n\n\t\t\t\"for( int i = 0; i < MAX_SHADOWS; i ++ ) {\",\n\n\t\t\t\t\"vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\",\n\n\t\t\t\"}\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\t// ALPHATEST\n\n\talphatest_fragment: [\n\n\t\t\"#ifdef ALPHATEST\",\n\n\t\t\t\"if ( gl_FragColor.a < ALPHATEST ) discard;\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\"),\n\n\t// LINEAR SPACE\n\n\tlinear_to_gamma_fragment: [\n\n\t\t\"#ifdef GAMMA_OUTPUT\",\n\n\t\t\t\"gl_FragColor.xyz = sqrt( gl_FragColor.xyz );\",\n\n\t\t\"#endif\"\n\n\t].join(\"\\n\")\n\n\n};\n/**\n * Uniform Utilities\n */\n\nTHREE.UniformsUtils = {\n\n\tmerge: function ( uniforms ) {\n\n\t\tvar u, p, tmp, merged = {};\n\n\t\tfor ( u = 0; u < uniforms.length; u ++ ) {\n\n\t\t\ttmp = this.clone( uniforms[ u ] );\n\n\t\t\tfor ( p in tmp ) {\n\n\t\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn merged;\n\n\t},\n\n\tclone: function ( uniforms_src ) {\n\n\t\tvar u, p, parameter, parameter_src, uniforms_dst = {};\n\n\t\tfor ( u in uniforms_src ) {\n\n\t\t\tuniforms_dst[ u ] = {};\n\n\t\t\tfor ( p in uniforms_src[ u ] ) {\n\n\t\t\t\tparameter_src = uniforms_src[ u ][ p ];\n\n\t\t\t\tif ( parameter_src instanceof THREE.Color ||\n\t\t\t\t\t parameter_src instanceof THREE.Vector2 ||\n\t\t\t\t\t parameter_src instanceof THREE.Vector3 ||\n\t\t\t\t\t parameter_src instanceof THREE.Vector4 ||\n\t\t\t\t\t parameter_src instanceof THREE.Matrix4 ||\n\t\t\t\t\t parameter_src instanceof THREE.Texture ) {\n\n\t\t\t\t\tuniforms_dst[ u ][ p ] = parameter_src.clone();\n\n\t\t\t\t} else if ( parameter_src instanceof Array ) {\n\n\t\t\t\t\tuniforms_dst[ u ][ p ] = parameter_src.slice();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tuniforms_dst[ u ][ p ] = parameter_src;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn uniforms_dst;\n\n\t}\n\n};\n/**\n * Uniforms library for shared webgl shaders\n */\n\nTHREE.UniformsLib = {\n\n\tcommon: {\n\n\t\t\"diffuse\" : { type: \"c\", value: new THREE.Color( 0xeeeeee ) },\n\t\t\"opacity\" : { type: \"f\", value: 1.0 },\n\n\t\t\"map\" : { type: \"t\", value: null },\n\t\t\"offsetRepeat\" : { type: \"v4\", value: new THREE.Vector4( 0, 0, 1, 1 ) },\n\n\t\t\"lightMap\" : { type: \"t\", value: null },\n\t\t\"specularMap\" : { type: \"t\", value: null },\n\n\t\t\"envMap\" : { type: \"t\", value: null },\n\t\t\"flipEnvMap\" : { type: \"f\", value: -1 },\n\t\t\"useRefract\" : { type: \"i\", value: 0 },\n\t\t\"reflectivity\" : { type: \"f\", value: 1.0 },\n\t\t\"refractionRatio\" : { type: \"f\", value: 0.98 },\n\t\t\"combine\" : { type: \"i\", value: 0 },\n\n\t\t\"morphTargetInfluences\" : { type: \"f\", value: 0 }\n\n\t},\n\n\tbump: {\n\n\t\t\"bumpMap\" : { type: \"t\", value: null },\n\t\t\"bumpScale\" : { type: \"f\", value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\t\"normalMap\" : { type: \"t\", value: null },\n\t\t\"normalScale\" : { type: \"v2\", value: new THREE.Vector2( 1, 1 ) }\n\t},\n\n\tfog : {\n\n\t\t\"fogDensity\" : { type: \"f\", value: 0.00025 },\n\t\t\"fogNear\" : { type: \"f\", value: 1 },\n\t\t\"fogFar\" : { type: \"f\", value: 2000 },\n\t\t\"fogColor\" : { type: \"c\", value: new THREE.Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\t\"ambientLightColor\" : { type: \"fv\", value: [] },\n\n\t\t\"directionalLightDirection\" : { type: \"fv\", value: [] },\n\t\t\"directionalLightColor\" : { type: \"fv\", value: [] },\n\n\t\t\"hemisphereLightDirection\" : { type: \"fv\", value: [] },\n\t\t\"hemisphereLightSkyColor\" : { type: \"fv\", value: [] },\n\t\t\"hemisphereLightGroundColor\" : { type: \"fv\", value: [] },\n\n\t\t\"pointLightColor\" : { type: \"fv\", value: [] },\n\t\t\"pointLightPosition\" : { type: \"fv\", value: [] },\n\t\t\"pointLightDistance\" : { type: \"fv1\", value: [] },\n\n\t\t\"spotLightColor\" : { type: \"fv\", value: [] },\n\t\t\"spotLightPosition\" : { type: \"fv\", value: [] },\n\t\t\"spotLightDirection\" : { type: \"fv\", value: [] },\n\t\t\"spotLightDistance\" : { type: \"fv1\", value: [] },\n\t\t\"spotLightAngleCos\" : { type: \"fv1\", value: [] },\n\t\t\"spotLightExponent\" : { type: \"fv1\", value: [] }\n\n\t},\n\n\tparticle: {\n\n\t\t\"psColor\" : { type: \"c\", value: new THREE.Color( 0xeeeeee ) },\n\t\t\"opacity\" : { type: \"f\", value: 1.0 },\n\t\t\"size\" : { type: \"f\", value: 1.0 },\n\t\t\"scale\" : { type: \"f\", value: 1.0 },\n\t\t\"map\" : { type: \"t\", value: null },\n\n\t\t\"fogDensity\" : { type: \"f\", value: 0.00025 },\n\t\t\"fogNear\" : { type: \"f\", value: 1 },\n\t\t\"fogFar\" : { type: \"f\", value: 2000 },\n\t\t\"fogColor\" : { type: \"c\", value: new THREE.Color( 0xffffff ) }\n\n\t},\n\n\tshadowmap: {\n\n\t\t\"shadowMap\": { type: \"tv\", value: [] },\n\t\t\"shadowMapSize\": { type: \"v2v\", value: [] },\n\n\t\t\"shadowBias\" : { type: \"fv1\", value: [] },\n\t\t\"shadowDarkness\": { type: \"fv1\", value: [] },\n\n\t\t\"shadowMatrix\" : { type: \"m4v\", value: [] }\n\n\t}\n\n};\n/**\n * Webgl Shader Library for three.js\n *\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n */\n\n\nTHREE.ShaderLib = {\n\n\t'basic': {\n\n\t\tuniforms: THREE.UniformsUtils.merge( [\n\n\t\t\tTHREE.UniformsLib[ \"common\" ],\n\t\t\tTHREE.UniformsLib[ \"fog\" ],\n\t\t\tTHREE.UniformsLib[ \"shadowmap\" ]\n\n\t\t] ),\n\n\t\tvertexShader: [\n\n\t\t\tTHREE.ShaderChunk[ \"map_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"lightmap_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"envmap_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"color_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"morphtarget_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"skinning_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"shadowmap_pars_vertex\" ],\n\n\t\t\t\"void main() {\",\n\n\t\t\t\tTHREE.ShaderChunk[ \"map_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"lightmap_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"color_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"skinbase_vertex\" ],\n\n\t\t\t\t\"#ifdef USE_ENVMAP\",\n\n\t\t\t\tTHREE.ShaderChunk[ \"morphnormal_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"skinnormal_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"defaultnormal_vertex\" ],\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\tTHREE.ShaderChunk[ \"morphtarget_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"skinning_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"default_vertex\" ],\n\n\t\t\t\tTHREE.ShaderChunk[ \"worldpos_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"envmap_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_vertex\" ],\n\n\t\t\t\"}\"\n\n\t\t].join(\"\\n\"),\n\n\t\tfragmentShader: [\n\n\t\t\t\"uniform vec3 diffuse;\",\n\t\t\t\"uniform float opacity;\",\n\n\t\t\tTHREE.ShaderChunk[ \"color_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"map_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"lightmap_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"envmap_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"fog_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"shadowmap_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"specularmap_pars_fragment\" ],\n\n\t\t\t\"void main() {\",\n\n\t\t\t\t\"gl_FragColor = vec4( diffuse, opacity );\",\n\n\t\t\t\tTHREE.ShaderChunk[ \"map_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"alphatest_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"specularmap_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"lightmap_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"color_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"envmap_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_fragment\" ],\n\n\t\t\t\tTHREE.ShaderChunk[ \"linear_to_gamma_fragment\" ],\n\n\t\t\t\tTHREE.ShaderChunk[ \"fog_fragment\" ],\n\n\t\t\t\"}\"\n\n\t\t].join(\"\\n\")\n\n\t},\n\n\t'lambert': {\n\n\t\tuniforms: THREE.UniformsUtils.merge( [\n\n\t\t\tTHREE.UniformsLib[ \"common\" ],\n\t\t\tTHREE.UniformsLib[ \"fog\" ],\n\t\t\tTHREE.UniformsLib[ \"lights\" ],\n\t\t\tTHREE.UniformsLib[ \"shadowmap\" ],\n\n\t\t\t{\n\t\t\t\t\"ambient\"  : { type: \"c\", value: new THREE.Color( 0xffffff ) },\n\t\t\t\t\"emissive\" : { type: \"c\", value: new THREE.Color( 0x000000 ) },\n\t\t\t\t\"wrapRGB\"  : { type: \"v3\", value: new THREE.Vector3( 1, 1, 1 ) }\n\t\t\t}\n\n\t\t] ),\n\n\t\tvertexShader: [\n\n\t\t\t\"#define LAMBERT\",\n\n\t\t\t\"varying vec3 vLightFront;\",\n\n\t\t\t\"#ifdef DOUBLE_SIDED\",\n\n\t\t\t\t\"varying vec3 vLightBack;\",\n\n\t\t\t\"#endif\",\n\n\t\t\tTHREE.ShaderChunk[ \"map_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"lightmap_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"envmap_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"lights_lambert_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"color_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"morphtarget_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"skinning_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"shadowmap_pars_vertex\" ],\n\n\t\t\t\"void main() {\",\n\n\t\t\t\tTHREE.ShaderChunk[ \"map_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"lightmap_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"color_vertex\" ],\n\n\t\t\t\tTHREE.ShaderChunk[ \"morphnormal_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"skinbase_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"skinnormal_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"defaultnormal_vertex\" ],\n\n\t\t\t\tTHREE.ShaderChunk[ \"morphtarget_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"skinning_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"default_vertex\" ],\n\n\t\t\t\tTHREE.ShaderChunk[ \"worldpos_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"envmap_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"lights_lambert_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_vertex\" ],\n\n\t\t\t\"}\"\n\n\t\t].join(\"\\n\"),\n\n\t\tfragmentShader: [\n\n\t\t\t\"uniform float opacity;\",\n\n\t\t\t\"varying vec3 vLightFront;\",\n\n\t\t\t\"#ifdef DOUBLE_SIDED\",\n\n\t\t\t\t\"varying vec3 vLightBack;\",\n\n\t\t\t\"#endif\",\n\n\t\t\tTHREE.ShaderChunk[ \"color_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"map_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"lightmap_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"envmap_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"fog_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"shadowmap_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"specularmap_pars_fragment\" ],\n\n\t\t\t\"void main() {\",\n\n\t\t\t\t\"gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\",\n\n\t\t\t\tTHREE.ShaderChunk[ \"map_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"alphatest_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"specularmap_fragment\" ],\n\n\t\t\t\t\"#ifdef DOUBLE_SIDED\",\n\n\t\t\t\t\t//\"float isFront = float( gl_FrontFacing );\",\n\t\t\t\t\t//\"gl_FragColor.xyz *= isFront * vLightFront + ( 1.0 - isFront ) * vLightBack;\",\n\n\t\t\t\t\t\"if ( gl_FrontFacing )\",\n\t\t\t\t\t\t\"gl_FragColor.xyz *= vLightFront;\",\n\t\t\t\t\t\"else\",\n\t\t\t\t\t\t\"gl_FragColor.xyz *= vLightBack;\",\n\n\t\t\t\t\"#else\",\n\n\t\t\t\t\t\"gl_FragColor.xyz *= vLightFront;\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\tTHREE.ShaderChunk[ \"lightmap_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"color_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"envmap_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_fragment\" ],\n\n\t\t\t\tTHREE.ShaderChunk[ \"linear_to_gamma_fragment\" ],\n\n\t\t\t\tTHREE.ShaderChunk[ \"fog_fragment\" ],\n\n\t\t\t\"}\"\n\n\t\t].join(\"\\n\")\n\n\t},\n\n\t'phong': {\n\n\t\tuniforms: THREE.UniformsUtils.merge( [\n\n\t\t\tTHREE.UniformsLib[ \"common\" ],\n\t\t\tTHREE.UniformsLib[ \"bump\" ],\n\t\t\tTHREE.UniformsLib[ \"normalmap\" ],\n\t\t\tTHREE.UniformsLib[ \"fog\" ],\n\t\t\tTHREE.UniformsLib[ \"lights\" ],\n\t\t\tTHREE.UniformsLib[ \"shadowmap\" ],\n\n\t\t\t{\n\t\t\t\t\"ambient\"  : { type: \"c\", value: new THREE.Color( 0xffffff ) },\n\t\t\t\t\"emissive\" : { type: \"c\", value: new THREE.Color( 0x000000 ) },\n\t\t\t\t\"specular\" : { type: \"c\", value: new THREE.Color( 0x111111 ) },\n\t\t\t\t\"shininess\": { type: \"f\", value: 30 },\n\t\t\t\t\"wrapRGB\"  : { type: \"v3\", value: new THREE.Vector3( 1, 1, 1 ) }\n\t\t\t}\n\n\t\t] ),\n\n\t\tvertexShader: [\n\n\t\t\t\"#define PHONG\",\n\n\t\t\t\"varying vec3 vViewPosition;\",\n\t\t\t\"varying vec3 vNormal;\",\n\n\t\t\tTHREE.ShaderChunk[ \"map_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"lightmap_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"envmap_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"lights_phong_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"color_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"morphtarget_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"skinning_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"shadowmap_pars_vertex\" ],\n\n\t\t\t\"void main() {\",\n\n\t\t\t\tTHREE.ShaderChunk[ \"map_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"lightmap_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"color_vertex\" ],\n\n\t\t\t\tTHREE.ShaderChunk[ \"morphnormal_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"skinbase_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"skinnormal_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"defaultnormal_vertex\" ],\n\n\t\t\t\t\"vNormal = normalize( transformedNormal );\",\n\n\t\t\t\tTHREE.ShaderChunk[ \"morphtarget_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"skinning_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"default_vertex\" ],\n\n\t\t\t\t\"vViewPosition = -mvPosition.xyz;\",\n\n\t\t\t\tTHREE.ShaderChunk[ \"worldpos_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"envmap_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"lights_phong_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_vertex\" ],\n\n\t\t\t\"}\"\n\n\t\t].join(\"\\n\"),\n\n\t\tfragmentShader: [\n\n\t\t\t\"uniform vec3 diffuse;\",\n\t\t\t\"uniform float opacity;\",\n\n\t\t\t\"uniform vec3 ambient;\",\n\t\t\t\"uniform vec3 emissive;\",\n\t\t\t\"uniform vec3 specular;\",\n\t\t\t\"uniform float shininess;\",\n\n\t\t\tTHREE.ShaderChunk[ \"color_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"map_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"lightmap_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"envmap_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"fog_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"lights_phong_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"shadowmap_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"bumpmap_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"normalmap_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"specularmap_pars_fragment\" ],\n\n\t\t\t\"void main() {\",\n\n\t\t\t\t\"gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\",\n\n\t\t\t\tTHREE.ShaderChunk[ \"map_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"alphatest_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"specularmap_fragment\" ],\n\n\t\t\t\tTHREE.ShaderChunk[ \"lights_phong_fragment\" ],\n\n\t\t\t\tTHREE.ShaderChunk[ \"lightmap_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"color_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"envmap_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_fragment\" ],\n\n\t\t\t\tTHREE.ShaderChunk[ \"linear_to_gamma_fragment\" ],\n\n\t\t\t\tTHREE.ShaderChunk[ \"fog_fragment\" ],\n\n\t\t\t\"}\"\n\n\t\t].join(\"\\n\")\n\n\t},\n\n\t'particle_basic': {\n\n\t\tuniforms:  THREE.UniformsUtils.merge( [\n\n\t\t\tTHREE.UniformsLib[ \"particle\" ],\n\t\t\tTHREE.UniformsLib[ \"shadowmap\" ]\n\n\t\t] ),\n\n\t\tvertexShader: [\n\n\t\t\t\"uniform float size;\",\n\t\t\t\"uniform float scale;\",\n\n\t\t\tTHREE.ShaderChunk[ \"color_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"shadowmap_pars_vertex\" ],\n\n\t\t\t\"void main() {\",\n\n\t\t\t\tTHREE.ShaderChunk[ \"color_vertex\" ],\n\n\t\t\t\t\"vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\",\n\n\t\t\t\t\"#ifdef USE_SIZEATTENUATION\",\n\t\t\t\t\t\"gl_PointSize = size * ( scale / length( mvPosition.xyz ) );\",\n\t\t\t\t\"#else\",\n\t\t\t\t\t\"gl_PointSize = size;\",\n\t\t\t\t\"#endif\",\n\n\t\t\t\t\"gl_Position = projectionMatrix * mvPosition;\",\n\n\t\t\t\tTHREE.ShaderChunk[ \"worldpos_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_vertex\" ],\n\n\t\t\t\"}\"\n\n\t\t].join(\"\\n\"),\n\n\t\tfragmentShader: [\n\n\t\t\t\"uniform vec3 psColor;\",\n\t\t\t\"uniform float opacity;\",\n\n\t\t\tTHREE.ShaderChunk[ \"color_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"map_particle_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"fog_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"shadowmap_pars_fragment\" ],\n\n\t\t\t\"void main() {\",\n\n\t\t\t\t\"gl_FragColor = vec4( psColor, opacity );\",\n\n\t\t\t\tTHREE.ShaderChunk[ \"map_particle_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"alphatest_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"color_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"fog_fragment\" ],\n\n\t\t\t\"}\"\n\n\t\t].join(\"\\n\")\n\n\t},\n\n\t'dashed': {\n\n\t\tuniforms: THREE.UniformsUtils.merge( [\n\n\t\t\tTHREE.UniformsLib[ \"common\" ],\n\t\t\tTHREE.UniformsLib[ \"fog\" ],\n\n\t\t\t{\n\t\t\t\t\"scale\":     { type: \"f\", value: 1 },\n\t\t\t\t\"dashSize\":  { type: \"f\", value: 1 },\n\t\t\t\t\"totalSize\": { type: \"f\", value: 2 }\n\t\t\t}\n\n\t\t] ),\n\n\t\tvertexShader: [\n\n\t\t\t\"uniform float scale;\",\n\t\t\t\"attribute float lineDistance;\",\n\n\t\t\t\"varying float vLineDistance;\",\n\n\t\t\tTHREE.ShaderChunk[ \"color_pars_vertex\" ],\n\n\t\t\t\"void main() {\",\n\n\t\t\t\tTHREE.ShaderChunk[ \"color_vertex\" ],\n\n\t\t\t\t\"vLineDistance = scale * lineDistance;\",\n\n\t\t\t\t\"vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\",\n\t\t\t\t\"gl_Position = projectionMatrix * mvPosition;\",\n\n\t\t\t\"}\"\n\n\t\t].join(\"\\n\"),\n\n\t\tfragmentShader: [\n\n\t\t\t\"uniform vec3 diffuse;\",\n\t\t\t\"uniform float opacity;\",\n\n\t\t\t\"uniform float dashSize;\",\n\t\t\t\"uniform float totalSize;\",\n\n\t\t\t\"varying float vLineDistance;\",\n\n\t\t\tTHREE.ShaderChunk[ \"color_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"fog_pars_fragment\" ],\n\n\t\t\t\"void main() {\",\n\n\t\t\t\t\"if ( mod( vLineDistance, totalSize ) > dashSize ) {\",\n\n\t\t\t\t\t\"discard;\",\n\n\t\t\t\t\"}\",\n\n\t\t\t\t\"gl_FragColor = vec4( diffuse, opacity );\",\n\n\t\t\t\tTHREE.ShaderChunk[ \"color_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"fog_fragment\" ],\n\n\t\t\t\"}\"\n\n\t\t].join(\"\\n\")\n\n\t},\n\n\t'depth': {\n\n\t\tuniforms: {\n\n\t\t\t\"mNear\": { type: \"f\", value: 1.0 },\n\t\t\t\"mFar\" : { type: \"f\", value: 2000.0 },\n\t\t\t\"opacity\" : { type: \"f\", value: 1.0 }\n\n\t\t},\n\n\t\tvertexShader: [\n\n\t\t\t\"void main() {\",\n\n\t\t\t\t\"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\n\t\t\t\"}\"\n\n\t\t].join(\"\\n\"),\n\n\t\tfragmentShader: [\n\n\t\t\t\"uniform float mNear;\",\n\t\t\t\"uniform float mFar;\",\n\t\t\t\"uniform float opacity;\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\t\"float depth = gl_FragCoord.z / gl_FragCoord.w;\",\n\t\t\t\t\"float color = 1.0 - smoothstep( mNear, mFar, depth );\",\n\t\t\t\t\"gl_FragColor = vec4( vec3( color ), opacity );\",\n\n\t\t\t\"}\"\n\n\t\t].join(\"\\n\")\n\n\t},\n\n\t'normal': {\n\n\t\tuniforms: {\n\n\t\t\t\"opacity\" : { type: \"f\", value: 1.0 }\n\n\t\t},\n\n\t\tvertexShader: [\n\n\t\t\t\"varying vec3 vNormal;\",\n\n\t\t\tTHREE.ShaderChunk[ \"morphtarget_pars_vertex\" ],\n\n\t\t\t\"void main() {\",\n\n\t\t\t\t\"vNormal = normalize( normalMatrix * normal );\",\n\n\t\t\t\tTHREE.ShaderChunk[ \"morphtarget_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"default_vertex\" ],\n\n\t\t\t\"}\"\n\n\t\t].join(\"\\n\"),\n\n\t\tfragmentShader: [\n\n\t\t\t\"uniform float opacity;\",\n\t\t\t\"varying vec3 vNormal;\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\t\"gl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );\",\n\n\t\t\t\"}\"\n\n\t\t].join(\"\\n\")\n\n\t},\n\n\t/* -------------------------------------------------------------------------\n\t//\tNormal map shader\n\t//\t\t- Blinn-Phong\n\t//\t\t- normal + diffuse + specular + AO + displacement + reflection + shadow maps\n\t//\t\t- point and directional lights (use with \"lights: true\" material option)\n\t ------------------------------------------------------------------------- */\n\n\t'normalmap' : {\n\n\t\tuniforms: THREE.UniformsUtils.merge( [\n\n\t\t\tTHREE.UniformsLib[ \"fog\" ],\n\t\t\tTHREE.UniformsLib[ \"lights\" ],\n\t\t\tTHREE.UniformsLib[ \"shadowmap\" ],\n\n\t\t\t{\n\n\t\t\t\"enableAO\"\t\t  : { type: \"i\", value: 0 },\n\t\t\t\"enableDiffuse\"\t  : { type: \"i\", value: 0 },\n\t\t\t\"enableSpecular\"  : { type: \"i\", value: 0 },\n\t\t\t\"enableReflection\": { type: \"i\", value: 0 },\n\t\t\t\"enableDisplacement\": { type: \"i\", value: 0 },\n\n\t\t\t\"tDisplacement\": { type: \"t\", value: null }, // must go first as this is vertex texture\n\t\t\t\"tDiffuse\"\t   : { type: \"t\", value: null },\n\t\t\t\"tCube\"\t\t   : { type: \"t\", value: null },\n\t\t\t\"tNormal\"\t   : { type: \"t\", value: null },\n\t\t\t\"tSpecular\"\t   : { type: \"t\", value: null },\n\t\t\t\"tAO\"\t\t   : { type: \"t\", value: null },\n\n\t\t\t\"uNormalScale\": { type: \"v2\", value: new THREE.Vector2( 1, 1 ) },\n\n\t\t\t\"uDisplacementBias\": { type: \"f\", value: 0.0 },\n\t\t\t\"uDisplacementScale\": { type: \"f\", value: 1.0 },\n\n\t\t\t\"diffuse\": { type: \"c\", value: new THREE.Color( 0xffffff ) },\n\t\t\t\"specular\": { type: \"c\", value: new THREE.Color( 0x111111 ) },\n\t\t\t\"ambient\": { type: \"c\", value: new THREE.Color( 0xffffff ) },\n\t\t\t\"shininess\": { type: \"f\", value: 30 },\n\t\t\t\"opacity\": { type: \"f\", value: 1 },\n\n\t\t\t\"useRefract\": { type: \"i\", value: 0 },\n\t\t\t\"refractionRatio\": { type: \"f\", value: 0.98 },\n\t\t\t\"reflectivity\": { type: \"f\", value: 0.5 },\n\n\t\t\t\"uOffset\" : { type: \"v2\", value: new THREE.Vector2( 0, 0 ) },\n\t\t\t\"uRepeat\" : { type: \"v2\", value: new THREE.Vector2( 1, 1 ) },\n\n\t\t\t\"wrapRGB\"  : { type: \"v3\", value: new THREE.Vector3( 1, 1, 1 ) }\n\n\t\t\t}\n\n\t\t] ),\n\n\t\tfragmentShader: [\n\n\t\t\t\"uniform vec3 ambient;\",\n\t\t\t\"uniform vec3 diffuse;\",\n\t\t\t\"uniform vec3 specular;\",\n\t\t\t\"uniform float shininess;\",\n\t\t\t\"uniform float opacity;\",\n\n\t\t\t\"uniform bool enableDiffuse;\",\n\t\t\t\"uniform bool enableSpecular;\",\n\t\t\t\"uniform bool enableAO;\",\n\t\t\t\"uniform bool enableReflection;\",\n\n\t\t\t\"uniform sampler2D tDiffuse;\",\n\t\t\t\"uniform sampler2D tNormal;\",\n\t\t\t\"uniform sampler2D tSpecular;\",\n\t\t\t\"uniform sampler2D tAO;\",\n\n\t\t\t\"uniform samplerCube tCube;\",\n\n\t\t\t\"uniform vec2 uNormalScale;\",\n\n\t\t\t\"uniform bool useRefract;\",\n\t\t\t\"uniform float refractionRatio;\",\n\t\t\t\"uniform float reflectivity;\",\n\n\t\t\t\"varying vec3 vTangent;\",\n\t\t\t\"varying vec3 vBinormal;\",\n\t\t\t\"varying vec3 vNormal;\",\n\t\t\t\"varying vec2 vUv;\",\n\n\t\t\t\"uniform vec3 ambientLightColor;\",\n\n\t\t\t\"#if MAX_DIR_LIGHTS > 0\",\n\n\t\t\t\t\"uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\",\n\t\t\t\t\"uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"#if MAX_HEMI_LIGHTS > 0\",\n\n\t\t\t\t\"uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\",\n\t\t\t\t\"uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\",\n\t\t\t\t\"uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"#if MAX_POINT_LIGHTS > 0\",\n\n\t\t\t\t\"uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\",\n\t\t\t\t\"uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\",\n\t\t\t\t\"uniform float pointLightDistance[ MAX_POINT_LIGHTS ];\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"#if MAX_SPOT_LIGHTS > 0\",\n\n\t\t\t\t\"uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\",\n\t\t\t\t\"uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\",\n\t\t\t\t\"uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\",\n\t\t\t\t\"uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\",\n\t\t\t\t\"uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\",\n\t\t\t\t\"uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"#ifdef WRAP_AROUND\",\n\n\t\t\t\t\"uniform vec3 wrapRGB;\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"varying vec3 vWorldPosition;\",\n\t\t\t\"varying vec3 vViewPosition;\",\n\n\t\t\tTHREE.ShaderChunk[ \"shadowmap_pars_fragment\" ],\n\t\t\tTHREE.ShaderChunk[ \"fog_pars_fragment\" ],\n\n\t\t\t\"void main() {\",\n\n\t\t\t\t\"gl_FragColor = vec4( vec3( 1.0 ), opacity );\",\n\n\t\t\t\t\"vec3 specularTex = vec3( 1.0 );\",\n\n\t\t\t\t\"vec3 normalTex = texture2D( tNormal, vUv ).xyz * 2.0 - 1.0;\",\n\t\t\t\t\"normalTex.xy *= uNormalScale;\",\n\t\t\t\t\"normalTex = normalize( normalTex );\",\n\n\t\t\t\t\"if( enableDiffuse ) {\",\n\n\t\t\t\t\t\"#ifdef GAMMA_INPUT\",\n\n\t\t\t\t\t\t\"vec4 texelColor = texture2D( tDiffuse, vUv );\",\n\t\t\t\t\t\t\"texelColor.xyz *= texelColor.xyz;\",\n\n\t\t\t\t\t\t\"gl_FragColor = gl_FragColor * texelColor;\",\n\n\t\t\t\t\t\"#else\",\n\n\t\t\t\t\t\t\"gl_FragColor = gl_FragColor * texture2D( tDiffuse, vUv );\",\n\n\t\t\t\t\t\"#endif\",\n\n\t\t\t\t\"}\",\n\n\t\t\t\t\"if( enableAO ) {\",\n\n\t\t\t\t\t\"#ifdef GAMMA_INPUT\",\n\n\t\t\t\t\t\t\"vec4 aoColor = texture2D( tAO, vUv );\",\n\t\t\t\t\t\t\"aoColor.xyz *= aoColor.xyz;\",\n\n\t\t\t\t\t\t\"gl_FragColor.xyz = gl_FragColor.xyz * aoColor.xyz;\",\n\n\t\t\t\t\t\"#else\",\n\n\t\t\t\t\t\t\"gl_FragColor.xyz = gl_FragColor.xyz * texture2D( tAO, vUv ).xyz;\",\n\n\t\t\t\t\t\"#endif\",\n\n\t\t\t\t\"}\",\n\n\t\t\t\t\"if( enableSpecular )\",\n\t\t\t\t\t\"specularTex = texture2D( tSpecular, vUv ).xyz;\",\n\n\t\t\t\t\"mat3 tsb = mat3( normalize( vTangent ), normalize( vBinormal ), normalize( vNormal ) );\",\n\t\t\t\t\"vec3 finalNormal = tsb * normalTex;\",\n\n\t\t\t\t\"#ifdef FLIP_SIDED\",\n\n\t\t\t\t\t\"finalNormal = -finalNormal;\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\t\"vec3 normal = normalize( finalNormal );\",\n\t\t\t\t\"vec3 viewPosition = normalize( vViewPosition );\",\n\n\t\t\t\t// point lights\n\n\t\t\t\t\"#if MAX_POINT_LIGHTS > 0\",\n\n\t\t\t\t\t\"vec3 pointDiffuse = vec3( 0.0 );\",\n\t\t\t\t\t\"vec3 pointSpecular = vec3( 0.0 );\",\n\n\t\t\t\t\t\"for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\",\n\n\t\t\t\t\t\t\"vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\",\n\t\t\t\t\t\t\"vec3 pointVector = lPosition.xyz + vViewPosition.xyz;\",\n\n\t\t\t\t\t\t\"float pointDistance = 1.0;\",\n\t\t\t\t\t\t\"if ( pointLightDistance[ i ] > 0.0 )\",\n\t\t\t\t\t\t\t\"pointDistance = 1.0 - min( ( length( pointVector ) / pointLightDistance[ i ] ), 1.0 );\",\n\n\t\t\t\t\t\t\"pointVector = normalize( pointVector );\",\n\n\t\t\t\t\t\t// diffuse\n\n\t\t\t\t\t\t\"#ifdef WRAP_AROUND\",\n\n\t\t\t\t\t\t\t\"float pointDiffuseWeightFull = max( dot( normal, pointVector ), 0.0 );\",\n\t\t\t\t\t\t\t\"float pointDiffuseWeightHalf = max( 0.5 * dot( normal, pointVector ) + 0.5, 0.0 );\",\n\n\t\t\t\t\t\t\t\"vec3 pointDiffuseWeight = mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\",\n\n\t\t\t\t\t\t\"#else\",\n\n\t\t\t\t\t\t\t\"float pointDiffuseWeight = max( dot( normal, pointVector ), 0.0 );\",\n\n\t\t\t\t\t\t\"#endif\",\n\n\t\t\t\t\t\t\"pointDiffuse += pointDistance * pointLightColor[ i ] * diffuse * pointDiffuseWeight;\",\n\n\t\t\t\t\t\t// specular\n\n\t\t\t\t\t\t\"vec3 pointHalfVector = normalize( pointVector + viewPosition );\",\n\t\t\t\t\t\t\"float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\",\n\t\t\t\t\t\t\"float pointSpecularWeight = specularTex.r * max( pow( pointDotNormalHalf, shininess ), 0.0 );\",\n\n\t\t\t\t\t\t// 2.0 => 2.0001 is hack to work around ANGLE bug\n\n\t\t\t\t\t\t\"float specularNormalization = ( shininess + 2.0001 ) / 8.0;\",\n\n\t\t\t\t\t\t\"vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( pointVector, pointHalfVector ), 5.0 );\",\n\t\t\t\t\t\t\"pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * pointDistance * specularNormalization;\",\n\n\t\t\t\t\t\"}\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\t// spot lights\n\n\t\t\t\t\"#if MAX_SPOT_LIGHTS > 0\",\n\n\t\t\t\t\t\"vec3 spotDiffuse = vec3( 0.0 );\",\n\t\t\t\t\t\"vec3 spotSpecular = vec3( 0.0 );\",\n\n\t\t\t\t\t\"for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\",\n\n\t\t\t\t\t\t\"vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\",\n\t\t\t\t\t\t\"vec3 spotVector = lPosition.xyz + vViewPosition.xyz;\",\n\n\t\t\t\t\t\t\"float spotDistance = 1.0;\",\n\t\t\t\t\t\t\"if ( spotLightDistance[ i ] > 0.0 )\",\n\t\t\t\t\t\t\t\"spotDistance = 1.0 - min( ( length( spotVector ) / spotLightDistance[ i ] ), 1.0 );\",\n\n\t\t\t\t\t\t\"spotVector = normalize( spotVector );\",\n\n\t\t\t\t\t\t\"float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );\",\n\n\t\t\t\t\t\t\"if ( spotEffect > spotLightAngleCos[ i ] ) {\",\n\n\t\t\t\t\t\t\t\"spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );\",\n\n\t\t\t\t\t\t\t// diffuse\n\n\t\t\t\t\t\t\t\"#ifdef WRAP_AROUND\",\n\n\t\t\t\t\t\t\t\t\"float spotDiffuseWeightFull = max( dot( normal, spotVector ), 0.0 );\",\n\t\t\t\t\t\t\t\t\"float spotDiffuseWeightHalf = max( 0.5 * dot( normal, spotVector ) + 0.5, 0.0 );\",\n\n\t\t\t\t\t\t\t\t\"vec3 spotDiffuseWeight = mix( vec3 ( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\",\n\n\t\t\t\t\t\t\t\"#else\",\n\n\t\t\t\t\t\t\t\t\"float spotDiffuseWeight = max( dot( normal, spotVector ), 0.0 );\",\n\n\t\t\t\t\t\t\t\"#endif\",\n\n\t\t\t\t\t\t\t\"spotDiffuse += spotDistance * spotLightColor[ i ] * diffuse * spotDiffuseWeight * spotEffect;\",\n\n\t\t\t\t\t\t\t// specular\n\n\t\t\t\t\t\t\t\"vec3 spotHalfVector = normalize( spotVector + viewPosition );\",\n\t\t\t\t\t\t\t\"float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );\",\n\t\t\t\t\t\t\t\"float spotSpecularWeight = specularTex.r * max( pow( spotDotNormalHalf, shininess ), 0.0 );\",\n\n\t\t\t\t\t\t\t// 2.0 => 2.0001 is hack to work around ANGLE bug\n\n\t\t\t\t\t\t\t\"float specularNormalization = ( shininess + 2.0001 ) / 8.0;\",\n\n\t\t\t\t\t\t\t\"vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( spotVector, spotHalfVector ), 5.0 );\",\n\t\t\t\t\t\t\t\"spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * spotDistance * specularNormalization * spotEffect;\",\n\n\t\t\t\t\t\t\"}\",\n\n\t\t\t\t\t\"}\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\t// directional lights\n\n\t\t\t\t\"#if MAX_DIR_LIGHTS > 0\",\n\n\t\t\t\t\t\"vec3 dirDiffuse = vec3( 0.0 );\",\n\t\t\t\t\t\"vec3 dirSpecular = vec3( 0.0 );\",\n\n\t\t\t\t\t\"for( int i = 0; i < MAX_DIR_LIGHTS; i++ ) {\",\n\n\t\t\t\t\t\t\"vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\",\n\t\t\t\t\t\t\"vec3 dirVector = normalize( lDirection.xyz );\",\n\n\t\t\t\t\t\t// diffuse\n\n\t\t\t\t\t\t\"#ifdef WRAP_AROUND\",\n\n\t\t\t\t\t\t\t\"float directionalLightWeightingFull = max( dot( normal, dirVector ), 0.0 );\",\n\t\t\t\t\t\t\t\"float directionalLightWeightingHalf = max( 0.5 * dot( normal, dirVector ) + 0.5, 0.0 );\",\n\n\t\t\t\t\t\t\t\"vec3 dirDiffuseWeight = mix( vec3( directionalLightWeightingFull ), vec3( directionalLightWeightingHalf ), wrapRGB );\",\n\n\t\t\t\t\t\t\"#else\",\n\n\t\t\t\t\t\t\t\"float dirDiffuseWeight = max( dot( normal, dirVector ), 0.0 );\",\n\n\t\t\t\t\t\t\"#endif\",\n\n\t\t\t\t\t\t\"dirDiffuse += directionalLightColor[ i ] * diffuse * dirDiffuseWeight;\",\n\n\t\t\t\t\t\t// specular\n\n\t\t\t\t\t\t\"vec3 dirHalfVector = normalize( dirVector + viewPosition );\",\n\t\t\t\t\t\t\"float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\",\n\t\t\t\t\t\t\"float dirSpecularWeight = specularTex.r * max( pow( dirDotNormalHalf, shininess ), 0.0 );\",\n\n\t\t\t\t\t\t// 2.0 => 2.0001 is hack to work around ANGLE bug\n\n\t\t\t\t\t\t\"float specularNormalization = ( shininess + 2.0001 ) / 8.0;\",\n\n\t\t\t\t\t\t\"vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );\",\n\t\t\t\t\t\t\"dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\",\n\n\t\t\t\t\t\"}\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\t// hemisphere lights\n\n\t\t\t\t\"#if MAX_HEMI_LIGHTS > 0\",\n\n\t\t\t\t\t\"vec3 hemiDiffuse  = vec3( 0.0 );\",\n\t\t\t\t\t\"vec3 hemiSpecular = vec3( 0.0 );\" ,\n\n\t\t\t\t\t\"for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\",\n\n\t\t\t\t\t\t\"vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\",\n\t\t\t\t\t\t\"vec3 lVector = normalize( lDirection.xyz );\",\n\n\t\t\t\t\t\t// diffuse\n\n\t\t\t\t\t\t\"float dotProduct = dot( normal, lVector );\",\n\t\t\t\t\t\t\"float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\",\n\n\t\t\t\t\t\t\"vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\",\n\n\t\t\t\t\t\t\"hemiDiffuse += diffuse * hemiColor;\",\n\n\t\t\t\t\t\t// specular (sky light)\n\n\n\t\t\t\t\t\t\"vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );\",\n\t\t\t\t\t\t\"float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;\",\n\t\t\t\t\t\t\"float hemiSpecularWeightSky = specularTex.r * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );\",\n\n\t\t\t\t\t\t// specular (ground light)\n\n\t\t\t\t\t\t\"vec3 lVectorGround = -lVector;\",\n\n\t\t\t\t\t\t\"vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );\",\n\t\t\t\t\t\t\"float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;\",\n\t\t\t\t\t\t\"float hemiSpecularWeightGround = specularTex.r * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );\",\n\n\t\t\t\t\t\t\"float dotProductGround = dot( normal, lVectorGround );\",\n\n\t\t\t\t\t\t// 2.0 => 2.0001 is hack to work around ANGLE bug\n\n\t\t\t\t\t\t\"float specularNormalization = ( shininess + 2.0001 ) / 8.0;\",\n\n\t\t\t\t\t\t\"vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 );\",\n\t\t\t\t\t\t\"vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 );\",\n\t\t\t\t\t\t\"hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\",\n\n\t\t\t\t\t\"}\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\t// all lights contribution summation\n\n\t\t\t\t\"vec3 totalDiffuse = vec3( 0.0 );\",\n\t\t\t\t\"vec3 totalSpecular = vec3( 0.0 );\",\n\n\t\t\t\t\"#if MAX_DIR_LIGHTS > 0\",\n\n\t\t\t\t\t\"totalDiffuse += dirDiffuse;\",\n\t\t\t\t\t\"totalSpecular += dirSpecular;\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\t\"#if MAX_HEMI_LIGHTS > 0\",\n\n\t\t\t\t\t\"totalDiffuse += hemiDiffuse;\",\n\t\t\t\t\t\"totalSpecular += hemiSpecular;\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\t\"#if MAX_POINT_LIGHTS > 0\",\n\n\t\t\t\t\t\"totalDiffuse += pointDiffuse;\",\n\t\t\t\t\t\"totalSpecular += pointSpecular;\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\t\"#if MAX_SPOT_LIGHTS > 0\",\n\n\t\t\t\t\t\"totalDiffuse += spotDiffuse;\",\n\t\t\t\t\t\"totalSpecular += spotSpecular;\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\t\"#ifdef METAL\",\n\n\t\t\t\t\t\"gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient + totalSpecular );\",\n\n\t\t\t\t\"#else\",\n\n\t\t\t\t\t\"gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient ) + totalSpecular;\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\t\"if ( enableReflection ) {\",\n\n\t\t\t\t\t\"vec3 vReflect;\",\n\t\t\t\t\t\"vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\",\n\n\t\t\t\t\t\"if ( useRefract ) {\",\n\n\t\t\t\t\t\t\"vReflect = refract( cameraToVertex, normal, refractionRatio );\",\n\n\t\t\t\t\t\"} else {\",\n\n\t\t\t\t\t\t\"vReflect = reflect( cameraToVertex, normal );\",\n\n\t\t\t\t\t\"}\",\n\n\t\t\t\t\t\"vec4 cubeColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );\",\n\n\t\t\t\t\t\"#ifdef GAMMA_INPUT\",\n\n\t\t\t\t\t\t\"cubeColor.xyz *= cubeColor.xyz;\",\n\n\t\t\t\t\t\"#endif\",\n\n\t\t\t\t\t\"gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularTex.r * reflectivity );\",\n\n\t\t\t\t\"}\",\n\n\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"linear_to_gamma_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"fog_fragment\" ],\n\n\t\t\t\"}\"\n\n\t\t].join(\"\\n\"),\n\n\t\tvertexShader: [\n\n\t\t\t\"attribute vec4 tangent;\",\n\n\t\t\t\"uniform vec2 uOffset;\",\n\t\t\t\"uniform vec2 uRepeat;\",\n\n\t\t\t\"uniform bool enableDisplacement;\",\n\n\t\t\t\"#ifdef VERTEX_TEXTURES\",\n\n\t\t\t\t\"uniform sampler2D tDisplacement;\",\n\t\t\t\t\"uniform float uDisplacementScale;\",\n\t\t\t\t\"uniform float uDisplacementBias;\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"varying vec3 vTangent;\",\n\t\t\t\"varying vec3 vBinormal;\",\n\t\t\t\"varying vec3 vNormal;\",\n\t\t\t\"varying vec2 vUv;\",\n\n\t\t\t\"varying vec3 vWorldPosition;\",\n\t\t\t\"varying vec3 vViewPosition;\",\n\n\t\t\tTHREE.ShaderChunk[ \"skinning_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"shadowmap_pars_vertex\" ],\n\n\t\t\t\"void main() {\",\n\n\t\t\t\tTHREE.ShaderChunk[ \"skinbase_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"skinnormal_vertex\" ],\n\n\t\t\t\t// normal, tangent and binormal vectors\n\n\t\t\t\t\"#ifdef USE_SKINNING\",\n\n\t\t\t\t\t\"vNormal = normalize( normalMatrix * skinnedNormal.xyz );\",\n\n\t\t\t\t\t\"vec4 skinnedTangent = skinMatrix * vec4( tangent.xyz, 0.0 );\",\n\t\t\t\t\t\"vTangent = normalize( normalMatrix * skinnedTangent.xyz );\",\n\n\t\t\t\t\"#else\",\n\n\t\t\t\t\t\"vNormal = normalize( normalMatrix * normal );\",\n\t\t\t\t\t\"vTangent = normalize( normalMatrix * tangent.xyz );\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\t\"vBinormal = normalize( cross( vNormal, vTangent ) * tangent.w );\",\n\n\t\t\t\t\"vUv = uv * uRepeat + uOffset;\",\n\n\t\t\t\t// displacement mapping\n\n\t\t\t\t\"vec3 displacedPosition;\",\n\n\t\t\t\t\"#ifdef VERTEX_TEXTURES\",\n\n\t\t\t\t\t\"if ( enableDisplacement ) {\",\n\n\t\t\t\t\t\t\"vec3 dv = texture2D( tDisplacement, uv ).xyz;\",\n\t\t\t\t\t\t\"float df = uDisplacementScale * dv.x + uDisplacementBias;\",\n\t\t\t\t\t\t\"displacedPosition = position + normalize( normal ) * df;\",\n\n\t\t\t\t\t\"} else {\",\n\n\t\t\t\t\t\t\"#ifdef USE_SKINNING\",\n\n\t\t\t\t\t\t\t\"vec4 skinVertex = vec4( position, 1.0 );\",\n\n\t\t\t\t\t\t\t\"vec4 skinned  = boneMatX * skinVertex * skinWeight.x;\",\n\t\t\t\t\t\t\t\"skinned \t  += boneMatY * skinVertex * skinWeight.y;\",\n\n\t\t\t\t\t\t\t\"displacedPosition  = skinned.xyz;\",\n\n\t\t\t\t\t\t\"#else\",\n\n\t\t\t\t\t\t\t\"displacedPosition = position;\",\n\n\t\t\t\t\t\t\"#endif\",\n\n\t\t\t\t\t\"}\",\n\n\t\t\t\t\"#else\",\n\n\t\t\t\t\t\"#ifdef USE_SKINNING\",\n\n\t\t\t\t\t\t\"vec4 skinVertex = vec4( position, 1.0 );\",\n\n\t\t\t\t\t\t\"vec4 skinned  = boneMatX * skinVertex * skinWeight.x;\",\n\t\t\t\t\t\t\"skinned \t  += boneMatY * skinVertex * skinWeight.y;\",\n\n\t\t\t\t\t\t\"displacedPosition  = skinned.xyz;\",\n\n\t\t\t\t\t\"#else\",\n\n\t\t\t\t\t\t\"displacedPosition = position;\",\n\n\t\t\t\t\t\"#endif\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\t//\n\n\t\t\t\t\"vec4 mvPosition = modelViewMatrix * vec4( displacedPosition, 1.0 );\",\n\t\t\t\t\"vec4 worldPosition = modelMatrix * vec4( displacedPosition, 1.0 );\",\n\n\t\t\t\t\"gl_Position = projectionMatrix * mvPosition;\",\n\n\t\t\t\t//\n\n\t\t\t\t\"vWorldPosition = worldPosition.xyz;\",\n\t\t\t\t\"vViewPosition = -mvPosition.xyz;\",\n\n\t\t\t\t// shadows\n\n\t\t\t\t\"#ifdef USE_SHADOWMAP\",\n\n\t\t\t\t\t\"for( int i = 0; i < MAX_SHADOWS; i ++ ) {\",\n\n\t\t\t\t\t\t\"vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\",\n\n\t\t\t\t\t\"}\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\"}\"\n\n\t\t].join(\"\\n\")\n\n\t},\n\n\t/* -------------------------------------------------------------------------\n\t//\tCube map shader\n\t ------------------------------------------------------------------------- */\n\n\t'cube': {\n\n\t\tuniforms: { \"tCube\": { type: \"t\", value: null },\n\t\t\t\t\t\"tFlip\": { type: \"f\", value: -1 } },\n\n\t\tvertexShader: [\n\n\t\t\t\"varying vec3 vWorldPosition;\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\t\"vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\",\n\t\t\t\t\"vWorldPosition = worldPosition.xyz;\",\n\n\t\t\t\t\"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\n\t\t\t\"}\"\n\n\t\t].join(\"\\n\"),\n\n\t\tfragmentShader: [\n\n\t\t\t\"uniform samplerCube tCube;\",\n\t\t\t\"uniform float tFlip;\",\n\n\t\t\t\"varying vec3 vWorldPosition;\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\t\"gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\",\n\n\t\t\t\"}\"\n\n\t\t].join(\"\\n\")\n\n\t},\n\n\t// Depth encoding into RGBA texture\n\t// \tbased on SpiderGL shadow map example\n\t// \t\thttp://spidergl.org/example.php?id=6\n\t// \toriginally from\n\t//\t\thttp://www.gamedev.net/topic/442138-packing-a-float-into-a-a8r8g8b8-texture-shader/page__whichpage__1%25EF%25BF%25BD\n\t// \tsee also here:\n\t//\t\thttp://aras-p.info/blog/2009/07/30/encoding-floats-to-rgba-the-final/\n\n\t'depthRGBA': {\n\n\t\tuniforms: {},\n\n\t\tvertexShader: [\n\n\t\t\tTHREE.ShaderChunk[ \"morphtarget_pars_vertex\" ],\n\t\t\tTHREE.ShaderChunk[ \"skinning_pars_vertex\" ],\n\n\t\t\t\"void main() {\",\n\n\t\t\t\tTHREE.ShaderChunk[ \"skinbase_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"morphtarget_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"skinning_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"default_vertex\" ],\n\n\t\t\t\"}\"\n\n\t\t].join(\"\\n\"),\n\n\t\tfragmentShader: [\n\n\t\t\t\"vec4 pack_depth( const in float depth ) {\",\n\n\t\t\t\t\"const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\",\n\t\t\t\t\"const vec4 bit_mask  = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\",\n\t\t\t\t\"vec4 res = fract( depth * bit_shift );\",\n\t\t\t\t\"res -= res.xxyz * bit_mask;\",\n\t\t\t\t\"return res;\",\n\n\t\t\t\"}\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\t\"gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );\",\n\n\t\t\t\t//\"gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z / gl_FragCoord.w );\",\n\t\t\t\t//\"float z = ( ( gl_FragCoord.z / gl_FragCoord.w ) - 3.0 ) / ( 4000.0 - 3.0 );\",\n\t\t\t\t//\"gl_FragData[ 0 ] = pack_depth( z );\",\n\t\t\t\t//\"gl_FragData[ 0 ] = vec4( z, z, z, 1.0 );\",\n\n\t\t\t\"}\"\n\n\t\t].join(\"\\n\")\n\n\t}\n\n};\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nTHREE.WebGLRenderer = function ( parameters ) {\n\n\tconsole.log( 'THREE.WebGLRenderer', THREE.REVISION );\n\n\tparameters = parameters || {};\n\n\tvar _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElement( 'canvas' ),\n\n\t_precision = parameters.precision !== undefined ? parameters.precision : 'highp',\n\n\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\n\t_clearColor = new THREE.Color( 0x000000 ),\n\t_clearAlpha = 0;\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\tthis.context = null;\n\tthis.devicePixelRatio = parameters.devicePixelRatio !== undefined\n\t\t\t\t? parameters.devicePixelRatio\n\t\t\t\t: self.devicePixelRatio !== undefined\n\t\t\t\t\t? self.devicePixelRatio\n\t\t\t\t\t: 1;\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\tthis.autoUpdateObjects = true;\n\n\t// physically based shading\n\n\tthis.gammaInput = false;\n\tthis.gammaOutput = false;\n\n\t// shadow map\n\n\tthis.shadowMapEnabled = false;\n\tthis.shadowMapAutoUpdate = true;\n\tthis.shadowMapType = THREE.PCFShadowMap;\n\tthis.shadowMapCullFace = THREE.CullFaceFront;\n\tthis.shadowMapDebug = false;\n\tthis.shadowMapCascade = false;\n\n\t// morphs\n\n\tthis.maxMorphTargets = 8;\n\tthis.maxMorphNormals = 4;\n\n\t// flags\n\n\tthis.autoScaleCubemaps = true;\n\n\t// custom render plugins\n\n\tthis.renderPluginsPre = [];\n\tthis.renderPluginsPost = [];\n\n\t// info\n\n\tthis.info = {\n\n\t\tmemory: {\n\n\t\t\tprograms: 0,\n\t\t\tgeometries: 0,\n\t\t\ttextures: 0\n\n\t\t},\n\n\t\trender: {\n\n\t\t\tcalls: 0,\n\t\t\tvertices: 0,\n\t\t\tfaces: 0,\n\t\t\tpoints: 0\n\n\t\t}\n\n\t};\n\n\t// internal properties\n\n\tvar _this = this,\n\n\t_programs = [],\n\t_programs_counter = 0,\n\n\t// internal state cache\n\n\t_currentProgram = null,\n\t_currentFramebuffer = null,\n\t_currentMaterialId = -1,\n\t_currentGeometryGroupHash = null,\n\t_currentCamera = null,\n\t_geometryGroupCounter = 0,\n\n\t_usedTextureUnits = 0,\n\n\t// GL state cache\n\n\t_oldDoubleSided = -1,\n\t_oldFlipSided = -1,\n\n\t_oldBlending = -1,\n\n\t_oldBlendEquation = -1,\n\t_oldBlendSrc = -1,\n\t_oldBlendDst = -1,\n\n\t_oldDepthTest = -1,\n\t_oldDepthWrite = -1,\n\n\t_oldPolygonOffset = null,\n\t_oldPolygonOffsetFactor = null,\n\t_oldPolygonOffsetUnits = null,\n\n\t_oldLineWidth = null,\n\n\t_viewportX = 0,\n\t_viewportY = 0,\n\t_viewportWidth = _canvas.width,\n\t_viewportHeight = _canvas.height,\n\t_currentWidth = 0,\n\t_currentHeight = 0,\n\n\t_enabledAttributes = {},\n\n\t// frustum\n\n\t_frustum = new THREE.Frustum(),\n\n\t // camera matrices cache\n\n\t_projScreenMatrix = new THREE.Matrix4(),\n\t_projScreenMatrixPS = new THREE.Matrix4(),\n\n\t_vector3 = new THREE.Vector3(),\n\n\t// light arrays cache\n\n\t_direction = new THREE.Vector3(),\n\n\t_lightsNeedUpdate = true,\n\n\t_lights = {\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tdirectional: { length: 0, colors: new Array(), positions: new Array() },\n\t\tpoint: { length: 0, colors: new Array(), positions: new Array(), distances: new Array() },\n\t\tspot: { length: 0, colors: new Array(), positions: new Array(), distances: new Array(), directions: new Array(), anglesCos: new Array(), exponents: new Array() },\n\t\themi: { length: 0, skyColors: new Array(), groundColors: new Array(), positions: new Array() }\n\n\t};\n\n\t// initialize\n\n\tvar _gl;\n\n\tvar _glExtensionTextureFloat;\n\tvar _glExtensionTextureFloatLinear;\n\tvar _glExtensionStandardDerivatives;\n\tvar _glExtensionTextureFilterAnisotropic;\n\tvar _glExtensionCompressedTextureS3TC;\n\n\tinitGL();\n\n\tsetDefaultGLState();\n\n\tthis.context = _gl;\n\n\t// GPU capabilities\n\n\tvar _maxTextures = _gl.getParameter( _gl.MAX_TEXTURE_IMAGE_UNITS );\n\tvar _maxVertexTextures = _gl.getParameter( _gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS );\n\tvar _maxTextureSize = _gl.getParameter( _gl.MAX_TEXTURE_SIZE );\n\tvar _maxCubemapSize = _gl.getParameter( _gl.MAX_CUBE_MAP_TEXTURE_SIZE );\n\n\tvar _maxAnisotropy = _glExtensionTextureFilterAnisotropic ? _gl.getParameter( _glExtensionTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT ) : 0;\n\n\tvar _supportsVertexTextures = ( _maxVertexTextures > 0 );\n\tvar _supportsBoneTextures = _supportsVertexTextures && _glExtensionTextureFloat;\n\n\tvar _compressedTextureFormats = _glExtensionCompressedTextureS3TC ? _gl.getParameter( _gl.COMPRESSED_TEXTURE_FORMATS ) : [];\n\n\t//\n\n\tvar _vertexShaderPrecisionHighpFloat = _gl.getShaderPrecisionFormat( _gl.VERTEX_SHADER, _gl.HIGH_FLOAT );\n\tvar _vertexShaderPrecisionMediumpFloat = _gl.getShaderPrecisionFormat( _gl.VERTEX_SHADER, _gl.MEDIUM_FLOAT );\n\tvar _vertexShaderPrecisionLowpFloat = _gl.getShaderPrecisionFormat( _gl.VERTEX_SHADER, _gl.LOW_FLOAT );\n\n\tvar _fragmentShaderPrecisionHighpFloat = _gl.getShaderPrecisionFormat( _gl.FRAGMENT_SHADER, _gl.HIGH_FLOAT );\n\tvar _fragmentShaderPrecisionMediumpFloat = _gl.getShaderPrecisionFormat( _gl.FRAGMENT_SHADER, _gl.MEDIUM_FLOAT );\n\tvar _fragmentShaderPrecisionLowpFloat = _gl.getShaderPrecisionFormat( _gl.FRAGMENT_SHADER, _gl.LOW_FLOAT );\n\n\tvar _vertexShaderPrecisionHighpInt = _gl.getShaderPrecisionFormat( _gl.VERTEX_SHADER, _gl.HIGH_INT );\n\tvar _vertexShaderPrecisionMediumpInt = _gl.getShaderPrecisionFormat( _gl.VERTEX_SHADER, _gl.MEDIUM_INT );\n\tvar _vertexShaderPrecisionLowpInt = _gl.getShaderPrecisionFormat( _gl.VERTEX_SHADER, _gl.LOW_INT );\n\n\tvar _fragmentShaderPrecisionHighpInt = _gl.getShaderPrecisionFormat( _gl.FRAGMENT_SHADER, _gl.HIGH_INT );\n\tvar _fragmentShaderPrecisionMediumpInt = _gl.getShaderPrecisionFormat( _gl.FRAGMENT_SHADER, _gl.MEDIUM_INT );\n\tvar _fragmentShaderPrecisionLowpInt = _gl.getShaderPrecisionFormat( _gl.FRAGMENT_SHADER, _gl.LOW_INT );\n\n\t// clamp precision to maximum available\n\n\tvar highpAvailable = _vertexShaderPrecisionHighpFloat.precision > 0 && _fragmentShaderPrecisionHighpFloat.precision > 0;\n\tvar mediumpAvailable = _vertexShaderPrecisionMediumpFloat.precision > 0 && _fragmentShaderPrecisionMediumpFloat.precision > 0;\n\n\tif ( _precision === \"highp\" && ! highpAvailable ) {\n\n\t\tif ( mediumpAvailable ) {\n\n\t\t\t_precision = \"mediump\";\n\t\t\tconsole.warn( \"WebGLRenderer: highp not supported, using mediump\" );\n\n\t\t} else {\n\n\t\t\t_precision = \"lowp\";\n\t\t\tconsole.warn( \"WebGLRenderer: highp and mediump not supported, using lowp\" );\n\n\t\t}\n\n\t}\n\n\tif ( _precision === \"mediump\" && ! mediumpAvailable ) {\n\n\t\t_precision = \"lowp\";\n\t\tconsole.warn( \"WebGLRenderer: mediump not supported, using lowp\" );\n\n\t}\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.supportsVertexTextures = function () {\n\n\t\treturn _supportsVertexTextures;\n\n\t};\n\n\tthis.supportsFloatTextures = function () {\n\n\t\treturn _glExtensionTextureFloat;\n\n\t};\n\n\tthis.supportsStandardDerivatives = function () {\n\n\t\treturn _glExtensionStandardDerivatives;\n\n\t};\n\n\tthis.supportsCompressedTextureS3TC = function () {\n\n\t\treturn _glExtensionCompressedTextureS3TC;\n\n\t};\n\n\tthis.getMaxAnisotropy  = function () {\n\n\t\treturn _maxAnisotropy;\n\n\t};\n\n\tthis.getPrecision = function () {\n\n\t\treturn _precision;\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\t_canvas.width = width * this.devicePixelRatio;\n\t\t_canvas.height = height * this.devicePixelRatio;\n\n\t\tif ( this.devicePixelRatio !== 1 && updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, _canvas.width, _canvas.height );\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\t_viewportX = x !== undefined ? x : 0;\n\t\t_viewportY = y !== undefined ? y : 0;\n\n\t\t_viewportWidth = width !== undefined ? width : _canvas.width;\n\t\t_viewportHeight = height !== undefined ? height : _canvas.height;\n\n\t\t_gl.viewport( _viewportX, _viewportY, _viewportWidth, _viewportHeight );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\t_gl.scissor( x, y, width, height );\n\n\t};\n\n\tthis.enableScissorTest = function ( enable ) {\n\n\t\tenable ? _gl.enable( _gl.SCISSOR_TEST ) : _gl.disable( _gl.SCISSOR_TEST );\n\n\t};\n\n\t// Clearing\n\n\tthis.setClearColor = function ( color, alpha ) {\n\n\t\t_clearColor.set( color );\n\t\t_clearAlpha = alpha !== undefined ? alpha : 1;\n\n\t\t_gl.clearColor( _clearColor.r, _clearColor.g, _clearColor.b, _clearAlpha );\n\n\t};\n\n\tthis.setClearColorHex = function ( hex, alpha ) {\n\n\t\tconsole.warn( 'DEPRECATED: .setClearColorHex() is being removed. Use .setClearColor() instead.' );\n\t\tthis.setClearColor( hex, alpha );\n\n\t};\n\n\tthis.getClearColor = function () {\n\n\t\treturn _clearColor;\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn _clearAlpha;\n\n\t};\n\n\tthis.clear = function ( color, depth, stencil ) {\n\n\t\tvar bits = 0;\n\n\t\tif ( color === undefined || color ) bits |= _gl.COLOR_BUFFER_BIT;\n\t\tif ( depth === undefined || depth ) bits |= _gl.DEPTH_BUFFER_BIT;\n\t\tif ( stencil === undefined || stencil ) bits |= _gl.STENCIL_BUFFER_BIT;\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\t_gl.clear( _gl.COLOR_BUFFER_BIT );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\t_gl.clear( _gl.DEPTH_BUFFER_BIT );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\t_gl.clear( _gl.STENCIL_BUFFER_BIT );\n\n\t};\n\n\tthis.clearTarget = function ( renderTarget, color, depth, stencil ) {\n\n\t\tthis.setRenderTarget( renderTarget );\n\t\tthis.clear( color, depth, stencil );\n\n\t};\n\n\t// Plugins\n\n\tthis.addPostPlugin = function ( plugin ) {\n\n\t\tplugin.init( this );\n\t\tthis.renderPluginsPost.push( plugin );\n\n\t};\n\n\tthis.addPrePlugin = function ( plugin ) {\n\n\t\tplugin.init( this );\n\t\tthis.renderPluginsPre.push( plugin );\n\n\t};\n\n\t// Rendering\n\n\tthis.updateShadowMap = function ( scene, camera ) {\n\n\t\t_currentProgram = null;\n\t\t_oldBlending = -1;\n\t\t_oldDepthTest = -1;\n\t\t_oldDepthWrite = -1;\n\t\t_currentGeometryGroupHash = -1;\n\t\t_currentMaterialId = -1;\n\t\t_lightsNeedUpdate = true;\n\t\t_oldDoubleSided = -1;\n\t\t_oldFlipSided = -1;\n\n\t\tthis.shadowMapPlugin.update( scene, camera );\n\n\t};\n\n\t// Internal functions\n\n\t// Buffer allocation\n\n\tfunction createParticleBuffers ( geometry ) {\n\n\t\tgeometry.__webglVertexBuffer = _gl.createBuffer();\n\t\tgeometry.__webglColorBuffer = _gl.createBuffer();\n\n\t\t_this.info.memory.geometries ++;\n\n\t};\n\n\tfunction createLineBuffers ( geometry ) {\n\n\t\tgeometry.__webglVertexBuffer = _gl.createBuffer();\n\t\tgeometry.__webglColorBuffer = _gl.createBuffer();\n\t\tgeometry.__webglLineDistanceBuffer = _gl.createBuffer();\n\n\t\t_this.info.memory.geometries ++;\n\n\t};\n\n\tfunction createMeshBuffers ( geometryGroup ) {\n\n\t\tgeometryGroup.__webglVertexBuffer = _gl.createBuffer();\n\t\tgeometryGroup.__webglNormalBuffer = _gl.createBuffer();\n\t\tgeometryGroup.__webglTangentBuffer = _gl.createBuffer();\n\t\tgeometryGroup.__webglColorBuffer = _gl.createBuffer();\n\t\tgeometryGroup.__webglUVBuffer = _gl.createBuffer();\n\t\tgeometryGroup.__webglUV2Buffer = _gl.createBuffer();\n\n\t\tgeometryGroup.__webglSkinIndicesBuffer = _gl.createBuffer();\n\t\tgeometryGroup.__webglSkinWeightsBuffer = _gl.createBuffer();\n\n\t\tgeometryGroup.__webglFaceBuffer = _gl.createBuffer();\n\t\tgeometryGroup.__webglLineBuffer = _gl.createBuffer();\n\n\t\tvar m, ml;\n\n\t\tif ( geometryGroup.numMorphTargets ) {\n\n\t\t\tgeometryGroup.__webglMorphTargetsBuffers = [];\n\n\t\t\tfor ( m = 0, ml = geometryGroup.numMorphTargets; m < ml; m ++ ) {\n\n\t\t\t\tgeometryGroup.__webglMorphTargetsBuffers.push( _gl.createBuffer() );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( geometryGroup.numMorphNormals ) {\n\n\t\t\tgeometryGroup.__webglMorphNormalsBuffers = [];\n\n\t\t\tfor ( m = 0, ml = geometryGroup.numMorphNormals; m < ml; m ++ ) {\n\n\t\t\t\tgeometryGroup.__webglMorphNormalsBuffers.push( _gl.createBuffer() );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_this.info.memory.geometries ++;\n\n\t};\n\n\t// Events\n\n\tvar onGeometryDispose = function ( event ) {\n\n\t\tvar geometry = event.target;\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tdeallocateGeometry( geometry );\n\n\t};\n\n\tvar onTextureDispose = function ( event ) {\n\n\t\tvar texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\t_this.info.memory.textures --;\n\n\n\t};\n\n\tvar onRenderTargetDispose = function ( event ) {\n\n\t\tvar renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t\t_this.info.memory.textures --;\n\n\t};\n\n\tvar onMaterialDispose = function ( event ) {\n\n\t\tvar material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t};\n\n\t// Buffer deallocation\n\n\tvar deleteBuffers = function ( geometry ) {\n\n\t\tif ( geometry.__webglVertexBuffer !== undefined ) _gl.deleteBuffer( geometry.__webglVertexBuffer );\n\t\tif ( geometry.__webglNormalBuffer !== undefined ) _gl.deleteBuffer( geometry.__webglNormalBuffer );\n\t\tif ( geometry.__webglTangentBuffer !== undefined ) _gl.deleteBuffer( geometry.__webglTangentBuffer );\n\t\tif ( geometry.__webglColorBuffer !== undefined ) _gl.deleteBuffer( geometry.__webglColorBuffer );\n\t\tif ( geometry.__webglUVBuffer !== undefined ) _gl.deleteBuffer( geometry.__webglUVBuffer );\n\t\tif ( geometry.__webglUV2Buffer !== undefined ) _gl.deleteBuffer( geometry.__webglUV2Buffer );\n\n\t\tif ( geometry.__webglSkinIndicesBuffer !== undefined ) _gl.deleteBuffer( geometry.__webglSkinIndicesBuffer );\n\t\tif ( geometry.__webglSkinWeightsBuffer !== undefined ) _gl.deleteBuffer( geometry.__webglSkinWeightsBuffer );\n\n\t\tif ( geometry.__webglFaceBuffer !== undefined ) _gl.deleteBuffer( geometry.__webglFaceBuffer );\n\t\tif ( geometry.__webglLineBuffer !== undefined ) _gl.deleteBuffer( geometry.__webglLineBuffer );\n\n\t\tif ( geometry.__webglLineDistanceBuffer !== undefined ) _gl.deleteBuffer( geometry.__webglLineDistanceBuffer );\n\t\t// custom attributes\n\n\t\tif ( geometry.__webglCustomAttributesList !== undefined ) {\n\n\t\t\tfor ( var id in geometry.__webglCustomAttributesList ) {\n\n\t\t\t\t_gl.deleteBuffer( geometry.__webglCustomAttributesList[ id ].buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_this.info.memory.geometries --;\n\n\t};\n\n\tvar deallocateGeometry = function ( geometry ) {\n\n\t\tgeometry.__webglInit = undefined;\n\n\t\tif ( geometry instanceof THREE.BufferGeometry ) {\n\n\t\t\tvar attributes = geometry.attributes;\n\n\t\t\tfor ( var key in attributes ) {\n\n\t\t\t\tif ( attributes[ key ].buffer !== undefined ) {\n\n\t\t\t\t\t_gl.deleteBuffer( attributes[ key ].buffer );\n\t\t\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_this.info.memory.geometries --;\n\n\t\t} else {\n\n\t\t\tif ( geometry.geometryGroups !== undefined ) {\n\n\t\t\t\tfor ( var g in geometry.geometryGroups ) {\n\n\t\t\t\t\tvar geometryGroup = geometry.geometryGroups[ g ];\n\n\t\t\t\t\tif ( geometryGroup.numMorphTargets !== undefined ) {\n\n\t\t\t\t\t\tfor ( var m = 0, ml = geometryGroup.numMorphTargets; m < ml; m ++ ) {\n\n\t\t\t\t\t\t\t_gl.deleteBuffer( geometryGroup.__webglMorphTargetsBuffers[ m ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( geometryGroup.numMorphNormals !== undefined ) {\n\n\t\t\t\t\t\tfor ( var m = 0, ml = geometryGroup.numMorphNormals; m < ml; m ++ ) {\n\n\t\t\t\t\t\t\t_gl.deleteBuffer( geometryGroup.__webglMorphNormalsBuffers[ m ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tdeleteBuffers( geometryGroup );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tdeleteBuffers( geometry );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tvar deallocateTexture = function ( texture ) {\n\n\t\tif ( texture.image && texture.image.__webglTextureCube ) {\n\n\t\t\t// cube texture\n\n\t\t\t_gl.deleteTexture( texture.image.__webglTextureCube );\n\n\t\t} else {\n\n\t\t\t// 2D texture\n\n\t\t\tif ( ! texture.__webglInit ) return;\n\n\t\t\ttexture.__webglInit = false;\n\t\t\t_gl.deleteTexture( texture.__webglTexture );\n\n\t\t}\n\n\t};\n\n\tvar deallocateRenderTarget = function ( renderTarget ) {\n\n\t\tif ( !renderTarget || ! renderTarget.__webglTexture ) return;\n\n\t\t_gl.deleteTexture( renderTarget.__webglTexture );\n\n\t\tif ( renderTarget instanceof THREE.WebGLRenderTargetCube ) {\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTarget.__webglFramebuffer[ i ] );\n\t\t\t\t_gl.deleteRenderbuffer( renderTarget.__webglRenderbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTarget.__webglFramebuffer );\n\t\t\t_gl.deleteRenderbuffer( renderTarget.__webglRenderbuffer );\n\n\t\t}\n\n\t};\n\n\tvar deallocateMaterial = function ( material ) {\n\n\t\tvar program = material.program;\n\n\t\tif ( program === undefined ) return;\n\n\t\tmaterial.program = undefined;\n\n\t\t// only deallocate GL program if this was the last use of shared program\n\t\t// assumed there is only single copy of any program in the _programs list\n\t\t// (that's how it's constructed)\n\n\t\tvar i, il, programInfo;\n\t\tvar deleteProgram = false;\n\n\t\tfor ( i = 0, il = _programs.length; i < il; i ++ ) {\n\n\t\t\tprogramInfo = _programs[ i ];\n\n\t\t\tif ( programInfo.program === program ) {\n\n\t\t\t\tprogramInfo.usedTimes --;\n\n\t\t\t\tif ( programInfo.usedTimes === 0 ) {\n\n\t\t\t\t\tdeleteProgram = true;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( deleteProgram === true ) {\n\n\t\t\t// avoid using array.splice, this is costlier than creating new array from scratch\n\n\t\t\tvar newPrograms = [];\n\n\t\t\tfor ( i = 0, il = _programs.length; i < il; i ++ ) {\n\n\t\t\t\tprogramInfo = _programs[ i ];\n\n\t\t\t\tif ( programInfo.program !== program ) {\n\n\t\t\t\t\tnewPrograms.push( programInfo );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_programs = newPrograms;\n\n\t\t\t_gl.deleteProgram( program );\n\n\t\t\t_this.info.memory.programs --;\n\n\t\t}\n\n\t};\n\n\t// Buffer initialization\n\n\tfunction initCustomAttributes ( geometry, object ) {\n\n\t\tvar nvertices = geometry.vertices.length;\n\n\t\tvar material = object.material;\n\n\t\tif ( material.attributes ) {\n\n\t\t\tif ( geometry.__webglCustomAttributesList === undefined ) {\n\n\t\t\t\tgeometry.__webglCustomAttributesList = [];\n\n\t\t\t}\n\n\t\t\tfor ( var a in material.attributes ) {\n\n\t\t\t\tvar attribute = material.attributes[ a ];\n\n\t\t\t\tif ( !attribute.__webglInitialized || attribute.createUniqueBuffers ) {\n\n\t\t\t\t\tattribute.__webglInitialized = true;\n\n\t\t\t\t\tvar size = 1;\t\t// \"f\" and \"i\"\n\n\t\t\t\t\tif ( attribute.type === \"v2\" ) size = 2;\n\t\t\t\t\telse if ( attribute.type === \"v3\" ) size = 3;\n\t\t\t\t\telse if ( attribute.type === \"v4\" ) size = 4;\n\t\t\t\t\telse if ( attribute.type === \"c\"  ) size = 3;\n\n\t\t\t\t\tattribute.size = size;\n\n\t\t\t\t\tattribute.array = new Float32Array( nvertices * size );\n\n\t\t\t\t\tattribute.buffer = _gl.createBuffer();\n\t\t\t\t\tattribute.buffer.belongsToAttribute = a;\n\n\t\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.__webglCustomAttributesList.push( attribute );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tfunction initParticleBuffers ( geometry, object ) {\n\n\t\tvar nvertices = geometry.vertices.length;\n\n\t\tgeometry.__vertexArray = new Float32Array( nvertices * 3 );\n\t\tgeometry.__colorArray = new Float32Array( nvertices * 3 );\n\n\t\tgeometry.__sortArray = [];\n\n\t\tgeometry.__webglParticleCount = nvertices;\n\n\t\tinitCustomAttributes ( geometry, object );\n\n\t};\n\n\tfunction initLineBuffers ( geometry, object ) {\n\n\t\tvar nvertices = geometry.vertices.length;\n\n\t\tgeometry.__vertexArray = new Float32Array( nvertices * 3 );\n\t\tgeometry.__colorArray = new Float32Array( nvertices * 3 );\n\t\tgeometry.__lineDistanceArray = new Float32Array( nvertices * 1 );\n\n\t\tgeometry.__webglLineCount = nvertices;\n\n\t\tinitCustomAttributes ( geometry, object );\n\n\t};\n\n\tfunction initMeshBuffers ( geometryGroup, object ) {\n\n\t\tvar geometry = object.geometry,\n\t\t\tfaces3 = geometryGroup.faces3,\n\n\t\t\tnvertices = faces3.length * 3,\n\t\t\tntris     = faces3.length * 1,\n\t\t\tnlines    = faces3.length * 3,\n\n\t\t\tmaterial = getBufferMaterial( object, geometryGroup ),\n\n\t\t\tuvType = bufferGuessUVType( material ),\n\t\t\tnormalType = bufferGuessNormalType( material ),\n\t\t\tvertexColorType = bufferGuessVertexColorType( material );\n\n\t\t// console.log( \"uvType\", uvType, \"normalType\", normalType, \"vertexColorType\", vertexColorType, object, geometryGroup, material );\n\n\t\tgeometryGroup.__vertexArray = new Float32Array( nvertices * 3 );\n\n\t\tif ( normalType ) {\n\n\t\t\tgeometryGroup.__normalArray = new Float32Array( nvertices * 3 );\n\n\t\t}\n\n\t\tif ( geometry.hasTangents ) {\n\n\t\t\tgeometryGroup.__tangentArray = new Float32Array( nvertices * 4 );\n\n\t\t}\n\n\t\tif ( vertexColorType ) {\n\n\t\t\tgeometryGroup.__colorArray = new Float32Array( nvertices * 3 );\n\n\t\t}\n\n\t\tif ( uvType ) {\n\n\t\t\tif ( geometry.faceVertexUvs.length > 0 ) {\n\n\t\t\t\tgeometryGroup.__uvArray = new Float32Array( nvertices * 2 );\n\n\t\t\t}\n\n\t\t\tif ( geometry.faceVertexUvs.length > 1 ) {\n\n\t\t\t\tgeometryGroup.__uv2Array = new Float32Array( nvertices * 2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( object.geometry.skinWeights.length && object.geometry.skinIndices.length ) {\n\n\t\t\tgeometryGroup.__skinIndexArray = new Float32Array( nvertices * 4 );\n\t\t\tgeometryGroup.__skinWeightArray = new Float32Array( nvertices * 4 );\n\n\t\t}\n\n\t\tgeometryGroup.__faceArray = new Uint16Array( ntris * 3 );\n\t\tgeometryGroup.__lineArray = new Uint16Array( nlines * 2 );\n\n\t\tvar m, ml;\n\n\t\tif ( geometryGroup.numMorphTargets ) {\n\n\t\t\tgeometryGroup.__morphTargetsArrays = [];\n\n\t\t\tfor ( m = 0, ml = geometryGroup.numMorphTargets; m < ml; m ++ ) {\n\n\t\t\t\tgeometryGroup.__morphTargetsArrays.push( new Float32Array( nvertices * 3 ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( geometryGroup.numMorphNormals ) {\n\n\t\t\tgeometryGroup.__morphNormalsArrays = [];\n\n\t\t\tfor ( m = 0, ml = geometryGroup.numMorphNormals; m < ml; m ++ ) {\n\n\t\t\t\tgeometryGroup.__morphNormalsArrays.push( new Float32Array( nvertices * 3 ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometryGroup.__webglFaceCount = ntris * 3;\n\t\tgeometryGroup.__webglLineCount = nlines * 2;\n\n\n\t\t// custom attributes\n\n\t\tif ( material.attributes ) {\n\n\t\t\tif ( geometryGroup.__webglCustomAttributesList === undefined ) {\n\n\t\t\t\tgeometryGroup.__webglCustomAttributesList = [];\n\n\t\t\t}\n\n\t\t\tfor ( var a in material.attributes ) {\n\n\t\t\t\t// Do a shallow copy of the attribute object so different geometryGroup chunks use different\n\t\t\t\t// attribute buffers which are correctly indexed in the setMeshBuffers function\n\n\t\t\t\tvar originalAttribute = material.attributes[ a ];\n\n\t\t\t\tvar attribute = {};\n\n\t\t\t\tfor ( var property in originalAttribute ) {\n\n\t\t\t\t\tattribute[ property ] = originalAttribute[ property ];\n\n\t\t\t\t}\n\n\t\t\t\tif ( !attribute.__webglInitialized || attribute.createUniqueBuffers ) {\n\n\t\t\t\t\tattribute.__webglInitialized = true;\n\n\t\t\t\t\tvar size = 1;\t\t// \"f\" and \"i\"\n\n\t\t\t\t\tif( attribute.type === \"v2\" ) size = 2;\n\t\t\t\t\telse if( attribute.type === \"v3\" ) size = 3;\n\t\t\t\t\telse if( attribute.type === \"v4\" ) size = 4;\n\t\t\t\t\telse if( attribute.type === \"c\"  ) size = 3;\n\n\t\t\t\t\tattribute.size = size;\n\n\t\t\t\t\tattribute.array = new Float32Array( nvertices * size );\n\n\t\t\t\t\tattribute.buffer = _gl.createBuffer();\n\t\t\t\t\tattribute.buffer.belongsToAttribute = a;\n\n\t\t\t\t\toriginalAttribute.needsUpdate = true;\n\t\t\t\t\tattribute.__original = originalAttribute;\n\n\t\t\t\t}\n\n\t\t\t\tgeometryGroup.__webglCustomAttributesList.push( attribute );\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometryGroup.__inittedArrays = true;\n\n\t};\n\n\tfunction getBufferMaterial( object, geometryGroup ) {\n\n\t\treturn object.material instanceof THREE.MeshFaceMaterial\n\t\t\t? object.material.materials[ geometryGroup.materialIndex ]\n\t\t\t: object.material;\n\n\t};\n\n\tfunction materialNeedsSmoothNormals ( material ) {\n\n\t\treturn material && material.shading !== undefined && material.shading === THREE.SmoothShading;\n\n\t};\n\n\tfunction bufferGuessNormalType ( material ) {\n\n\t\t// only MeshBasicMaterial and MeshDepthMaterial don't need normals\n\n\t\tif ( ( material instanceof THREE.MeshBasicMaterial && !material.envMap ) || material instanceof THREE.MeshDepthMaterial ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\tif ( materialNeedsSmoothNormals( material ) ) {\n\n\t\t\treturn THREE.SmoothShading;\n\n\t\t} else {\n\n\t\t\treturn THREE.FlatShading;\n\n\t\t}\n\n\t};\n\n\tfunction bufferGuessVertexColorType( material ) {\n\n\t\tif ( material.vertexColors ) {\n\n\t\t\treturn material.vertexColors;\n\n\t\t}\n\n\t\treturn false;\n\n\t};\n\n\tfunction bufferGuessUVType( material ) {\n\n\t\t// material must use some texture to require uvs\n\n\t\tif ( material.map ||\n\t\t     material.lightMap ||\n\t\t     material.bumpMap ||\n\t\t     material.normalMap ||\n\t\t     material.specularMap ||\n\t\t     material instanceof THREE.ShaderMaterial ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t};\n\n\t//\n\n\tfunction initDirectBuffers( geometry ) {\n\n\t\tvar a, attribute, type;\n\n\t\tfor ( a in geometry.attributes ) {\n\n\t\t\tif ( a === \"index\" ) {\n\n\t\t\t\ttype = _gl.ELEMENT_ARRAY_BUFFER;\n\n\t\t\t} else {\n\n\t\t\t\ttype = _gl.ARRAY_BUFFER;\n\n\t\t\t}\n\n\t\t\tattribute = geometry.attributes[ a ];\n\n\t\t\tif ( attribute.numItems === undefined ) {\n\n\t\t\t\tattribute.numItems = attribute.array.length;\n\n\t\t\t}\n\n\t\t\tattribute.buffer = _gl.createBuffer();\n\n\t\t\t_gl.bindBuffer( type, attribute.buffer );\n\t\t\t_gl.bufferData( type, attribute.array, _gl.STATIC_DRAW );\n\n\t\t}\n\n\t};\n\n\t// Buffer setting\n\n\tfunction setParticleBuffers ( geometry, hint, object ) {\n\n\t\tvar v, c, vertex, offset, index, color,\n\n\t\tvertices = geometry.vertices,\n\t\tvl = vertices.length,\n\n\t\tcolors = geometry.colors,\n\t\tcl = colors.length,\n\n\t\tvertexArray = geometry.__vertexArray,\n\t\tcolorArray = geometry.__colorArray,\n\n\t\tsortArray = geometry.__sortArray,\n\n\t\tdirtyVertices = geometry.verticesNeedUpdate,\n\t\tdirtyElements = geometry.elementsNeedUpdate,\n\t\tdirtyColors = geometry.colorsNeedUpdate,\n\n\t\tcustomAttributes = geometry.__webglCustomAttributesList,\n\t\ti, il,\n\t\ta, ca, cal, value,\n\t\tcustomAttribute;\n\n\t\tif ( object.sortParticles ) {\n\n\t\t\t_projScreenMatrixPS.copy( _projScreenMatrix );\n\t\t\t_projScreenMatrixPS.multiply( object.matrixWorld );\n\n\t\t\tfor ( v = 0; v < vl; v ++ ) {\n\n\t\t\t\tvertex = vertices[ v ];\n\n\t\t\t\t_vector3.copy( vertex );\n\t\t\t\t_vector3.applyProjection( _projScreenMatrixPS );\n\n\t\t\t\tsortArray[ v ] = [ _vector3.z, v ];\n\n\t\t\t}\n\n\t\t\tsortArray.sort( numericalSort );\n\n\t\t\tfor ( v = 0; v < vl; v ++ ) {\n\n\t\t\t\tvertex = vertices[ sortArray[v][1] ];\n\n\t\t\t\toffset = v * 3;\n\n\t\t\t\tvertexArray[ offset ]     = vertex.x;\n\t\t\t\tvertexArray[ offset + 1 ] = vertex.y;\n\t\t\t\tvertexArray[ offset + 2 ] = vertex.z;\n\n\t\t\t}\n\n\t\t\tfor ( c = 0; c < cl; c ++ ) {\n\n\t\t\t\toffset = c * 3;\n\n\t\t\t\tcolor = colors[ sortArray[c][1] ];\n\n\t\t\t\tcolorArray[ offset ]     = color.r;\n\t\t\t\tcolorArray[ offset + 1 ] = color.g;\n\t\t\t\tcolorArray[ offset + 2 ] = color.b;\n\n\t\t\t}\n\n\t\t\tif ( customAttributes ) {\n\n\t\t\t\tfor ( i = 0, il = customAttributes.length; i < il; i ++ ) {\n\n\t\t\t\t\tcustomAttribute = customAttributes[ i ];\n\n\t\t\t\t\tif ( ! ( customAttribute.boundTo === undefined || customAttribute.boundTo === \"vertices\" ) ) continue;\n\n\t\t\t\t\toffset = 0;\n\n\t\t\t\t\tcal = customAttribute.value.length;\n\n\t\t\t\t\tif ( customAttribute.size === 1 ) {\n\n\t\t\t\t\t\tfor ( ca = 0; ca < cal; ca ++ ) {\n\n\t\t\t\t\t\t\tindex = sortArray[ ca ][ 1 ];\n\n\t\t\t\t\t\t\tcustomAttribute.array[ ca ] = customAttribute.value[ index ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( customAttribute.size === 2 ) {\n\n\t\t\t\t\t\tfor ( ca = 0; ca < cal; ca ++ ) {\n\n\t\t\t\t\t\t\tindex = sortArray[ ca ][ 1 ];\n\n\t\t\t\t\t\t\tvalue = customAttribute.value[ index ];\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset ] \t= value.x;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset + 1 ] = value.y;\n\n\t\t\t\t\t\t\toffset += 2;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( customAttribute.size === 3 ) {\n\n\t\t\t\t\t\tif ( customAttribute.type === \"c\" ) {\n\n\t\t\t\t\t\t\tfor ( ca = 0; ca < cal; ca ++ ) {\n\n\t\t\t\t\t\t\t\tindex = sortArray[ ca ][ 1 ];\n\n\t\t\t\t\t\t\t\tvalue = customAttribute.value[ index ];\n\n\t\t\t\t\t\t\t\tcustomAttribute.array[ offset ]     = value.r;\n\t\t\t\t\t\t\t\tcustomAttribute.array[ offset + 1 ] = value.g;\n\t\t\t\t\t\t\t\tcustomAttribute.array[ offset + 2 ] = value.b;\n\n\t\t\t\t\t\t\t\toffset += 3;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tfor ( ca = 0; ca < cal; ca ++ ) {\n\n\t\t\t\t\t\t\t\tindex = sortArray[ ca ][ 1 ];\n\n\t\t\t\t\t\t\t\tvalue = customAttribute.value[ index ];\n\n\t\t\t\t\t\t\t\tcustomAttribute.array[ offset ] \t= value.x;\n\t\t\t\t\t\t\t\tcustomAttribute.array[ offset + 1 ] = value.y;\n\t\t\t\t\t\t\t\tcustomAttribute.array[ offset + 2 ] = value.z;\n\n\t\t\t\t\t\t\t\toffset += 3;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( customAttribute.size === 4 ) {\n\n\t\t\t\t\t\tfor ( ca = 0; ca < cal; ca ++ ) {\n\n\t\t\t\t\t\t\tindex = sortArray[ ca ][ 1 ];\n\n\t\t\t\t\t\t\tvalue = customAttribute.value[ index ];\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset ]      = value.x;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset + 1  ] = value.y;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset + 2  ] = value.z;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset + 3  ] = value.w;\n\n\t\t\t\t\t\t\toffset += 4;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( dirtyVertices ) {\n\n\t\t\t\tfor ( v = 0; v < vl; v ++ ) {\n\n\t\t\t\t\tvertex = vertices[ v ];\n\n\t\t\t\t\toffset = v * 3;\n\n\t\t\t\t\tvertexArray[ offset ]     = vertex.x;\n\t\t\t\t\tvertexArray[ offset + 1 ] = vertex.y;\n\t\t\t\t\tvertexArray[ offset + 2 ] = vertex.z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( dirtyColors ) {\n\n\t\t\t\tfor ( c = 0; c < cl; c ++ ) {\n\n\t\t\t\t\tcolor = colors[ c ];\n\n\t\t\t\t\toffset = c * 3;\n\n\t\t\t\t\tcolorArray[ offset ]     = color.r;\n\t\t\t\t\tcolorArray[ offset + 1 ] = color.g;\n\t\t\t\t\tcolorArray[ offset + 2 ] = color.b;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( customAttributes ) {\n\n\t\t\t\tfor ( i = 0, il = customAttributes.length; i < il; i ++ ) {\n\n\t\t\t\t\tcustomAttribute = customAttributes[ i ];\n\n\t\t\t\t\tif ( customAttribute.needsUpdate &&\n\t\t\t\t\t\t ( customAttribute.boundTo === undefined ||\n\t\t\t\t\t\t   customAttribute.boundTo === \"vertices\") ) {\n\n\t\t\t\t\t\tcal = customAttribute.value.length;\n\n\t\t\t\t\t\toffset = 0;\n\n\t\t\t\t\t\tif ( customAttribute.size === 1 ) {\n\n\t\t\t\t\t\t\tfor ( ca = 0; ca < cal; ca ++ ) {\n\n\t\t\t\t\t\t\t\tcustomAttribute.array[ ca ] = customAttribute.value[ ca ];\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if ( customAttribute.size === 2 ) {\n\n\t\t\t\t\t\t\tfor ( ca = 0; ca < cal; ca ++ ) {\n\n\t\t\t\t\t\t\t\tvalue = customAttribute.value[ ca ];\n\n\t\t\t\t\t\t\t\tcustomAttribute.array[ offset ] \t= value.x;\n\t\t\t\t\t\t\t\tcustomAttribute.array[ offset + 1 ] = value.y;\n\n\t\t\t\t\t\t\t\toffset += 2;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if ( customAttribute.size === 3 ) {\n\n\t\t\t\t\t\t\tif ( customAttribute.type === \"c\" ) {\n\n\t\t\t\t\t\t\t\tfor ( ca = 0; ca < cal; ca ++ ) {\n\n\t\t\t\t\t\t\t\t\tvalue = customAttribute.value[ ca ];\n\n\t\t\t\t\t\t\t\t\tcustomAttribute.array[ offset ] \t= value.r;\n\t\t\t\t\t\t\t\t\tcustomAttribute.array[ offset + 1 ] = value.g;\n\t\t\t\t\t\t\t\t\tcustomAttribute.array[ offset + 2 ] = value.b;\n\n\t\t\t\t\t\t\t\t\toffset += 3;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tfor ( ca = 0; ca < cal; ca ++ ) {\n\n\t\t\t\t\t\t\t\t\tvalue = customAttribute.value[ ca ];\n\n\t\t\t\t\t\t\t\t\tcustomAttribute.array[ offset ] \t= value.x;\n\t\t\t\t\t\t\t\t\tcustomAttribute.array[ offset + 1 ] = value.y;\n\t\t\t\t\t\t\t\t\tcustomAttribute.array[ offset + 2 ] = value.z;\n\n\t\t\t\t\t\t\t\t\toffset += 3;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if ( customAttribute.size === 4 ) {\n\n\t\t\t\t\t\t\tfor ( ca = 0; ca < cal; ca ++ ) {\n\n\t\t\t\t\t\t\t\tvalue = customAttribute.value[ ca ];\n\n\t\t\t\t\t\t\t\tcustomAttribute.array[ offset ]      = value.x;\n\t\t\t\t\t\t\t\tcustomAttribute.array[ offset + 1  ] = value.y;\n\t\t\t\t\t\t\t\tcustomAttribute.array[ offset + 2  ] = value.z;\n\t\t\t\t\t\t\t\tcustomAttribute.array[ offset + 3  ] = value.w;\n\n\t\t\t\t\t\t\t\toffset += 4;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( dirtyVertices || object.sortParticles ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometry.__webglVertexBuffer );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, vertexArray, hint );\n\n\t\t}\n\n\t\tif ( dirtyColors || object.sortParticles ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometry.__webglColorBuffer );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, colorArray, hint );\n\n\t\t}\n\n\t\tif ( customAttributes ) {\n\n\t\t\tfor ( i = 0, il = customAttributes.length; i < il; i ++ ) {\n\n\t\t\t\tcustomAttribute = customAttributes[ i ];\n\n\t\t\t\tif ( customAttribute.needsUpdate || object.sortParticles ) {\n\n\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, customAttribute.buffer );\n\t\t\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, customAttribute.array, hint );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t};\n\n\tfunction setLineBuffers ( geometry, hint ) {\n\n\t\tvar v, c, d, vertex, offset, color,\n\n\t\tvertices = geometry.vertices,\n\t\tcolors = geometry.colors,\n\t\tlineDistances = geometry.lineDistances,\n\n\t\tvl = vertices.length,\n\t\tcl = colors.length,\n\t\tdl = lineDistances.length,\n\n\t\tvertexArray = geometry.__vertexArray,\n\t\tcolorArray = geometry.__colorArray,\n\t\tlineDistanceArray = geometry.__lineDistanceArray,\n\n\t\tdirtyVertices = geometry.verticesNeedUpdate,\n\t\tdirtyColors = geometry.colorsNeedUpdate,\n\t\tdirtyLineDistances = geometry.lineDistancesNeedUpdate,\n\n\t\tcustomAttributes = geometry.__webglCustomAttributesList,\n\n\t\ti, il,\n\t\ta, ca, cal, value,\n\t\tcustomAttribute;\n\n\t\tif ( dirtyVertices ) {\n\n\t\t\tfor ( v = 0; v < vl; v ++ ) {\n\n\t\t\t\tvertex = vertices[ v ];\n\n\t\t\t\toffset = v * 3;\n\n\t\t\t\tvertexArray[ offset ]     = vertex.x;\n\t\t\t\tvertexArray[ offset + 1 ] = vertex.y;\n\t\t\t\tvertexArray[ offset + 2 ] = vertex.z;\n\n\t\t\t}\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometry.__webglVertexBuffer );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, vertexArray, hint );\n\n\t\t}\n\n\t\tif ( dirtyColors ) {\n\n\t\t\tfor ( c = 0; c < cl; c ++ ) {\n\n\t\t\t\tcolor = colors[ c ];\n\n\t\t\t\toffset = c * 3;\n\n\t\t\t\tcolorArray[ offset ]     = color.r;\n\t\t\t\tcolorArray[ offset + 1 ] = color.g;\n\t\t\t\tcolorArray[ offset + 2 ] = color.b;\n\n\t\t\t}\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometry.__webglColorBuffer );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, colorArray, hint );\n\n\t\t}\n\n\t\tif ( dirtyLineDistances ) {\n\n\t\t\tfor ( d = 0; d < dl; d ++ ) {\n\n\t\t\t\tlineDistanceArray[ d ] = lineDistances[ d ];\n\n\t\t\t}\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometry.__webglLineDistanceBuffer );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, lineDistanceArray, hint );\n\n\t\t}\n\n\t\tif ( customAttributes ) {\n\n\t\t\tfor ( i = 0, il = customAttributes.length; i < il; i ++ ) {\n\n\t\t\t\tcustomAttribute = customAttributes[ i ];\n\n\t\t\t\tif ( customAttribute.needsUpdate &&\n\t\t\t\t\t ( customAttribute.boundTo === undefined ||\n\t\t\t\t\t   customAttribute.boundTo === \"vertices\" ) ) {\n\n\t\t\t\t\toffset = 0;\n\n\t\t\t\t\tcal = customAttribute.value.length;\n\n\t\t\t\t\tif ( customAttribute.size === 1 ) {\n\n\t\t\t\t\t\tfor ( ca = 0; ca < cal; ca ++ ) {\n\n\t\t\t\t\t\t\tcustomAttribute.array[ ca ] = customAttribute.value[ ca ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( customAttribute.size === 2 ) {\n\n\t\t\t\t\t\tfor ( ca = 0; ca < cal; ca ++ ) {\n\n\t\t\t\t\t\t\tvalue = customAttribute.value[ ca ];\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset ] \t= value.x;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset + 1 ] = value.y;\n\n\t\t\t\t\t\t\toffset += 2;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( customAttribute.size === 3 ) {\n\n\t\t\t\t\t\tif ( customAttribute.type === \"c\" ) {\n\n\t\t\t\t\t\t\tfor ( ca = 0; ca < cal; ca ++ ) {\n\n\t\t\t\t\t\t\t\tvalue = customAttribute.value[ ca ];\n\n\t\t\t\t\t\t\t\tcustomAttribute.array[ offset ] \t= value.r;\n\t\t\t\t\t\t\t\tcustomAttribute.array[ offset + 1 ] = value.g;\n\t\t\t\t\t\t\t\tcustomAttribute.array[ offset + 2 ] = value.b;\n\n\t\t\t\t\t\t\t\toffset += 3;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tfor ( ca = 0; ca < cal; ca ++ ) {\n\n\t\t\t\t\t\t\t\tvalue = customAttribute.value[ ca ];\n\n\t\t\t\t\t\t\t\tcustomAttribute.array[ offset ] \t= value.x;\n\t\t\t\t\t\t\t\tcustomAttribute.array[ offset + 1 ] = value.y;\n\t\t\t\t\t\t\t\tcustomAttribute.array[ offset + 2 ] = value.z;\n\n\t\t\t\t\t\t\t\toffset += 3;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( customAttribute.size === 4 ) {\n\n\t\t\t\t\t\tfor ( ca = 0; ca < cal; ca ++ ) {\n\n\t\t\t\t\t\t\tvalue = customAttribute.value[ ca ];\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset ] \t = value.x;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset + 1  ] = value.y;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset + 2  ] = value.z;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset + 3  ] = value.w;\n\n\t\t\t\t\t\t\toffset += 4;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, customAttribute.buffer );\n\t\t\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, customAttribute.array, hint );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tfunction setMeshBuffers( geometryGroup, object, hint, dispose, material ) {\n\n\t\tif ( ! geometryGroup.__inittedArrays ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar normalType = bufferGuessNormalType( material ),\n\t\tvertexColorType = bufferGuessVertexColorType( material ),\n\t\tuvType = bufferGuessUVType( material ),\n\n\t\tneedsSmoothNormals = ( normalType === THREE.SmoothShading );\n\n\t\tvar f, fl, fi, face,\n\t\tvertexNormals, faceNormal, normal,\n\t\tvertexColors, faceColor,\n\t\tvertexTangents,\n\t\tuv, uv2, v1, v2, v3, v4, t1, t2, t3, t4, n1, n2, n3, n4,\n\t\tc1, c2, c3, c4,\n\t\tsw1, sw2, sw3, sw4,\n\t\tsi1, si2, si3, si4,\n\t\tsa1, sa2, sa3, sa4,\n\t\tsb1, sb2, sb3, sb4,\n\t\tm, ml, i, il,\n\t\tvn, uvi, uv2i,\n\t\tvk, vkl, vka,\n\t\tnka, chf, faceVertexNormals,\n\t\ta,\n\n\t\tvertexIndex = 0,\n\n\t\toffset = 0,\n\t\toffset_uv = 0,\n\t\toffset_uv2 = 0,\n\t\toffset_face = 0,\n\t\toffset_normal = 0,\n\t\toffset_tangent = 0,\n\t\toffset_line = 0,\n\t\toffset_color = 0,\n\t\toffset_skin = 0,\n\t\toffset_morphTarget = 0,\n\t\toffset_custom = 0,\n\t\toffset_customSrc = 0,\n\n\t\tvalue,\n\n\t\tvertexArray = geometryGroup.__vertexArray,\n\t\tuvArray = geometryGroup.__uvArray,\n\t\tuv2Array = geometryGroup.__uv2Array,\n\t\tnormalArray = geometryGroup.__normalArray,\n\t\ttangentArray = geometryGroup.__tangentArray,\n\t\tcolorArray = geometryGroup.__colorArray,\n\n\t\tskinIndexArray = geometryGroup.__skinIndexArray,\n\t\tskinWeightArray = geometryGroup.__skinWeightArray,\n\n\t\tmorphTargetsArrays = geometryGroup.__morphTargetsArrays,\n\t\tmorphNormalsArrays = geometryGroup.__morphNormalsArrays,\n\n\t\tcustomAttributes = geometryGroup.__webglCustomAttributesList,\n\t\tcustomAttribute,\n\n\t\tfaceArray = geometryGroup.__faceArray,\n\t\tlineArray = geometryGroup.__lineArray,\n\n\t\tgeometry = object.geometry, // this is shared for all chunks\n\n\t\tdirtyVertices = geometry.verticesNeedUpdate,\n\t\tdirtyElements = geometry.elementsNeedUpdate,\n\t\tdirtyUvs = geometry.uvsNeedUpdate,\n\t\tdirtyNormals = geometry.normalsNeedUpdate,\n\t\tdirtyTangents = geometry.tangentsNeedUpdate,\n\t\tdirtyColors = geometry.colorsNeedUpdate,\n\t\tdirtyMorphTargets = geometry.morphTargetsNeedUpdate,\n\n\t\tvertices = geometry.vertices,\n\t\tchunk_faces3 = geometryGroup.faces3,\n\t\tobj_faces = geometry.faces,\n\n\t\tobj_uvs  = geometry.faceVertexUvs[ 0 ],\n\t\tobj_uvs2 = geometry.faceVertexUvs[ 1 ],\n\n\t\tobj_colors = geometry.colors,\n\n\t\tobj_skinIndices = geometry.skinIndices,\n\t\tobj_skinWeights = geometry.skinWeights,\n\n\t\tmorphTargets = geometry.morphTargets,\n\t\tmorphNormals = geometry.morphNormals;\n\n\t\tif ( dirtyVertices ) {\n\n\t\t\tfor ( f = 0, fl = chunk_faces3.length; f < fl; f ++ ) {\n\n\t\t\t\tface = obj_faces[ chunk_faces3[ f ] ];\n\n\t\t\t\tv1 = vertices[ face.a ];\n\t\t\t\tv2 = vertices[ face.b ];\n\t\t\t\tv3 = vertices[ face.c ];\n\n\t\t\t\tvertexArray[ offset ]     = v1.x;\n\t\t\t\tvertexArray[ offset + 1 ] = v1.y;\n\t\t\t\tvertexArray[ offset + 2 ] = v1.z;\n\n\t\t\t\tvertexArray[ offset + 3 ] = v2.x;\n\t\t\t\tvertexArray[ offset + 4 ] = v2.y;\n\t\t\t\tvertexArray[ offset + 5 ] = v2.z;\n\n\t\t\t\tvertexArray[ offset + 6 ] = v3.x;\n\t\t\t\tvertexArray[ offset + 7 ] = v3.y;\n\t\t\t\tvertexArray[ offset + 8 ] = v3.z;\n\n\t\t\t\toffset += 9;\n\n\t\t\t}\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglVertexBuffer );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, vertexArray, hint );\n\n\t\t}\n\n\t\tif ( dirtyMorphTargets ) {\n\n\t\t\tfor ( vk = 0, vkl = morphTargets.length; vk < vkl; vk ++ ) {\n\n\t\t\t\toffset_morphTarget = 0;\n\n\t\t\t\tfor ( f = 0, fl = chunk_faces3.length; f < fl; f ++ ) {\n\n\t\t\t\t\tchf = chunk_faces3[ f ];\n\t\t\t\t\tface = obj_faces[ chf ];\n\n\t\t\t\t\t// morph positions\n\n\t\t\t\t\tv1 = morphTargets[ vk ].vertices[ face.a ];\n\t\t\t\t\tv2 = morphTargets[ vk ].vertices[ face.b ];\n\t\t\t\t\tv3 = morphTargets[ vk ].vertices[ face.c ];\n\n\t\t\t\t\tvka = morphTargetsArrays[ vk ];\n\n\t\t\t\t\tvka[ offset_morphTarget ] \t  = v1.x;\n\t\t\t\t\tvka[ offset_morphTarget + 1 ] = v1.y;\n\t\t\t\t\tvka[ offset_morphTarget + 2 ] = v1.z;\n\n\t\t\t\t\tvka[ offset_morphTarget + 3 ] = v2.x;\n\t\t\t\t\tvka[ offset_morphTarget + 4 ] = v2.y;\n\t\t\t\t\tvka[ offset_morphTarget + 5 ] = v2.z;\n\n\t\t\t\t\tvka[ offset_morphTarget + 6 ] = v3.x;\n\t\t\t\t\tvka[ offset_morphTarget + 7 ] = v3.y;\n\t\t\t\t\tvka[ offset_morphTarget + 8 ] = v3.z;\n\n\t\t\t\t\t// morph normals\n\n\t\t\t\t\tif ( material.morphNormals ) {\n\n\t\t\t\t\t\tif ( needsSmoothNormals ) {\n\n\t\t\t\t\t\t\tfaceVertexNormals = morphNormals[ vk ].vertexNormals[ chf ];\n\n\t\t\t\t\t\t\tn1 = faceVertexNormals.a;\n\t\t\t\t\t\t\tn2 = faceVertexNormals.b;\n\t\t\t\t\t\t\tn3 = faceVertexNormals.c;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tn1 = morphNormals[ vk ].faceNormals[ chf ];\n\t\t\t\t\t\t\tn2 = n1;\n\t\t\t\t\t\t\tn3 = n1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tnka = morphNormalsArrays[ vk ];\n\n\t\t\t\t\t\tnka[ offset_morphTarget ] \t  = n1.x;\n\t\t\t\t\t\tnka[ offset_morphTarget + 1 ] = n1.y;\n\t\t\t\t\t\tnka[ offset_morphTarget + 2 ] = n1.z;\n\n\t\t\t\t\t\tnka[ offset_morphTarget + 3 ] = n2.x;\n\t\t\t\t\t\tnka[ offset_morphTarget + 4 ] = n2.y;\n\t\t\t\t\t\tnka[ offset_morphTarget + 5 ] = n2.z;\n\n\t\t\t\t\t\tnka[ offset_morphTarget + 6 ] = n3.x;\n\t\t\t\t\t\tnka[ offset_morphTarget + 7 ] = n3.y;\n\t\t\t\t\t\tnka[ offset_morphTarget + 8 ] = n3.z;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//\n\n\t\t\t\t\toffset_morphTarget += 9;\n\n\t\t\t\t}\n\n\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglMorphTargetsBuffers[ vk ] );\n\t\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, morphTargetsArrays[ vk ], hint );\n\n\t\t\t\tif ( material.morphNormals ) {\n\n\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglMorphNormalsBuffers[ vk ] );\n\t\t\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, morphNormalsArrays[ vk ], hint );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( obj_skinWeights.length ) {\n\n\t\t\tfor ( f = 0, fl = chunk_faces3.length; f < fl; f ++ ) {\n\n\t\t\t\tface = obj_faces[ chunk_faces3[ f ]\t];\n\n\t\t\t\t// weights\n\n\t\t\t\tsw1 = obj_skinWeights[ face.a ];\n\t\t\t\tsw2 = obj_skinWeights[ face.b ];\n\t\t\t\tsw3 = obj_skinWeights[ face.c ];\n\n\t\t\t\tskinWeightArray[ offset_skin ]     = sw1.x;\n\t\t\t\tskinWeightArray[ offset_skin + 1 ] = sw1.y;\n\t\t\t\tskinWeightArray[ offset_skin + 2 ] = sw1.z;\n\t\t\t\tskinWeightArray[ offset_skin + 3 ] = sw1.w;\n\n\t\t\t\tskinWeightArray[ offset_skin + 4 ] = sw2.x;\n\t\t\t\tskinWeightArray[ offset_skin + 5 ] = sw2.y;\n\t\t\t\tskinWeightArray[ offset_skin + 6 ] = sw2.z;\n\t\t\t\tskinWeightArray[ offset_skin + 7 ] = sw2.w;\n\n\t\t\t\tskinWeightArray[ offset_skin + 8 ]  = sw3.x;\n\t\t\t\tskinWeightArray[ offset_skin + 9 ]  = sw3.y;\n\t\t\t\tskinWeightArray[ offset_skin + 10 ] = sw3.z;\n\t\t\t\tskinWeightArray[ offset_skin + 11 ] = sw3.w;\n\n\t\t\t\t// indices\n\n\t\t\t\tsi1 = obj_skinIndices[ face.a ];\n\t\t\t\tsi2 = obj_skinIndices[ face.b ];\n\t\t\t\tsi3 = obj_skinIndices[ face.c ];\n\n\t\t\t\tskinIndexArray[ offset_skin ]     = si1.x;\n\t\t\t\tskinIndexArray[ offset_skin + 1 ] = si1.y;\n\t\t\t\tskinIndexArray[ offset_skin + 2 ] = si1.z;\n\t\t\t\tskinIndexArray[ offset_skin + 3 ] = si1.w;\n\n\t\t\t\tskinIndexArray[ offset_skin + 4 ] = si2.x;\n\t\t\t\tskinIndexArray[ offset_skin + 5 ] = si2.y;\n\t\t\t\tskinIndexArray[ offset_skin + 6 ] = si2.z;\n\t\t\t\tskinIndexArray[ offset_skin + 7 ] = si2.w;\n\n\t\t\t\tskinIndexArray[ offset_skin + 8 ]  = si3.x;\n\t\t\t\tskinIndexArray[ offset_skin + 9 ]  = si3.y;\n\t\t\t\tskinIndexArray[ offset_skin + 10 ] = si3.z;\n\t\t\t\tskinIndexArray[ offset_skin + 11 ] = si3.w;\n\n\t\t\t\toffset_skin += 12;\n\n\t\t\t}\n\n\t\t\tif ( offset_skin > 0 ) {\n\n\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglSkinIndicesBuffer );\n\t\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, skinIndexArray, hint );\n\n\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglSkinWeightsBuffer );\n\t\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, skinWeightArray, hint );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( dirtyColors && vertexColorType ) {\n\n\t\t\tfor ( f = 0, fl = chunk_faces3.length; f < fl; f ++ ) {\n\n\t\t\t\tface = obj_faces[ chunk_faces3[ f ]\t];\n\n\t\t\t\tvertexColors = face.vertexColors;\n\t\t\t\tfaceColor = face.color;\n\n\t\t\t\tif ( vertexColors.length === 3 && vertexColorType === THREE.VertexColors ) {\n\n\t\t\t\t\tc1 = vertexColors[ 0 ];\n\t\t\t\t\tc2 = vertexColors[ 1 ];\n\t\t\t\t\tc3 = vertexColors[ 2 ];\n\n\t\t\t\t} else {\n\n\t\t\t\t\tc1 = faceColor;\n\t\t\t\t\tc2 = faceColor;\n\t\t\t\t\tc3 = faceColor;\n\n\t\t\t\t}\n\n\t\t\t\tcolorArray[ offset_color ]     = c1.r;\n\t\t\t\tcolorArray[ offset_color + 1 ] = c1.g;\n\t\t\t\tcolorArray[ offset_color + 2 ] = c1.b;\n\n\t\t\t\tcolorArray[ offset_color + 3 ] = c2.r;\n\t\t\t\tcolorArray[ offset_color + 4 ] = c2.g;\n\t\t\t\tcolorArray[ offset_color + 5 ] = c2.b;\n\n\t\t\t\tcolorArray[ offset_color + 6 ] = c3.r;\n\t\t\t\tcolorArray[ offset_color + 7 ] = c3.g;\n\t\t\t\tcolorArray[ offset_color + 8 ] = c3.b;\n\n\t\t\t\toffset_color += 9;\n\n\t\t\t}\n\n\t\t\tif ( offset_color > 0 ) {\n\n\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglColorBuffer );\n\t\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, colorArray, hint );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( dirtyTangents && geometry.hasTangents ) {\n\n\t\t\tfor ( f = 0, fl = chunk_faces3.length; f < fl; f ++ ) {\n\n\t\t\t\tface = obj_faces[ chunk_faces3[ f ]\t];\n\n\t\t\t\tvertexTangents = face.vertexTangents;\n\n\t\t\t\tt1 = vertexTangents[ 0 ];\n\t\t\t\tt2 = vertexTangents[ 1 ];\n\t\t\t\tt3 = vertexTangents[ 2 ];\n\n\t\t\t\ttangentArray[ offset_tangent ]     = t1.x;\n\t\t\t\ttangentArray[ offset_tangent + 1 ] = t1.y;\n\t\t\t\ttangentArray[ offset_tangent + 2 ] = t1.z;\n\t\t\t\ttangentArray[ offset_tangent + 3 ] = t1.w;\n\n\t\t\t\ttangentArray[ offset_tangent + 4 ] = t2.x;\n\t\t\t\ttangentArray[ offset_tangent + 5 ] = t2.y;\n\t\t\t\ttangentArray[ offset_tangent + 6 ] = t2.z;\n\t\t\t\ttangentArray[ offset_tangent + 7 ] = t2.w;\n\n\t\t\t\ttangentArray[ offset_tangent + 8 ]  = t3.x;\n\t\t\t\ttangentArray[ offset_tangent + 9 ]  = t3.y;\n\t\t\t\ttangentArray[ offset_tangent + 10 ] = t3.z;\n\t\t\t\ttangentArray[ offset_tangent + 11 ] = t3.w;\n\n\t\t\t\toffset_tangent += 12;\n\n\t\t\t}\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglTangentBuffer );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, tangentArray, hint );\n\n\t\t}\n\n\t\tif ( dirtyNormals && normalType ) {\n\n\t\t\tfor ( f = 0, fl = chunk_faces3.length; f < fl; f ++ ) {\n\n\t\t\t\tface = obj_faces[ chunk_faces3[ f ]\t];\n\n\t\t\t\tvertexNormals = face.vertexNormals;\n\t\t\t\tfaceNormal = face.normal;\n\n\t\t\t\tif ( vertexNormals.length === 3 && needsSmoothNormals ) {\n\n\t\t\t\t\tfor ( i = 0; i < 3; i ++ ) {\n\n\t\t\t\t\t\tvn = vertexNormals[ i ];\n\n\t\t\t\t\t\tnormalArray[ offset_normal ]     = vn.x;\n\t\t\t\t\t\tnormalArray[ offset_normal + 1 ] = vn.y;\n\t\t\t\t\t\tnormalArray[ offset_normal + 2 ] = vn.z;\n\n\t\t\t\t\t\toffset_normal += 3;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( i = 0; i < 3; i ++ ) {\n\n\t\t\t\t\t\tnormalArray[ offset_normal ]     = faceNormal.x;\n\t\t\t\t\t\tnormalArray[ offset_normal + 1 ] = faceNormal.y;\n\t\t\t\t\t\tnormalArray[ offset_normal + 2 ] = faceNormal.z;\n\n\t\t\t\t\t\toffset_normal += 3;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglNormalBuffer );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, normalArray, hint );\n\n\t\t}\n\n\t\tif ( dirtyUvs && obj_uvs && uvType ) {\n\n\t\t\tfor ( f = 0, fl = chunk_faces3.length; f < fl; f ++ ) {\n\n\t\t\t\tfi = chunk_faces3[ f ];\n\n\t\t\t\tuv = obj_uvs[ fi ];\n\n\t\t\t\tif ( uv === undefined ) continue;\n\n\t\t\t\tfor ( i = 0; i < 3; i ++ ) {\n\n\t\t\t\t\tuvi = uv[ i ];\n\n\t\t\t\t\tuvArray[ offset_uv ]     = uvi.x;\n\t\t\t\t\tuvArray[ offset_uv + 1 ] = uvi.y;\n\n\t\t\t\t\toffset_uv += 2;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( offset_uv > 0 ) {\n\n\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglUVBuffer );\n\t\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, uvArray, hint );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( dirtyUvs && obj_uvs2 && uvType ) {\n\n\t\t\tfor ( f = 0, fl = chunk_faces3.length; f < fl; f ++ ) {\n\n\t\t\t\tfi = chunk_faces3[ f ];\n\n\t\t\t\tuv2 = obj_uvs2[ fi ];\n\n\t\t\t\tif ( uv2 === undefined ) continue;\n\n\t\t\t\tfor ( i = 0; i < 3; i ++ ) {\n\n\t\t\t\t\tuv2i = uv2[ i ];\n\n\t\t\t\t\tuv2Array[ offset_uv2 ]     = uv2i.x;\n\t\t\t\t\tuv2Array[ offset_uv2 + 1 ] = uv2i.y;\n\n\t\t\t\t\toffset_uv2 += 2;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( offset_uv2 > 0 ) {\n\n\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglUV2Buffer );\n\t\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, uv2Array, hint );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( dirtyElements ) {\n\n\t\t\tfor ( f = 0, fl = chunk_faces3.length; f < fl; f ++ ) {\n\n\t\t\t\tfaceArray[ offset_face ] \t = vertexIndex;\n\t\t\t\tfaceArray[ offset_face + 1 ] = vertexIndex + 1;\n\t\t\t\tfaceArray[ offset_face + 2 ] = vertexIndex + 2;\n\n\t\t\t\toffset_face += 3;\n\n\t\t\t\tlineArray[ offset_line ]     = vertexIndex;\n\t\t\t\tlineArray[ offset_line + 1 ] = vertexIndex + 1;\n\n\t\t\t\tlineArray[ offset_line + 2 ] = vertexIndex;\n\t\t\t\tlineArray[ offset_line + 3 ] = vertexIndex + 2;\n\n\t\t\t\tlineArray[ offset_line + 4 ] = vertexIndex + 1;\n\t\t\t\tlineArray[ offset_line + 5 ] = vertexIndex + 2;\n\n\t\t\t\toffset_line += 6;\n\n\t\t\t\tvertexIndex += 3;\n\n\t\t\t}\n\n\t\t\t_gl.bindBuffer( _gl.ELEMENT_ARRAY_BUFFER, geometryGroup.__webglFaceBuffer );\n\t\t\t_gl.bufferData( _gl.ELEMENT_ARRAY_BUFFER, faceArray, hint );\n\n\t\t\t_gl.bindBuffer( _gl.ELEMENT_ARRAY_BUFFER, geometryGroup.__webglLineBuffer );\n\t\t\t_gl.bufferData( _gl.ELEMENT_ARRAY_BUFFER, lineArray, hint );\n\n\t\t}\n\n\t\tif ( customAttributes ) {\n\n\t\t\tfor ( i = 0, il = customAttributes.length; i < il; i ++ ) {\n\n\t\t\t\tcustomAttribute = customAttributes[ i ];\n\n\t\t\t\tif ( ! customAttribute.__original.needsUpdate ) continue;\n\n\t\t\t\toffset_custom = 0;\n\t\t\t\toffset_customSrc = 0;\n\n\t\t\t\tif ( customAttribute.size === 1 ) {\n\n\t\t\t\t\tif ( customAttribute.boundTo === undefined || customAttribute.boundTo === \"vertices\" ) {\n\n\t\t\t\t\t\tfor ( f = 0, fl = chunk_faces3.length; f < fl; f ++ ) {\n\n\t\t\t\t\t\t\tface = obj_faces[ chunk_faces3[ f ]\t];\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom ] \t   = customAttribute.value[ face.a ];\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 1 ] = customAttribute.value[ face.b ];\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 2 ] = customAttribute.value[ face.c ];\n\n\t\t\t\t\t\t\toffset_custom += 3;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( customAttribute.boundTo === \"faces\" ) {\n\n\t\t\t\t\t\tfor ( f = 0, fl = chunk_faces3.length; f < fl; f ++ ) {\n\n\t\t\t\t\t\t\tvalue = customAttribute.value[ chunk_faces3[ f ] ];\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom ] \t   = value;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 1 ] = value;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 2 ] = value;\n\n\t\t\t\t\t\t\toffset_custom += 3;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( customAttribute.size === 2 ) {\n\n\t\t\t\t\tif ( customAttribute.boundTo === undefined || customAttribute.boundTo === \"vertices\" ) {\n\n\t\t\t\t\t\tfor ( f = 0, fl = chunk_faces3.length; f < fl; f ++ ) {\n\n\t\t\t\t\t\t\tface = obj_faces[ chunk_faces3[ f ]\t];\n\n\t\t\t\t\t\t\tv1 = customAttribute.value[ face.a ];\n\t\t\t\t\t\t\tv2 = customAttribute.value[ face.b ];\n\t\t\t\t\t\t\tv3 = customAttribute.value[ face.c ];\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom ] \t   = v1.x;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 1 ] = v1.y;\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 2 ] = v2.x;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 3 ] = v2.y;\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 4 ] = v3.x;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 5 ] = v3.y;\n\n\t\t\t\t\t\t\toffset_custom += 6;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( customAttribute.boundTo === \"faces\" ) {\n\n\t\t\t\t\t\tfor ( f = 0, fl = chunk_faces3.length; f < fl; f ++ ) {\n\n\t\t\t\t\t\t\tvalue = customAttribute.value[ chunk_faces3[ f ] ];\n\n\t\t\t\t\t\t\tv1 = value;\n\t\t\t\t\t\t\tv2 = value;\n\t\t\t\t\t\t\tv3 = value;\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom ] \t   = v1.x;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 1 ] = v1.y;\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 2 ] = v2.x;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 3 ] = v2.y;\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 4 ] = v3.x;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 5 ] = v3.y;\n\n\t\t\t\t\t\t\toffset_custom += 6;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( customAttribute.size === 3 ) {\n\n\t\t\t\t\tvar pp;\n\n\t\t\t\t\tif ( customAttribute.type === \"c\" ) {\n\n\t\t\t\t\t\tpp = [ \"r\", \"g\", \"b\" ];\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tpp = [ \"x\", \"y\", \"z\" ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( customAttribute.boundTo === undefined || customAttribute.boundTo === \"vertices\" ) {\n\n\t\t\t\t\t\tfor ( f = 0, fl = chunk_faces3.length; f < fl; f ++ ) {\n\n\t\t\t\t\t\t\tface = obj_faces[ chunk_faces3[ f ]\t];\n\n\t\t\t\t\t\t\tv1 = customAttribute.value[ face.a ];\n\t\t\t\t\t\t\tv2 = customAttribute.value[ face.b ];\n\t\t\t\t\t\t\tv3 = customAttribute.value[ face.c ];\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom ] \t   = v1[ pp[ 0 ] ];\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 1 ] = v1[ pp[ 1 ] ];\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 2 ] = v1[ pp[ 2 ] ];\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 3 ] = v2[ pp[ 0 ] ];\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 4 ] = v2[ pp[ 1 ] ];\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 5 ] = v2[ pp[ 2 ] ];\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 6 ] = v3[ pp[ 0 ] ];\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 7 ] = v3[ pp[ 1 ] ];\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 8 ] = v3[ pp[ 2 ] ];\n\n\t\t\t\t\t\t\toffset_custom += 9;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( customAttribute.boundTo === \"faces\" ) {\n\n\t\t\t\t\t\tfor ( f = 0, fl = chunk_faces3.length; f < fl; f ++ ) {\n\n\t\t\t\t\t\t\tvalue = customAttribute.value[ chunk_faces3[ f ] ];\n\n\t\t\t\t\t\t\tv1 = value;\n\t\t\t\t\t\t\tv2 = value;\n\t\t\t\t\t\t\tv3 = value;\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom ] \t   = v1[ pp[ 0 ] ];\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 1 ] = v1[ pp[ 1 ] ];\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 2 ] = v1[ pp[ 2 ] ];\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 3 ] = v2[ pp[ 0 ] ];\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 4 ] = v2[ pp[ 1 ] ];\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 5 ] = v2[ pp[ 2 ] ];\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 6 ] = v3[ pp[ 0 ] ];\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 7 ] = v3[ pp[ 1 ] ];\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 8 ] = v3[ pp[ 2 ] ];\n\n\t\t\t\t\t\t\toffset_custom += 9;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( customAttribute.boundTo === \"faceVertices\" ) {\n\n\t\t\t\t\t\tfor ( f = 0, fl = chunk_faces3.length; f < fl; f ++ ) {\n\n\t\t\t\t\t\t\tvalue = customAttribute.value[ chunk_faces3[ f ] ];\n\n\t\t\t\t\t\t\tv1 = value[ 0 ];\n\t\t\t\t\t\t\tv2 = value[ 1 ];\n\t\t\t\t\t\t\tv3 = value[ 2 ];\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom ] \t   = v1[ pp[ 0 ] ];\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 1 ] = v1[ pp[ 1 ] ];\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 2 ] = v1[ pp[ 2 ] ];\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 3 ] = v2[ pp[ 0 ] ];\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 4 ] = v2[ pp[ 1 ] ];\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 5 ] = v2[ pp[ 2 ] ];\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 6 ] = v3[ pp[ 0 ] ];\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 7 ] = v3[ pp[ 1 ] ];\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 8 ] = v3[ pp[ 2 ] ];\n\n\t\t\t\t\t\t\toffset_custom += 9;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( customAttribute.size === 4 ) {\n\n\t\t\t\t\tif ( customAttribute.boundTo === undefined || customAttribute.boundTo === \"vertices\" ) {\n\n\t\t\t\t\t\tfor ( f = 0, fl = chunk_faces3.length; f < fl; f ++ ) {\n\n\t\t\t\t\t\t\tface = obj_faces[ chunk_faces3[ f ]\t];\n\n\t\t\t\t\t\t\tv1 = customAttribute.value[ face.a ];\n\t\t\t\t\t\t\tv2 = customAttribute.value[ face.b ];\n\t\t\t\t\t\t\tv3 = customAttribute.value[ face.c ];\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom  ] \t= v1.x;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 1  ] = v1.y;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 2  ] = v1.z;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 3  ] = v1.w;\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 4  ] = v2.x;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 5  ] = v2.y;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 6  ] = v2.z;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 7  ] = v2.w;\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 8  ] = v3.x;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 9  ] = v3.y;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 10 ] = v3.z;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 11 ] = v3.w;\n\n\t\t\t\t\t\t\toffset_custom += 12;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( customAttribute.boundTo === \"faces\" ) {\n\n\t\t\t\t\t\tfor ( f = 0, fl = chunk_faces3.length; f < fl; f ++ ) {\n\n\t\t\t\t\t\t\tvalue = customAttribute.value[ chunk_faces3[ f ] ];\n\n\t\t\t\t\t\t\tv1 = value;\n\t\t\t\t\t\t\tv2 = value;\n\t\t\t\t\t\t\tv3 = value;\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom  ] \t= v1.x;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 1  ] = v1.y;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 2  ] = v1.z;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 3  ] = v1.w;\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 4  ] = v2.x;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 5  ] = v2.y;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 6  ] = v2.z;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 7  ] = v2.w;\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 8  ] = v3.x;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 9  ] = v3.y;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 10 ] = v3.z;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 11 ] = v3.w;\n\n\t\t\t\t\t\t\toffset_custom += 12;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( customAttribute.boundTo === \"faceVertices\" ) {\n\n\t\t\t\t\t\tfor ( f = 0, fl = chunk_faces3.length; f < fl; f ++ ) {\n\n\t\t\t\t\t\t\tvalue = customAttribute.value[ chunk_faces3[ f ] ];\n\n\t\t\t\t\t\t\tv1 = value[ 0 ];\n\t\t\t\t\t\t\tv2 = value[ 1 ];\n\t\t\t\t\t\t\tv3 = value[ 2 ];\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom  ] \t= v1.x;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 1  ] = v1.y;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 2  ] = v1.z;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 3  ] = v1.w;\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 4  ] = v2.x;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 5  ] = v2.y;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 6  ] = v2.z;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 7  ] = v2.w;\n\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 8  ] = v3.x;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 9  ] = v3.y;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 10 ] = v3.z;\n\t\t\t\t\t\t\tcustomAttribute.array[ offset_custom + 11 ] = v3.w;\n\n\t\t\t\t\t\t\toffset_custom += 12;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, customAttribute.buffer );\n\t\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, customAttribute.array, hint );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( dispose ) {\n\n\t\t\tdelete geometryGroup.__inittedArrays;\n\t\t\tdelete geometryGroup.__colorArray;\n\t\t\tdelete geometryGroup.__normalArray;\n\t\t\tdelete geometryGroup.__tangentArray;\n\t\t\tdelete geometryGroup.__uvArray;\n\t\t\tdelete geometryGroup.__uv2Array;\n\t\t\tdelete geometryGroup.__faceArray;\n\t\t\tdelete geometryGroup.__vertexArray;\n\t\t\tdelete geometryGroup.__lineArray;\n\t\t\tdelete geometryGroup.__skinIndexArray;\n\t\t\tdelete geometryGroup.__skinWeightArray;\n\n\t\t}\n\n\t};\n\n\tfunction setDirectBuffers ( geometry, hint, dispose ) {\n\n\t\tvar attributes = geometry.attributes;\n\n\t\tvar attributeName, attributeItem;\n\n\t\tfor ( attributeName in attributes ) {\n\n\t\t\tattributeItem = attributes[ attributeName ];\n\n\t\t\tif ( attributeItem.needsUpdate ) {\n\n\t\t\t\tif ( attributeName === 'index' ) {\n\n\t\t\t\t\t_gl.bindBuffer( _gl.ELEMENT_ARRAY_BUFFER, attributeItem.buffer );\n\t\t\t\t\t_gl.bufferData( _gl.ELEMENT_ARRAY_BUFFER, attributeItem.array, hint );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, attributeItem.buffer );\n\t\t\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, attributeItem.array, hint );\n\n\t\t\t\t}\n\n\t\t\t\tattributeItem.needsUpdate = false;\n\n\t\t\t}\n\n\t\t\tif ( dispose && ! attributeItem.dynamic ) {\n\n\t\t\t\tattributeItem.array = null;\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\t// Buffer rendering\n\n\tthis.renderBufferImmediate = function ( object, program, material ) {\n\n\t\tif ( object.hasPositions && ! object.__webglVertexBuffer ) object.__webglVertexBuffer = _gl.createBuffer();\n\t\tif ( object.hasNormals && ! object.__webglNormalBuffer ) object.__webglNormalBuffer = _gl.createBuffer();\n\t\tif ( object.hasUvs && ! object.__webglUvBuffer ) object.__webglUvBuffer = _gl.createBuffer();\n\t\tif ( object.hasColors && ! object.__webglColorBuffer ) object.__webglColorBuffer = _gl.createBuffer();\n\n\t\tif ( object.hasPositions ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, object.__webglVertexBuffer );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.positionArray, _gl.DYNAMIC_DRAW );\n\t\t\t_gl.enableVertexAttribArray( program.attributes.position );\n\t\t\t_gl.vertexAttribPointer( program.attributes.position, 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasNormals ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, object.__webglNormalBuffer );\n\n\t\t\tif ( material.shading === THREE.FlatShading ) {\n\n\t\t\t\tvar nx, ny, nz,\n\t\t\t\t\tnax, nbx, ncx, nay, nby, ncy, naz, nbz, ncz,\n\t\t\t\t\tnormalArray,\n\t\t\t\t\ti, il = object.count * 3;\n\n\t\t\t\tfor( i = 0; i < il; i += 9 ) {\n\n\t\t\t\t\tnormalArray = object.normalArray;\n\n\t\t\t\t\tnax  = normalArray[ i ];\n\t\t\t\t\tnay  = normalArray[ i + 1 ];\n\t\t\t\t\tnaz  = normalArray[ i + 2 ];\n\n\t\t\t\t\tnbx  = normalArray[ i + 3 ];\n\t\t\t\t\tnby  = normalArray[ i + 4 ];\n\t\t\t\t\tnbz  = normalArray[ i + 5 ];\n\n\t\t\t\t\tncx  = normalArray[ i + 6 ];\n\t\t\t\t\tncy  = normalArray[ i + 7 ];\n\t\t\t\t\tncz  = normalArray[ i + 8 ];\n\n\t\t\t\t\tnx = ( nax + nbx + ncx ) / 3;\n\t\t\t\t\tny = ( nay + nby + ncy ) / 3;\n\t\t\t\t\tnz = ( naz + nbz + ncz ) / 3;\n\n\t\t\t\t\tnormalArray[ i ] \t = nx;\n\t\t\t\t\tnormalArray[ i + 1 ] = ny;\n\t\t\t\t\tnormalArray[ i + 2 ] = nz;\n\n\t\t\t\t\tnormalArray[ i + 3 ] = nx;\n\t\t\t\t\tnormalArray[ i + 4 ] = ny;\n\t\t\t\t\tnormalArray[ i + 5 ] = nz;\n\n\t\t\t\t\tnormalArray[ i + 6 ] = nx;\n\t\t\t\t\tnormalArray[ i + 7 ] = ny;\n\t\t\t\t\tnormalArray[ i + 8 ] = nz;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.normalArray, _gl.DYNAMIC_DRAW );\n\t\t\t_gl.enableVertexAttribArray( program.attributes.normal );\n\t\t\t_gl.vertexAttribPointer( program.attributes.normal, 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasUvs && material.map ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, object.__webglUvBuffer );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.uvArray, _gl.DYNAMIC_DRAW );\n\t\t\t_gl.enableVertexAttribArray( program.attributes.uv );\n\t\t\t_gl.vertexAttribPointer( program.attributes.uv, 2, _gl.FLOAT, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasColors && material.vertexColors !== THREE.NoColors ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, object.__webglColorBuffer );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.colorArray, _gl.DYNAMIC_DRAW );\n\t\t\t_gl.enableVertexAttribArray( program.attributes.color );\n\t\t\t_gl.vertexAttribPointer( program.attributes.color, 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t}\n\n\t\t_gl.drawArrays( _gl.TRIANGLES, 0, object.count );\n\n\t\tobject.count = 0;\n\n\t};\n\n\tthis.renderBufferDirect = function ( camera, lights, fog, material, geometry, object ) {\n\n\t\tif ( material.visible === false ) return;\n\n\t\tvar linewidth, a, attribute;\n\t\tvar attributeItem, attributeName, attributePointer, attributeSize;\n\n\t\tvar program = setProgram( camera, lights, fog, material, object );\n\n\t\tvar programAttributes = program.attributes;\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\tvar updateBuffers = false,\n\t\t\twireframeBit = material.wireframe ? 1 : 0,\n\t\t\tgeometryHash = ( geometry.id * 0xffffff ) + ( program.id * 2 ) + wireframeBit;\n\n\t\tif ( geometryHash !== _currentGeometryGroupHash ) {\n\n\t\t\t_currentGeometryGroupHash = geometryHash;\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\tif ( updateBuffers ) {\n\n\t\t\tdisableAttributes();\n\n\t\t}\n\n\t\t// render mesh\n\n\t\tif ( object instanceof THREE.Mesh ) {\n\n\t\t\tvar index = geometryAttributes[ \"index\" ];\n\n\t\t\t// indexed triangles\n\n\t\t\tif ( index ) {\n\n\t\t\t\tvar offsets = geometry.offsets;\n\n\t\t\t\t// if there is more than 1 chunk\n\t\t\t\t// must set attribute pointers to use new offsets for each chunk\n\t\t\t\t// even if geometry and materials didn't change\n\n\t\t\t\tif ( offsets.length > 1 ) updateBuffers = true;\n\n\t\t\t\tfor ( var i = 0, il = offsets.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar startIndex = offsets[ i ].index;\n\n\t\t\t\t\tif ( updateBuffers ) {\n\n\t\t\t\t\t\tfor ( attributeName in programAttributes ) {\n\n\t\t\t\t\t\t\tattributePointer = programAttributes[ attributeName ];\n\t\t\t\t\t\t\tattributeItem = geometryAttributes[ attributeName ];\n\n\t\t\t\t\t\t\tif ( attributePointer >= 0 ) {\n\n\t\t\t\t\t\t\t\tif ( attributeItem ) {\n\n\t\t\t\t\t\t\t\t\tattributeSize = attributeItem.itemSize;\n\t\t\t\t\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, attributeItem.buffer );\n\t\t\t\t\t\t\t\t\tenableAttribute( attributePointer );\n\t\t\t\t\t\t\t\t\t_gl.vertexAttribPointer( attributePointer, attributeSize, _gl.FLOAT, false, 0, startIndex * attributeSize * 4 ); // 4 bytes per Float32\n\n\t\t\t\t\t\t\t\t} else if ( material.defaultAttributeValues ) {\n\n\t\t\t\t\t\t\t\t\tif ( material.defaultAttributeValues[ attributeName ].length === 2 ) {\n\n\t\t\t\t\t\t\t\t\t\t_gl.vertexAttrib2fv( attributePointer, material.defaultAttributeValues[ attributeName ] );\n\n\t\t\t\t\t\t\t\t\t} else if ( material.defaultAttributeValues[ attributeName ].length === 3 ) {\n\n\t\t\t\t\t\t\t\t\t\t_gl.vertexAttrib3fv( attributePointer, material.defaultAttributeValues[ attributeName ] );\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// indices\n\n\t\t\t\t\t\t_gl.bindBuffer( _gl.ELEMENT_ARRAY_BUFFER, index.buffer );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// render indexed triangles\n\n\t\t\t\t\t_gl.drawElements( _gl.TRIANGLES, offsets[ i ].count, _gl.UNSIGNED_SHORT, offsets[ i ].start * 2 ); // 2 bytes per Uint16\n\n\t\t\t\t\t_this.info.render.calls ++;\n\t\t\t\t\t_this.info.render.vertices += offsets[ i ].count; // not really true, here vertices can be shared\n\t\t\t\t\t_this.info.render.faces += offsets[ i ].count / 3;\n\n\t\t\t\t}\n\n\t\t\t// non-indexed triangles\n\n\t\t\t} else {\n\n\t\t\t\tif ( updateBuffers ) {\n\n\t\t\t\t\tfor ( attributeName in programAttributes ) {\n\n\t\t\t\t\t\tif ( attributeName === 'index') continue;\n\n\t\t\t\t\t\tattributePointer = programAttributes[ attributeName ];\n\t\t\t\t\t\tattributeItem = geometryAttributes[ attributeName ];\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( attributePointer >= 0 ) {\n\n\t\t\t\t\t\t\tif ( attributeItem ) {\n\n\t\t\t\t\t\t\t\tattributeSize = attributeItem.itemSize;\n\t\t\t\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, attributeItem.buffer );\n\t\t\t\t\t\t\t\tenableAttribute( attributePointer );\n\t\t\t\t\t\t\t\t_gl.vertexAttribPointer( attributePointer, attributeSize, _gl.FLOAT, false, 0, 0 );\n\n\t\t\t\t\t\t\t} else if ( material.defaultAttributeValues && material.defaultAttributeValues[ attributeName ] ) {\n\n\t\t\t\t\t\t\t\tif ( material.defaultAttributeValues[ attributeName ].length === 2 ) {\n\n\t\t\t\t\t\t\t\t\t_gl.vertexAttrib2fv( attributePointer, material.defaultAttributeValues[ attributeName ] );\n\n\t\t\t\t\t\t\t\t} else if ( material.defaultAttributeValues[ attributeName ].length === 3 ) {\n\n\t\t\t\t\t\t\t\t\t_gl.vertexAttrib3fv( attributePointer, material.defaultAttributeValues[ attributeName ] );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tvar position = geometry.attributes[ \"position\" ];\n\n\t\t\t\t// render non-indexed triangles\n\n\t\t\t\t_gl.drawArrays( _gl.TRIANGLES, 0, position.numItems / 3 );\n\n\t\t\t\t_this.info.render.calls ++;\n\t\t\t\t_this.info.render.vertices += position.numItems / 3;\n\t\t\t\t_this.info.render.faces += position.numItems / 3 / 3;\n\n\t\t\t}\n\n\t\t// render particles\n\n\t\t} else if ( object instanceof THREE.ParticleSystem ) {\n\n\t\t\tif ( updateBuffers ) {\n\n\t\t\t\tfor ( attributeName in programAttributes ) {\n\n\t\t\t\t\tattributePointer = programAttributes[ attributeName ];\n\t\t\t\t\tattributeItem = geometryAttributes[ attributeName ];\n\t\t\t\t\t\n\t\t\t\t\tif ( attributePointer >= 0 ) {\n\n\t\t\t\t\t\tif ( attributeItem ) {\n\n\t\t\t\t\t\t\tattributeSize = attributeItem.itemSize;\n\t\t\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, attributeItem.buffer );\n\t\t\t\t\t\t\tenableAttribute( attributePointer );\n\t\t\t\t\t\t\t_gl.vertexAttribPointer( attributePointer, attributeSize, _gl.FLOAT, false, 0, 0 );\n\n\t\t\t\t\t\t} else if ( material.defaultAttributeValues && material.defaultAttributeValues[ attributeName ] ) {\n\n\t\t\t\t\t\t\tif ( material.defaultAttributeValues[ attributeName ].length === 2 ) {\n\n\t\t\t\t\t\t\t\t_gl.vertexAttrib2fv( attributePointer, material.defaultAttributeValues[ attributeName ] );\n\n\t\t\t\t\t\t\t} else if ( material.defaultAttributeValues[ attributeName ].length === 3 ) {\n\n\t\t\t\t\t\t\t\t_gl.vertexAttrib3fv( attributePointer, material.defaultAttributeValues[ attributeName ] );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar position = geometryAttributes[ \"position\" ];\n\n\t\t\t// render particles\n\n\t\t\t_gl.drawArrays( _gl.POINTS, 0, position.numItems / 3 );\n\n\t\t\t_this.info.render.calls ++;\n\t\t\t_this.info.render.points += position.numItems / 3;\n\n\t\t} else if ( object instanceof THREE.Line ) {\n\n\t\t\tif ( updateBuffers ) {\n\n\t\t\t\tfor ( attributeName in programAttributes ) {\n\n\t\t\t\t\tattributePointer = programAttributes[ attributeName ];\n\t\t\t\t\tattributeItem = geometryAttributes[ attributeName ];\n\t\t\t\t\t\n\t\t\t\t\tif ( attributePointer >= 0 ) {\n\n\t\t\t\t\t\tif ( attributeItem ) {\n\n\t\t\t\t\t\t\tattributeSize = attributeItem.itemSize;\n\t\t\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, attributeItem.buffer );\n\t\t\t\t\t\t\tenableAttribute( attributePointer );\n\t\t\t\t\t\t\t_gl.vertexAttribPointer( attributePointer, attributeSize, _gl.FLOAT, false, 0, 0 );\n\n\t\t\t\t\t\t} else if ( material.defaultAttributeValues && material.defaultAttributeValues[ attributeName ] ) {\n\n\t\t\t\t\t\t\tif ( material.defaultAttributeValues[ attributeName ].length === 2 ) {\n\n\t\t\t\t\t\t\t\t_gl.vertexAttrib2fv( attributePointer, material.defaultAttributeValues[ attributeName ] );\n\n\t\t\t\t\t\t\t} else if ( material.defaultAttributeValues[ attributeName ].length === 3 ) {\n\n\t\t\t\t\t\t\t\t_gl.vertexAttrib3fv( attributePointer, material.defaultAttributeValues[ attributeName ] );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// render lines\n\n\t\t\tvar primitives = ( object.type === THREE.LineStrip ) ? _gl.LINE_STRIP : _gl.LINES;\n\n\t\t\tsetLineWidth( material.linewidth );\n\n\t\t\tvar position = geometryAttributes[ \"position\" ];\n\n\t\t\t_gl.drawArrays( primitives, 0, position.numItems / 3 );\n\n\t\t\t_this.info.render.calls ++;\n\t\t\t_this.info.render.points += position.numItems;\n\n\t\t}\n\n\t};\n\n\tthis.renderBuffer = function ( camera, lights, fog, material, geometryGroup, object ) {\n\n\t\tif ( material.visible === false ) return;\n\n\t\tvar linewidth, a, attribute, i, il;\n\n\t\tvar program = setProgram( camera, lights, fog, material, object );\n\n\t\tvar attributes = program.attributes;\n\n\t\tvar updateBuffers = false,\n\t\t\twireframeBit = material.wireframe ? 1 : 0,\n\t\t\tgeometryGroupHash = ( geometryGroup.id * 0xffffff ) + ( program.id * 2 ) + wireframeBit;\n\n\t\tif ( geometryGroupHash !== _currentGeometryGroupHash ) {\n\n\t\t\t_currentGeometryGroupHash = geometryGroupHash;\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\tif ( updateBuffers ) {\n\n\t\t\tdisableAttributes();\n\n\t\t}\n\n\t\t// vertices\n\n\t\tif ( !material.morphTargets && attributes.position >= 0 ) {\n\n\t\t\tif ( updateBuffers ) {\n\n\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglVertexBuffer );\n\t\t\t\tenableAttribute( attributes.position );\n\t\t\t\t_gl.vertexAttribPointer( attributes.position, 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( object.morphTargetBase ) {\n\n\t\t\t\tsetupMorphTargets( material, geometryGroup, object );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tif ( updateBuffers ) {\n\n\t\t\t// custom attributes\n\n\t\t\t// Use the per-geometryGroup custom attribute arrays which are setup in initMeshBuffers\n\n\t\t\tif ( geometryGroup.__webglCustomAttributesList ) {\n\n\t\t\t\tfor ( i = 0, il = geometryGroup.__webglCustomAttributesList.length; i < il; i ++ ) {\n\n\t\t\t\t\tattribute = geometryGroup.__webglCustomAttributesList[ i ];\n\n\t\t\t\t\tif ( attributes[ attribute.buffer.belongsToAttribute ] >= 0 ) {\n\n\t\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, attribute.buffer );\n\t\t\t\t\t\tenableAttribute( attributes[ attribute.buffer.belongsToAttribute ] );\n\t\t\t\t\t\t_gl.vertexAttribPointer( attributes[ attribute.buffer.belongsToAttribute ], attribute.size, _gl.FLOAT, false, 0, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\t// colors\n\n\t\t\tif ( attributes.color >= 0 ) {\n\n\t\t\t\tif ( object.geometry.colors.length > 0 || object.geometry.faces.length > 0 ) {\n\n\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglColorBuffer );\n\t\t\t\t\tenableAttribute( attributes.color );\n\t\t\t\t\t_gl.vertexAttribPointer( attributes.color, 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t\t\t} else if ( material.defaultAttributeValues ) {\n\n\n\t\t\t\t\t_gl.vertexAttrib3fv( attributes.color, material.defaultAttributeValues.color );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// normals\n\n\t\t\tif ( attributes.normal >= 0 ) {\n\n\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglNormalBuffer );\n\t\t\t\tenableAttribute( attributes.normal );\n\t\t\t\t_gl.vertexAttribPointer( attributes.normal, 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t\t}\n\n\t\t\t// tangents\n\n\t\t\tif ( attributes.tangent >= 0 ) {\n\n\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglTangentBuffer );\n\t\t\t\tenableAttribute( attributes.tangent );\n\t\t\t\t_gl.vertexAttribPointer( attributes.tangent, 4, _gl.FLOAT, false, 0, 0 );\n\n\t\t\t}\n\n\t\t\t// uvs\n\n\t\t\tif ( attributes.uv >= 0 ) {\n\n\t\t\t\tif ( object.geometry.faceVertexUvs[0] ) {\n\n\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglUVBuffer );\n\t\t\t\t\tenableAttribute( attributes.uv );\n\t\t\t\t\t_gl.vertexAttribPointer( attributes.uv, 2, _gl.FLOAT, false, 0, 0 );\n\n\t\t\t\t} else if ( material.defaultAttributeValues ) {\n\n\n\t\t\t\t\t_gl.vertexAttrib2fv( attributes.uv, material.defaultAttributeValues.uv );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( attributes.uv2 >= 0 ) {\n\n\t\t\t\tif ( object.geometry.faceVertexUvs[1] ) {\n\n\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglUV2Buffer );\n\t\t\t\t\tenableAttribute( attributes.uv2 );\n\t\t\t\t\t_gl.vertexAttribPointer( attributes.uv2, 2, _gl.FLOAT, false, 0, 0 );\n\n\t\t\t\t} else if ( material.defaultAttributeValues ) {\n\n\n\t\t\t\t\t_gl.vertexAttrib2fv( attributes.uv2, material.defaultAttributeValues.uv2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.skinning &&\n\t\t\t\t attributes.skinIndex >= 0 && attributes.skinWeight >= 0 ) {\n\n\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglSkinIndicesBuffer );\n\t\t\t\tenableAttribute( attributes.skinIndex );\n\t\t\t\t_gl.vertexAttribPointer( attributes.skinIndex, 4, _gl.FLOAT, false, 0, 0 );\n\n\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglSkinWeightsBuffer );\n\t\t\t\tenableAttribute( attributes.skinWeight );\n\t\t\t\t_gl.vertexAttribPointer( attributes.skinWeight, 4, _gl.FLOAT, false, 0, 0 );\n\n\t\t\t}\n\n\t\t\t// line distances\n\n\t\t\tif ( attributes.lineDistance >= 0 ) {\n\n\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglLineDistanceBuffer );\n\t\t\t\tenableAttribute( attributes.lineDistance );\n\t\t\t\t_gl.vertexAttribPointer( attributes.lineDistance, 1, _gl.FLOAT, false, 0, 0 );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// render mesh\n\n\t\tif ( object instanceof THREE.Mesh ) {\n\n\t\t\t// wireframe\n\n\t\t\tif ( material.wireframe ) {\n\n\t\t\t\tsetLineWidth( material.wireframeLinewidth );\n\n\t\t\t\tif ( updateBuffers ) _gl.bindBuffer( _gl.ELEMENT_ARRAY_BUFFER, geometryGroup.__webglLineBuffer );\n\t\t\t\t_gl.drawElements( _gl.LINES, geometryGroup.__webglLineCount, _gl.UNSIGNED_SHORT, 0 );\n\n\t\t\t// triangles\n\n\t\t\t} else {\n\n\t\t\t\tif ( updateBuffers ) _gl.bindBuffer( _gl.ELEMENT_ARRAY_BUFFER, geometryGroup.__webglFaceBuffer );\n\t\t\t\t_gl.drawElements( _gl.TRIANGLES, geometryGroup.__webglFaceCount, _gl.UNSIGNED_SHORT, 0 );\n\n\t\t\t}\n\n\t\t\t_this.info.render.calls ++;\n\t\t\t_this.info.render.vertices += geometryGroup.__webglFaceCount;\n\t\t\t_this.info.render.faces += geometryGroup.__webglFaceCount / 3;\n\n\t\t// render lines\n\n\t\t} else if ( object instanceof THREE.Line ) {\n\n\t\t\tvar primitives = ( object.type === THREE.LineStrip ) ? _gl.LINE_STRIP : _gl.LINES;\n\n\t\t\tsetLineWidth( material.linewidth );\n\n\t\t\t_gl.drawArrays( primitives, 0, geometryGroup.__webglLineCount );\n\n\t\t\t_this.info.render.calls ++;\n\n\t\t// render particles\n\n\t\t} else if ( object instanceof THREE.ParticleSystem ) {\n\n\t\t\t_gl.drawArrays( _gl.POINTS, 0, geometryGroup.__webglParticleCount );\n\n\t\t\t_this.info.render.calls ++;\n\t\t\t_this.info.render.points += geometryGroup.__webglParticleCount;\n\n\t\t}\n\n\t};\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tif ( ! _enabledAttributes[ attribute ] ) {\n\n\t\t\t_gl.enableVertexAttribArray( attribute );\n\t\t\t_enabledAttributes[ attribute ] = true;\n\n\t\t}\n\n\t};\n\n\tfunction disableAttributes() {\n\n\t\tfor ( var attribute in _enabledAttributes ) {\n\n\t\t\tif ( _enabledAttributes[ attribute ] ) {\n\n\t\t\t\t_gl.disableVertexAttribArray( attribute );\n\t\t\t\t_enabledAttributes[ attribute ] = false;\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tfunction setupMorphTargets ( material, geometryGroup, object ) {\n\n\t\t// set base\n\n\t\tvar attributes = material.program.attributes;\n\n\t\tif ( object.morphTargetBase !== -1 && attributes.position >= 0 ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglMorphTargetsBuffers[ object.morphTargetBase ] );\n\t\t\tenableAttribute( attributes.position );\n\t\t\t_gl.vertexAttribPointer( attributes.position, 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t} else if ( attributes.position >= 0 ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglVertexBuffer );\n\t\t\tenableAttribute( attributes.position );\n\t\t\t_gl.vertexAttribPointer( attributes.position, 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.morphTargetForcedOrder.length ) {\n\n\t\t\t// set forced order\n\n\t\t\tvar m = 0;\n\t\t\tvar order = object.morphTargetForcedOrder;\n\t\t\tvar influences = object.morphTargetInfluences;\n\n\t\t\twhile ( m < material.numSupportedMorphTargets && m < order.length ) {\n\n\t\t\t\tif ( attributes[ \"morphTarget\" + m ] >= 0 ) {\n\n\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglMorphTargetsBuffers[ order[ m ] ] );\n\t\t\t\t\tenableAttribute( attributes[ \"morphTarget\" + m ] );\n\t\t\t\t\t_gl.vertexAttribPointer( attributes[ \"morphTarget\" + m ], 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( attributes[ \"morphNormal\" + m ] >= 0 && material.morphNormals ) {\n\n\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglMorphNormalsBuffers[ order[ m ] ] );\n\t\t\t\t\tenableAttribute( attributes[ \"morphNormal\" + m ] );\n\t\t\t\t\t_gl.vertexAttribPointer( attributes[ \"morphNormal\" + m ], 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t\tobject.__webglMorphTargetInfluences[ m ] = influences[ order[ m ] ];\n\n\t\t\t\tm ++;\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// find the most influencing\n\n\t\t\tvar influence, activeInfluenceIndices = [];\n\t\t\tvar influences = object.morphTargetInfluences;\n\t\t\tvar i, il = influences.length;\n\n\t\t\tfor ( i = 0; i < il; i ++ ) {\n\n\t\t\t\tinfluence = influences[ i ];\n\n\t\t\t\tif ( influence > 0 ) {\n\n\t\t\t\t\tactiveInfluenceIndices.push( [ influence, i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( activeInfluenceIndices.length > material.numSupportedMorphTargets ) {\n\n\t\t\t\tactiveInfluenceIndices.sort( numericalSort );\n\t\t\t\tactiveInfluenceIndices.length = material.numSupportedMorphTargets;\n\n\t\t\t} else if ( activeInfluenceIndices.length > material.numSupportedMorphNormals ) {\n\n\t\t\t\tactiveInfluenceIndices.sort( numericalSort );\n\n\t\t\t} else if ( activeInfluenceIndices.length === 0 ) {\n\n\t\t\t\tactiveInfluenceIndices.push( [ 0, 0 ] );\n\n\t\t\t};\n\n\t\t\tvar influenceIndex, m = 0;\n\n\t\t\twhile ( m < material.numSupportedMorphTargets ) {\n\n\t\t\t\tif ( activeInfluenceIndices[ m ] ) {\n\n\t\t\t\t\tinfluenceIndex = activeInfluenceIndices[ m ][ 1 ];\n\n\t\t\t\t\tif ( attributes[ \"morphTarget\" + m ] >= 0 ) {\n\n\t\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglMorphTargetsBuffers[ influenceIndex ] );\n\t\t\t\t\t\tenableAttribute( attributes[ \"morphTarget\" + m ] );\n\t\t\t\t\t\t_gl.vertexAttribPointer( attributes[ \"morphTarget\" + m ], 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( attributes[ \"morphNormal\" + m ] >= 0 && material.morphNormals ) {\n\n\t\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, geometryGroup.__webglMorphNormalsBuffers[ influenceIndex ] );\n\t\t\t\t\t\tenableAttribute( attributes[ \"morphNormal\" + m ] );\n\t\t\t\t\t\t_gl.vertexAttribPointer( attributes[ \"morphNormal\" + m ], 3, _gl.FLOAT, false, 0, 0 );\n\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobject.__webglMorphTargetInfluences[ m ] = influences[ influenceIndex ];\n\n\t\t\t\t} else {\n\n\t\t\t\t\t/*\n\t\t\t\t\t_gl.vertexAttribPointer( attributes[ \"morphTarget\" + m ], 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t\t\t\tif ( material.morphNormals ) {\n\n\t\t\t\t\t\t_gl.vertexAttribPointer( attributes[ \"morphNormal\" + m ], 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t\t\t\t}\n\t\t\t\t\t*/\n\n\t\t\t\t\tobject.__webglMorphTargetInfluences[ m ] = 0;\n\n\t\t\t\t}\n\n\t\t\t\tm ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// load updated influences uniform\n\n\t\tif ( material.program.uniforms.morphTargetInfluences !== null ) {\n\n\t\t\t_gl.uniform1fv( material.program.uniforms.morphTargetInfluences, object.__webglMorphTargetInfluences );\n\n\t\t}\n\n\t};\n\n\t// Sorting\n\n\tfunction painterSortStable ( a, b ) {\n\n\t\tif ( a.z !== b.z ) {\n\n\t\t\treturn b.z - a.z;\n\n\t\t} else {\n\n\t\t\treturn a.id - b.id;\n\n\t\t}\n\n\t};\n\n\tfunction numericalSort ( a, b ) {\n\n\t\treturn b[ 0 ] - a[ 0 ];\n\n\t};\n\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera, renderTarget, forceClear ) {\n\n\t\tif ( camera instanceof THREE.Camera === false ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar i, il,\n\n\t\twebglObject, object,\n\t\trenderList,\n\n\t\tlights = scene.__lights,\n\t\tfog = scene.fog;\n\n\t\t// reset caching for this frame\n\n\t\t_currentMaterialId = -1;\n\t\t_lightsNeedUpdate = true;\n\n\t\t// update scene graph\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === undefined ) camera.updateMatrixWorld();\n\n\t\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromMatrix( _projScreenMatrix );\n\n\t\t// update WebGL objects\n\n\t\tif ( this.autoUpdateObjects ) this.initWebGLObjects( scene );\n\n\t\t// custom render plugins (pre pass)\n\n\t\trenderPlugins( this.renderPluginsPre, scene, camera );\n\n\t\t//\n\n\t\t_this.info.render.calls = 0;\n\t\t_this.info.render.vertices = 0;\n\t\t_this.info.render.faces = 0;\n\t\t_this.info.render.points = 0;\n\n\t\tthis.setRenderTarget( renderTarget );\n\n\t\tif ( this.autoClear || forceClear ) {\n\n\t\t\tthis.clear( this.autoClearColor, this.autoClearDepth, this.autoClearStencil );\n\n\t\t}\n\n\t\t// set matrices for regular objects (frustum culled)\n\n\t\trenderList = scene.__webglObjects;\n\n\t\tfor ( i = 0, il = renderList.length; i < il; i ++ ) {\n\n\t\t\twebglObject = renderList[ i ];\n\t\t\tobject = webglObject.object;\n\n\t\t\twebglObject.id = i;\n\t\t\twebglObject.render = false;\n\n\t\t\tif ( object.visible ) {\n\n\t\t\t\tif ( ! ( object instanceof THREE.Mesh || object instanceof THREE.ParticleSystem ) || ! ( object.frustumCulled ) || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tsetupMatrices( object, camera );\n\n\t\t\t\t\tunrollBufferMaterial( webglObject );\n\n\t\t\t\t\twebglObject.render = true;\n\n\t\t\t\t\tif ( this.sortObjects === true ) {\n\n\t\t\t\t\t\tif ( object.renderDepth !== null ) {\n\n\t\t\t\t\t\t\twebglObject.z = object.renderDepth;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld );\n\t\t\t\t\t\t\t_vector3.applyProjection( _projScreenMatrix );\n\n\t\t\t\t\t\t\twebglObject.z = _vector3.z;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.sortObjects ) {\n\n\t\t\trenderList.sort( painterSortStable );\n\n\t\t}\n\n\t\t// set matrices for immediate objects\n\n\t\trenderList = scene.__webglObjectsImmediate;\n\n\t\tfor ( i = 0, il = renderList.length; i < il; i ++ ) {\n\n\t\t\twebglObject = renderList[ i ];\n\t\t\tobject = webglObject.object;\n\n\t\t\tif ( object.visible ) {\n\n\t\t\t\tsetupMatrices( object, camera );\n\n\t\t\t\tunrollImmediateBufferMaterial( webglObject );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( scene.overrideMaterial ) {\n\n\t\t\tvar material = scene.overrideMaterial;\n\n\t\t\tthis.setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst );\n\t\t\tthis.setDepthTest( material.depthTest );\n\t\t\tthis.setDepthWrite( material.depthWrite );\n\t\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t\t\trenderObjects( scene.__webglObjects, false, \"\", camera, lights, fog, true, material );\n\t\t\trenderObjectsImmediate( scene.__webglObjectsImmediate, \"\", camera, lights, fog, false, material );\n\n\t\t} else {\n\n\t\t\tvar material = null;\n\n\t\t\t// opaque pass (front-to-back order)\n\n\t\t\tthis.setBlending( THREE.NoBlending );\n\n\t\t\trenderObjects( scene.__webglObjects, true, \"opaque\", camera, lights, fog, false, material );\n\t\t\trenderObjectsImmediate( scene.__webglObjectsImmediate, \"opaque\", camera, lights, fog, false, material );\n\n\t\t\t// transparent pass (back-to-front order)\n\n\t\t\trenderObjects( scene.__webglObjects, false, \"transparent\", camera, lights, fog, true, material );\n\t\t\trenderObjectsImmediate( scene.__webglObjectsImmediate, \"transparent\", camera, lights, fog, true, material );\n\n\t\t}\n\n\t\t// custom render plugins (post pass)\n\n\t\trenderPlugins( this.renderPluginsPost, scene, camera );\n\n\n\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\tif ( renderTarget && renderTarget.generateMipmaps && renderTarget.minFilter !== THREE.NearestFilter && renderTarget.minFilter !== THREE.LinearFilter ) {\n\n\t\t\tupdateRenderTargetMipmap( renderTarget );\n\n\t\t}\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tthis.setDepthTest( true );\n\t\tthis.setDepthWrite( true );\n\n\t\t// _gl.finish();\n\n\t};\n\n\tfunction renderPlugins( plugins, scene, camera ) {\n\n\t\tif ( ! plugins.length ) return;\n\n\t\tfor ( var i = 0, il = plugins.length; i < il; i ++ ) {\n\n\t\t\t// reset state for plugin (to start from clean slate)\n\n\t\t\t_currentProgram = null;\n\t\t\t_currentCamera = null;\n\n\t\t\t_oldBlending = -1;\n\t\t\t_oldDepthTest = -1;\n\t\t\t_oldDepthWrite = -1;\n\t\t\t_oldDoubleSided = -1;\n\t\t\t_oldFlipSided = -1;\n\t\t\t_currentGeometryGroupHash = -1;\n\t\t\t_currentMaterialId = -1;\n\n\t\t\t_lightsNeedUpdate = true;\n\n\t\t\tplugins[ i ].render( scene, camera, _currentWidth, _currentHeight );\n\n\t\t\t// reset state after plugin (anything could have changed)\n\n\t\t\t_currentProgram = null;\n\t\t\t_currentCamera = null;\n\n\t\t\t_oldBlending = -1;\n\t\t\t_oldDepthTest = -1;\n\t\t\t_oldDepthWrite = -1;\n\t\t\t_oldDoubleSided = -1;\n\t\t\t_oldFlipSided = -1;\n\t\t\t_currentGeometryGroupHash = -1;\n\t\t\t_currentMaterialId = -1;\n\n\t\t\t_lightsNeedUpdate = true;\n\n\t\t}\n\n\t};\n\n\tfunction renderObjects ( renderList, reverse, materialType, camera, lights, fog, useBlending, overrideMaterial ) {\n\n\t\tvar webglObject, object, buffer, material, start, end, delta;\n\n\t\tif ( reverse ) {\n\n\t\t\tstart = renderList.length - 1;\n\t\t\tend = -1;\n\t\t\tdelta = -1;\n\n\t\t} else {\n\n\t\t\tstart = 0;\n\t\t\tend = renderList.length;\n\t\t\tdelta = 1;\n\t\t}\n\n\t\tfor ( var i = start; i !== end; i += delta ) {\n\n\t\t\twebglObject = renderList[ i ];\n\n\t\t\tif ( webglObject.render ) {\n\n\t\t\t\tobject = webglObject.object;\n\t\t\t\tbuffer = webglObject.buffer;\n\n\t\t\t\tif ( overrideMaterial ) {\n\n\t\t\t\t\tmaterial = overrideMaterial;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tmaterial = webglObject[ materialType ];\n\n\t\t\t\t\tif ( ! material ) continue;\n\n\t\t\t\t\tif ( useBlending ) _this.setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst );\n\n\t\t\t\t\t_this.setDepthTest( material.depthTest );\n\t\t\t\t\t_this.setDepthWrite( material.depthWrite );\n\t\t\t\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t\t\t\t}\n\n\t\t\t\t_this.setMaterialFaces( material );\n\n\t\t\t\tif ( buffer instanceof THREE.BufferGeometry ) {\n\n\t\t\t\t\t_this.renderBufferDirect( camera, lights, fog, material, buffer, object );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_this.renderBuffer( camera, lights, fog, material, buffer, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tfunction renderObjectsImmediate ( renderList, materialType, camera, lights, fog, useBlending, overrideMaterial ) {\n\n\t\tvar webglObject, object, material, program;\n\n\t\tfor ( var i = 0, il = renderList.length; i < il; i ++ ) {\n\n\t\t\twebglObject = renderList[ i ];\n\t\t\tobject = webglObject.object;\n\n\t\t\tif ( object.visible ) {\n\n\t\t\t\tif ( overrideMaterial ) {\n\n\t\t\t\t\tmaterial = overrideMaterial;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tmaterial = webglObject[ materialType ];\n\n\t\t\t\t\tif ( ! material ) continue;\n\n\t\t\t\t\tif ( useBlending ) _this.setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst );\n\n\t\t\t\t\t_this.setDepthTest( material.depthTest );\n\t\t\t\t\t_this.setDepthWrite( material.depthWrite );\n\t\t\t\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t\t\t\t}\n\n\t\t\t\t_this.renderImmediateObject( camera, lights, fog, material, object );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.renderImmediateObject = function ( camera, lights, fog, material, object ) {\n\n\t\tvar program = setProgram( camera, lights, fog, material, object );\n\n\t\t_currentGeometryGroupHash = -1;\n\n\t\t_this.setMaterialFaces( material );\n\n\t\tif ( object.immediateRenderCallback ) {\n\n\t\t\tobject.immediateRenderCallback( program, _gl, _frustum );\n\n\t\t} else {\n\n\t\t\tobject.render( function( object ) { _this.renderBufferImmediate( object, program, material ); } );\n\n\t\t}\n\n\t};\n\n\tfunction unrollImmediateBufferMaterial ( globject ) {\n\n\t\tvar object = globject.object,\n\t\t\tmaterial = object.material;\n\n\t\tif ( material.transparent ) {\n\n\t\t\tglobject.transparent = material;\n\t\t\tglobject.opaque = null;\n\n\t\t} else {\n\n\t\t\tglobject.opaque = material;\n\t\t\tglobject.transparent = null;\n\n\t\t}\n\n\t};\n\n\tfunction unrollBufferMaterial ( globject ) {\n\n\t\tvar object = globject.object,\n\t\t\tbuffer = globject.buffer,\n\t\t\tmaterial, materialIndex, meshMaterial;\n\n\t\tmeshMaterial = object.material;\n\n\t\tif ( meshMaterial instanceof THREE.MeshFaceMaterial ) {\n\n\t\t\tmaterialIndex = buffer.materialIndex;\n\n\t\t\tmaterial = meshMaterial.materials[ materialIndex ];\n\n\t\t\tif ( material.transparent ) {\n\n\t\t\t\tglobject.transparent = material;\n\t\t\t\tglobject.opaque = null;\n\n\t\t\t} else {\n\n\t\t\t\tglobject.opaque = material;\n\t\t\t\tglobject.transparent = null;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tmaterial = meshMaterial;\n\n\t\t\tif ( material ) {\n\n\t\t\t\tif ( material.transparent ) {\n\n\t\t\t\t\tglobject.transparent = material;\n\t\t\t\t\tglobject.opaque = null;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tglobject.opaque = material;\n\t\t\t\t\tglobject.transparent = null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\t// Geometry splitting\n\n\tfunction sortFacesByMaterial ( geometry, material ) {\n\n\t\tvar f, fl, face, materialIndex, vertices,\n\t\t\tgroupHash, hash_map = {};\n\n\t\tvar numMorphTargets = geometry.morphTargets.length;\n\t\tvar numMorphNormals = geometry.morphNormals.length;\n\n\t\tvar usesFaceMaterial = material instanceof THREE.MeshFaceMaterial;\n\n\t\tgeometry.geometryGroups = {};\n\n\t\tfor ( f = 0, fl = geometry.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = geometry.faces[ f ];\n\t\t\tmaterialIndex = usesFaceMaterial ? face.materialIndex : 0;\n\n\t\t\tif ( hash_map[ materialIndex ] === undefined ) {\n\n\t\t\t\thash_map[ materialIndex ] = { 'hash': materialIndex, 'counter': 0 };\n\n\t\t\t}\n\n\t\t\tgroupHash = hash_map[ materialIndex ].hash + '_' + hash_map[ materialIndex ].counter;\n\n\t\t\tif ( geometry.geometryGroups[ groupHash ] === undefined ) {\n\n\t\t\t\tgeometry.geometryGroups[ groupHash ] = { 'faces3': [], 'materialIndex': materialIndex, 'vertices': 0, 'numMorphTargets': numMorphTargets, 'numMorphNormals': numMorphNormals };\n\n\t\t\t}\n\n\t\t\tvertices = 3;\n\n\t\t\tif ( geometry.geometryGroups[ groupHash ].vertices + vertices > 65535 ) {\n\n\t\t\t\thash_map[ materialIndex ].counter += 1;\n\t\t\t\tgroupHash = hash_map[ materialIndex ].hash + '_' + hash_map[ materialIndex ].counter;\n\n\t\t\t\tif ( geometry.geometryGroups[ groupHash ] === undefined ) {\n\n\t\t\t\t\tgeometry.geometryGroups[ groupHash ] = { 'faces3': [], 'materialIndex': materialIndex, 'vertices': 0, 'numMorphTargets': numMorphTargets, 'numMorphNormals': numMorphNormals };\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tgeometry.geometryGroups[ groupHash ].faces3.push( f );\n\t\t\tgeometry.geometryGroups[ groupHash ].vertices += vertices;\n\n\t\t}\n\n\t\tgeometry.geometryGroupsList = [];\n\n\t\tfor ( var g in geometry.geometryGroups ) {\n\n\t\t\tgeometry.geometryGroups[ g ].id = _geometryGroupCounter ++;\n\n\t\t\tgeometry.geometryGroupsList.push( geometry.geometryGroups[ g ] );\n\n\t\t}\n\n\t};\n\n\t// Objects refresh\n\n\tthis.initWebGLObjects = function ( scene ) {\n\n\t\tif ( !scene.__webglObjects ) {\n\n\t\t\tscene.__webglObjects = [];\n\t\t\tscene.__webglObjectsImmediate = [];\n\t\t\tscene.__webglSprites = [];\n\t\t\tscene.__webglFlares = [];\n\n\t\t}\n\n\t\twhile ( scene.__objectsAdded.length ) {\n\n\t\t\taddObject( scene.__objectsAdded[ 0 ], scene );\n\t\t\tscene.__objectsAdded.splice( 0, 1 );\n\n\t\t}\n\n\t\twhile ( scene.__objectsRemoved.length ) {\n\n\t\t\tremoveObject( scene.__objectsRemoved[ 0 ], scene );\n\t\t\tscene.__objectsRemoved.splice( 0, 1 );\n\n\t\t}\n\n\t\t// update must be called after objects adding / removal\n\n\t\tfor ( var o = 0, ol = scene.__webglObjects.length; o < ol; o ++ ) {\n\n\t\t\tvar object = scene.__webglObjects[ o ].object;\n\n\t\t\t// TODO: Remove this hack (WebGLRenderer refactoring)\n\n\t\t\tif ( object.__webglInit === undefined ) {\n\n\t\t\t\tif ( object.__webglActive !== undefined ) {\n\n\t\t\t\t\tremoveObject( object, scene );\n\n\t\t\t\t}\n\n\t\t\t\taddObject( object, scene );\n\n\t\t\t}\n\n\t\t\tupdateObject( object );\n\n\t\t}\n\n\t};\n\n\t// Objects adding\n\n\tfunction addObject( object, scene ) {\n\n\t\tvar g, geometry, material, geometryGroup;\n\n\t\tif ( object.__webglInit === undefined ) {\n\n\t\t\tobject.__webglInit = true;\n\n\t\t\tobject._modelViewMatrix = new THREE.Matrix4();\n\t\t\tobject._normalMatrix = new THREE.Matrix3();\n\n\t\t\tif ( object.geometry !== undefined && object.geometry.__webglInit === undefined ) {\n\n\t\t\t\tobject.geometry.__webglInit = true;\n\t\t\t\tobject.geometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\t\t}\n\n\t\t\tgeometry = object.geometry;\n\n\t\t\tif ( geometry === undefined ) {\n\n\t\t\t\t// fail silently for now\n\n\t\t\t} else if ( geometry instanceof THREE.BufferGeometry ) {\n\n\t\t\t\tinitDirectBuffers( geometry );\n\n\t\t\t} else if ( object instanceof THREE.Mesh ) {\n\n\t\t\t\tmaterial = object.material;\n\n\t\t\t\tif ( geometry.geometryGroups === undefined ) {\n\n\t\t\t\t\tsortFacesByMaterial( geometry, material );\n\n\t\t\t\t}\n\n\t\t\t\t// create separate VBOs per geometry chunk\n\n\t\t\t\tfor ( g in geometry.geometryGroups ) {\n\n\t\t\t\t\tgeometryGroup = geometry.geometryGroups[ g ];\n\n\t\t\t\t\t// initialise VBO on the first access\n\n\t\t\t\t\tif ( ! geometryGroup.__webglVertexBuffer ) {\n\n\t\t\t\t\t\tcreateMeshBuffers( geometryGroup );\n\t\t\t\t\t\tinitMeshBuffers( geometryGroup, object );\n\n\t\t\t\t\t\tgeometry.verticesNeedUpdate = true;\n\t\t\t\t\t\tgeometry.morphTargetsNeedUpdate = true;\n\t\t\t\t\t\tgeometry.elementsNeedUpdate = true;\n\t\t\t\t\t\tgeometry.uvsNeedUpdate = true;\n\t\t\t\t\t\tgeometry.normalsNeedUpdate = true;\n\t\t\t\t\t\tgeometry.tangentsNeedUpdate = true;\n\t\t\t\t\t\tgeometry.colorsNeedUpdate = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( object instanceof THREE.Line ) {\n\n\t\t\t\tif ( ! geometry.__webglVertexBuffer ) {\n\n\t\t\t\t\tcreateLineBuffers( geometry );\n\t\t\t\t\tinitLineBuffers( geometry, object );\n\n\t\t\t\t\tgeometry.verticesNeedUpdate = true;\n\t\t\t\t\tgeometry.colorsNeedUpdate = true;\n\t\t\t\t\tgeometry.lineDistancesNeedUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t} else if ( object instanceof THREE.ParticleSystem ) {\n\n\t\t\t\tif ( ! geometry.__webglVertexBuffer ) {\n\n\t\t\t\t\tcreateParticleBuffers( geometry );\n\t\t\t\t\tinitParticleBuffers( geometry, object );\n\n\t\t\t\t\tgeometry.verticesNeedUpdate = true;\n\t\t\t\t\tgeometry.colorsNeedUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( object.__webglActive === undefined ) {\n\n\t\t\tif ( object instanceof THREE.Mesh ) {\n\n\t\t\t\tgeometry = object.geometry;\n\n\t\t\t\tif ( geometry instanceof THREE.BufferGeometry ) {\n\n\t\t\t\t\taddBuffer( scene.__webglObjects, geometry, object );\n\n\t\t\t\t} else if ( geometry instanceof THREE.Geometry ) {\n\n\t\t\t\t\tfor ( g in geometry.geometryGroups ) {\n\n\t\t\t\t\t\tgeometryGroup = geometry.geometryGroups[ g ];\n\n\t\t\t\t\t\taddBuffer( scene.__webglObjects, geometryGroup, object );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( object instanceof THREE.Line ||\n\t\t\t\t\t\tobject instanceof THREE.ParticleSystem ) {\n\n\t\t\t\tgeometry = object.geometry;\n\t\t\t\taddBuffer( scene.__webglObjects, geometry, object );\n\n\t\t\t} else if ( object instanceof THREE.ImmediateRenderObject || object.immediateRenderCallback ) {\n\n\t\t\t\taddBufferImmediate( scene.__webglObjectsImmediate, object );\n\n\t\t\t} else if ( object instanceof THREE.Sprite ) {\n\n\t\t\t\tscene.__webglSprites.push( object );\n\n\t\t\t} else if ( object instanceof THREE.LensFlare ) {\n\n\t\t\t\tscene.__webglFlares.push( object );\n\n\t\t\t}\n\n\t\t\tobject.__webglActive = true;\n\n\t\t}\n\n\t};\n\n\tfunction addBuffer( objlist, buffer, object ) {\n\n\t\tobjlist.push(\n\t\t\t{\n\t\t\t\tid: null,\n\t\t\t\tbuffer: buffer,\n\t\t\t\tobject: object,\n\t\t\t\topaque: null,\n\t\t\t\ttransparent: null,\n\t\t\t\tz: 0\n\t\t\t}\n\t\t);\n\n\t};\n\n\tfunction addBufferImmediate( objlist, object ) {\n\n\t\tobjlist.push(\n\t\t\t{\n\t\t\t\tid: null,\n\t\t\t\tobject: object,\n\t\t\t\topaque: null,\n\t\t\t\ttransparent: null,\n\t\t\t\tz: 0\n\t\t\t}\n\t\t);\n\n\t};\n\n\t// Objects updates\n\n\tfunction updateObject( object ) {\n\n\t\tvar geometry = object.geometry,\n\t\t\tgeometryGroup, customAttributesDirty, material;\n\n\t\tif ( geometry instanceof THREE.BufferGeometry ) {\n\n\t\t\tsetDirectBuffers( geometry, _gl.DYNAMIC_DRAW, !geometry.dynamic );\n\n\t\t} else if ( object instanceof THREE.Mesh ) {\n\n\t\t\t// check all geometry groups\n\n\t\t\tfor( var i = 0, il = geometry.geometryGroupsList.length; i < il; i ++ ) {\n\n\t\t\t\tgeometryGroup = geometry.geometryGroupsList[ i ];\n\n\t\t\t\tmaterial = getBufferMaterial( object, geometryGroup );\n\n\t\t\t\tif ( geometry.buffersNeedUpdate ) {\n\n\t\t\t\t\tinitMeshBuffers( geometryGroup, object );\n\n\t\t\t\t}\n\n\t\t\t\tcustomAttributesDirty = material.attributes && areCustomAttributesDirty( material );\n\n\t\t\t\tif ( geometry.verticesNeedUpdate || geometry.morphTargetsNeedUpdate || geometry.elementsNeedUpdate ||\n\t\t\t\t\t geometry.uvsNeedUpdate || geometry.normalsNeedUpdate ||\n\t\t\t\t\t geometry.colorsNeedUpdate || geometry.tangentsNeedUpdate || customAttributesDirty ) {\n\n\t\t\t\t\tsetMeshBuffers( geometryGroup, object, _gl.DYNAMIC_DRAW, !geometry.dynamic, material );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\t\t\tgeometry.morphTargetsNeedUpdate = false;\n\t\t\tgeometry.elementsNeedUpdate = false;\n\t\t\tgeometry.uvsNeedUpdate = false;\n\t\t\tgeometry.normalsNeedUpdate = false;\n\t\t\tgeometry.colorsNeedUpdate = false;\n\t\t\tgeometry.tangentsNeedUpdate = false;\n\n\t\t\tgeometry.buffersNeedUpdate = false;\n\n\t\t\tmaterial.attributes && clearCustomAttributes( material );\n\n\t\t} else if ( object instanceof THREE.Line ) {\n\n\t\t\tmaterial = getBufferMaterial( object, geometry );\n\n\t\t\tcustomAttributesDirty = material.attributes && areCustomAttributesDirty( material );\n\n\t\t\tif ( geometry.verticesNeedUpdate || geometry.colorsNeedUpdate || geometry.lineDistancesNeedUpdate || customAttributesDirty ) {\n\n\t\t\t\tsetLineBuffers( geometry, _gl.DYNAMIC_DRAW );\n\n\t\t\t}\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\t\t\tgeometry.colorsNeedUpdate = false;\n\t\t\tgeometry.lineDistancesNeedUpdate = false;\n\n\t\t\tmaterial.attributes && clearCustomAttributes( material );\n\n\n\t\t} else if ( object instanceof THREE.ParticleSystem ) {\n\n\t\t\tmaterial = getBufferMaterial( object, geometry );\n\n\t\t\tcustomAttributesDirty = material.attributes && areCustomAttributesDirty( material );\n\n\t\t\tif ( geometry.verticesNeedUpdate || geometry.colorsNeedUpdate || object.sortParticles || customAttributesDirty ) {\n\n\t\t\t\tsetParticleBuffers( geometry, _gl.DYNAMIC_DRAW, object );\n\n\t\t\t}\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\t\t\tgeometry.colorsNeedUpdate = false;\n\n\t\t\tmaterial.attributes && clearCustomAttributes( material );\n\n\t\t}\n\n\t};\n\n\t// Objects updates - custom attributes check\n\n\tfunction areCustomAttributesDirty( material ) {\n\n\t\tfor ( var a in material.attributes ) {\n\n\t\t\tif ( material.attributes[ a ].needsUpdate ) return true;\n\n\t\t}\n\n\t\treturn false;\n\n\t};\n\n\tfunction clearCustomAttributes( material ) {\n\n\t\tfor ( var a in material.attributes ) {\n\n\t\t\tmaterial.attributes[ a ].needsUpdate = false;\n\n\t\t}\n\n\t};\n\n\t// Objects removal\n\n\tfunction removeObject( object, scene ) {\n\n\t\tif ( object instanceof THREE.Mesh  ||\n\t\t\t object instanceof THREE.ParticleSystem ||\n\t\t\t object instanceof THREE.Line ) {\n\n\t\t\tremoveInstances( scene.__webglObjects, object );\n\n\t\t} else if ( object instanceof THREE.Sprite ) {\n\n\t\t\tremoveInstancesDirect( scene.__webglSprites, object );\n\n\t\t} else if ( object instanceof THREE.LensFlare ) {\n\n\t\t\tremoveInstancesDirect( scene.__webglFlares, object );\n\n\t\t} else if ( object instanceof THREE.ImmediateRenderObject || object.immediateRenderCallback ) {\n\n\t\t\tremoveInstances( scene.__webglObjectsImmediate, object );\n\n\t\t}\n\n\t\tdelete object.__webglActive;\n\n\t};\n\n\tfunction removeInstances( objlist, object ) {\n\n\t\tfor ( var o = objlist.length - 1; o >= 0; o -- ) {\n\n\t\t\tif ( objlist[ o ].object === object ) {\n\n\t\t\t\tobjlist.splice( o, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tfunction removeInstancesDirect( objlist, object ) {\n\n\t\tfor ( var o = objlist.length - 1; o >= 0; o -- ) {\n\n\t\t\tif ( objlist[ o ] === object ) {\n\n\t\t\t\tobjlist.splice( o, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\t// Materials\n\n\tthis.initMaterial = function ( material, lights, fog, object ) {\n\n\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\tvar u, a, identifiers, i, parameters, maxLightCount, maxBones, maxShadows, shaderID;\n\n\t\tif ( material instanceof THREE.MeshDepthMaterial ) {\n\n\t\t\tshaderID = 'depth';\n\n\t\t} else if ( material instanceof THREE.MeshNormalMaterial ) {\n\n\t\t\tshaderID = 'normal';\n\n\t\t} else if ( material instanceof THREE.MeshBasicMaterial ) {\n\n\t\t\tshaderID = 'basic';\n\n\t\t} else if ( material instanceof THREE.MeshLambertMaterial ) {\n\n\t\t\tshaderID = 'lambert';\n\n\t\t} else if ( material instanceof THREE.MeshPhongMaterial ) {\n\n\t\t\tshaderID = 'phong';\n\n\t\t} else if ( material instanceof THREE.LineBasicMaterial ) {\n\n\t\t\tshaderID = 'basic';\n\n\t\t} else if ( material instanceof THREE.LineDashedMaterial ) {\n\n\t\t\tshaderID = 'dashed';\n\n\t\t} else if ( material instanceof THREE.ParticleSystemMaterial ) {\n\n\t\t\tshaderID = 'particle_basic';\n\n\t\t}\n\n\t\tif ( shaderID ) {\n\n\t\t\tsetMaterialShaders( material, THREE.ShaderLib[ shaderID ] );\n\n\t\t}\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tmaxLightCount = allocateLights( lights );\n\n\t\tmaxShadows = allocateShadows( lights );\n\n\t\tmaxBones = allocateBones( object );\n\n\t\tparameters = {\n\n\t\t\tmap: !!material.map,\n\t\t\tenvMap: !!material.envMap,\n\t\t\tlightMap: !!material.lightMap,\n\t\t\tbumpMap: !!material.bumpMap,\n\t\t\tnormalMap: !!material.normalMap,\n\t\t\tspecularMap: !!material.specularMap,\n\n\t\t\tvertexColors: material.vertexColors,\n\n\t\t\tfog: fog,\n\t\t\tuseFog: material.fog,\n\t\t\tfogExp: fog instanceof THREE.FogExp2,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\n\t\t\tskinning: material.skinning,\n\t\t\tmaxBones: maxBones,\n\t\t\tuseVertexTexture: _supportsBoneTextures && object && object.useVertexTexture,\n\n\t\t\tmorphTargets: material.morphTargets,\n\t\t\tmorphNormals: material.morphNormals,\n\t\t\tmaxMorphTargets: this.maxMorphTargets,\n\t\t\tmaxMorphNormals: this.maxMorphNormals,\n\n\t\t\tmaxDirLights: maxLightCount.directional,\n\t\t\tmaxPointLights: maxLightCount.point,\n\t\t\tmaxSpotLights: maxLightCount.spot,\n\t\t\tmaxHemiLights: maxLightCount.hemi,\n\n\t\t\tmaxShadows: maxShadows,\n\t\t\tshadowMapEnabled: this.shadowMapEnabled && object.receiveShadow,\n\t\t\tshadowMapType: this.shadowMapType,\n\t\t\tshadowMapDebug: this.shadowMapDebug,\n\t\t\tshadowMapCascade: this.shadowMapCascade,\n\n\t\t\talphaTest: material.alphaTest,\n\t\t\tmetal: material.metal,\n\t\t\tperPixel: material.perPixel,\n\t\t\twrapAround: material.wrapAround,\n\t\t\tdoubleSided: material.side === THREE.DoubleSide,\n\t\t\tflipSided: material.side === THREE.BackSide\n\n\t\t};\n\n\t\tmaterial.program = buildProgram( shaderID, material.fragmentShader, material.vertexShader, material.uniforms, material.attributes, material.defines, parameters, material.index0AttributeName );\n\n\t\tvar attributes = material.program.attributes;\n\n\t\tif ( material.morphTargets ) {\n\n\t\t\tmaterial.numSupportedMorphTargets = 0;\n\n\t\t\tvar id, base = \"morphTarget\";\n\n\t\t\tfor ( i = 0; i < this.maxMorphTargets; i ++ ) {\n\n\t\t\t\tid = base + i;\n\n\t\t\t\tif ( attributes[ id ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphTargets ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.morphNormals ) {\n\n\t\t\tmaterial.numSupportedMorphNormals = 0;\n\n\t\t\tvar id, base = \"morphNormal\";\n\n\t\t\tfor ( i = 0; i < this.maxMorphNormals; i ++ ) {\n\n\t\t\t\tid = base + i;\n\n\t\t\t\tif ( attributes[ id ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphNormals ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tmaterial.uniformsList = [];\n\n\t\tfor ( u in material.uniforms ) {\n\n\t\t\tmaterial.uniformsList.push( [ material.uniforms[ u ], u ] );\n\n\t\t}\n\n\t};\n\n\tfunction setMaterialShaders( material, shaders ) {\n\n\t\tmaterial.uniforms = THREE.UniformsUtils.clone( shaders.uniforms );\n\t\tmaterial.vertexShader = shaders.vertexShader;\n\t\tmaterial.fragmentShader = shaders.fragmentShader;\n\n\t};\n\n\tfunction setProgram( camera, lights, fog, material, object ) {\n\n\t\t_usedTextureUnits = 0;\n\n\t\tif ( material.needsUpdate ) {\n\n\t\t\tif ( material.program ) deallocateMaterial( material );\n\n\t\t\t_this.initMaterial( material, lights, fog, object );\n\t\t\tmaterial.needsUpdate = false;\n\n\t\t}\n\n\t\tif ( material.morphTargets ) {\n\n\t\t\tif ( ! object.__webglMorphTargetInfluences ) {\n\n\t\t\t\tobject.__webglMorphTargetInfluences = new Float32Array( _this.maxMorphTargets );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar refreshMaterial = false;\n\n\t\tvar program = material.program,\n\t\t\tp_uniforms = program.uniforms,\n\t\t\tm_uniforms = material.uniforms;\n\n\t\tif ( program !== _currentProgram ) {\n\n\t\t\t_gl.useProgram( program );\n\t\t\t_currentProgram = program;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshMaterial || camera !== _currentCamera ) {\n\n\t\t\t_gl.uniformMatrix4fv( p_uniforms.projectionMatrix, false, camera.projectionMatrix.elements );\n\n\t\t\tif ( camera !== _currentCamera ) _currentCamera = camera;\n\n\t\t}\n\n\t\t// skinning uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone texture must go before other textures\n\t\t// not sure why, but otherwise weird things happen\n\n\t\tif ( material.skinning ) {\n\n\t\t\tif ( _supportsBoneTextures && object.useVertexTexture ) {\n\n\t\t\t\tif ( p_uniforms.boneTexture !== null ) {\n\n\t\t\t\t\tvar textureUnit = getTextureUnit();\n\n\t\t\t\t\t_gl.uniform1i( p_uniforms.boneTexture, textureUnit );\n\t\t\t\t\t_this.setTexture( object.boneTexture, textureUnit );\n\n\t\t\t\t}\n\n\t\t\t\tif ( p_uniforms.boneTextureWidth !== null ) {\n\n\t\t\t\t\t_gl.uniform1i( p_uniforms.boneTextureWidth, object.boneTextureWidth );\n\n\t\t\t\t}\n\n\t\t\t\tif ( p_uniforms.boneTextureHeight !== null ) {\n\n\t\t\t\t\t_gl.uniform1i( p_uniforms.boneTextureHeight, object.boneTextureHeight );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( p_uniforms.boneGlobalMatrices !== null ) {\n\n\t\t\t\t\t_gl.uniformMatrix4fv( p_uniforms.boneGlobalMatrices, false, object.boneMatrices );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog ) {\n\n\t\t\t\trefreshUniformsFog( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tif ( material instanceof THREE.MeshPhongMaterial ||\n\t\t\t\t material instanceof THREE.MeshLambertMaterial ||\n\t\t\t\t material.lights ) {\n\n\t\t\t\tif ( _lightsNeedUpdate ) {\n\n\t\t\t\t\tsetupLights( program, lights );\n\t\t\t\t\t_lightsNeedUpdate = false;\n\n\t\t\t\t}\n\n\t\t\t\trefreshUniformsLights( m_uniforms, _lights );\n\n\t\t\t}\n\n\t\t\tif ( material instanceof THREE.MeshBasicMaterial ||\n\t\t\t\t material instanceof THREE.MeshLambertMaterial ||\n\t\t\t\t material instanceof THREE.MeshPhongMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t}\n\n\t\t\t// refresh single material specific uniforms\n\n\t\t\tif ( material instanceof THREE.LineBasicMaterial ) {\n\n\t\t\t\trefreshUniformsLine( m_uniforms, material );\n\n\t\t\t} else if ( material instanceof THREE.LineDashedMaterial ) {\n\n\t\t\t\trefreshUniformsLine( m_uniforms, material );\n\t\t\t\trefreshUniformsDash( m_uniforms, material );\n\n\t\t\t} else if ( material instanceof THREE.ParticleSystemMaterial ) {\n\n\t\t\t\trefreshUniformsParticle( m_uniforms, material );\n\n\t\t\t} else if ( material instanceof THREE.MeshPhongMaterial ) {\n\n\t\t\t\trefreshUniformsPhong( m_uniforms, material );\n\n\t\t\t} else if ( material instanceof THREE.MeshLambertMaterial ) {\n\n\t\t\t\trefreshUniformsLambert( m_uniforms, material );\n\n\t\t\t} else if ( material instanceof THREE.MeshDepthMaterial ) {\n\n\t\t\t\tm_uniforms.mNear.value = camera.near;\n\t\t\t\tm_uniforms.mFar.value = camera.far;\n\t\t\t\tm_uniforms.opacity.value = material.opacity;\n\n\t\t\t} else if ( material instanceof THREE.MeshNormalMaterial ) {\n\n\t\t\t\tm_uniforms.opacity.value = material.opacity;\n\n\t\t\t}\n\n\t\t\tif ( object.receiveShadow && ! material._shadowPass ) {\n\n\t\t\t\trefreshUniformsShadow( m_uniforms, lights );\n\n\t\t\t}\n\n\t\t\t// load common uniforms\n\n\t\t\tloadUniformsGeneric( program, material.uniformsList );\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material instanceof THREE.ShaderMaterial ||\n\t\t\t\t material instanceof THREE.MeshPhongMaterial ||\n\t\t\t\t material.envMap ) {\n\n\t\t\t\tif ( p_uniforms.cameraPosition !== null ) {\n\n\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t\t\t_gl.uniform3f( p_uniforms.cameraPosition, _vector3.x, _vector3.y, _vector3.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material instanceof THREE.MeshPhongMaterial ||\n\t\t\t\t material instanceof THREE.MeshLambertMaterial ||\n\t\t\t\t material instanceof THREE.ShaderMaterial ||\n\t\t\t\t material.skinning ) {\n\n\t\t\t\tif ( p_uniforms.viewMatrix !== null ) {\n\n\t\t\t\t\t_gl.uniformMatrix4fv( p_uniforms.viewMatrix, false, camera.matrixWorldInverse.elements );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tloadUniformsMatrices( p_uniforms, object );\n\n\t\tif ( p_uniforms.modelMatrix !== null ) {\n\n\t\t\t_gl.uniformMatrix4fv( p_uniforms.modelMatrix, false, object.matrixWorld.elements );\n\n\t\t}\n\n\t\treturn program;\n\n\t};\n\n\t// Uniforms (refresh uniforms objects)\n\n\tfunction refreshUniformsCommon ( uniforms, material ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( _this.gammaInput ) {\n\n\t\t\tuniforms.diffuse.value.copyGammaToLinear( material.color );\n\n\t\t} else {\n\n\t\t\tuniforms.diffuse.value = material.color;\n\n\t\t}\n\n\t\tuniforms.map.value = material.map;\n\t\tuniforms.lightMap.value = material.lightMap;\n\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t//\t1. color map\n\t\t//\t2. specular map\n\t\t//\t3. normal map\n\t\t//\t4. bump map\n\n\t\tvar uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tvar offset = uvScaleMap.offset;\n\t\t\tvar repeat = uvScaleMap.repeat;\n\n\t\t\tuniforms.offsetRepeat.value.set( offset.x, offset.y, repeat.x, repeat.y );\n\n\t\t}\n\n\t\tuniforms.envMap.value = material.envMap;\n\t\tuniforms.flipEnvMap.value = ( material.envMap instanceof THREE.WebGLRenderTargetCube ) ? 1 : -1;\n\n\t\tif ( _this.gammaInput ) {\n\n\t\t\t//uniforms.reflectivity.value = material.reflectivity * material.reflectivity;\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\n\t\t} else {\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\n\t\t}\n\n\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\t\tuniforms.combine.value = material.combine;\n\t\tuniforms.useRefract.value = material.envMap && material.envMap.mapping instanceof THREE.CubeRefractionMapping;\n\n\t};\n\n\tfunction refreshUniformsLine ( uniforms, material ) {\n\n\t\tuniforms.diffuse.value = material.color;\n\t\tuniforms.opacity.value = material.opacity;\n\n\t};\n\n\tfunction refreshUniformsDash ( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t};\n\n\tfunction refreshUniformsParticle ( uniforms, material ) {\n\n\t\tuniforms.psColor.value = material.color;\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size;\n\t\tuniforms.scale.value = _canvas.height / 2.0; // TODO: Cache this.\n\n\t\tuniforms.map.value = material.map;\n\n\t};\n\n\tfunction refreshUniformsFog ( uniforms, fog ) {\n\n\t\tuniforms.fogColor.value = fog.color;\n\n\t\tif ( fog instanceof THREE.Fog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog instanceof THREE.FogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t};\n\n\tfunction refreshUniformsPhong ( uniforms, material ) {\n\n\t\tuniforms.shininess.value = material.shininess;\n\n\t\tif ( _this.gammaInput ) {\n\n\t\t\tuniforms.ambient.value.copyGammaToLinear( material.ambient );\n\t\t\tuniforms.emissive.value.copyGammaToLinear( material.emissive );\n\t\t\tuniforms.specular.value.copyGammaToLinear( material.specular );\n\n\t\t} else {\n\n\t\t\tuniforms.ambient.value = material.ambient;\n\t\t\tuniforms.emissive.value = material.emissive;\n\t\t\tuniforms.specular.value = material.specular;\n\n\t\t}\n\n\t\tif ( material.wrapAround ) {\n\n\t\t\tuniforms.wrapRGB.value.copy( material.wrapRGB );\n\n\t\t}\n\n\t};\n\n\tfunction refreshUniformsLambert ( uniforms, material ) {\n\n\t\tif ( _this.gammaInput ) {\n\n\t\t\tuniforms.ambient.value.copyGammaToLinear( material.ambient );\n\t\t\tuniforms.emissive.value.copyGammaToLinear( material.emissive );\n\n\t\t} else {\n\n\t\t\tuniforms.ambient.value = material.ambient;\n\t\t\tuniforms.emissive.value = material.emissive;\n\n\t\t}\n\n\t\tif ( material.wrapAround ) {\n\n\t\t\tuniforms.wrapRGB.value.copy( material.wrapRGB );\n\n\t\t}\n\n\t};\n\n\tfunction refreshUniformsLights ( uniforms, lights ) {\n\n\t\tuniforms.ambientLightColor.value = lights.ambient;\n\n\t\tuniforms.directionalLightColor.value = lights.directional.colors;\n\t\tuniforms.directionalLightDirection.value = lights.directional.positions;\n\n\t\tuniforms.pointLightColor.value = lights.point.colors;\n\t\tuniforms.pointLightPosition.value = lights.point.positions;\n\t\tuniforms.pointLightDistance.value = lights.point.distances;\n\n\t\tuniforms.spotLightColor.value = lights.spot.colors;\n\t\tuniforms.spotLightPosition.value = lights.spot.positions;\n\t\tuniforms.spotLightDistance.value = lights.spot.distances;\n\t\tuniforms.spotLightDirection.value = lights.spot.directions;\n\t\tuniforms.spotLightAngleCos.value = lights.spot.anglesCos;\n\t\tuniforms.spotLightExponent.value = lights.spot.exponents;\n\n\t\tuniforms.hemisphereLightSkyColor.value = lights.hemi.skyColors;\n\t\tuniforms.hemisphereLightGroundColor.value = lights.hemi.groundColors;\n\t\tuniforms.hemisphereLightDirection.value = lights.hemi.positions;\n\n\t};\n\n\tfunction refreshUniformsShadow ( uniforms, lights ) {\n\n\t\tif ( uniforms.shadowMatrix ) {\n\n\t\t\tvar j = 0;\n\n\t\t\tfor ( var i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\t\tvar light = lights[ i ];\n\n\t\t\t\tif ( ! light.castShadow ) continue;\n\n\t\t\t\tif ( light instanceof THREE.SpotLight || ( light instanceof THREE.DirectionalLight && ! light.shadowCascade ) ) {\n\n\t\t\t\t\tuniforms.shadowMap.value[ j ] = light.shadowMap;\n\t\t\t\t\tuniforms.shadowMapSize.value[ j ] = light.shadowMapSize;\n\n\t\t\t\t\tuniforms.shadowMatrix.value[ j ] = light.shadowMatrix;\n\n\t\t\t\t\tuniforms.shadowDarkness.value[ j ] = light.shadowDarkness;\n\t\t\t\t\tuniforms.shadowBias.value[ j ] = light.shadowBias;\n\n\t\t\t\t\tj ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\t// Uniforms (load to GPU)\n\n\tfunction loadUniformsMatrices ( uniforms, object ) {\n\n\t\t_gl.uniformMatrix4fv( uniforms.modelViewMatrix, false, object._modelViewMatrix.elements );\n\n\t\tif ( uniforms.normalMatrix ) {\n\n\t\t\t_gl.uniformMatrix3fv( uniforms.normalMatrix, false, object._normalMatrix.elements );\n\n\t\t}\n\n\t};\n\n\tfunction getTextureUnit() {\n\n\t\tvar textureUnit = _usedTextureUnits;\n\n\t\tif ( textureUnit >= _maxTextures ) {\n\n\t\t\tconsole.warn( \"WebGLRenderer: trying to use \" + textureUnit + \" texture units while this GPU supports only \" + _maxTextures );\n\n\t\t}\n\n\t\t_usedTextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t};\n\n\tfunction loadUniformsGeneric ( program, uniforms ) {\n\n\t\tvar uniform, value, type, location, texture, textureUnit, i, il, j, jl, offset;\n\n\t\tfor ( j = 0, jl = uniforms.length; j < jl; j ++ ) {\n\n\t\t\tlocation = program.uniforms[ uniforms[ j ][ 1 ] ];\n\t\t\tif ( !location ) continue;\n\n\t\t\tuniform = uniforms[ j ][ 0 ];\n\n\t\t\ttype = uniform.type;\n\t\t\tvalue = uniform.value;\n\n\t\t\tif ( type === \"i\" ) { // single integer\n\n\t\t\t\t_gl.uniform1i( location, value );\n\n\t\t\t} else if ( type === \"f\" ) { // single float\n\n\t\t\t\t_gl.uniform1f( location, value );\n\n\t\t\t} else if ( type === \"v2\" ) { // single THREE.Vector2\n\n\t\t\t\t_gl.uniform2f( location, value.x, value.y );\n\n\t\t\t} else if ( type === \"v3\" ) { // single THREE.Vector3\n\n\t\t\t\t_gl.uniform3f( location, value.x, value.y, value.z );\n\n\t\t\t} else if ( type === \"v4\" ) { // single THREE.Vector4\n\n\t\t\t\t_gl.uniform4f( location, value.x, value.y, value.z, value.w );\n\n\t\t\t} else if ( type === \"c\" ) { // single THREE.Color\n\n\t\t\t\t_gl.uniform3f( location, value.r, value.g, value.b );\n\n\t\t\t} else if ( type === \"iv1\" ) { // flat array of integers (JS or typed array)\n\n\t\t\t\t_gl.uniform1iv( location, value );\n\n\t\t\t} else if ( type === \"iv\" ) { // flat array of integers with 3 x N size (JS or typed array)\n\n\t\t\t\t_gl.uniform3iv( location, value );\n\n\t\t\t} else if ( type === \"fv1\" ) { // flat array of floats (JS or typed array)\n\n\t\t\t\t_gl.uniform1fv( location, value );\n\n\t\t\t} else if ( type === \"fv\" ) { // flat array of floats with 3 x N size (JS or typed array)\n\n\t\t\t\t_gl.uniform3fv( location, value );\n\n\t\t\t} else if ( type === \"v2v\" ) { // array of THREE.Vector2\n\n\t\t\t\tif ( uniform._array === undefined ) {\n\n\t\t\t\t\tuniform._array = new Float32Array( 2 * value.length );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( i = 0, il = value.length; i < il; i ++ ) {\n\n\t\t\t\t\toffset = i * 2;\n\n\t\t\t\t\tuniform._array[ offset ] \t = value[ i ].x;\n\t\t\t\t\tuniform._array[ offset + 1 ] = value[ i ].y;\n\n\t\t\t\t}\n\n\t\t\t\t_gl.uniform2fv( location, uniform._array );\n\n\t\t\t} else if ( type === \"v3v\" ) { // array of THREE.Vector3\n\n\t\t\t\tif ( uniform._array === undefined ) {\n\n\t\t\t\t\tuniform._array = new Float32Array( 3 * value.length );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( i = 0, il = value.length; i < il; i ++ ) {\n\n\t\t\t\t\toffset = i * 3;\n\n\t\t\t\t\tuniform._array[ offset ] \t = value[ i ].x;\n\t\t\t\t\tuniform._array[ offset + 1 ] = value[ i ].y;\n\t\t\t\t\tuniform._array[ offset + 2 ] = value[ i ].z;\n\n\t\t\t\t}\n\n\t\t\t\t_gl.uniform3fv( location, uniform._array );\n\n\t\t\t} else if ( type === \"v4v\" ) { // array of THREE.Vector4\n\n\t\t\t\tif ( uniform._array === undefined ) {\n\n\t\t\t\t\tuniform._array = new Float32Array( 4 * value.length );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( i = 0, il = value.length; i < il; i ++ ) {\n\n\t\t\t\t\toffset = i * 4;\n\n\t\t\t\t\tuniform._array[ offset ] \t = value[ i ].x;\n\t\t\t\t\tuniform._array[ offset + 1 ] = value[ i ].y;\n\t\t\t\t\tuniform._array[ offset + 2 ] = value[ i ].z;\n\t\t\t\t\tuniform._array[ offset + 3 ] = value[ i ].w;\n\n\t\t\t\t}\n\n\t\t\t\t_gl.uniform4fv( location, uniform._array );\n\n\t\t\t} else if ( type === \"m4\") { // single THREE.Matrix4\n\n\t\t\t\tif ( uniform._array === undefined ) {\n\n\t\t\t\t\tuniform._array = new Float32Array( 16 );\n\n\t\t\t\t}\n\n\t\t\t\tvalue.flattenToArray( uniform._array );\n\t\t\t\t_gl.uniformMatrix4fv( location, false, uniform._array );\n\n\t\t\t} else if ( type === \"m4v\" ) { // array of THREE.Matrix4\n\n\t\t\t\tif ( uniform._array === undefined ) {\n\n\t\t\t\t\tuniform._array = new Float32Array( 16 * value.length );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( i = 0, il = value.length; i < il; i ++ ) {\n\n\t\t\t\t\tvalue[ i ].flattenToArrayOffset( uniform._array, i * 16 );\n\n\t\t\t\t}\n\n\t\t\t\t_gl.uniformMatrix4fv( location, false, uniform._array );\n\n\t\t\t} else if ( type === \"t\" ) { // single THREE.Texture (2d or cube)\n\n\t\t\t\ttexture = value;\n\t\t\t\ttextureUnit = getTextureUnit();\n\n\t\t\t\t_gl.uniform1i( location, textureUnit );\n\n\t\t\t\tif ( !texture ) continue;\n\n\t\t\t\tif ( texture.image instanceof Array && texture.image.length === 6 ) {\n\n\t\t\t\t\tsetCubeTexture( texture, textureUnit );\n\n\t\t\t\t} else if ( texture instanceof THREE.WebGLRenderTargetCube ) {\n\n\t\t\t\t\tsetCubeTextureDynamic( texture, textureUnit );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_this.setTexture( texture, textureUnit );\n\n\t\t\t\t}\n\n\t\t\t} else if ( type === \"tv\" ) { // array of THREE.Texture (2d)\n\n\t\t\t\tif ( uniform._array === undefined ) {\n\n\t\t\t\t\tuniform._array = [];\n\n\t\t\t\t}\n\n\t\t\t\tfor( i = 0, il = uniform.value.length; i < il; i ++ ) {\n\n\t\t\t\t\tuniform._array[ i ] = getTextureUnit();\n\n\t\t\t\t}\n\n\t\t\t\t_gl.uniform1iv( location, uniform._array );\n\n\t\t\t\tfor( i = 0, il = uniform.value.length; i < il; i ++ ) {\n\n\t\t\t\t\ttexture = uniform.value[ i ];\n\t\t\t\t\ttextureUnit = uniform._array[ i ];\n\n\t\t\t\t\tif ( !texture ) continue;\n\n\t\t\t\t\t_this.setTexture( texture, textureUnit );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Unknown uniform type: ' + type );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tfunction setupMatrices ( object, camera ) {\n\n\t\tobject._modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject._normalMatrix.getNormalMatrix( object._modelViewMatrix );\n\n\t};\n\n\t//\n\n\tfunction setColorGamma( array, offset, color, intensitySq ) {\n\n\t\tarray[ offset ]     = color.r * color.r * intensitySq;\n\t\tarray[ offset + 1 ] = color.g * color.g * intensitySq;\n\t\tarray[ offset + 2 ] = color.b * color.b * intensitySq;\n\n\t};\n\n\tfunction setColorLinear( array, offset, color, intensity ) {\n\n\t\tarray[ offset ]     = color.r * intensity;\n\t\tarray[ offset + 1 ] = color.g * intensity;\n\t\tarray[ offset + 2 ] = color.b * intensity;\n\n\t};\n\n\tfunction setupLights ( program, lights ) {\n\n\t\tvar l, ll, light, n,\n\t\tr = 0, g = 0, b = 0,\n\t\tcolor, skyColor, groundColor,\n\t\tintensity,  intensitySq,\n\t\tposition,\n\t\tdistance,\n\n\t\tzlights = _lights,\n\n\t\tdirColors = zlights.directional.colors,\n\t\tdirPositions = zlights.directional.positions,\n\n\t\tpointColors = zlights.point.colors,\n\t\tpointPositions = zlights.point.positions,\n\t\tpointDistances = zlights.point.distances,\n\n\t\tspotColors = zlights.spot.colors,\n\t\tspotPositions = zlights.spot.positions,\n\t\tspotDistances = zlights.spot.distances,\n\t\tspotDirections = zlights.spot.directions,\n\t\tspotAnglesCos = zlights.spot.anglesCos,\n\t\tspotExponents = zlights.spot.exponents,\n\n\t\themiSkyColors = zlights.hemi.skyColors,\n\t\themiGroundColors = zlights.hemi.groundColors,\n\t\themiPositions = zlights.hemi.positions,\n\n\t\tdirLength = 0,\n\t\tpointLength = 0,\n\t\tspotLength = 0,\n\t\themiLength = 0,\n\n\t\tdirCount = 0,\n\t\tpointCount = 0,\n\t\tspotCount = 0,\n\t\themiCount = 0,\n\n\t\tdirOffset = 0,\n\t\tpointOffset = 0,\n\t\tspotOffset = 0,\n\t\themiOffset = 0;\n\n\t\tfor ( l = 0, ll = lights.length; l < ll; l ++ ) {\n\n\t\t\tlight = lights[ l ];\n\n\t\t\tif ( light.onlyShadow ) continue;\n\n\t\t\tcolor = light.color;\n\t\t\tintensity = light.intensity;\n\t\t\tdistance = light.distance;\n\n\t\t\tif ( light instanceof THREE.AmbientLight ) {\n\n\t\t\t\tif ( ! light.visible ) continue;\n\n\t\t\t\tif ( _this.gammaInput ) {\n\n\t\t\t\t\tr += color.r * color.r;\n\t\t\t\t\tg += color.g * color.g;\n\t\t\t\t\tb += color.b * color.b;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tr += color.r;\n\t\t\t\t\tg += color.g;\n\t\t\t\t\tb += color.b;\n\n\t\t\t\t}\n\n\t\t\t} else if ( light instanceof THREE.DirectionalLight ) {\n\n\t\t\t\tdirCount += 1;\n\n\t\t\t\tif ( ! light.visible ) continue;\n\n\t\t\t\t_direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\t_vector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\t_direction.sub( _vector3 );\n\t\t\t\t_direction.normalize();\n\n\t\t\t\t// skip lights with undefined direction\n\t\t\t\t// these create troubles in OpenGL (making pixel black)\n\n\t\t\t\tif ( _direction.x === 0 && _direction.y === 0 && _direction.z === 0 ) continue;\n\n\t\t\t\tdirOffset = dirLength * 3;\n\n\t\t\t\tdirPositions[ dirOffset ]     = _direction.x;\n\t\t\t\tdirPositions[ dirOffset + 1 ] = _direction.y;\n\t\t\t\tdirPositions[ dirOffset + 2 ] = _direction.z;\n\n\t\t\t\tif ( _this.gammaInput ) {\n\n\t\t\t\t\tsetColorGamma( dirColors, dirOffset, color, intensity * intensity );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tsetColorLinear( dirColors, dirOffset, color, intensity );\n\n\t\t\t\t}\n\n\t\t\t\tdirLength += 1;\n\n\t\t\t} else if ( light instanceof THREE.PointLight ) {\n\n\t\t\t\tpointCount += 1;\n\n\t\t\t\tif ( ! light.visible ) continue;\n\n\t\t\t\tpointOffset = pointLength * 3;\n\n\t\t\t\tif ( _this.gammaInput ) {\n\n\t\t\t\t\tsetColorGamma( pointColors, pointOffset, color, intensity * intensity );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tsetColorLinear( pointColors, pointOffset, color, intensity );\n\n\t\t\t\t}\n\n\t\t\t\t_vector3.setFromMatrixPosition( light.matrixWorld );\n\n\t\t\t\tpointPositions[ pointOffset ]     = _vector3.x;\n\t\t\t\tpointPositions[ pointOffset + 1 ] = _vector3.y;\n\t\t\t\tpointPositions[ pointOffset + 2 ] = _vector3.z;\n\n\t\t\t\tpointDistances[ pointLength ] = distance;\n\n\t\t\t\tpointLength += 1;\n\n\t\t\t} else if ( light instanceof THREE.SpotLight ) {\n\n\t\t\t\tspotCount += 1;\n\n\t\t\t\tif ( ! light.visible ) continue;\n\n\t\t\t\tspotOffset = spotLength * 3;\n\n\t\t\t\tif ( _this.gammaInput ) {\n\n\t\t\t\t\tsetColorGamma( spotColors, spotOffset, color, intensity * intensity );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tsetColorLinear( spotColors, spotOffset, color, intensity );\n\n\t\t\t\t}\n\n\t\t\t\t_vector3.setFromMatrixPosition( light.matrixWorld );\n\n\t\t\t\tspotPositions[ spotOffset ]     = _vector3.x;\n\t\t\t\tspotPositions[ spotOffset + 1 ] = _vector3.y;\n\t\t\t\tspotPositions[ spotOffset + 2 ] = _vector3.z;\n\n\t\t\t\tspotDistances[ spotLength ] = distance;\n\n\t\t\t\t_direction.copy( _vector3 );\n\t\t\t\t_vector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\t_direction.sub( _vector3 );\n\t\t\t\t_direction.normalize();\n\n\t\t\t\tspotDirections[ spotOffset ]     = _direction.x;\n\t\t\t\tspotDirections[ spotOffset + 1 ] = _direction.y;\n\t\t\t\tspotDirections[ spotOffset + 2 ] = _direction.z;\n\n\t\t\t\tspotAnglesCos[ spotLength ] = Math.cos( light.angle );\n\t\t\t\tspotExponents[ spotLength ] = light.exponent;\n\n\t\t\t\tspotLength += 1;\n\n\t\t\t} else if ( light instanceof THREE.HemisphereLight ) {\n\n\t\t\t\themiCount += 1;\n\n\t\t\t\tif ( ! light.visible ) continue;\n\n\t\t\t\t_direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\t_direction.normalize();\n\n\t\t\t\t// skip lights with undefined direction\n\t\t\t\t// these create troubles in OpenGL (making pixel black)\n\n\t\t\t\tif ( _direction.x === 0 && _direction.y === 0 && _direction.z === 0 ) continue;\n\n\t\t\t\themiOffset = hemiLength * 3;\n\n\t\t\t\themiPositions[ hemiOffset ]     = _direction.x;\n\t\t\t\themiPositions[ hemiOffset + 1 ] = _direction.y;\n\t\t\t\themiPositions[ hemiOffset + 2 ] = _direction.z;\n\n\t\t\t\tskyColor = light.color;\n\t\t\t\tgroundColor = light.groundColor;\n\n\t\t\t\tif ( _this.gammaInput ) {\n\n\t\t\t\t\tintensitySq = intensity * intensity;\n\n\t\t\t\t\tsetColorGamma( hemiSkyColors, hemiOffset, skyColor, intensitySq );\n\t\t\t\t\tsetColorGamma( hemiGroundColors, hemiOffset, groundColor, intensitySq );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tsetColorLinear( hemiSkyColors, hemiOffset, skyColor, intensity );\n\t\t\t\t\tsetColorLinear( hemiGroundColors, hemiOffset, groundColor, intensity );\n\n\t\t\t\t}\n\n\t\t\t\themiLength += 1;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// null eventual remains from removed lights\n\t\t// (this is to avoid if in shader)\n\n\t\tfor ( l = dirLength * 3, ll = Math.max( dirColors.length, dirCount * 3 ); l < ll; l ++ ) dirColors[ l ] = 0.0;\n\t\tfor ( l = pointLength * 3, ll = Math.max( pointColors.length, pointCount * 3 ); l < ll; l ++ ) pointColors[ l ] = 0.0;\n\t\tfor ( l = spotLength * 3, ll = Math.max( spotColors.length, spotCount * 3 ); l < ll; l ++ ) spotColors[ l ] = 0.0;\n\t\tfor ( l = hemiLength * 3, ll = Math.max( hemiSkyColors.length, hemiCount * 3 ); l < ll; l ++ ) hemiSkyColors[ l ] = 0.0;\n\t\tfor ( l = hemiLength * 3, ll = Math.max( hemiGroundColors.length, hemiCount * 3 ); l < ll; l ++ ) hemiGroundColors[ l ] = 0.0;\n\n\t\tzlights.directional.length = dirLength;\n\t\tzlights.point.length = pointLength;\n\t\tzlights.spot.length = spotLength;\n\t\tzlights.hemi.length = hemiLength;\n\n\t\tzlights.ambient[ 0 ] = r;\n\t\tzlights.ambient[ 1 ] = g;\n\t\tzlights.ambient[ 2 ] = b;\n\n\t};\n\n\t// GL state setting\n\n\tthis.setFaceCulling = function ( cullFace, frontFaceDirection ) {\n\n\t\tif ( cullFace === THREE.CullFaceNone ) {\n\n\t\t\t_gl.disable( _gl.CULL_FACE );\n\n\t\t} else {\n\n\t\t\tif ( frontFaceDirection === THREE.FrontFaceDirectionCW ) {\n\n\t\t\t\t_gl.frontFace( _gl.CW );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.frontFace( _gl.CCW );\n\n\t\t\t}\n\n\t\t\tif ( cullFace === THREE.CullFaceBack ) {\n\n\t\t\t\t_gl.cullFace( _gl.BACK );\n\n\t\t\t} else if ( cullFace === THREE.CullFaceFront ) {\n\n\t\t\t\t_gl.cullFace( _gl.FRONT );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.cullFace( _gl.FRONT_AND_BACK );\n\n\t\t\t}\n\n\t\t\t_gl.enable( _gl.CULL_FACE );\n\n\t\t}\n\n\t};\n\n\tthis.setMaterialFaces = function ( material ) {\n\n\t\tvar doubleSided = material.side === THREE.DoubleSide;\n\t\tvar flipSided = material.side === THREE.BackSide;\n\n\t\tif ( _oldDoubleSided !== doubleSided ) {\n\n\t\t\tif ( doubleSided ) {\n\n\t\t\t\t_gl.disable( _gl.CULL_FACE );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.enable( _gl.CULL_FACE );\n\n\t\t\t}\n\n\t\t\t_oldDoubleSided = doubleSided;\n\n\t\t}\n\n\t\tif ( _oldFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\t_gl.frontFace( _gl.CW );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.frontFace( _gl.CCW );\n\n\t\t\t}\n\n\t\t\t_oldFlipSided = flipSided;\n\n\t\t}\n\n\t};\n\n\tthis.setDepthTest = function ( depthTest ) {\n\n\t\tif ( _oldDepthTest !== depthTest ) {\n\n\t\t\tif ( depthTest ) {\n\n\t\t\t\t_gl.enable( _gl.DEPTH_TEST );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.disable( _gl.DEPTH_TEST );\n\n\t\t\t}\n\n\t\t\t_oldDepthTest = depthTest;\n\n\t\t}\n\n\t};\n\n\tthis.setDepthWrite = function ( depthWrite ) {\n\n\t\tif ( _oldDepthWrite !== depthWrite ) {\n\n\t\t\t_gl.depthMask( depthWrite );\n\t\t\t_oldDepthWrite = depthWrite;\n\n\t\t}\n\n\t};\n\n\tfunction setLineWidth ( width ) {\n\n\t\tif ( width !== _oldLineWidth ) {\n\n\t\t\t_gl.lineWidth( width );\n\n\t\t\t_oldLineWidth = width;\n\n\t\t}\n\n\t};\n\n\tfunction setPolygonOffset ( polygonoffset, factor, units ) {\n\n\t\tif ( _oldPolygonOffset !== polygonoffset ) {\n\n\t\t\tif ( polygonoffset ) {\n\n\t\t\t\t_gl.enable( _gl.POLYGON_OFFSET_FILL );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.disable( _gl.POLYGON_OFFSET_FILL );\n\n\t\t\t}\n\n\t\t\t_oldPolygonOffset = polygonoffset;\n\n\t\t}\n\n\t\tif ( polygonoffset && ( _oldPolygonOffsetFactor !== factor || _oldPolygonOffsetUnits !== units ) ) {\n\n\t\t\t_gl.polygonOffset( factor, units );\n\n\t\t\t_oldPolygonOffsetFactor = factor;\n\t\t\t_oldPolygonOffsetUnits = units;\n\n\t\t}\n\n\t};\n\n\tthis.setBlending = function ( blending, blendEquation, blendSrc, blendDst ) {\n\n\t\tif ( blending !== _oldBlending ) {\n\n\t\t\tif ( blending === THREE.NoBlending ) {\n\n\t\t\t\t_gl.disable( _gl.BLEND );\n\n\t\t\t} else if ( blending === THREE.AdditiveBlending ) {\n\n\t\t\t\t_gl.enable( _gl.BLEND );\n\t\t\t\t_gl.blendEquation( _gl.FUNC_ADD );\n\t\t\t\t_gl.blendFunc( _gl.SRC_ALPHA, _gl.ONE );\n\n\t\t\t} else if ( blending === THREE.SubtractiveBlending ) {\n\n\t\t\t\t// TODO: Find blendFuncSeparate() combination\n\t\t\t\t_gl.enable( _gl.BLEND );\n\t\t\t\t_gl.blendEquation( _gl.FUNC_ADD );\n\t\t\t\t_gl.blendFunc( _gl.ZERO, _gl.ONE_MINUS_SRC_COLOR );\n\n\t\t\t} else if ( blending === THREE.MultiplyBlending ) {\n\n\t\t\t\t// TODO: Find blendFuncSeparate() combination\n\t\t\t\t_gl.enable( _gl.BLEND );\n\t\t\t\t_gl.blendEquation( _gl.FUNC_ADD );\n\t\t\t\t_gl.blendFunc( _gl.ZERO, _gl.SRC_COLOR );\n\n\t\t\t} else if ( blending === THREE.CustomBlending ) {\n\n\t\t\t\t_gl.enable( _gl.BLEND );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.enable( _gl.BLEND );\n\t\t\t\t_gl.blendEquationSeparate( _gl.FUNC_ADD, _gl.FUNC_ADD );\n\t\t\t\t_gl.blendFuncSeparate( _gl.SRC_ALPHA, _gl.ONE_MINUS_SRC_ALPHA, _gl.ONE, _gl.ONE_MINUS_SRC_ALPHA );\n\n\t\t\t}\n\n\t\t\t_oldBlending = blending;\n\n\t\t}\n\n\t\tif ( blending === THREE.CustomBlending ) {\n\n\t\t\tif ( blendEquation !== _oldBlendEquation ) {\n\n\t\t\t\t_gl.blendEquation( paramThreeToGL( blendEquation ) );\n\n\t\t\t\t_oldBlendEquation = blendEquation;\n\n\t\t\t}\n\n\t\t\tif ( blendSrc !== _oldBlendSrc || blendDst !== _oldBlendDst ) {\n\n\t\t\t\t_gl.blendFunc( paramThreeToGL( blendSrc ), paramThreeToGL( blendDst ) );\n\n\t\t\t\t_oldBlendSrc = blendSrc;\n\t\t\t\t_oldBlendDst = blendDst;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_oldBlendEquation = null;\n\t\t\t_oldBlendSrc = null;\n\t\t\t_oldBlendDst = null;\n\n\t\t}\n\n\t};\n\n\t// Defines\n\n\tfunction generateDefines ( defines ) {\n\n\t\tvar value, chunk, chunks = [];\n\n\t\tfor ( var d in defines ) {\n\n\t\t\tvalue = defines[ d ];\n\t\t\tif ( value === false ) continue;\n\n\t\t\tchunk = \"#define \" + d + \" \" + value;\n\t\t\tchunks.push( chunk );\n\n\t\t}\n\n\t\treturn chunks.join( \"\\n\" );\n\n\t};\n\n\t// Shaders\n\n\tfunction buildProgram ( shaderID, fragmentShader, vertexShader, uniforms, attributes, defines, parameters, index0AttributeName ) {\n\n\t\tvar p, pl, d, program, code;\n\t\tvar chunks = [];\n\n\t\t// Generate code\n\n\t\tif ( shaderID ) {\n\n\t\t\tchunks.push( shaderID );\n\n\t\t} else {\n\n\t\t\tchunks.push( fragmentShader );\n\t\t\tchunks.push( vertexShader );\n\n\t\t}\n\n\t\tfor ( d in defines ) {\n\n\t\t\tchunks.push( d );\n\t\t\tchunks.push( defines[ d ] );\n\n\t\t}\n\n\t\tfor ( p in parameters ) {\n\n\t\t\tchunks.push( p );\n\t\t\tchunks.push( parameters[ p ] );\n\n\t\t}\n\n\t\tcode = chunks.join();\n\n\t\t// Check if code has been already compiled\n\n\t\tfor ( p = 0, pl = _programs.length; p < pl; p ++ ) {\n\n\t\t\tvar programInfo = _programs[ p ];\n\n\t\t\tif ( programInfo.code === code ) {\n\n\t\t\t\t// console.log( \"Code already compiled.\" /*: \\n\\n\" + code*/ );\n\n\t\t\t\tprogramInfo.usedTimes ++;\n\n\t\t\t\treturn programInfo.program;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar shadowMapTypeDefine = \"SHADOWMAP_TYPE_BASIC\";\n\n\t\tif ( parameters.shadowMapType === THREE.PCFShadowMap ) {\n\n\t\t\tshadowMapTypeDefine = \"SHADOWMAP_TYPE_PCF\";\n\n\t\t} else if ( parameters.shadowMapType === THREE.PCFSoftShadowMap ) {\n\n\t\t\tshadowMapTypeDefine = \"SHADOWMAP_TYPE_PCF_SOFT\";\n\n\t\t}\n\n\t\t// console.log( \"building new program \" );\n\n\t\t//\n\n\t\tvar customDefines = generateDefines( defines );\n\n\t\t//\n\n\t\tprogram = _gl.createProgram();\n\n\t\tvar prefix_vertex = [\n\n\t\t\t\"precision \" + _precision + \" float;\",\n\t\t\t\"precision \" + _precision + \" int;\",\n\n\t\t\tcustomDefines,\n\n\t\t\t_supportsVertexTextures ? \"#define VERTEX_TEXTURES\" : \"\",\n\n\t\t\t_this.gammaInput ? \"#define GAMMA_INPUT\" : \"\",\n\t\t\t_this.gammaOutput ? \"#define GAMMA_OUTPUT\" : \"\",\n\n\t\t\t\"#define MAX_DIR_LIGHTS \" + parameters.maxDirLights,\n\t\t\t\"#define MAX_POINT_LIGHTS \" + parameters.maxPointLights,\n\t\t\t\"#define MAX_SPOT_LIGHTS \" + parameters.maxSpotLights,\n\t\t\t\"#define MAX_HEMI_LIGHTS \" + parameters.maxHemiLights,\n\n\t\t\t\"#define MAX_SHADOWS \" + parameters.maxShadows,\n\n\t\t\t\"#define MAX_BONES \" + parameters.maxBones,\n\n\t\t\tparameters.map ? \"#define USE_MAP\" : \"\",\n\t\t\tparameters.envMap ? \"#define USE_ENVMAP\" : \"\",\n\t\t\tparameters.lightMap ? \"#define USE_LIGHTMAP\" : \"\",\n\t\t\tparameters.bumpMap ? \"#define USE_BUMPMAP\" : \"\",\n\t\t\tparameters.normalMap ? \"#define USE_NORMALMAP\" : \"\",\n\t\t\tparameters.specularMap ? \"#define USE_SPECULARMAP\" : \"\",\n\t\t\tparameters.vertexColors ? \"#define USE_COLOR\" : \"\",\n\n\t\t\tparameters.skinning ? \"#define USE_SKINNING\" : \"\",\n\t\t\tparameters.useVertexTexture ? \"#define BONE_TEXTURE\" : \"\",\n\n\t\t\tparameters.morphTargets ? \"#define USE_MORPHTARGETS\" : \"\",\n\t\t\tparameters.morphNormals ? \"#define USE_MORPHNORMALS\" : \"\",\n\t\t\tparameters.perPixel ? \"#define PHONG_PER_PIXEL\" : \"\",\n\t\t\tparameters.wrapAround ? \"#define WRAP_AROUND\" : \"\",\n\t\t\tparameters.doubleSided ? \"#define DOUBLE_SIDED\" : \"\",\n\t\t\tparameters.flipSided ? \"#define FLIP_SIDED\" : \"\",\n\n\t\t\tparameters.shadowMapEnabled ? \"#define USE_SHADOWMAP\" : \"\",\n\t\t\tparameters.shadowMapEnabled ? \"#define \" + shadowMapTypeDefine : \"\",\n\t\t\tparameters.shadowMapDebug ? \"#define SHADOWMAP_DEBUG\" : \"\",\n\t\t\tparameters.shadowMapCascade ? \"#define SHADOWMAP_CASCADE\" : \"\",\n\n\t\t\tparameters.sizeAttenuation ? \"#define USE_SIZEATTENUATION\" : \"\",\n\n\t\t\t\"uniform mat4 modelMatrix;\",\n\t\t\t\"uniform mat4 modelViewMatrix;\",\n\t\t\t\"uniform mat4 projectionMatrix;\",\n\t\t\t\"uniform mat4 viewMatrix;\",\n\t\t\t\"uniform mat3 normalMatrix;\",\n\t\t\t\"uniform vec3 cameraPosition;\",\n\n\t\t\t\"attribute vec3 position;\",\n\t\t\t\"attribute vec3 normal;\",\n\t\t\t\"attribute vec2 uv;\",\n\t\t\t\"attribute vec2 uv2;\",\n\n\t\t\t\"#ifdef USE_COLOR\",\n\n\t\t\t\t\"attribute vec3 color;\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"#ifdef USE_MORPHTARGETS\",\n\n\t\t\t\t\"attribute vec3 morphTarget0;\",\n\t\t\t\t\"attribute vec3 morphTarget1;\",\n\t\t\t\t\"attribute vec3 morphTarget2;\",\n\t\t\t\t\"attribute vec3 morphTarget3;\",\n\n\t\t\t\t\"#ifdef USE_MORPHNORMALS\",\n\n\t\t\t\t\t\"attribute vec3 morphNormal0;\",\n\t\t\t\t\t\"attribute vec3 morphNormal1;\",\n\t\t\t\t\t\"attribute vec3 morphNormal2;\",\n\t\t\t\t\t\"attribute vec3 morphNormal3;\",\n\n\t\t\t\t\"#else\",\n\n\t\t\t\t\t\"attribute vec3 morphTarget4;\",\n\t\t\t\t\t\"attribute vec3 morphTarget5;\",\n\t\t\t\t\t\"attribute vec3 morphTarget6;\",\n\t\t\t\t\t\"attribute vec3 morphTarget7;\",\n\n\t\t\t\t\"#endif\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"#ifdef USE_SKINNING\",\n\n\t\t\t\t\"attribute vec4 skinIndex;\",\n\t\t\t\t\"attribute vec4 skinWeight;\",\n\n\t\t\t\"#endif\",\n\n\t\t\t\"\"\n\n\t\t].join(\"\\n\");\n\n\t\tvar prefix_fragment = [\n\n\t\t\t\"precision \" + _precision + \" float;\",\n\t\t\t\"precision \" + _precision + \" int;\",\n\n\t\t\t( parameters.bumpMap || parameters.normalMap ) ? \"#extension GL_OES_standard_derivatives : enable\" : \"\",\n\n\t\t\tcustomDefines,\n\n\t\t\t\"#define MAX_DIR_LIGHTS \" + parameters.maxDirLights,\n\t\t\t\"#define MAX_POINT_LIGHTS \" + parameters.maxPointLights,\n\t\t\t\"#define MAX_SPOT_LIGHTS \" + parameters.maxSpotLights,\n\t\t\t\"#define MAX_HEMI_LIGHTS \" + parameters.maxHemiLights,\n\n\t\t\t\"#define MAX_SHADOWS \" + parameters.maxShadows,\n\n\t\t\tparameters.alphaTest ? \"#define ALPHATEST \" + parameters.alphaTest: \"\",\n\n\t\t\t_this.gammaInput ? \"#define GAMMA_INPUT\" : \"\",\n\t\t\t_this.gammaOutput ? \"#define GAMMA_OUTPUT\" : \"\",\n\n\t\t\t( parameters.useFog && parameters.fog ) ? \"#define USE_FOG\" : \"\",\n\t\t\t( parameters.useFog && parameters.fogExp ) ? \"#define FOG_EXP2\" : \"\",\n\n\t\t\tparameters.map ? \"#define USE_MAP\" : \"\",\n\t\t\tparameters.envMap ? \"#define USE_ENVMAP\" : \"\",\n\t\t\tparameters.lightMap ? \"#define USE_LIGHTMAP\" : \"\",\n\t\t\tparameters.bumpMap ? \"#define USE_BUMPMAP\" : \"\",\n\t\t\tparameters.normalMap ? \"#define USE_NORMALMAP\" : \"\",\n\t\t\tparameters.specularMap ? \"#define USE_SPECULARMAP\" : \"\",\n\t\t\tparameters.vertexColors ? \"#define USE_COLOR\" : \"\",\n\n\t\t\tparameters.metal ? \"#define METAL\" : \"\",\n\t\t\tparameters.perPixel ? \"#define PHONG_PER_PIXEL\" : \"\",\n\t\t\tparameters.wrapAround ? \"#define WRAP_AROUND\" : \"\",\n\t\t\tparameters.doubleSided ? \"#define DOUBLE_SIDED\" : \"\",\n\t\t\tparameters.flipSided ? \"#define FLIP_SIDED\" : \"\",\n\n\t\t\tparameters.shadowMapEnabled ? \"#define USE_SHADOWMAP\" : \"\",\n\t\t\tparameters.shadowMapEnabled ? \"#define \" + shadowMapTypeDefine : \"\",\n\t\t\tparameters.shadowMapDebug ? \"#define SHADOWMAP_DEBUG\" : \"\",\n\t\t\tparameters.shadowMapCascade ? \"#define SHADOWMAP_CASCADE\" : \"\",\n\n\t\t\t\"uniform mat4 viewMatrix;\",\n\t\t\t\"uniform vec3 cameraPosition;\",\n\t\t\t\"\"\n\n\t\t].join(\"\\n\");\n\n\t\tvar glVertexShader = getShader( \"vertex\", prefix_vertex + vertexShader );\n\t\tvar glFragmentShader = getShader( \"fragment\", prefix_fragment + fragmentShader );\n\n\t\t_gl.attachShader( program, glVertexShader );\n\t\t_gl.attachShader( program, glFragmentShader );\n\n\t\t//Force a particular attribute to index 0.\n\t\t// because potentially expensive emulation is done by browser if attribute 0 is disabled.\n\t\t//And, color, for example is often automatically bound to index 0 so disabling it\n\t\tif ( index0AttributeName ) {\n\t\t\t_gl.bindAttribLocation( program, 0, index0AttributeName );\n\t\t}\n\n\t\t_gl.linkProgram( program );\n\n\t\tif ( !_gl.getProgramParameter( program, _gl.LINK_STATUS ) ) {\n\n\t\t\tconsole.error( \"Could not initialise shader\\n\" + \"VALIDATE_STATUS: \" + _gl.getProgramParameter( program, _gl.VALIDATE_STATUS ) + \", gl error [\" + _gl.getError() + \"]\" );\n\t\t\tconsole.error( \"Program Info Log: \" + _gl.getProgramInfoLog( program ) );\n\t\t}\n\n\t\t// clean up\n\n\t\t_gl.deleteShader( glFragmentShader );\n\t\t_gl.deleteShader( glVertexShader );\n\n\t\t// console.log( prefix_fragment + fragmentShader );\n\t\t// console.log( prefix_vertex + vertexShader );\n\n\t\tprogram.uniforms = {};\n\t\tprogram.attributes = {};\n\n\t\tvar identifiers, u, a, i;\n\n\t\t// cache uniform locations\n\n\t\tidentifiers = [\n\n\t\t\t'viewMatrix', 'modelViewMatrix', 'projectionMatrix', 'normalMatrix', 'modelMatrix', 'cameraPosition',\n\t\t\t'morphTargetInfluences'\n\n\t\t];\n\n\t\tif ( parameters.useVertexTexture ) {\n\n\t\t\tidentifiers.push( 'boneTexture' );\n\t\t\tidentifiers.push( 'boneTextureWidth' );\n\t\t\tidentifiers.push( 'boneTextureHeight' );\n\n\t\t} else {\n\n\t\t\tidentifiers.push( 'boneGlobalMatrices' );\n\n\t\t}\n\n\t\tfor ( u in uniforms ) {\n\n\t\t\tidentifiers.push( u );\n\n\t\t}\n\n\t\tcacheUniformLocations( program, identifiers );\n\n\t\t// cache attributes locations\n\n\t\tidentifiers = [\n\n\t\t\t\"position\", \"normal\", \"uv\", \"uv2\", \"tangent\", \"color\",\n\t\t\t\"skinIndex\", \"skinWeight\", \"lineDistance\"\n\n\t\t];\n\n\t\tfor ( i = 0; i < parameters.maxMorphTargets; i ++ ) {\n\n\t\t\tidentifiers.push( \"morphTarget\" + i );\n\n\t\t}\n\n\t\tfor ( i = 0; i < parameters.maxMorphNormals; i ++ ) {\n\n\t\t\tidentifiers.push( \"morphNormal\" + i );\n\n\t\t}\n\n\t\tfor ( a in attributes ) {\n\n\t\t\tidentifiers.push( a );\n\n\t\t}\n\n\t\tcacheAttributeLocations( program, identifiers );\n\n\t\tprogram.id = _programs_counter ++;\n\n\t\t_programs.push( { program: program, code: code, usedTimes: 1 } );\n\n\t\t_this.info.memory.programs = _programs.length;\n\n\t\treturn program;\n\n\t};\n\n\t// Shader parameters cache\n\n\tfunction cacheUniformLocations ( program, identifiers ) {\n\n\t\tvar i, l, id;\n\n\t\tfor( i = 0, l = identifiers.length; i < l; i ++ ) {\n\n\t\t\tid = identifiers[ i ];\n\t\t\tprogram.uniforms[ id ] = _gl.getUniformLocation( program, id );\n\n\t\t}\n\n\t};\n\n\tfunction cacheAttributeLocations ( program, identifiers ) {\n\n\t\tvar i, l, id;\n\n\t\tfor( i = 0, l = identifiers.length; i < l; i ++ ) {\n\n\t\t\tid = identifiers[ i ];\n\t\t\tprogram.attributes[ id ] = _gl.getAttribLocation( program, id );\n\n\t\t}\n\n\t};\n\n\tfunction addLineNumbers ( string ) {\n\n\t\tvar chunks = string.split( \"\\n\" );\n\n\t\tfor ( var i = 0, il = chunks.length; i < il; i ++ ) {\n\n\t\t\t// Chrome reports shader errors on lines\n\t\t\t// starting counting from 1\n\n\t\t\tchunks[ i ] = ( i + 1 ) + \": \" + chunks[ i ];\n\n\t\t}\n\n\t\treturn chunks.join( \"\\n\" );\n\n\t};\n\n\tfunction getShader ( type, string ) {\n\n\t\tvar shader;\n\n\t\tif ( type === \"fragment\" ) {\n\n\t\t\tshader = _gl.createShader( _gl.FRAGMENT_SHADER );\n\n\t\t} else if ( type === \"vertex\" ) {\n\n\t\t\tshader = _gl.createShader( _gl.VERTEX_SHADER );\n\n\t\t}\n\n\t\t_gl.shaderSource( shader, string );\n\t\t_gl.compileShader( shader );\n\n\t\tif ( !_gl.getShaderParameter( shader, _gl.COMPILE_STATUS ) ) {\n\n\t\t\tconsole.error( _gl.getShaderInfoLog( shader ) );\n\t\t\tconsole.error( addLineNumbers( string ) );\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn shader;\n\n\t};\n\n\t// Textures\n\n\n\tfunction isPowerOfTwo ( value ) {\n\n\t\treturn ( value & ( value - 1 ) ) === 0;\n\n\t};\n\n\tfunction setTextureParameters ( textureType, texture, isImagePowerOfTwo ) {\n\n\t\tif ( isImagePowerOfTwo ) {\n\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_S, paramThreeToGL( texture.wrapS ) );\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_T, paramThreeToGL( texture.wrapT ) );\n\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MAG_FILTER, paramThreeToGL( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MIN_FILTER, paramThreeToGL( texture.minFilter ) );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_S, _gl.CLAMP_TO_EDGE );\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_T, _gl.CLAMP_TO_EDGE );\n\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MAG_FILTER, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MIN_FILTER, filterFallback( texture.minFilter ) );\n\n\t\t}\n\n\t\tif ( _glExtensionTextureFilterAnisotropic && texture.type !== THREE.FloatType ) {\n\n\t\t\tif ( texture.anisotropy > 1 || texture.__oldAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, _glExtensionTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, _maxAnisotropy ) );\n\t\t\t\ttexture.__oldAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.setTexture = function ( texture, slot ) {\n\n\t\tif ( texture.needsUpdate ) {\n\n\t\t\tif ( ! texture.__webglInit ) {\n\n\t\t\t\ttexture.__webglInit = true;\n\n\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\ttexture.__webglTexture = _gl.createTexture();\n\n\t\t\t\t_this.info.memory.textures ++;\n\n\t\t\t}\n\n\t\t\t_gl.activeTexture( _gl.TEXTURE0 + slot );\n\t\t\t_gl.bindTexture( _gl.TEXTURE_2D, texture.__webglTexture );\n\n\t\t\t_gl.pixelStorei( _gl.UNPACK_FLIP_Y_WEBGL, texture.flipY );\n\t\t\t_gl.pixelStorei( _gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.premultiplyAlpha );\n\t\t\t_gl.pixelStorei( _gl.UNPACK_ALIGNMENT, texture.unpackAlignment );\n\n\t\t\tvar image = texture.image,\n\t\t\tisImagePowerOfTwo = isPowerOfTwo( image.width ) && isPowerOfTwo( image.height ),\n\t\t\tglFormat = paramThreeToGL( texture.format ),\n\t\t\tglType = paramThreeToGL( texture.type );\n\n\t\t\tsetTextureParameters( _gl.TEXTURE_2D, texture, isImagePowerOfTwo );\n\n\t\t\tvar mipmap, mipmaps = texture.mipmaps;\n\n\t\t\tif ( texture instanceof THREE.DataTexture ) {\n\n\t\t\t\t// use manually created mipmaps if available\n\t\t\t\t// if there are no manual mipmaps\n\t\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\t\tif ( mipmaps.length > 0 && isImagePowerOfTwo ) {\n\n\t\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\t\t_gl.texImage2D( _gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.generateMipmaps = false;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_gl.texImage2D( _gl.TEXTURE_2D, 0, glFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\n\t\t\t\t}\n\n\t\t\t} else if ( texture instanceof THREE.CompressedTexture ) {\n\n\t\t\t\tfor( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tif ( texture.format!==THREE.RGBAFormat ) {\n\t\t\t\t\t\t_gl.compressedTexImage2D( _gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_gl.texImage2D( _gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else { // regular Texture (image, video, canvas)\n\n\t\t\t\t// use manually created mipmaps if available\n\t\t\t\t// if there are no manual mipmaps\n\t\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\t\tif ( mipmaps.length > 0 && isImagePowerOfTwo ) {\n\n\t\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\t\t_gl.texImage2D( _gl.TEXTURE_2D, i, glFormat, glFormat, glType, mipmap );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.generateMipmaps = false;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_gl.texImage2D( _gl.TEXTURE_2D, 0, glFormat, glFormat, glType, texture.image );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( texture.generateMipmaps && isImagePowerOfTwo ) _gl.generateMipmap( _gl.TEXTURE_2D );\n\n\t\t\ttexture.needsUpdate = false;\n\n\t\t\tif ( texture.onUpdate ) texture.onUpdate();\n\n\t\t} else {\n\n\t\t\t_gl.activeTexture( _gl.TEXTURE0 + slot );\n\t\t\t_gl.bindTexture( _gl.TEXTURE_2D, texture.__webglTexture );\n\n\t\t}\n\n\t};\n\n\tfunction clampToMaxSize ( image, maxSize ) {\n\n\t\tif ( image.width <= maxSize && image.height <= maxSize ) {\n\n\t\t\treturn image;\n\n\t\t}\n\n\t\t// Warning: Scaling through the canvas will only work with images that use\n\t\t// premultiplied alpha.\n\n\t\tvar maxDimension = Math.max( image.width, image.height );\n\t\tvar newWidth = Math.floor( image.width * maxSize / maxDimension );\n\t\tvar newHeight = Math.floor( image.height * maxSize / maxDimension );\n\n\t\tvar canvas = document.createElement( 'canvas' );\n\t\tcanvas.width = newWidth;\n\t\tcanvas.height = newHeight;\n\n\t\tvar ctx = canvas.getContext( \"2d\" );\n\t\tctx.drawImage( image, 0, 0, image.width, image.height, 0, 0, newWidth, newHeight );\n\n\t\treturn canvas;\n\n\t}\n\n\tfunction setCubeTexture ( texture, slot ) {\n\n\t\tif ( texture.image.length === 6 ) {\n\n\t\t\tif ( texture.needsUpdate ) {\n\n\t\t\t\tif ( ! texture.image.__webglTextureCube ) {\n\n\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\ttexture.image.__webglTextureCube = _gl.createTexture();\n\n\t\t\t\t\t_this.info.memory.textures ++;\n\n\t\t\t\t}\n\n\t\t\t\t_gl.activeTexture( _gl.TEXTURE0 + slot );\n\t\t\t\t_gl.bindTexture( _gl.TEXTURE_CUBE_MAP, texture.image.__webglTextureCube );\n\n\t\t\t\t_gl.pixelStorei( _gl.UNPACK_FLIP_Y_WEBGL, texture.flipY );\n\n\t\t\t\tvar isCompressed = texture instanceof THREE.CompressedTexture;\n\n\t\t\t\tvar cubeImage = [];\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif ( _this.autoScaleCubemaps && ! isCompressed ) {\n\n\t\t\t\t\t\tcubeImage[ i ] = clampToMaxSize( texture.image[ i ], _maxCubemapSize );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tcubeImage[ i ] = texture.image[ i ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tvar image = cubeImage[ 0 ],\n\t\t\t\tisImagePowerOfTwo = isPowerOfTwo( image.width ) && isPowerOfTwo( image.height ),\n\t\t\t\tglFormat = paramThreeToGL( texture.format ),\n\t\t\t\tglType = paramThreeToGL( texture.type );\n\n\t\t\t\tsetTextureParameters( _gl.TEXTURE_CUBE_MAP, texture, isImagePowerOfTwo );\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif( !isCompressed ) {\n\n\t\t\t\t\t\t_gl.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar mipmap, mipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\t\t\tfor( var j = 0, jl = mipmaps.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tmipmap = mipmaps[ j ];\n\t\t\t\t\t\t\tif ( texture.format!==THREE.RGBAFormat ) {\n\n\t\t\t\t\t\t\t\t_gl.compressedTexImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_gl.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( texture.generateMipmaps && isImagePowerOfTwo ) {\n\n\t\t\t\t\t_gl.generateMipmap( _gl.TEXTURE_CUBE_MAP );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.needsUpdate = false;\n\n\t\t\t\tif ( texture.onUpdate ) texture.onUpdate();\n\n\t\t\t} else {\n\n\t\t\t\t_gl.activeTexture( _gl.TEXTURE0 + slot );\n\t\t\t\t_gl.bindTexture( _gl.TEXTURE_CUBE_MAP, texture.image.__webglTextureCube );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tfunction setCubeTextureDynamic ( texture, slot ) {\n\n\t\t_gl.activeTexture( _gl.TEXTURE0 + slot );\n\t\t_gl.bindTexture( _gl.TEXTURE_CUBE_MAP, texture.__webglTexture );\n\n\t};\n\n\t// Render targets\n\n\tfunction setupFrameBuffer ( framebuffer, renderTarget, textureTarget ) {\n\n\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\t\t_gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, textureTarget, renderTarget.__webglTexture, 0 );\n\n\t};\n\n\tfunction setupRenderBuffer ( renderbuffer, renderTarget  ) {\n\n\t\t_gl.bindRenderbuffer( _gl.RENDERBUFFER, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.DEPTH_COMPONENT16, renderTarget.width, renderTarget.height );\n\t\t\t_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer );\n\n\t\t/* For some reason this is not working. Defaulting to RGBA4.\n\t\t} else if( ! renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.STENCIL_INDEX8, renderTarget.width, renderTarget.height );\n\t\t\t_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.STENCIL_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer );\n\t\t*/\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.DEPTH_STENCIL, renderTarget.width, renderTarget.height );\n\t\t\t_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer );\n\n\t\t} else {\n\n\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.RGBA4, renderTarget.width, renderTarget.height );\n\n\t\t}\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget ) {\n\n\t\tvar isCube = ( renderTarget instanceof THREE.WebGLRenderTargetCube );\n\n\t\tif ( renderTarget && ! renderTarget.__webglFramebuffer ) {\n\n\t\t\tif ( renderTarget.depthBuffer === undefined ) renderTarget.depthBuffer = true;\n\t\t\tif ( renderTarget.stencilBuffer === undefined ) renderTarget.stencilBuffer = true;\n\n\t\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\t\trenderTarget.__webglTexture = _gl.createTexture();\n\n\t\t\t_this.info.memory.textures ++;\n\n\t\t\t// Setup texture, create render and frame buffers\n\n\t\t\tvar isTargetPowerOfTwo = isPowerOfTwo( renderTarget.width ) && isPowerOfTwo( renderTarget.height ),\n\t\t\t\tglFormat = paramThreeToGL( renderTarget.format ),\n\t\t\t\tglType = paramThreeToGL( renderTarget.type );\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTarget.__webglFramebuffer = [];\n\t\t\t\trenderTarget.__webglRenderbuffer = [];\n\n\t\t\t\t_gl.bindTexture( _gl.TEXTURE_CUBE_MAP, renderTarget.__webglTexture );\n\t\t\t\tsetTextureParameters( _gl.TEXTURE_CUBE_MAP, renderTarget, isTargetPowerOfTwo );\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\trenderTarget.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\t\t\t\t\trenderTarget.__webglRenderbuffer[ i ] = _gl.createRenderbuffer();\n\n\t\t\t\t\t_gl.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\n\t\t\t\t\tsetupFrameBuffer( renderTarget.__webglFramebuffer[ i ], renderTarget, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i );\n\t\t\t\t\tsetupRenderBuffer( renderTarget.__webglRenderbuffer[ i ], renderTarget );\n\n\t\t\t\t}\n\n\t\t\t\tif ( isTargetPowerOfTwo ) _gl.generateMipmap( _gl.TEXTURE_CUBE_MAP );\n\n\t\t\t} else {\n\n\t\t\t\trenderTarget.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\t\tif ( renderTarget.shareDepthFrom ) {\n\n\t\t\t\t\trenderTarget.__webglRenderbuffer = renderTarget.shareDepthFrom.__webglRenderbuffer;\n\n\t\t\t\t} else {\n\n\t\t\t\t\trenderTarget.__webglRenderbuffer = _gl.createRenderbuffer();\n\n\t\t\t\t}\n\n\t\t\t\t_gl.bindTexture( _gl.TEXTURE_2D, renderTarget.__webglTexture );\n\t\t\t\tsetTextureParameters( _gl.TEXTURE_2D, renderTarget, isTargetPowerOfTwo );\n\n\t\t\t\t_gl.texImage2D( _gl.TEXTURE_2D, 0, glFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\n\t\t\t\tsetupFrameBuffer( renderTarget.__webglFramebuffer, renderTarget, _gl.TEXTURE_2D );\n\n\t\t\t\tif ( renderTarget.shareDepthFrom ) {\n\n\t\t\t\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\t\t\t\t_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.RENDERBUFFER, renderTarget.__webglRenderbuffer );\n\n\t\t\t\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\t\t\t\t_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.RENDERBUFFER, renderTarget.__webglRenderbuffer );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tsetupRenderBuffer( renderTarget.__webglRenderbuffer, renderTarget );\n\n\t\t\t\t}\n\n\t\t\t\tif ( isTargetPowerOfTwo ) _gl.generateMipmap( _gl.TEXTURE_2D );\n\n\t\t\t}\n\n\t\t\t// Release everything\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\t_gl.bindTexture( _gl.TEXTURE_CUBE_MAP, null );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.bindTexture( _gl.TEXTURE_2D, null );\n\n\t\t\t}\n\n\t\t\t_gl.bindRenderbuffer( _gl.RENDERBUFFER, null );\n\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, null );\n\n\t\t}\n\n\t\tvar framebuffer, width, height, vx, vy;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\tframebuffer = renderTarget.__webglFramebuffer[ renderTarget.activeCubeFace ];\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = renderTarget.__webglFramebuffer;\n\n\t\t\t}\n\n\t\t\twidth = renderTarget.width;\n\t\t\theight = renderTarget.height;\n\n\t\t\tvx = 0;\n\t\t\tvy = 0;\n\n\t\t} else {\n\n\t\t\tframebuffer = null;\n\n\t\t\twidth = _viewportWidth;\n\t\t\theight = _viewportHeight;\n\n\t\t\tvx = _viewportX;\n\t\t\tvy = _viewportY;\n\n\t\t}\n\n\t\tif ( framebuffer !== _currentFramebuffer ) {\n\n\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\t\t\t_gl.viewport( vx, vy, width, height );\n\n\t\t\t_currentFramebuffer = framebuffer;\n\n\t\t}\n\n\t\t_currentWidth = width;\n\t\t_currentHeight = height;\n\n\t};\n\n\tfunction updateRenderTargetMipmap ( renderTarget ) {\n\n\t\tif ( renderTarget instanceof THREE.WebGLRenderTargetCube ) {\n\n\t\t\t_gl.bindTexture( _gl.TEXTURE_CUBE_MAP, renderTarget.__webglTexture );\n\t\t\t_gl.generateMipmap( _gl.TEXTURE_CUBE_MAP );\n\t\t\t_gl.bindTexture( _gl.TEXTURE_CUBE_MAP, null );\n\n\t\t} else {\n\n\t\t\t_gl.bindTexture( _gl.TEXTURE_2D, renderTarget.__webglTexture );\n\t\t\t_gl.generateMipmap( _gl.TEXTURE_2D );\n\t\t\t_gl.bindTexture( _gl.TEXTURE_2D, null );\n\n\t\t}\n\n\t};\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback ( f ) {\n\n\t\tif ( f === THREE.NearestFilter || f === THREE.NearestMipMapNearestFilter || f === THREE.NearestMipMapLinearFilter ) {\n\n\t\t\treturn _gl.NEAREST;\n\n\t\t}\n\n\t\treturn _gl.LINEAR;\n\n\t};\n\n\t// Map three.js constants to WebGL constants\n\n\tfunction paramThreeToGL ( p ) {\n\n\t\tif ( p === THREE.RepeatWrapping ) return _gl.REPEAT;\n\t\tif ( p === THREE.ClampToEdgeWrapping ) return _gl.CLAMP_TO_EDGE;\n\t\tif ( p === THREE.MirroredRepeatWrapping ) return _gl.MIRRORED_REPEAT;\n\n\t\tif ( p === THREE.NearestFilter ) return _gl.NEAREST;\n\t\tif ( p === THREE.NearestMipMapNearestFilter ) return _gl.NEAREST_MIPMAP_NEAREST;\n\t\tif ( p === THREE.NearestMipMapLinearFilter ) return _gl.NEAREST_MIPMAP_LINEAR;\n\n\t\tif ( p === THREE.LinearFilter ) return _gl.LINEAR;\n\t\tif ( p === THREE.LinearMipMapNearestFilter ) return _gl.LINEAR_MIPMAP_NEAREST;\n\t\tif ( p === THREE.LinearMipMapLinearFilter ) return _gl.LINEAR_MIPMAP_LINEAR;\n\n\t\tif ( p === THREE.UnsignedByteType ) return _gl.UNSIGNED_BYTE;\n\t\tif ( p === THREE.UnsignedShort4444Type ) return _gl.UNSIGNED_SHORT_4_4_4_4;\n\t\tif ( p === THREE.UnsignedShort5551Type ) return _gl.UNSIGNED_SHORT_5_5_5_1;\n\t\tif ( p === THREE.UnsignedShort565Type ) return _gl.UNSIGNED_SHORT_5_6_5;\n\n\t\tif ( p === THREE.ByteType ) return _gl.BYTE;\n\t\tif ( p === THREE.ShortType ) return _gl.SHORT;\n\t\tif ( p === THREE.UnsignedShortType ) return _gl.UNSIGNED_SHORT;\n\t\tif ( p === THREE.IntType ) return _gl.INT;\n\t\tif ( p === THREE.UnsignedIntType ) return _gl.UNSIGNED_INT;\n\t\tif ( p === THREE.FloatType ) return _gl.FLOAT;\n\n\t\tif ( p === THREE.AlphaFormat ) return _gl.ALPHA;\n\t\tif ( p === THREE.RGBFormat ) return _gl.RGB;\n\t\tif ( p === THREE.RGBAFormat ) return _gl.RGBA;\n\t\tif ( p === THREE.LuminanceFormat ) return _gl.LUMINANCE;\n\t\tif ( p === THREE.LuminanceAlphaFormat ) return _gl.LUMINANCE_ALPHA;\n\n\t\tif ( p === THREE.AddEquation ) return _gl.FUNC_ADD;\n\t\tif ( p === THREE.SubtractEquation ) return _gl.FUNC_SUBTRACT;\n\t\tif ( p === THREE.ReverseSubtractEquation ) return _gl.FUNC_REVERSE_SUBTRACT;\n\n\t\tif ( p === THREE.ZeroFactor ) return _gl.ZERO;\n\t\tif ( p === THREE.OneFactor ) return _gl.ONE;\n\t\tif ( p === THREE.SrcColorFactor ) return _gl.SRC_COLOR;\n\t\tif ( p === THREE.OneMinusSrcColorFactor ) return _gl.ONE_MINUS_SRC_COLOR;\n\t\tif ( p === THREE.SrcAlphaFactor ) return _gl.SRC_ALPHA;\n\t\tif ( p === THREE.OneMinusSrcAlphaFactor ) return _gl.ONE_MINUS_SRC_ALPHA;\n\t\tif ( p === THREE.DstAlphaFactor ) return _gl.DST_ALPHA;\n\t\tif ( p === THREE.OneMinusDstAlphaFactor ) return _gl.ONE_MINUS_DST_ALPHA;\n\n\t\tif ( p === THREE.DstColorFactor ) return _gl.DST_COLOR;\n\t\tif ( p === THREE.OneMinusDstColorFactor ) return _gl.ONE_MINUS_DST_COLOR;\n\t\tif ( p === THREE.SrcAlphaSaturateFactor ) return _gl.SRC_ALPHA_SATURATE;\n\n\t\tif ( _glExtensionCompressedTextureS3TC !== undefined ) {\n\n\t\t\tif ( p === THREE.RGB_S3TC_DXT1_Format ) return _glExtensionCompressedTextureS3TC.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\tif ( p === THREE.RGBA_S3TC_DXT1_Format ) return _glExtensionCompressedTextureS3TC.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\tif ( p === THREE.RGBA_S3TC_DXT3_Format ) return _glExtensionCompressedTextureS3TC.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\tif ( p === THREE.RGBA_S3TC_DXT5_Format ) return _glExtensionCompressedTextureS3TC.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t}\n\n\t\treturn 0;\n\n\t};\n\n\t// Allocations\n\n\tfunction allocateBones ( object ) {\n\n\t\tif ( _supportsBoneTextures && object && object.useVertexTexture ) {\n\n\t\t\treturn 1024;\n\n\t\t} else {\n\n\t\t\t// default for when object is not specified\n\t\t\t// ( for example when prebuilding shader\n\t\t\t//   to be used with multiple objects )\n\t\t\t//\n\t\t\t// \t- leave some extra space for other uniforms\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\n\t\t\t//    (up to 54 should be safe)\n\n\t\t\tvar nVertexUniforms = _gl.getParameter( _gl.MAX_VERTEX_UNIFORM_VECTORS );\n\t\t\tvar nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\n\n\t\t\tvar maxBones = nVertexMatrices;\n\n\t\t\tif ( object !== undefined && object instanceof THREE.SkinnedMesh ) {\n\n\t\t\t\tmaxBones = Math.min( object.bones.length, maxBones );\n\n\t\t\t\tif ( maxBones < object.bones.length ) {\n\n\t\t\t\t\tconsole.warn( \"WebGLRenderer: too many bones - \" + object.bones.length + \", this GPU supports just \" + maxBones + \" (try OpenGL instead of ANGLE)\" );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn maxBones;\n\n\t\t}\n\n\t};\n\n\tfunction allocateLights( lights ) {\n\n\t\tvar dirLights = 0;\n\t\tvar pointLights = 0;\n\t\tvar spotLights = 0;\n\t\tvar hemiLights = 0;\n\n\t\tfor ( var l = 0, ll = lights.length; l < ll; l ++ ) {\n\n\t\t\tvar light = lights[ l ];\n\n\t\t\tif ( light.onlyShadow ) continue;\n\n\t\t\tif ( light instanceof THREE.DirectionalLight ) dirLights ++;\n\t\t\tif ( light instanceof THREE.PointLight ) pointLights ++;\n\t\t\tif ( light instanceof THREE.SpotLight ) spotLights ++;\n\t\t\tif ( light instanceof THREE.HemisphereLight ) hemiLights ++;\n\n\t\t}\n\n\t\treturn { 'directional' : dirLights, 'point' : pointLights, 'spot': spotLights, 'hemi': hemiLights };\n\n\t};\n\n\tfunction allocateShadows( lights ) {\n\n\t\tvar maxShadows = 0;\n\n\t\tfor ( var l = 0, ll = lights.length; l < ll; l++ ) {\n\n\t\t\tvar light = lights[ l ];\n\n\t\t\tif ( ! light.castShadow ) continue;\n\n\t\t\tif ( light instanceof THREE.SpotLight ) maxShadows ++;\n\t\t\tif ( light instanceof THREE.DirectionalLight && ! light.shadowCascade ) maxShadows ++;\n\n\t\t}\n\n\t\treturn maxShadows;\n\n\t};\n\n\t// Initialization\n\n\tfunction initGL() {\n\n\t\ttry {\n\n\t\t\tvar attributes = {\n\t\t\t\talpha: _alpha,\n\t\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\t\tantialias: _antialias,\n\t\t\t\tstencil: _stencil,\n\t\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer\n\t\t\t};\n\n\t\t\t_gl = _canvas.getContext( 'webgl', attributes ) || _canvas.getContext( 'experimental-webgl', attributes );\n\n\t\t\tif ( _gl === null ) {\n\n\t\t\t\tthrow 'Error creating WebGL context.';\n\n\t\t\t}\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( error );\n\n\t\t}\n\n\t\t_glExtensionTextureFloat = _gl.getExtension( 'OES_texture_float' );\n\t\t_glExtensionTextureFloatLinear = _gl.getExtension( 'OES_texture_float_linear' );\n\t\t_glExtensionStandardDerivatives = _gl.getExtension( 'OES_standard_derivatives' );\n\n\t\t_glExtensionTextureFilterAnisotropic = _gl.getExtension( 'EXT_texture_filter_anisotropic' ) || _gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || _gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\n\t\t_glExtensionCompressedTextureS3TC = _gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || _gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || _gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\n\t\tif ( ! _glExtensionTextureFloat ) {\n\n\t\t\tconsole.log( 'THREE.WebGLRenderer: Float textures not supported.' );\n\n\t\t}\n\n\t\tif ( ! _glExtensionStandardDerivatives ) {\n\n\t\t\tconsole.log( 'THREE.WebGLRenderer: Standard derivatives not supported.' );\n\n\t\t}\n\n\t\tif ( ! _glExtensionTextureFilterAnisotropic ) {\n\n\t\t\tconsole.log( 'THREE.WebGLRenderer: Anisotropic texture filtering not supported.' );\n\n\t\t}\n\n\t\tif ( ! _glExtensionCompressedTextureS3TC ) {\n\n\t\t\tconsole.log( 'THREE.WebGLRenderer: S3TC compressed textures not supported.' );\n\n\t\t}\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function() {\n\n\t\t\t\treturn {\n\t\t\t\t\t\"rangeMin\"  : 1,\n\t\t\t\t\t\"rangeMax\"  : 1,\n\t\t\t\t\t\"precision\" : 1\n\t\t\t\t};\n\n\t\t\t}\n\t\t}\n\n\t};\n\n\tfunction setDefaultGLState () {\n\n\t\t_gl.clearColor( 0, 0, 0, 1 );\n\t\t_gl.clearDepth( 1 );\n\t\t_gl.clearStencil( 0 );\n\n\t\t_gl.enable( _gl.DEPTH_TEST );\n\t\t_gl.depthFunc( _gl.LEQUAL );\n\n\t\t_gl.frontFace( _gl.CCW );\n\t\t_gl.cullFace( _gl.BACK );\n\t\t_gl.enable( _gl.CULL_FACE );\n\n\t\t_gl.enable( _gl.BLEND );\n\t\t_gl.blendEquation( _gl.FUNC_ADD );\n\t\t_gl.blendFunc( _gl.SRC_ALPHA, _gl.ONE_MINUS_SRC_ALPHA );\n\n\t\t_gl.viewport( _viewportX, _viewportY, _viewportWidth, _viewportHeight );\n\t\t\n\t\t_gl.clearColor( _clearColor.r, _clearColor.g, _clearColor.b, _clearAlpha );\n\n\t};\n\n\t// default plugins (order is important)\n\n\tthis.shadowMapPlugin = new THREE.ShadowMapPlugin();\n\tthis.addPrePlugin( this.shadowMapPlugin );\n\n\tthis.addPostPlugin( new THREE.SpritePlugin() );\n\tthis.addPostPlugin( new THREE.LensFlarePlugin() );\n\n};\n\n/**\n * @author szimek / https://github.com/szimek/\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.WebGLRenderTarget = function ( width, height, options ) {\n\n\tthis.width = width;\n\tthis.height = height;\n\n\toptions = options || {};\n\n\tthis.wrapS = options.wrapS !== undefined ? options.wrapS : THREE.ClampToEdgeWrapping;\n\tthis.wrapT = options.wrapT !== undefined ? options.wrapT : THREE.ClampToEdgeWrapping;\n\n\tthis.magFilter = options.magFilter !== undefined ? options.magFilter : THREE.LinearFilter;\n\tthis.minFilter = options.minFilter !== undefined ? options.minFilter : THREE.LinearMipMapLinearFilter;\n\n\tthis.anisotropy = options.anisotropy !== undefined ? options.anisotropy : 1;\n\n\tthis.offset = new THREE.Vector2( 0, 0 );\n\tthis.repeat = new THREE.Vector2( 1, 1 );\n\n\tthis.format = options.format !== undefined ? options.format : THREE.RGBAFormat;\n\tthis.type = options.type !== undefined ? options.type : THREE.UnsignedByteType;\n\n\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : true;\n\n\tthis.generateMipmaps = true;\n\n\tthis.shareDepthFrom = null;\n\n};\n\nTHREE.WebGLRenderTarget.prototype = {\n\n\tconstructor: THREE.WebGLRenderTarget,\n\n\tclone: function () {\n\n\t\tvar tmp = new THREE.WebGLRenderTarget( this.width, this.height );\n\n\t\ttmp.wrapS = this.wrapS;\n\t\ttmp.wrapT = this.wrapT;\n\n\t\ttmp.magFilter = this.magFilter;\n\t\ttmp.minFilter = this.minFilter;\n\n\t\ttmp.anisotropy = this.anisotropy;\n\n\t\ttmp.offset.copy( this.offset );\n\t\ttmp.repeat.copy( this.repeat );\n\n\t\ttmp.format = this.format;\n\t\ttmp.type = this.type;\n\n\t\ttmp.depthBuffer = this.depthBuffer;\n\t\ttmp.stencilBuffer = this.stencilBuffer;\n\n\t\ttmp.generateMipmaps = this.generateMipmaps;\n\n\t\ttmp.shareDepthFrom = this.shareDepthFrom;\n\n\t\treturn tmp;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n};\n\nTHREE.EventDispatcher.prototype.apply( THREE.WebGLRenderTarget.prototype );\n\n/**\n * @author alteredq / http://alteredqualia.com\n */\n\nTHREE.WebGLRenderTargetCube = function ( width, height, options ) {\n\n\tTHREE.WebGLRenderTarget.call( this, width, height, options );\n\n\tthis.activeCubeFace = 0; // PX 0, NX 1, PY 2, NY 3, PZ 4, NZ 5\n\n};\n\nTHREE.WebGLRenderTargetCube.prototype = Object.create( THREE.WebGLRenderTarget.prototype );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.RenderableVertex = function () {\n\n\tthis.position = new THREE.Vector3();\n\tthis.positionWorld = new THREE.Vector3();\n\tthis.positionScreen = new THREE.Vector4();\n\n\tthis.visible = true;\n\n};\n\nTHREE.RenderableVertex.prototype.copy = function ( vertex ) {\n\n\tthis.positionWorld.copy( vertex.positionWorld );\n\tthis.positionScreen.copy( vertex.positionScreen );\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.RenderableFace3 = function () {\n\n\tthis.id = 0;\n\n\tthis.v1 = new THREE.RenderableVertex();\n\tthis.v2 = new THREE.RenderableVertex();\n\tthis.v3 = new THREE.RenderableVertex();\n\n\tthis.centroidModel = new THREE.Vector3();\n\n\tthis.normalModel = new THREE.Vector3();\n\tthis.normalModelView = new THREE.Vector3();\n\n\tthis.vertexNormalsLength = 0;\n\tthis.vertexNormalsModel = [ new THREE.Vector3(), new THREE.Vector3(), new THREE.Vector3() ];\n\tthis.vertexNormalsModelView = [ new THREE.Vector3(), new THREE.Vector3(), new THREE.Vector3() ];\n\n\tthis.color = null;\n\tthis.material = null;\n\tthis.uvs = [[]];\n\n\tthis.z = 0;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.RenderableObject = function () {\n\n\tthis.id = 0;\n\n\tthis.object = null;\n\tthis.z = 0;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.RenderableSprite = function () {\n\n\tthis.id = 0;\n\n\tthis.object = null;\n\n\tthis.x = 0;\n\tthis.y = 0;\n\tthis.z = 0;\n\n\tthis.rotation = 0;\n\tthis.scale = new THREE.Vector2();\n\n\tthis.material = null;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.RenderableLine = function () {\n\n\tthis.id = 0;\n\n\tthis.v1 = new THREE.RenderableVertex();\n\tthis.v2 = new THREE.RenderableVertex();\n\n\tthis.vertexColors = [ new THREE.Color(), new THREE.Color() ];\n\tthis.material = null;\n\n\tthis.z = 0;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.GeometryUtils = {\n\n\t// Merge two geometries or geometry and geometry from object (using object's transform)\n\n\tmerge: function ( geometry1, object2 /* mesh | geometry */, materialIndexOffset ) {\n\n\t\tvar matrix, normalMatrix,\n\t\tvertexOffset = geometry1.vertices.length,\n\t\tuvPosition = geometry1.faceVertexUvs[ 0 ].length,\n\t\tgeometry2 = object2 instanceof THREE.Mesh ? object2.geometry : object2,\n\t\tvertices1 = geometry1.vertices,\n\t\tvertices2 = geometry2.vertices,\n\t\tfaces1 = geometry1.faces,\n\t\tfaces2 = geometry2.faces,\n\t\tuvs1 = geometry1.faceVertexUvs[ 0 ],\n\t\tuvs2 = geometry2.faceVertexUvs[ 0 ];\n\n\t\tif ( materialIndexOffset === undefined ) materialIndexOffset = 0;\n\n\t\tif ( object2 instanceof THREE.Mesh ) {\n\n\t\t\tobject2.matrixAutoUpdate && object2.updateMatrix();\n\n\t\t\tmatrix = object2.matrix;\n\n\t\t\tnormalMatrix = new THREE.Matrix3().getNormalMatrix( matrix );\n\n\t\t}\n\n\t\t// vertices\n\n\t\tfor ( var i = 0, il = vertices2.length; i < il; i ++ ) {\n\n\t\t\tvar vertex = vertices2[ i ];\n\n\t\t\tvar vertexCopy = vertex.clone();\n\n\t\t\tif ( matrix ) vertexCopy.applyMatrix4( matrix );\n\n\t\t\tvertices1.push( vertexCopy );\n\n\t\t}\n\n\t\t// faces\n\n\t\tfor ( i = 0, il = faces2.length; i < il; i ++ ) {\n\n\t\t\tvar face = faces2[ i ], faceCopy, normal, color,\n\t\t\tfaceVertexNormals = face.vertexNormals,\n\t\t\tfaceVertexColors = face.vertexColors;\n\n\t\t\tfaceCopy = new THREE.Face3( face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset );\n\t\t\tfaceCopy.normal.copy( face.normal );\n\n\t\t\tif ( normalMatrix ) {\n\n\t\t\t\tfaceCopy.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0, jl = faceVertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tnormal = faceVertexNormals[ j ].clone();\n\n\t\t\t\tif ( normalMatrix ) {\n\n\t\t\t\t\tnormal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t\t}\n\n\t\t\t\tfaceCopy.vertexNormals.push( normal );\n\n\t\t\t}\n\n\t\t\tfaceCopy.color.copy( face.color );\n\n\t\t\tfor ( var j = 0, jl = faceVertexColors.length; j < jl; j ++ ) {\n\n\t\t\t\tcolor = faceVertexColors[ j ];\n\t\t\t\tfaceCopy.vertexColors.push( color.clone() );\n\n\t\t\t}\n\n\t\t\tfaceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n\n\t\t\tfaceCopy.centroid.copy( face.centroid );\n\n\t\t\tif ( matrix ) {\n\n\t\t\t\tfaceCopy.centroid.applyMatrix4( matrix );\n\n\t\t\t}\n\n\t\t\tfaces1.push( faceCopy );\n\n\t\t}\n\n\t\t// uvs\n\n\t\tfor ( i = 0, il = uvs2.length; i < il; i ++ ) {\n\n\t\t\tvar uv = uvs2[ i ], uvCopy = [];\n\n\t\t\tfor ( var j = 0, jl = uv.length; j < jl; j ++ ) {\n\n\t\t\t\tuvCopy.push( new THREE.Vector2( uv[ j ].x, uv[ j ].y ) );\n\n\t\t\t}\n\n\t\t\tuvs1.push( uvCopy );\n\n\t\t}\n\n\t},\n\n\t// Get random point in triangle (via barycentric coordinates)\n\t// \t(uniform distribution)\n\t// \thttp://www.cgafaq.info/wiki/Random_Point_In_Triangle\n\n\trandomPointInTriangle: function () {\n\n\t\tvar vector = new THREE.Vector3();\n\n\t\treturn function ( vectorA, vectorB, vectorC ) {\n\n\t\t\tvar point = new THREE.Vector3();\n\n\t\t\tvar a = THREE.Math.random16();\n\t\t\tvar b = THREE.Math.random16();\n\n\t\t\tif ( ( a + b ) > 1 ) {\n\n\t\t\t\ta = 1 - a;\n\t\t\t\tb = 1 - b;\n\n\t\t\t}\n\n\t\t\tvar c = 1 - a - b;\n\n\t\t\tpoint.copy( vectorA );\n\t\t\tpoint.multiplyScalar( a );\n\n\t\t\tvector.copy( vectorB );\n\t\t\tvector.multiplyScalar( b );\n\n\t\t\tpoint.add( vector );\n\n\t\t\tvector.copy( vectorC );\n\t\t\tvector.multiplyScalar( c );\n\n\t\t\tpoint.add( vector );\n\n\t\t\treturn point;\n\n\t\t};\n\n\t}(),\n\n\t// Get random point in face (triangle / quad)\n\t// (uniform distribution)\n\n\trandomPointInFace: function ( face, geometry, useCachedAreas ) {\n\n\t\tvar vA, vB, vC, vD;\n\n\t\tvA = geometry.vertices[ face.a ];\n\t\tvB = geometry.vertices[ face.b ];\n\t\tvC = geometry.vertices[ face.c ];\n\n\t\treturn THREE.GeometryUtils.randomPointInTriangle( vA, vB, vC );\n\n\t},\n\n\t// Get uniformly distributed random points in mesh\n\t// \t- create array with cumulative sums of face areas\n\t//  - pick random number from 0 to total area\n\t//  - find corresponding place in area array by binary search\n\t//\t- get random point in face\n\n\trandomPointsInGeometry: function ( geometry, n ) {\n\n\t\tvar face, i,\n\t\t\tfaces = geometry.faces,\n\t\t\tvertices = geometry.vertices,\n\t\t\til = faces.length,\n\t\t\ttotalArea = 0,\n\t\t\tcumulativeAreas = [],\n\t\t\tvA, vB, vC, vD;\n\n\t\t// precompute face areas\n\n\t\tfor ( i = 0; i < il; i ++ ) {\n\n\t\t\tface = faces[ i ];\n\n\t\t\tvA = vertices[ face.a ];\n\t\t\tvB = vertices[ face.b ];\n\t\t\tvC = vertices[ face.c ];\n\n\t\t\tface._area = THREE.GeometryUtils.triangleArea( vA, vB, vC );\n\n\t\t\ttotalArea += face._area;\n\n\t\t\tcumulativeAreas[ i ] = totalArea;\n\n\t\t}\n\n\t\t// binary search cumulative areas array\n\n\t\tfunction binarySearchIndices( value ) {\n\n\t\t\tfunction binarySearch( start, end ) {\n\n\t\t\t\t// return closest larger index\n\t\t\t\t// if exact number is not found\n\n\t\t\t\tif ( end < start )\n\t\t\t\t\treturn start;\n\n\t\t\t\tvar mid = start + Math.floor( ( end - start ) / 2 );\n\n\t\t\t\tif ( cumulativeAreas[ mid ] > value ) {\n\n\t\t\t\t\treturn binarySearch( start, mid - 1 );\n\n\t\t\t\t} else if ( cumulativeAreas[ mid ] < value ) {\n\n\t\t\t\t\treturn binarySearch( mid + 1, end );\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn mid;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar result = binarySearch( 0, cumulativeAreas.length - 1 )\n\t\t\treturn result;\n\n\t\t}\n\n\t\t// pick random face weighted by face area\n\n\t\tvar r, index,\n\t\t\tresult = [];\n\n\t\tvar stats = {};\n\n\t\tfor ( i = 0; i < n; i ++ ) {\n\n\t\t\tr = THREE.Math.random16() * totalArea;\n\n\t\t\tindex = binarySearchIndices( r );\n\n\t\t\tresult[ i ] = THREE.GeometryUtils.randomPointInFace( faces[ index ], geometry, true );\n\n\t\t\tif ( ! stats[ index ] ) {\n\n\t\t\t\tstats[ index ] = 1;\n\n\t\t\t} else {\n\n\t\t\t\tstats[ index ] += 1;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// Get triangle area (half of parallelogram)\n\t//\thttp://mathworld.wolfram.com/TriangleArea.html\n\n\ttriangleArea: function () {\n\n\t\tvar vector1 = new THREE.Vector3();\n\t\tvar vector2 = new THREE.Vector3();\n\n\t\treturn function ( vectorA, vectorB, vectorC ) {\n\n\t\t\tvector1.subVectors( vectorB, vectorA );\n\t\t\tvector2.subVectors( vectorC, vectorA );\n\t\t\tvector1.cross( vector2 );\n\n\t\t\treturn 0.5 * vector1.length();\n\n\t\t};\n\n\t}(),\n\n\t// Center geometry so that 0,0,0 is in center of bounding box\n\n\tcenter: function ( geometry ) {\n\n\t\tgeometry.computeBoundingBox();\n\n\t\tvar bb = geometry.boundingBox;\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\toffset.addVectors( bb.min, bb.max );\n\t\toffset.multiplyScalar( -0.5 );\n\n\t\tgeometry.applyMatrix( new THREE.Matrix4().makeTranslation( offset.x, offset.y, offset.z ) );\n\t\tgeometry.computeBoundingBox();\n\n\t\treturn offset;\n\n\t},\n\n\ttriangulateQuads: function ( geometry ) {\n\n\t\tvar i, il, j, jl;\n\n\t\tvar faces = [];\n\t\tvar faceVertexUvs = [];\n\n\t\tfor ( i = 0, il = geometry.faceVertexUvs.length; i < il; i ++ ) {\n\n\t\t\tfaceVertexUvs[ i ] = [];\n\n\t\t}\n\n\t\tfor ( i = 0, il = geometry.faces.length; i < il; i ++ ) {\n\n\t\t\tvar face = geometry.faces[ i ];\n\n\t\t\tfaces.push( face );\n\n\t\t\tfor ( j = 0, jl = geometry.faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tfaceVertexUvs[ j ].push( geometry.faceVertexUvs[ j ][ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.faces = faces;\n\t\tgeometry.faceVertexUvs = faceVertexUvs;\n\n\t\tgeometry.computeCentroids();\n\t\tgeometry.computeFaceNormals();\n\t\tgeometry.computeVertexNormals();\n\n\t\tif ( geometry.hasTangents ) geometry.computeTangents();\n\n\t}\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.ImageUtils = {\n\n\tcrossOrigin: undefined,\n\n\tloadTexture: function ( url, mapping, onLoad, onError ) {\n\n\t\tvar loader = new THREE.ImageLoader();\n\t\tloader.crossOrigin = this.crossOrigin;\n\n\t\tvar texture = new THREE.Texture( undefined, mapping );\n\n\t\tvar image = loader.load( url, function () {\n\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t} );\n\n\t\ttexture.image = image;\n\t\ttexture.sourceFile = url;\n\n\t\treturn texture;\n\n\t},\n\n\tloadCompressedTexture: function ( url, mapping, onLoad, onError ) {\n\n\t\tvar texture = new THREE.CompressedTexture();\n\t\ttexture.mapping = mapping;\n\n\t\tvar request = new XMLHttpRequest();\n\n\t\trequest.onload = function () {\n\n\t\t\tvar buffer = request.response;\n\t\t\tvar dds = THREE.ImageUtils.parseDDS( buffer, true );\n\n\t\t\ttexture.format = dds.format;\n\n\t\t\ttexture.mipmaps = dds.mipmaps;\n\t\t\ttexture.image.width = dds.width;\n\t\t\ttexture.image.height = dds.height;\n\n\t\t\t// gl.generateMipmap fails for compressed textures\n\t\t\t// mipmaps must be embedded in the DDS file\n\t\t\t// or texture filters must not use mipmapping\n\n\t\t\ttexture.generateMipmaps = false;\n\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t}\n\n\t\trequest.onerror = onError;\n\n\t\trequest.open( 'GET', url, true );\n\t\trequest.responseType = \"arraybuffer\";\n\t\trequest.send( null );\n\n\t\treturn texture;\n\n\t},\n\n\tloadTextureCube: function ( array, mapping, onLoad, onError ) {\n\n\t\tvar images = [];\n\t\timages.loadCount = 0;\n\n\t\tvar texture = new THREE.Texture();\n\t\ttexture.image = images;\n\t\tif ( mapping !== undefined ) texture.mapping = mapping;\n\n\t\t// no flipping needed for cube textures\n\n\t\ttexture.flipY = false;\n\n\t\tfor ( var i = 0, il = array.length; i < il; ++ i ) {\n\n\t\t\tvar cubeImage = new Image();\n\t\t\timages[ i ] = cubeImage;\n\n\t\t\tcubeImage.onload = function () {\n\n\t\t\t\timages.loadCount += 1;\n\n\t\t\t\tif ( images.loadCount === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tcubeImage.onerror = onError;\n\n\t\t\tcubeImage.crossOrigin = this.crossOrigin;\n\t\t\tcubeImage.src = array[ i ];\n\n\t\t}\n\n\t\treturn texture;\n\n\t},\n\n\tloadCompressedTextureCube: function ( array, mapping, onLoad, onError ) {\n\n\t\tvar images = [];\n\t\timages.loadCount = 0;\n\n\t\tvar texture = new THREE.CompressedTexture();\n\t\ttexture.image = images;\n\t\tif ( mapping !== undefined ) texture.mapping = mapping;\n\n\t\t// no flipping for cube textures\n\t\t// (also flipping doesn't work for compressed textures )\n\n\t\ttexture.flipY = false;\n\n\t\t// can't generate mipmaps for compressed textures\n\t\t// mips must be embedded in DDS files\n\n\t\ttexture.generateMipmaps = false;\n\n\t\tvar generateCubeFaceCallback = function ( rq, img ) {\n\n\t\t\treturn function () {\n\n\t\t\t\tvar buffer = rq.response;\n\t\t\t\tvar dds = THREE.ImageUtils.parseDDS( buffer, true );\n\n\t\t\t\timg.format = dds.format;\n\n\t\t\t\timg.mipmaps = dds.mipmaps;\n\t\t\t\timg.width = dds.width;\n\t\t\t\timg.height = dds.height;\n\n\t\t\t\timages.loadCount += 1;\n\n\t\t\t\tif ( images.loadCount === 6 ) {\n\n\t\t\t\t\ttexture.format = dds.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compressed cubemap textures as 6 separate DDS files\n\n\t\tif ( array instanceof Array ) {\n\n\t\t\tfor ( var i = 0, il = array.length; i < il; ++ i ) {\n\n\t\t\t\tvar cubeImage = {};\n\t\t\t\timages[ i ] = cubeImage;\n\n\t\t\t\tvar request = new XMLHttpRequest();\n\n\t\t\t\trequest.onload = generateCubeFaceCallback( request, cubeImage );\n\t\t\t\trequest.onerror = onError;\n\n\t\t\t\tvar url = array[ i ];\n\n\t\t\t\trequest.open( 'GET', url, true );\n\t\t\t\trequest.responseType = \"arraybuffer\";\n\t\t\t\trequest.send( null );\n\n\t\t\t}\n\n\t\t// compressed cubemap texture stored in a single DDS file\n\n\t\t} else {\n\n\t\t\tvar url = array;\n\t\t\tvar request = new XMLHttpRequest();\n\n\t\t\trequest.onload = function( ) {\n\n\t\t\t\tvar buffer = request.response;\n\t\t\t\tvar dds = THREE.ImageUtils.parseDDS( buffer, true );\n\n\t\t\t\tif ( dds.isCubemap ) {\n\n\t\t\t\t\tvar faces = dds.mipmaps.length / dds.mipmapCount;\n\n\t\t\t\t\tfor ( var f = 0; f < faces; f ++ ) {\n\n\t\t\t\t\t\timages[ f ] = { mipmaps : [] };\n\n\t\t\t\t\t\tfor ( var i = 0; i < dds.mipmapCount; i ++ ) {\n\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( dds.mipmaps[ f * dds.mipmapCount + i ] );\n\t\t\t\t\t\t\timages[ f ].format = dds.format;\n\t\t\t\t\t\t\timages[ f ].width = dds.width;\n\t\t\t\t\t\t\timages[ f ].height = dds.height;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.format = dds.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\trequest.onerror = onError;\n\n\t\t\trequest.open( 'GET', url, true );\n\t\t\trequest.responseType = \"arraybuffer\";\n\t\t\trequest.send( null );\n\n\t\t}\n\n\t\treturn texture;\n\n\t},\n\n\tloadDDSTexture: function ( url, mapping, onLoad, onError ) {\n\n\t\tvar images = [];\n\t\timages.loadCount = 0;\n\n\t\tvar texture = new THREE.CompressedTexture();\n\t\ttexture.image = images;\n\t\tif ( mapping !== undefined ) texture.mapping = mapping;\n\n\t\t// no flipping for cube textures\n\t\t// (also flipping doesn't work for compressed textures )\n\n\t\ttexture.flipY = false;\n\n\t\t// can't generate mipmaps for compressed textures\n\t\t// mips must be embedded in DDS files\n\n\t\ttexture.generateMipmaps = false;\n\n\t\t{\n\t\t\tvar request = new XMLHttpRequest();\n\n\t\t\trequest.onload = function( ) {\n\n\t\t\t\tvar buffer = request.response;\n\t\t\t\tvar dds = THREE.ImageUtils.parseDDS( buffer, true );\n\n\t\t\t\tif ( dds.isCubemap ) {\n\n\t\t\t\t\tvar faces = dds.mipmaps.length / dds.mipmapCount;\n\n\t\t\t\t\tfor ( var f = 0; f < faces; f ++ ) {\n\n\t\t\t\t\t\timages[ f ] = { mipmaps : [] };\n\n\t\t\t\t\t\tfor ( var i = 0; i < dds.mipmapCount; i ++ ) {\n\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( dds.mipmaps[ f * dds.mipmapCount + i ] );\n\t\t\t\t\t\t\timages[ f ].format = dds.format;\n\t\t\t\t\t\t\timages[ f ].width = dds.width;\n\t\t\t\t\t\t\timages[ f ].height = dds.height;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t} else {\n\t\t\t\t\ttexture.image.width = dds.width;\n\t\t\t\t\ttexture.image.height = dds.height;\n\t\t\t\t\ttexture.mipmaps = dds.mipmaps;\n\t\t\t\t}\n\n\t\t\t\ttexture.format = dds.format;\n\t\t\t\ttexture.needsUpdate = true;\n\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t}\n\n\t\t\trequest.onerror = onError;\n\n\t\t\trequest.open( 'GET', url, true );\n\t\t\trequest.responseType = \"arraybuffer\";\n\t\t\trequest.send( null );\n\n\t\t}\n\n\t\treturn texture;\n\n\t},\n\n\tparseDDS: function ( buffer, loadMipmaps ) {\n\n\t\tvar dds = { mipmaps: [], width: 0, height: 0, format: null, mipmapCount: 1 };\n\n\t\t// Adapted from @toji's DDS utils\n\t\t//\thttps://github.com/toji/webgl-texture-utils/blob/master/texture-util/dds.js\n\n\t\t// All values and structures referenced from:\n\t\t// http://msdn.microsoft.com/en-us/library/bb943991.aspx/\n\n\t\tvar DDS_MAGIC = 0x20534444;\n\n\t\tvar DDSD_CAPS = 0x1,\n\t\t\tDDSD_HEIGHT = 0x2,\n\t\t\tDDSD_WIDTH = 0x4,\n\t\t\tDDSD_PITCH = 0x8,\n\t\t\tDDSD_PIXELFORMAT = 0x1000,\n\t\t\tDDSD_MIPMAPCOUNT = 0x20000,\n\t\t\tDDSD_LINEARSIZE = 0x80000,\n\t\t\tDDSD_DEPTH = 0x800000;\n\n\t\tvar DDSCAPS_COMPLEX = 0x8,\n\t\t\tDDSCAPS_MIPMAP = 0x400000,\n\t\t\tDDSCAPS_TEXTURE = 0x1000;\n\n\t\tvar DDSCAPS2_CUBEMAP = 0x200,\n\t\t\tDDSCAPS2_CUBEMAP_POSITIVEX = 0x400,\n\t\t\tDDSCAPS2_CUBEMAP_NEGATIVEX = 0x800,\n\t\t\tDDSCAPS2_CUBEMAP_POSITIVEY = 0x1000,\n\t\t\tDDSCAPS2_CUBEMAP_NEGATIVEY = 0x2000,\n\t\t\tDDSCAPS2_CUBEMAP_POSITIVEZ = 0x4000,\n\t\t\tDDSCAPS2_CUBEMAP_NEGATIVEZ = 0x8000,\n\t\t\tDDSCAPS2_VOLUME = 0x200000;\n\n\t\tvar DDPF_ALPHAPIXELS = 0x1,\n\t\t\tDDPF_ALPHA = 0x2,\n\t\t\tDDPF_FOURCC = 0x4,\n\t\t\tDDPF_RGB = 0x40,\n\t\t\tDDPF_YUV = 0x200,\n\t\t\tDDPF_LUMINANCE = 0x20000;\n\n\t\tfunction fourCCToInt32( value ) {\n\n\t\t\treturn value.charCodeAt(0) +\n\t\t\t\t(value.charCodeAt(1) << 8) +\n\t\t\t\t(value.charCodeAt(2) << 16) +\n\t\t\t\t(value.charCodeAt(3) << 24);\n\n\t\t}\n\n\t\tfunction int32ToFourCC( value ) {\n\n\t\t\treturn String.fromCharCode(\n\t\t\t\tvalue & 0xff,\n\t\t\t\t(value >> 8) & 0xff,\n\t\t\t\t(value >> 16) & 0xff,\n\t\t\t\t(value >> 24) & 0xff\n\t\t\t);\n\t\t}\n\n\t\tfunction loadARGBMip( buffer, dataOffset, width, height ) {\n\t\t\tvar dataLength = width*height*4;\n\t\t\tvar srcBuffer = new Uint8Array( buffer, dataOffset, dataLength );\n\t\t\tvar byteArray = new Uint8Array( dataLength );\n\t\t\tvar dst = 0;\n\t\t\tvar src = 0;\n\t\t\tfor ( var y = 0; y < height; y++ ) {\n\t\t\t\tfor ( var x = 0; x < width; x++ ) {\n\t\t\t\t\tvar b = srcBuffer[src]; src++;\n\t\t\t\t\tvar g = srcBuffer[src]; src++;\n\t\t\t\t\tvar r = srcBuffer[src]; src++;\n\t\t\t\t\tvar a = srcBuffer[src]; src++;\n\t\t\t\t\tbyteArray[dst] = r; dst++;\t//r\n\t\t\t\t\tbyteArray[dst] = g; dst++;\t//g\n\t\t\t\t\tbyteArray[dst] = b; dst++;\t//b\n\t\t\t\t\tbyteArray[dst] = a; dst++;\t//a\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn byteArray;\n\t\t}\n\n\t\tvar FOURCC_DXT1 = fourCCToInt32(\"DXT1\");\n\t\tvar FOURCC_DXT3 = fourCCToInt32(\"DXT3\");\n\t\tvar FOURCC_DXT5 = fourCCToInt32(\"DXT5\");\n\n\t\tvar headerLengthInt = 31; // The header length in 32 bit ints\n\n\t\t// Offsets into the header array\n\n\t\tvar off_magic = 0;\n\n\t\tvar off_size = 1;\n\t\tvar off_flags = 2;\n\t\tvar off_height = 3;\n\t\tvar off_width = 4;\n\n\t\tvar off_mipmapCount = 7;\n\n\t\tvar off_pfFlags = 20;\n\t\tvar off_pfFourCC = 21;\n\t\tvar off_RGBBitCount = 22;\n\t\tvar off_RBitMask = 23;\n\t\tvar off_GBitMask = 24;\n\t\tvar off_BBitMask = 25;\n\t\tvar off_ABitMask = 26;\n\n\t\tvar off_caps = 27;\n\t\tvar off_caps2 = 28;\n\t\tvar off_caps3 = 29;\n\t\tvar off_caps4 = 30;\n\n\t\t// Parse header\n\n\t\tvar header = new Int32Array( buffer, 0, headerLengthInt );\n\n\t\tif ( header[ off_magic ] !== DDS_MAGIC ) {\n\n\t\t\tconsole.error( \"ImageUtils.parseDDS(): Invalid magic number in DDS header\" );\n\t\t\treturn dds;\n\n\t\t}\n\n\t\tif ( ! header[ off_pfFlags ] & DDPF_FOURCC ) {\n\n\t\t\tconsole.error( \"ImageUtils.parseDDS(): Unsupported format, must contain a FourCC code\" );\n\t\t\treturn dds;\n\n\t\t}\n\n\t\tvar blockBytes;\n\n\t\tvar fourCC = header[ off_pfFourCC ];\n\n\t\tvar isRGBAUncompressed = false;\n\n\t\tswitch ( fourCC ) {\n\n\t\t\tcase FOURCC_DXT1:\n\n\t\t\t\tblockBytes = 8;\n\t\t\t\tdds.format = THREE.RGB_S3TC_DXT1_Format;\n\t\t\t\tbreak;\n\n\t\t\tcase FOURCC_DXT3:\n\n\t\t\t\tblockBytes = 16;\n\t\t\t\tdds.format = THREE.RGBA_S3TC_DXT3_Format;\n\t\t\t\tbreak;\n\n\t\t\tcase FOURCC_DXT5:\n\n\t\t\t\tblockBytes = 16;\n\t\t\t\tdds.format = THREE.RGBA_S3TC_DXT5_Format;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tif( header[off_RGBBitCount] ==32 \n\t\t\t\t\t&& header[off_RBitMask]&0xff0000\n\t\t\t\t\t&& header[off_GBitMask]&0xff00 \n\t\t\t\t\t&& header[off_BBitMask]&0xff\n\t\t\t\t\t&& header[off_ABitMask]&0xff000000  ) {\n\t\t\t\t\tisRGBAUncompressed = true;\n\t\t\t\t\tblockBytes = 64;\n\t\t\t\t\tdds.format = THREE.RGBAFormat;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error( \"ImageUtils.parseDDS(): Unsupported FourCC code: \", int32ToFourCC( fourCC ) );\n\t\t\t\t\treturn dds;\n\t\t\t\t}\n\t\t}\n\n\t\tdds.mipmapCount = 1;\n\n\t\tif ( header[ off_flags ] & DDSD_MIPMAPCOUNT && loadMipmaps !== false ) {\n\n\t\t\tdds.mipmapCount = Math.max( 1, header[ off_mipmapCount ] );\n\n\t\t}\n\n\t\t//TODO: Verify that all faces of the cubemap are present with DDSCAPS2_CUBEMAP_POSITIVEX, etc.\n\n\t\tdds.isCubemap = header[ off_caps2 ] & DDSCAPS2_CUBEMAP ? true : false;\n\n\t\tdds.width = header[ off_width ];\n\t\tdds.height = header[ off_height ];\n\n\t\tvar dataOffset = header[ off_size ] + 4;\n\n\t\t// Extract mipmaps buffers\n\n\t\tvar width = dds.width;\n\t\tvar height = dds.height;\n\n\t\tvar faces = dds.isCubemap ? 6 : 1;\n\n\t\tfor ( var face = 0; face < faces; face ++ ) {\n\n\t\t\tfor ( var i = 0; i < dds.mipmapCount; i ++ ) {\n\n\t\t\t\tif( isRGBAUncompressed ) {\n\t\t\t\t\tvar byteArray = loadARGBMip( buffer, dataOffset, width, height );\n\t\t\t\t\tvar dataLength = byteArray.length;\n\t\t\t\t} else {\n\t\t\t\t\tvar dataLength = Math.max( 4, width ) / 4 * Math.max( 4, height ) / 4 * blockBytes;\n\t\t\t\t\tvar byteArray = new Uint8Array( buffer, dataOffset, dataLength );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvar mipmap = { \"data\": byteArray, \"width\": width, \"height\": height };\n\t\t\t\tdds.mipmaps.push( mipmap );\n\n\t\t\t\tdataOffset += dataLength;\n\n\t\t\t\twidth = Math.max( width * 0.5, 1 );\n\t\t\t\theight = Math.max( height * 0.5, 1 );\n\n\t\t\t}\n\n\t\t\twidth = dds.width;\n\t\t\theight = dds.height;\n\n\t\t}\n\n\t\treturn dds;\n\n\t},\n\n\tgetNormalMap: function ( image, depth ) {\n\n\t\t// Adapted from http://www.paulbrunt.co.uk/lab/heightnormal/\n\n\t\tvar cross = function ( a, b ) {\n\n\t\t\treturn [ a[ 1 ] * b[ 2 ] - a[ 2 ] * b[ 1 ], a[ 2 ] * b[ 0 ] - a[ 0 ] * b[ 2 ], a[ 0 ] * b[ 1 ] - a[ 1 ] * b[ 0 ] ];\n\n\t\t}\n\n\t\tvar subtract = function ( a, b ) {\n\n\t\t\treturn [ a[ 0 ] - b[ 0 ], a[ 1 ] - b[ 1 ], a[ 2 ] - b[ 2 ] ];\n\n\t\t}\n\n\t\tvar normalize = function ( a ) {\n\n\t\t\tvar l = Math.sqrt( a[ 0 ] * a[ 0 ] + a[ 1 ] * a[ 1 ] + a[ 2 ] * a[ 2 ] );\n\t\t\treturn [ a[ 0 ] / l, a[ 1 ] / l, a[ 2 ] / l ];\n\n\t\t}\n\n\t\tdepth = depth | 1;\n\n\t\tvar width = image.width;\n\t\tvar height = image.height;\n\n\t\tvar canvas = document.createElement( 'canvas' );\n\t\tcanvas.width = width;\n\t\tcanvas.height = height;\n\n\t\tvar context = canvas.getContext( '2d' );\n\t\tcontext.drawImage( image, 0, 0 );\n\n\t\tvar data = context.getImageData( 0, 0, width, height ).data;\n\t\tvar imageData = context.createImageData( width, height );\n\t\tvar output = imageData.data;\n\n\t\tfor ( var x = 0; x < width; x ++ ) {\n\n\t\t\tfor ( var y = 0; y < height; y ++ ) {\n\n\t\t\t\tvar ly = y - 1 < 0 ? 0 : y - 1;\n\t\t\t\tvar uy = y + 1 > height - 1 ? height - 1 : y + 1;\n\t\t\t\tvar lx = x - 1 < 0 ? 0 : x - 1;\n\t\t\t\tvar ux = x + 1 > width - 1 ? width - 1 : x + 1;\n\n\t\t\t\tvar points = [];\n\t\t\t\tvar origin = [ 0, 0, data[ ( y * width + x ) * 4 ] / 255 * depth ];\n\t\t\t\tpoints.push( [ - 1, 0, data[ ( y * width + lx ) * 4 ] / 255 * depth ] );\n\t\t\t\tpoints.push( [ - 1, - 1, data[ ( ly * width + lx ) * 4 ] / 255 * depth ] );\n\t\t\t\tpoints.push( [ 0, - 1, data[ ( ly * width + x ) * 4 ] / 255 * depth ] );\n\t\t\t\tpoints.push( [  1, - 1, data[ ( ly * width + ux ) * 4 ] / 255 * depth ] );\n\t\t\t\tpoints.push( [ 1, 0, data[ ( y * width + ux ) * 4 ] / 255 * depth ] );\n\t\t\t\tpoints.push( [ 1, 1, data[ ( uy * width + ux ) * 4 ] / 255 * depth ] );\n\t\t\t\tpoints.push( [ 0, 1, data[ ( uy * width + x ) * 4 ] / 255 * depth ] );\n\t\t\t\tpoints.push( [ - 1, 1, data[ ( uy * width + lx ) * 4 ] / 255 * depth ] );\n\n\t\t\t\tvar normals = [];\n\t\t\t\tvar num_points = points.length;\n\n\t\t\t\tfor ( var i = 0; i < num_points; i ++ ) {\n\n\t\t\t\t\tvar v1 = points[ i ];\n\t\t\t\t\tvar v2 = points[ ( i + 1 ) % num_points ];\n\t\t\t\t\tv1 = subtract( v1, origin );\n\t\t\t\t\tv2 = subtract( v2, origin );\n\t\t\t\t\tnormals.push( normalize( cross( v1, v2 ) ) );\n\n\t\t\t\t}\n\n\t\t\t\tvar normal = [ 0, 0, 0 ];\n\n\t\t\t\tfor ( var i = 0; i < normals.length; i ++ ) {\n\n\t\t\t\t\tnormal[ 0 ] += normals[ i ][ 0 ];\n\t\t\t\t\tnormal[ 1 ] += normals[ i ][ 1 ];\n\t\t\t\t\tnormal[ 2 ] += normals[ i ][ 2 ];\n\n\t\t\t\t}\n\n\t\t\t\tnormal[ 0 ] /= normals.length;\n\t\t\t\tnormal[ 1 ] /= normals.length;\n\t\t\t\tnormal[ 2 ] /= normals.length;\n\n\t\t\t\tvar idx = ( y * width + x ) * 4;\n\n\t\t\t\toutput[ idx ] = ( ( normal[ 0 ] + 1.0 ) / 2.0 * 255 ) | 0;\n\t\t\t\toutput[ idx + 1 ] = ( ( normal[ 1 ] + 1.0 ) / 2.0 * 255 ) | 0;\n\t\t\t\toutput[ idx + 2 ] = ( normal[ 2 ] * 255 ) | 0;\n\t\t\t\toutput[ idx + 3 ] = 255;\n\n\t\t\t}\n\n\t\t}\n\n\t\tcontext.putImageData( imageData, 0, 0 );\n\n\t\treturn canvas;\n\n\t},\n\n\tgenerateDataTexture: function ( width, height, color ) {\n\n\t\tvar size = width * height;\n\t\tvar data = new Uint8Array( 3 * size );\n\n\t\tvar r = Math.floor( color.r * 255 );\n\t\tvar g = Math.floor( color.g * 255 );\n\t\tvar b = Math.floor( color.b * 255 );\n\n\t\tfor ( var i = 0; i < size; i ++ ) {\n\n\t\t\tdata[ i * 3 ] \t  = r;\n\t\t\tdata[ i * 3 + 1 ] = g;\n\t\t\tdata[ i * 3 + 2 ] = b;\n\n\t\t}\n\n\t\tvar texture = new THREE.DataTexture( data, width, height, THREE.RGBFormat );\n\t\ttexture.needsUpdate = true;\n\n\t\treturn texture;\n\n\t}\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.SceneUtils = {\n\n\tcreateMultiMaterialObject: function ( geometry, materials ) {\n\n\t\tvar group = new THREE.Object3D();\n\n\t\tfor ( var i = 0, l = materials.length; i < l; i ++ ) {\n\n\t\t\tgroup.add( new THREE.Mesh( geometry, materials[ i ] ) );\n\n\t\t}\n\n\t\treturn group;\n\n\t},\n\n\tdetach : function ( child, parent, scene ) {\n\n\t\tchild.applyMatrix( parent.matrixWorld );\n\t\tparent.remove( child );\n\t\tscene.add( child );\n\n\t},\n\n\tattach: function ( child, scene, parent ) {\n\n\t\tvar matrixWorldInverse = new THREE.Matrix4();\n\t\tmatrixWorldInverse.getInverse( parent.matrixWorld );\n\t\tchild.applyMatrix( matrixWorldInverse );\n\n\t\tscene.remove( child );\n\t\tparent.add( child );\n\n\t}\n\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author alteredq / http://alteredqualia.com/\n *\n * For Text operations in three.js (See TextGeometry)\n *\n * It uses techniques used in:\n *\n * \ttypeface.js and canvastext\n * \t\tFor converting fonts and rendering with javascript\n *\t\thttp://typeface.neocracy.org\n *\n *\tTriangulation ported from AS3\n *\t\tSimple Polygon Triangulation\n *\t\thttp://actionsnippet.com/?p=1462\n *\n * \tA Method to triangulate shapes with holes\n *\t\thttp://www.sakri.net/blog/2009/06/12/an-approach-to-triangulating-polygons-with-holes/\n *\n */\n\nTHREE.FontUtils = {\n\n\tfaces : {},\n\n\t// Just for now. face[weight][style]\n\n\tface : \"helvetiker\",\n\tweight: \"normal\",\n\tstyle : \"normal\",\n\tsize : 150,\n\tdivisions : 10,\n\n\tgetFace : function() {\n\n\t\treturn this.faces[ this.face ][ this.weight ][ this.style ];\n\n\t},\n\n\tloadFace : function( data ) {\n\n\t\tvar family = data.familyName.toLowerCase();\n\n\t\tvar ThreeFont = this;\n\n\t\tThreeFont.faces[ family ] = ThreeFont.faces[ family ] || {};\n\n\t\tThreeFont.faces[ family ][ data.cssFontWeight ] = ThreeFont.faces[ family ][ data.cssFontWeight ] || {};\n\t\tThreeFont.faces[ family ][ data.cssFontWeight ][ data.cssFontStyle ] = data;\n\n\t\tvar face = ThreeFont.faces[ family ][ data.cssFontWeight ][ data.cssFontStyle ] = data;\n\n\t\treturn data;\n\n\t},\n\n\tdrawText : function( text ) {\n\n\t\tvar characterPts = [], allPts = [];\n\n\t\t// RenderText\n\n\t\tvar i, p,\n\t\t\tface = this.getFace(),\n\t\t\tscale = this.size / face.resolution,\n\t\t\toffset = 0,\n\t\t\tchars = String( text ).split( '' ),\n\t\t\tlength = chars.length;\n\n\t\tvar fontPaths = [];\n\n\t\tfor ( i = 0; i < length; i ++ ) {\n\n\t\t\tvar path = new THREE.Path();\n\n\t\t\tvar ret = this.extractGlyphPoints( chars[ i ], face, scale, offset, path );\n\t\t\toffset += ret.offset;\n\n\t\t\tfontPaths.push( ret.path );\n\n\t\t}\n\n\t\t// get the width\n\n\t\tvar width = offset / 2;\n\t\t//\n\t\t// for ( p = 0; p < allPts.length; p++ ) {\n\t\t//\n\t\t// \tallPts[ p ].x -= width;\n\t\t//\n\t\t// }\n\n\t\t//var extract = this.extractPoints( allPts, characterPts );\n\t\t//extract.contour = allPts;\n\n\t\t//extract.paths = fontPaths;\n\t\t//extract.offset = width;\n\n\t\treturn { paths : fontPaths, offset : width };\n\n\t},\n\n\n\n\n\textractGlyphPoints : function( c, face, scale, offset, path ) {\n\n\t\tvar pts = [];\n\n\t\tvar i, i2, divisions,\n\t\t\toutline, action, length,\n\t\t\tscaleX, scaleY,\n\t\t\tx, y, cpx, cpy, cpx0, cpy0, cpx1, cpy1, cpx2, cpy2,\n\t\t\tlaste,\n\t\t\tglyph = face.glyphs[ c ] || face.glyphs[ '?' ];\n\n\t\tif ( !glyph ) return;\n\n\t\tif ( glyph.o ) {\n\n\t\t\toutline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\n\t\t\tlength = outline.length;\n\n\t\t\tscaleX = scale;\n\t\t\tscaleY = scale;\n\n\t\t\tfor ( i = 0; i < length; ) {\n\n\t\t\t\taction = outline[ i ++ ];\n\n\t\t\t\t//console.log( action );\n\n\t\t\t\tswitch( action ) {\n\n\t\t\t\tcase 'm':\n\n\t\t\t\t\t// Move To\n\n\t\t\t\t\tx = outline[ i++ ] * scaleX + offset;\n\t\t\t\t\ty = outline[ i++ ] * scaleY;\n\n\t\t\t\t\tpath.moveTo( x, y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'l':\n\n\t\t\t\t\t// Line To\n\n\t\t\t\t\tx = outline[ i++ ] * scaleX + offset;\n\t\t\t\t\ty = outline[ i++ ] * scaleY;\n\t\t\t\t\tpath.lineTo(x,y);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'q':\n\n\t\t\t\t\t// QuadraticCurveTo\n\n\t\t\t\t\tcpx  = outline[ i++ ] * scaleX + offset;\n\t\t\t\t\tcpy  = outline[ i++ ] * scaleY;\n\t\t\t\t\tcpx1 = outline[ i++ ] * scaleX + offset;\n\t\t\t\t\tcpy1 = outline[ i++ ] * scaleY;\n\n\t\t\t\t\tpath.quadraticCurveTo(cpx1, cpy1, cpx, cpy);\n\n\t\t\t\t\tlaste = pts[ pts.length - 1 ];\n\n\t\t\t\t\tif ( laste ) {\n\n\t\t\t\t\t\tcpx0 = laste.x;\n\t\t\t\t\t\tcpy0 = laste.y;\n\n\t\t\t\t\t\tfor ( i2 = 1, divisions = this.divisions; i2 <= divisions; i2 ++ ) {\n\n\t\t\t\t\t\t\tvar t = i2 / divisions;\n\t\t\t\t\t\t\tvar tx = THREE.Shape.Utils.b2( t, cpx0, cpx1, cpx );\n\t\t\t\t\t\t\tvar ty = THREE.Shape.Utils.b2( t, cpy0, cpy1, cpy );\n\t\t\t\t\t  }\n\n\t\t\t\t  }\n\n\t\t\t\t  break;\n\n\t\t\t\tcase 'b':\n\n\t\t\t\t\t// Cubic Bezier Curve\n\n\t\t\t\t\tcpx  = outline[ i++ ] *  scaleX + offset;\n\t\t\t\t\tcpy  = outline[ i++ ] *  scaleY;\n\t\t\t\t\tcpx1 = outline[ i++ ] *  scaleX + offset;\n\t\t\t\t\tcpy1 = outline[ i++ ] * -scaleY;\n\t\t\t\t\tcpx2 = outline[ i++ ] *  scaleX + offset;\n\t\t\t\t\tcpy2 = outline[ i++ ] * -scaleY;\n\n\t\t\t\t\tpath.bezierCurveTo( cpx, cpy, cpx1, cpy1, cpx2, cpy2 );\n\n\t\t\t\t\tlaste = pts[ pts.length - 1 ];\n\n\t\t\t\t\tif ( laste ) {\n\n\t\t\t\t\t\tcpx0 = laste.x;\n\t\t\t\t\t\tcpy0 = laste.y;\n\n\t\t\t\t\t\tfor ( i2 = 1, divisions = this.divisions; i2 <= divisions; i2 ++ ) {\n\n\t\t\t\t\t\t\tvar t = i2 / divisions;\n\t\t\t\t\t\t\tvar tx = THREE.Shape.Utils.b3( t, cpx0, cpx1, cpx2, cpx );\n\t\t\t\t\t\t\tvar ty = THREE.Shape.Utils.b3( t, cpy0, cpy1, cpy2, cpy );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\n\n\t\treturn { offset: glyph.ha*scale, path:path};\n\t}\n\n};\n\n\nTHREE.FontUtils.generateShapes = function( text, parameters ) {\n\n\t// Parameters \n\n\tparameters = parameters || {};\n\n\tvar size = parameters.size !== undefined ? parameters.size : 100;\n\tvar curveSegments = parameters.curveSegments !== undefined ? parameters.curveSegments: 4;\n\n\tvar font = parameters.font !== undefined ? parameters.font : \"helvetiker\";\n\tvar weight = parameters.weight !== undefined ? parameters.weight : \"normal\";\n\tvar style = parameters.style !== undefined ? parameters.style : \"normal\";\n\n\tTHREE.FontUtils.size = size;\n\tTHREE.FontUtils.divisions = curveSegments;\n\n\tTHREE.FontUtils.face = font;\n\tTHREE.FontUtils.weight = weight;\n\tTHREE.FontUtils.style = style;\n\n\t// Get a Font data json object\n\n\tvar data = THREE.FontUtils.drawText( text );\n\n\tvar paths = data.paths;\n\tvar shapes = [];\n\n\tfor ( var p = 0, pl = paths.length; p < pl; p ++ ) {\n\n\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\n\n\t}\n\n\treturn shapes;\n\n};\n\n\n/**\n * This code is a quick port of code written in C++ which was submitted to\n * flipcode.com by John W. Ratcliff  // July 22, 2000\n * See original code and more information here:\n * http://www.flipcode.com/archives/Efficient_Polygon_Triangulation.shtml\n *\n * ported to actionscript by Zevan Rosser\n * www.actionsnippet.com\n *\n * ported to javascript by Joshua Koo\n * http://www.lab4games.net/zz85/blog\n *\n */\n\n\n( function( namespace ) {\n\n\tvar EPSILON = 0.0000000001;\n\n\t// takes in an contour array and returns\n\n\tvar process = function( contour, indices ) {\n\n\t\tvar n = contour.length;\n\n\t\tif ( n < 3 ) return null;\n\n\t\tvar result = [],\n\t\t\tverts = [],\n\t\t\tvertIndices = [];\n\n\t\t/* we want a counter-clockwise polygon in verts */\n\n\t\tvar u, v, w;\n\n\t\tif ( area( contour ) > 0.0 ) {\n\n\t\t\tfor ( v = 0; v < n; v++ ) verts[ v ] = v;\n\n\t\t} else {\n\n\t\t\tfor ( v = 0; v < n; v++ ) verts[ v ] = ( n - 1 ) - v;\n\n\t\t}\n\n\t\tvar nv = n;\n\n\t\t/*  remove nv - 2 vertices, creating 1 triangle every time */\n\n\t\tvar count = 2 * nv;   /* error detection */\n\n\t\tfor( v = nv - 1; nv > 2; ) {\n\n\t\t\t/* if we loop, it is probably a non-simple polygon */\n\n\t\t\tif ( ( count-- ) <= 0 ) {\n\n\t\t\t\t//** Triangulate: ERROR - probable bad polygon!\n\n\t\t\t\t//throw ( \"Warning, unable to triangulate polygon!\" );\n\t\t\t\t//return null;\n\t\t\t\t// Sometimes warning is fine, especially polygons are triangulated in reverse.\n\t\t\t\tconsole.log( \"Warning, unable to triangulate polygon!\" );\n\n\t\t\t\tif ( indices ) return vertIndices;\n\t\t\t\treturn result;\n\n\t\t\t}\n\n\t\t\t/* three consecutive vertices in current polygon, <u,v,w> */\n\n\t\t\tu = v; \t \tif ( nv <= u ) u = 0;     /* previous */\n\t\t\tv = u + 1;  if ( nv <= v ) v = 0;     /* new v    */\n\t\t\tw = v + 1;  if ( nv <= w ) w = 0;     /* next     */\n\n\t\t\tif ( snip( contour, u, v, w, nv, verts ) ) {\n\n\t\t\t\tvar a, b, c, s, t;\n\n\t\t\t\t/* true names of the vertices */\n\n\t\t\t\ta = verts[ u ];\n\t\t\t\tb = verts[ v ];\n\t\t\t\tc = verts[ w ];\n\n\t\t\t\t/* output Triangle */\n\n\t\t\t\tresult.push( [ contour[ a ],\n\t\t\t\t\tcontour[ b ],\n\t\t\t\t\tcontour[ c ] ] );\n\n\n\t\t\t\tvertIndices.push( [ verts[ u ], verts[ v ], verts[ w ] ] );\n\n\t\t\t\t/* remove v from the remaining polygon */\n\n\t\t\t\tfor( s = v, t = v + 1; t < nv; s++, t++ ) {\n\n\t\t\t\t\tverts[ s ] = verts[ t ];\n\n\t\t\t\t}\n\n\t\t\t\tnv--;\n\n\t\t\t\t/* reset error detection counter */\n\n\t\t\t\tcount = 2 * nv;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( indices ) return vertIndices;\n\t\treturn result;\n\n\t};\n\n\t// calculate area of the contour polygon\n\n\tvar area = function ( contour ) {\n\n\t\tvar n = contour.length;\n\t\tvar a = 0.0;\n\n\t\tfor( var p = n - 1, q = 0; q < n; p = q++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t};\n\n\tvar snip = function ( contour, u, v, w, n, verts ) {\n\n\t\tvar p;\n\t\tvar ax, ay, bx, by;\n\t\tvar cx, cy, px, py;\n\n\t\tax = contour[ verts[ u ] ].x;\n\t\tay = contour[ verts[ u ] ].y;\n\n\t\tbx = contour[ verts[ v ] ].x;\n\t\tby = contour[ verts[ v ] ].y;\n\n\t\tcx = contour[ verts[ w ] ].x;\n\t\tcy = contour[ verts[ w ] ].y;\n\n\t\tif ( EPSILON > (((bx-ax)*(cy-ay)) - ((by-ay)*(cx-ax))) ) return false;\n\n\t\tvar aX, aY, bX, bY, cX, cY;\n\t\tvar apx, apy, bpx, bpy, cpx, cpy;\n\t\tvar cCROSSap, bCROSScp, aCROSSbp;\n\n\t\taX = cx - bx;  aY = cy - by;\n\t\tbX = ax - cx;  bY = ay - cy;\n\t\tcX = bx - ax;  cY = by - ay;\n\n\t\tfor ( p = 0; p < n; p++ ) {\n\n\t\t\tif( (p === u) || (p === v) || (p === w) ) continue;\n\n\t\t\tpx = contour[ verts[ p ] ].x\n\t\t\tpy = contour[ verts[ p ] ].y\n\n\t\t\tapx = px - ax;  apy = py - ay;\n\t\t\tbpx = px - bx;  bpy = py - by;\n\t\t\tcpx = px - cx;  cpy = py - cy;\n\n\t\t\t// see if p is inside triangle abc\n\n\t\t\taCROSSbp = aX*bpy - aY*bpx;\n\t\t\tcCROSSap = cX*apy - cY*apx;\n\t\t\tbCROSScp = bX*cpy - bY*cpx;\n\n\t\t\tif ( (aCROSSbp >= -EPSILON) && (bCROSScp >= -EPSILON) && (cCROSSap >= -EPSILON) ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t};\n\n\n\tnamespace.Triangulate = process;\n\tnamespace.Triangulate.area = area;\n\n\treturn namespace;\n\n})(THREE.FontUtils);\n\n// To use the typeface.js face files, hook up the API\nself._typeface_js = { faces: THREE.FontUtils.faces, loadFace: THREE.FontUtils.loadFace };\nTHREE.typeface_js = self._typeface_js;\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Extensible curve object\n *\n * Some common of Curve methods\n * .getPoint(t), getTangent(t)\n * .getPointAt(u), getTagentAt(u)\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following classes subclasses THREE.Curve:\n *\n * -- 2d classes --\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.CubicBezierCurve\n * THREE.SplineCurve\n * THREE.ArcCurve\n * THREE.EllipseCurve\n *\n * -- 3d classes --\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n * THREE.CubicBezierCurve3\n * THREE.SplineCurve3\n * THREE.ClosedSplineCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath\n *\n **/\n\n/**************************************************************\n *\tAbstract Curve base class\n **************************************************************/\n\nTHREE.Curve = function () {\n\n};\n\n// Virtual base class method to overwrite and implement in subclasses\n//\t- t [0 .. 1]\n\nTHREE.Curve.prototype.getPoint = function ( t ) {\n\n\tconsole.log( \"Warning, getPoint() not implemented!\" );\n\treturn null;\n\n};\n\n// Get point at relative position in curve according to arc length\n// - u [0 .. 1]\n\nTHREE.Curve.prototype.getPointAt = function ( u ) {\n\n\tvar t = this.getUtoTmapping( u );\n\treturn this.getPoint( t );\n\n};\n\n// Get sequence of points using getPoint( t )\n\nTHREE.Curve.prototype.getPoints = function ( divisions ) {\n\n\tif ( !divisions ) divisions = 5;\n\n\tvar d, pts = [];\n\n\tfor ( d = 0; d <= divisions; d ++ ) {\n\n\t\tpts.push( this.getPoint( d / divisions ) );\n\n\t}\n\n\treturn pts;\n\n};\n\n// Get sequence of points using getPointAt( u )\n\nTHREE.Curve.prototype.getSpacedPoints = function ( divisions ) {\n\n\tif ( !divisions ) divisions = 5;\n\n\tvar d, pts = [];\n\n\tfor ( d = 0; d <= divisions; d ++ ) {\n\n\t\tpts.push( this.getPointAt( d / divisions ) );\n\n\t}\n\n\treturn pts;\n\n};\n\n// Get total curve arc length\n\nTHREE.Curve.prototype.getLength = function () {\n\n\tvar lengths = this.getLengths();\n\treturn lengths[ lengths.length - 1 ];\n\n};\n\n// Get list of cumulative segment lengths\n\nTHREE.Curve.prototype.getLengths = function ( divisions ) {\n\n\tif ( !divisions ) divisions = (this.__arcLengthDivisions) ? (this.__arcLengthDivisions): 200;\n\n\tif ( this.cacheArcLengths\n\t\t&& ( this.cacheArcLengths.length == divisions + 1 )\n\t\t&& !this.needsUpdate) {\n\n\t\t//console.log( \"cached\", this.cacheArcLengths );\n\t\treturn this.cacheArcLengths;\n\n\t}\n\n\tthis.needsUpdate = false;\n\n\tvar cache = [];\n\tvar current, last = this.getPoint( 0 );\n\tvar p, sum = 0;\n\n\tcache.push( 0 );\n\n\tfor ( p = 1; p <= divisions; p ++ ) {\n\n\t\tcurrent = this.getPoint ( p / divisions );\n\t\tsum += current.distanceTo( last );\n\t\tcache.push( sum );\n\t\tlast = current;\n\n\t}\n\n\tthis.cacheArcLengths = cache;\n\n\treturn cache; // { sums: cache, sum:sum }; Sum is in the last element.\n\n};\n\n\nTHREE.Curve.prototype.updateArcLengths = function() {\n\tthis.needsUpdate = true;\n\tthis.getLengths();\n};\n\n// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equi distance\n\nTHREE.Curve.prototype.getUtoTmapping = function ( u, distance ) {\n\n\tvar arcLengths = this.getLengths();\n\n\tvar i = 0, il = arcLengths.length;\n\n\tvar targetArcLength; // The targeted u distance value to get\n\n\tif ( distance ) {\n\n\t\ttargetArcLength = distance;\n\n\t} else {\n\n\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\n\t}\n\n\t//var time = Date.now();\n\n\t// binary search for the index with largest value smaller than target u distance\n\n\tvar low = 0, high = il - 1, comparison;\n\n\twhile ( low <= high ) {\n\n\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\n\t\tif ( comparison < 0 ) {\n\n\t\t\tlow = i + 1;\n\t\t\tcontinue;\n\n\t\t} else if ( comparison > 0 ) {\n\n\t\t\thigh = i - 1;\n\t\t\tcontinue;\n\n\t\t} else {\n\n\t\t\thigh = i;\n\t\t\tbreak;\n\n\t\t\t// DONE\n\n\t\t}\n\n\t}\n\n\ti = high;\n\n\t//console.log('b' , i, low, high, Date.now()- time);\n\n\tif ( arcLengths[ i ] == targetArcLength ) {\n\n\t\tvar t = i / ( il - 1 );\n\t\treturn t;\n\n\t}\n\n\t// we could get finer grain at lengths, or use simple interpolatation between two points\n\n\tvar lengthBefore = arcLengths[ i ];\n    var lengthAfter = arcLengths[ i + 1 ];\n\n    var segmentLength = lengthAfter - lengthBefore;\n\n    // determine where we are between the 'before' and 'after' points\n\n    var segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n    // add that fractional amount to t\n\n    var t = ( i + segmentFraction ) / ( il -1 );\n\n\treturn t;\n\n};\n\n// Returns a unit vector tangent at t\n// In case any sub curve does not implement its tangent derivation,\n// 2 points a small delta apart will be used to find its gradient\n// which seems to give a reasonable approximation\n\nTHREE.Curve.prototype.getTangent = function( t ) {\n\n\tvar delta = 0.0001;\n\tvar t1 = t - delta;\n\tvar t2 = t + delta;\n\n\t// Capping in case of danger\n\n\tif ( t1 < 0 ) t1 = 0;\n\tif ( t2 > 1 ) t2 = 1;\n\n\tvar pt1 = this.getPoint( t1 );\n\tvar pt2 = this.getPoint( t2 );\n\n\tvar vec = pt2.clone().sub(pt1);\n\treturn vec.normalize();\n\n};\n\n\nTHREE.Curve.prototype.getTangentAt = function ( u ) {\n\n\tvar t = this.getUtoTmapping( u );\n\treturn this.getTangent( t );\n\n};\n\n\n\n\n\n/**************************************************************\n *\tUtils\n **************************************************************/\n\nTHREE.Curve.Utils = {\n\n\ttangentQuadraticBezier: function ( t, p0, p1, p2 ) {\n\n\t\treturn 2 * ( 1 - t ) * ( p1 - p0 ) + 2 * t * ( p2 - p1 );\n\n\t},\n\n\t// Puay Bing, thanks for helping with this derivative!\n\n\ttangentCubicBezier: function (t, p0, p1, p2, p3 ) {\n\n\t\treturn -3 * p0 * (1 - t) * (1 - t)  +\n\t\t\t3 * p1 * (1 - t) * (1-t) - 6 *t *p1 * (1-t) +\n\t\t\t6 * t *  p2 * (1-t) - 3 * t * t * p2 +\n\t\t\t3 * t * t * p3;\n\t},\n\n\n\ttangentSpline: function ( t, p0, p1, p2, p3 ) {\n\n\t\t// To check if my formulas are correct\n\n\t\tvar h00 = 6 * t * t - 6 * t; \t// derived from 2t^3  3t^2 + 1\n\t\tvar h10 = 3 * t * t - 4 * t + 1; // t^3  2t^2 + t\n\t\tvar h01 = -6 * t * t + 6 * t; \t//  2t3 + 3t2\n\t\tvar h11 = 3 * t * t - 2 * t;\t// t3  t2\n\n\t\treturn h00 + h10 + h01 + h11;\n\n\t},\n\n\t// Catmull-Rom\n\n\tinterpolate: function( p0, p1, p2, p3, t ) {\n\n\t\tvar v0 = ( p2 - p0 ) * 0.5;\n\t\tvar v1 = ( p3 - p1 ) * 0.5;\n\t\tvar t2 = t * t;\n\t\tvar t3 = t * t2;\n\t\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n\t}\n\n};\n\n\n// TODO: Transformation for Curves?\n\n/**************************************************************\n *\t3D Curves\n **************************************************************/\n\n// A Factory method for creating new curve subclasses\n\nTHREE.Curve.create = function ( constructor, getPointFunc ) {\n\n\tconstructor.prototype = Object.create( THREE.Curve.prototype );\n\tconstructor.prototype.getPoint = getPointFunc;\n\n\treturn constructor;\n\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n **/\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nTHREE.CurvePath = function () {\n\n\tthis.curves = [];\n\tthis.bends = [];\n\t\n\tthis.autoClose = false; // Automatically closes the path\n};\n\nTHREE.CurvePath.prototype = Object.create( THREE.Curve.prototype );\n\nTHREE.CurvePath.prototype.add = function ( curve ) {\n\n\tthis.curves.push( curve );\n\n};\n\nTHREE.CurvePath.prototype.checkConnection = function() {\n\t// TODO\n\t// If the ending of curve is not connected to the starting\n\t// or the next curve, then, this is not a real path\n};\n\nTHREE.CurvePath.prototype.closePath = function() {\n\t// TODO Test\n\t// and verify for vector3 (needs to implement equals)\n\t// Add a line curve if start and end of lines are not connected\n\tvar startPoint = this.curves[0].getPoint(0);\n\tvar endPoint = this.curves[this.curves.length-1].getPoint(1);\n\t\n\tif (!startPoint.equals(endPoint)) {\n\t\tthis.curves.push( new THREE.LineCurve(endPoint, startPoint) );\n\t}\n\t\n};\n\n// To get accurate point with reference to\n// entire path distance at time t,\n// following has to be done:\n\n// 1. Length of each sub path have to be known\n// 2. Locate and identify type of curve\n// 3. Get t for the curve\n// 4. Return curve.getPointAt(t')\n\nTHREE.CurvePath.prototype.getPoint = function( t ) {\n\n\tvar d = t * this.getLength();\n\tvar curveLengths = this.getCurveLengths();\n\tvar i = 0, diff, curve;\n\n\t// To think about boundaries points.\n\n\twhile ( i < curveLengths.length ) {\n\n\t\tif ( curveLengths[ i ] >= d ) {\n\n\t\t\tdiff = curveLengths[ i ] - d;\n\t\t\tcurve = this.curves[ i ];\n\n\t\t\tvar u = 1 - diff / curve.getLength();\n\n\t\t\treturn curve.getPointAt( u );\n\n\t\t\tbreak;\n\t\t}\n\n\t\ti ++;\n\n\t}\n\n\treturn null;\n\n\t// loop where sum != 0, sum > d , sum+1 <d\n\n};\n\n/*\nTHREE.CurvePath.prototype.getTangent = function( t ) {\n};*/\n\n\n// We cannot use the default THREE.Curve getPoint() with getLength() because in\n// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n// getPoint() depends on getLength\n\nTHREE.CurvePath.prototype.getLength = function() {\n\n\tvar lens = this.getCurveLengths();\n\treturn lens[ lens.length - 1 ];\n\n};\n\n// Compute lengths and cache them\n// We cannot overwrite getLengths() because UtoT mapping uses it.\n\nTHREE.CurvePath.prototype.getCurveLengths = function() {\n\n\t// We use cache values if curves and cache array are same length\n\n\tif ( this.cacheLengths && this.cacheLengths.length == this.curves.length ) {\n\n\t\treturn this.cacheLengths;\n\n\t};\n\n\t// Get length of subsurve\n\t// Push sums into cached array\n\n\tvar lengths = [], sums = 0;\n\tvar i, il = this.curves.length;\n\n\tfor ( i = 0; i < il; i ++ ) {\n\n\t\tsums += this.curves[ i ].getLength();\n\t\tlengths.push( sums );\n\n\t}\n\n\tthis.cacheLengths = lengths;\n\n\treturn lengths;\n\n};\n\n\n\n// Returns min and max coordinates, as well as centroid\n\nTHREE.CurvePath.prototype.getBoundingBox = function () {\n\n\tvar points = this.getPoints();\n\n\tvar maxX, maxY, maxZ;\n\tvar minX, minY, minZ;\n\n\tmaxX = maxY = Number.NEGATIVE_INFINITY;\n\tminX = minY = Number.POSITIVE_INFINITY;\n\n\tvar p, i, il, sum;\n\n\tvar v3 = points[0] instanceof THREE.Vector3;\n\n\tsum = v3 ? new THREE.Vector3() : new THREE.Vector2();\n\n\tfor ( i = 0, il = points.length; i < il; i ++ ) {\n\n\t\tp = points[ i ];\n\n\t\tif ( p.x > maxX ) maxX = p.x;\n\t\telse if ( p.x < minX ) minX = p.x;\n\n\t\tif ( p.y > maxY ) maxY = p.y;\n\t\telse if ( p.y < minY ) minY = p.y;\n\n\t\tif ( v3 ) {\n\n\t\t\tif ( p.z > maxZ ) maxZ = p.z;\n\t\t\telse if ( p.z < minZ ) minZ = p.z;\n\n\t\t}\n\n\t\tsum.add( p );\n\n\t}\n\n\tvar ret = {\n\n\t\tminX: minX,\n\t\tminY: minY,\n\t\tmaxX: maxX,\n\t\tmaxY: maxY,\n\t\tcentroid: sum.divideScalar( il )\n\n\t};\n\n\tif ( v3 ) {\n\n\t\tret.maxZ = maxZ;\n\t\tret.minZ = minZ;\n\n\t}\n\n\treturn ret;\n\n};\n\n/**************************************************************\n *\tCreate Geometries Helpers\n **************************************************************/\n\n/// Generate geometry from path points (for Line or ParticleSystem objects)\n\nTHREE.CurvePath.prototype.createPointsGeometry = function( divisions ) {\n\n\tvar pts = this.getPoints( divisions, true );\n\treturn this.createGeometry( pts );\n\n};\n\n// Generate geometry from equidistance sampling along the path\n\nTHREE.CurvePath.prototype.createSpacedPointsGeometry = function( divisions ) {\n\n\tvar pts = this.getSpacedPoints( divisions, true );\n\treturn this.createGeometry( pts );\n\n};\n\nTHREE.CurvePath.prototype.createGeometry = function( points ) {\n\n\tvar geometry = new THREE.Geometry();\n\n\tfor ( var i = 0; i < points.length; i ++ ) {\n\n\t\tgeometry.vertices.push( new THREE.Vector3( points[ i ].x, points[ i ].y, points[ i ].z || 0) );\n\n\t}\n\n\treturn geometry;\n\n};\n\n\n/**************************************************************\n *\tBend / Wrap Helper Methods\n **************************************************************/\n\n// Wrap path / Bend modifiers?\n\nTHREE.CurvePath.prototype.addWrapPath = function ( bendpath ) {\n\n\tthis.bends.push( bendpath );\n\n};\n\nTHREE.CurvePath.prototype.getTransformedPoints = function( segments, bends ) {\n\n\tvar oldPts = this.getPoints( segments ); // getPoints getSpacedPoints\n\tvar i, il;\n\n\tif ( !bends ) {\n\n\t\tbends = this.bends;\n\n\t}\n\n\tfor ( i = 0, il = bends.length; i < il; i ++ ) {\n\n\t\toldPts = this.getWrapPoints( oldPts, bends[ i ] );\n\n\t}\n\n\treturn oldPts;\n\n};\n\nTHREE.CurvePath.prototype.getTransformedSpacedPoints = function( segments, bends ) {\n\n\tvar oldPts = this.getSpacedPoints( segments );\n\n\tvar i, il;\n\n\tif ( !bends ) {\n\n\t\tbends = this.bends;\n\n\t}\n\n\tfor ( i = 0, il = bends.length; i < il; i ++ ) {\n\n\t\toldPts = this.getWrapPoints( oldPts, bends[ i ] );\n\n\t}\n\n\treturn oldPts;\n\n};\n\n// This returns getPoints() bend/wrapped around the contour of a path.\n// Read http://www.planetclegg.com/projects/WarpingTextToSplines.html\n\nTHREE.CurvePath.prototype.getWrapPoints = function ( oldPts, path ) {\n\n\tvar bounds = this.getBoundingBox();\n\n\tvar i, il, p, oldX, oldY, xNorm;\n\n\tfor ( i = 0, il = oldPts.length; i < il; i ++ ) {\n\n\t\tp = oldPts[ i ];\n\n\t\toldX = p.x;\n\t\toldY = p.y;\n\n\t\txNorm = oldX / bounds.maxX;\n\n\t\t// If using actual distance, for length > path, requires line extrusions\n\t\t//xNorm = path.getUtoTmapping(xNorm, oldX); // 3 styles. 1) wrap stretched. 2) wrap stretch by arc length 3) warp by actual distance\n\n\t\txNorm = path.getUtoTmapping( xNorm, oldX );\n\n\t\t// check for out of bounds?\n\n\t\tvar pathPt = path.getPoint( xNorm );\n\t\tvar normal = path.getTangent( xNorm );\n\t\tnormal.set( -normal.y, normal.x ).multiplyScalar( oldY );\n\n\t\tp.x = pathPt.x + normal.x;\n\t\tp.y = pathPt.y + normal.y;\n\n\t}\n\n\treturn oldPts;\n\n};\n\n\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.Gyroscope = function () {\r\n\r\n\tTHREE.Object3D.call( this );\r\n\r\n};\r\n\r\nTHREE.Gyroscope.prototype = Object.create( THREE.Object3D.prototype );\r\n\r\nTHREE.Gyroscope.prototype.updateMatrixWorld = function ( force ) {\r\n\r\n\tthis.matrixAutoUpdate && this.updateMatrix();\r\n\r\n\t// update matrixWorld\r\n\r\n\tif ( this.matrixWorldNeedsUpdate || force ) {\r\n\r\n\t\tif ( this.parent ) {\r\n\r\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\r\n\r\n\t\t\tthis.matrixWorld.decompose( this.translationWorld, this.quaternionWorld, this.scaleWorld );\r\n\t\t\tthis.matrix.decompose( this.translationObject, this.quaternionObject, this.scaleObject );\r\n\r\n\t\t\tthis.matrixWorld.compose( this.translationWorld, this.quaternionObject, this.scaleWorld );\r\n\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.matrixWorld.copy( this.matrix );\r\n\r\n\t\t}\r\n\r\n\r\n\t\tthis.matrixWorldNeedsUpdate = false;\r\n\r\n\t\tforce = true;\r\n\r\n\t}\r\n\r\n\t// update children\r\n\r\n\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\r\n\r\n\t\tthis.children[ i ].updateMatrixWorld( force );\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.Gyroscope.prototype.translationWorld = new THREE.Vector3();\r\nTHREE.Gyroscope.prototype.translationObject = new THREE.Vector3();\r\nTHREE.Gyroscope.prototype.quaternionWorld = new THREE.Quaternion();\r\nTHREE.Gyroscope.prototype.quaternionObject = new THREE.Quaternion();\r\nTHREE.Gyroscope.prototype.scaleWorld = new THREE.Vector3();\r\nTHREE.Gyroscope.prototype.scaleObject = new THREE.Vector3();\r\n\r\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Creates free form 2d path using series of points, lines or curves.\n *\n **/\n\nTHREE.Path = function ( points ) {\n\n\tTHREE.CurvePath.call(this);\n\n\tthis.actions = [];\n\n\tif ( points ) {\n\n\t\tthis.fromPoints( points );\n\n\t}\n\n};\n\nTHREE.Path.prototype = Object.create( THREE.CurvePath.prototype );\n\nTHREE.PathActions = {\n\n\tMOVE_TO: 'moveTo',\n\tLINE_TO: 'lineTo',\n\tQUADRATIC_CURVE_TO: 'quadraticCurveTo', // Bezier quadratic curve\n\tBEZIER_CURVE_TO: 'bezierCurveTo', \t\t// Bezier cubic curve\n\tCSPLINE_THRU: 'splineThru',\t\t\t\t// Catmull-rom spline\n\tARC: 'arc',\t\t\t\t\t\t\t\t// Circle\n\tELLIPSE: 'ellipse'\n};\n\n// TODO Clean up PATH API\n\n// Create path using straight lines to connect all points\n// - vectors: array of Vector2\n\nTHREE.Path.prototype.fromPoints = function ( vectors ) {\n\n\tthis.moveTo( vectors[ 0 ].x, vectors[ 0 ].y );\n\n\tfor ( var v = 1, vlen = vectors.length; v < vlen; v ++ ) {\n\n\t\tthis.lineTo( vectors[ v ].x, vectors[ v ].y );\n\n\t};\n\n};\n\n// startPath() endPath()?\n\nTHREE.Path.prototype.moveTo = function ( x, y ) {\n\n\tvar args = Array.prototype.slice.call( arguments );\n\tthis.actions.push( { action: THREE.PathActions.MOVE_TO, args: args } );\n\n};\n\nTHREE.Path.prototype.lineTo = function ( x, y ) {\n\n\tvar args = Array.prototype.slice.call( arguments );\n\n\tvar lastargs = this.actions[ this.actions.length - 1 ].args;\n\n\tvar x0 = lastargs[ lastargs.length - 2 ];\n\tvar y0 = lastargs[ lastargs.length - 1 ];\n\n\tvar curve = new THREE.LineCurve( new THREE.Vector2( x0, y0 ), new THREE.Vector2( x, y ) );\n\tthis.curves.push( curve );\n\n\tthis.actions.push( { action: THREE.PathActions.LINE_TO, args: args } );\n\n};\n\nTHREE.Path.prototype.quadraticCurveTo = function( aCPx, aCPy, aX, aY ) {\n\n\tvar args = Array.prototype.slice.call( arguments );\n\n\tvar lastargs = this.actions[ this.actions.length - 1 ].args;\n\n\tvar x0 = lastargs[ lastargs.length - 2 ];\n\tvar y0 = lastargs[ lastargs.length - 1 ];\n\n\tvar curve = new THREE.QuadraticBezierCurve( new THREE.Vector2( x0, y0 ),\n\t\t\t\t\t\t\t\t\t\t\t\tnew THREE.Vector2( aCPx, aCPy ),\n\t\t\t\t\t\t\t\t\t\t\t\tnew THREE.Vector2( aX, aY ) );\n\tthis.curves.push( curve );\n\n\tthis.actions.push( { action: THREE.PathActions.QUADRATIC_CURVE_TO, args: args } );\n\n};\n\nTHREE.Path.prototype.bezierCurveTo = function( aCP1x, aCP1y,\n\t\t\t\t\t\t\t\t\t\t\t   aCP2x, aCP2y,\n\t\t\t\t\t\t\t\t\t\t\t   aX, aY ) {\n\n\tvar args = Array.prototype.slice.call( arguments );\n\n\tvar lastargs = this.actions[ this.actions.length - 1 ].args;\n\n\tvar x0 = lastargs[ lastargs.length - 2 ];\n\tvar y0 = lastargs[ lastargs.length - 1 ];\n\n\tvar curve = new THREE.CubicBezierCurve( new THREE.Vector2( x0, y0 ),\n\t\t\t\t\t\t\t\t\t\t\tnew THREE.Vector2( aCP1x, aCP1y ),\n\t\t\t\t\t\t\t\t\t\t\tnew THREE.Vector2( aCP2x, aCP2y ),\n\t\t\t\t\t\t\t\t\t\t\tnew THREE.Vector2( aX, aY ) );\n\tthis.curves.push( curve );\n\n\tthis.actions.push( { action: THREE.PathActions.BEZIER_CURVE_TO, args: args } );\n\n};\n\nTHREE.Path.prototype.splineThru = function( pts /*Array of Vector*/ ) {\n\n\tvar args = Array.prototype.slice.call( arguments );\n\tvar lastargs = this.actions[ this.actions.length - 1 ].args;\n\n\tvar x0 = lastargs[ lastargs.length - 2 ];\n\tvar y0 = lastargs[ lastargs.length - 1 ];\n//---\n\tvar npts = [ new THREE.Vector2( x0, y0 ) ];\n\tArray.prototype.push.apply( npts, pts );\n\n\tvar curve = new THREE.SplineCurve( npts );\n\tthis.curves.push( curve );\n\n\tthis.actions.push( { action: THREE.PathActions.CSPLINE_THRU, args: args } );\n\n};\n\n// FUTURE: Change the API or follow canvas API?\n\nTHREE.Path.prototype.arc = function ( aX, aY, aRadius,\n\t\t\t\t\t\t\t\t\t  aStartAngle, aEndAngle, aClockwise ) {\n\n\tvar lastargs = this.actions[ this.actions.length - 1].args;\n\tvar x0 = lastargs[ lastargs.length - 2 ];\n\tvar y0 = lastargs[ lastargs.length - 1 ];\n\n\tthis.absarc(aX + x0, aY + y0, aRadius,\n\t\taStartAngle, aEndAngle, aClockwise );\n\n };\n\n THREE.Path.prototype.absarc = function ( aX, aY, aRadius,\n\t\t\t\t\t\t\t\t\t  aStartAngle, aEndAngle, aClockwise ) {\n\tthis.absellipse(aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise);\n };\n\nTHREE.Path.prototype.ellipse = function ( aX, aY, xRadius, yRadius,\n\t\t\t\t\t\t\t\t\t  aStartAngle, aEndAngle, aClockwise ) {\n\n\tvar lastargs = this.actions[ this.actions.length - 1].args;\n\tvar x0 = lastargs[ lastargs.length - 2 ];\n\tvar y0 = lastargs[ lastargs.length - 1 ];\n\n\tthis.absellipse(aX + x0, aY + y0, xRadius, yRadius,\n\t\taStartAngle, aEndAngle, aClockwise );\n\n };\n\n\nTHREE.Path.prototype.absellipse = function ( aX, aY, xRadius, yRadius,\n\t\t\t\t\t\t\t\t\t  aStartAngle, aEndAngle, aClockwise ) {\n\n\tvar args = Array.prototype.slice.call( arguments );\n\tvar curve = new THREE.EllipseCurve( aX, aY, xRadius, yRadius,\n\t\t\t\t\t\t\t\t\taStartAngle, aEndAngle, aClockwise );\n\tthis.curves.push( curve );\n\n\tvar lastPoint = curve.getPoint(1);\n\targs.push(lastPoint.x);\n\targs.push(lastPoint.y);\n\n\tthis.actions.push( { action: THREE.PathActions.ELLIPSE, args: args } );\n\n };\n\nTHREE.Path.prototype.getSpacedPoints = function ( divisions, closedPath ) {\n\n\tif ( ! divisions ) divisions = 40;\n\n\tvar points = [];\n\n\tfor ( var i = 0; i < divisions; i ++ ) {\n\n\t\tpoints.push( this.getPoint( i / divisions ) );\n\n\t\t//if( !this.getPoint( i / divisions ) ) throw \"DIE\";\n\n\t}\n\n\t// if ( closedPath ) {\n\t//\n\t// \tpoints.push( points[ 0 ] );\n\t//\n\t// }\n\n\treturn points;\n\n};\n\n/* Return an array of vectors based on contour of the path */\n\nTHREE.Path.prototype.getPoints = function( divisions, closedPath ) {\n\n\tif (this.useSpacedPoints) {\n\t\tconsole.log('tata');\n\t\treturn this.getSpacedPoints( divisions, closedPath );\n\t}\n\n\tdivisions = divisions || 12;\n\n\tvar points = [];\n\n\tvar i, il, item, action, args;\n\tvar cpx, cpy, cpx2, cpy2, cpx1, cpy1, cpx0, cpy0,\n\t\tlaste, j,\n\t\tt, tx, ty;\n\n\tfor ( i = 0, il = this.actions.length; i < il; i ++ ) {\n\n\t\titem = this.actions[ i ];\n\n\t\taction = item.action;\n\t\targs = item.args;\n\n\t\tswitch( action ) {\n\n\t\tcase THREE.PathActions.MOVE_TO:\n\n\t\t\tpoints.push( new THREE.Vector2( args[ 0 ], args[ 1 ] ) );\n\n\t\t\tbreak;\n\n\t\tcase THREE.PathActions.LINE_TO:\n\n\t\t\tpoints.push( new THREE.Vector2( args[ 0 ], args[ 1 ] ) );\n\n\t\t\tbreak;\n\n\t\tcase THREE.PathActions.QUADRATIC_CURVE_TO:\n\n\t\t\tcpx  = args[ 2 ];\n\t\t\tcpy  = args[ 3 ];\n\n\t\t\tcpx1 = args[ 0 ];\n\t\t\tcpy1 = args[ 1 ];\n\n\t\t\tif ( points.length > 0 ) {\n\n\t\t\t\tlaste = points[ points.length - 1 ];\n\n\t\t\t\tcpx0 = laste.x;\n\t\t\t\tcpy0 = laste.y;\n\n\t\t\t} else {\n\n\t\t\t\tlaste = this.actions[ i - 1 ].args;\n\n\t\t\t\tcpx0 = laste[ laste.length - 2 ];\n\t\t\t\tcpy0 = laste[ laste.length - 1 ];\n\n\t\t\t}\n\n\t\t\tfor ( j = 1; j <= divisions; j ++ ) {\n\n\t\t\t\tt = j / divisions;\n\n\t\t\t\ttx = THREE.Shape.Utils.b2( t, cpx0, cpx1, cpx );\n\t\t\t\tty = THREE.Shape.Utils.b2( t, cpy0, cpy1, cpy );\n\n\t\t\t\tpoints.push( new THREE.Vector2( tx, ty ) );\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tcase THREE.PathActions.BEZIER_CURVE_TO:\n\n\t\t\tcpx  = args[ 4 ];\n\t\t\tcpy  = args[ 5 ];\n\n\t\t\tcpx1 = args[ 0 ];\n\t\t\tcpy1 = args[ 1 ];\n\n\t\t\tcpx2 = args[ 2 ];\n\t\t\tcpy2 = args[ 3 ];\n\n\t\t\tif ( points.length > 0 ) {\n\n\t\t\t\tlaste = points[ points.length - 1 ];\n\n\t\t\t\tcpx0 = laste.x;\n\t\t\t\tcpy0 = laste.y;\n\n\t\t\t} else {\n\n\t\t\t\tlaste = this.actions[ i - 1 ].args;\n\n\t\t\t\tcpx0 = laste[ laste.length - 2 ];\n\t\t\t\tcpy0 = laste[ laste.length - 1 ];\n\n\t\t\t}\n\n\n\t\t\tfor ( j = 1; j <= divisions; j ++ ) {\n\n\t\t\t\tt = j / divisions;\n\n\t\t\t\ttx = THREE.Shape.Utils.b3( t, cpx0, cpx1, cpx2, cpx );\n\t\t\t\tty = THREE.Shape.Utils.b3( t, cpy0, cpy1, cpy2, cpy );\n\n\t\t\t\tpoints.push( new THREE.Vector2( tx, ty ) );\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tcase THREE.PathActions.CSPLINE_THRU:\n\n\t\t\tlaste = this.actions[ i - 1 ].args;\n\n\t\t\tvar last = new THREE.Vector2( laste[ laste.length - 2 ], laste[ laste.length - 1 ] );\n\t\t\tvar spts = [ last ];\n\n\t\t\tvar n = divisions * args[ 0 ].length;\n\n\t\t\tspts = spts.concat( args[ 0 ] );\n\n\t\t\tvar spline = new THREE.SplineCurve( spts );\n\n\t\t\tfor ( j = 1; j <= n; j ++ ) {\n\n\t\t\t\tpoints.push( spline.getPointAt( j / n ) ) ;\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tcase THREE.PathActions.ARC:\n\n\t\t\tvar aX = args[ 0 ], aY = args[ 1 ],\n\t\t\t\taRadius = args[ 2 ],\n\t\t\t\taStartAngle = args[ 3 ], aEndAngle = args[ 4 ],\n\t\t\t\taClockwise = !!args[ 5 ];\n\n\t\t\tvar deltaAngle = aEndAngle - aStartAngle;\n\t\t\tvar angle;\n\t\t\tvar tdivisions = divisions * 2;\n\n\t\t\tfor ( j = 1; j <= tdivisions; j ++ ) {\n\n\t\t\t\tt = j / tdivisions;\n\n\t\t\t\tif ( ! aClockwise ) {\n\n\t\t\t\t\tt = 1 - t;\n\n\t\t\t\t}\n\n\t\t\t\tangle = aStartAngle + t * deltaAngle;\n\n\t\t\t\ttx = aX + aRadius * Math.cos( angle );\n\t\t\t\tty = aY + aRadius * Math.sin( angle );\n\n\t\t\t\t//console.log('t', t, 'angle', angle, 'tx', tx, 'ty', ty);\n\n\t\t\t\tpoints.push( new THREE.Vector2( tx, ty ) );\n\n\t\t\t}\n\n\t\t\t//console.log(points);\n\n\t\t  break;\n\t\t  \n\t\tcase THREE.PathActions.ELLIPSE:\n\n\t\t\tvar aX = args[ 0 ], aY = args[ 1 ],\n\t\t\t\txRadius = args[ 2 ],\n\t\t\t\tyRadius = args[ 3 ],\n\t\t\t\taStartAngle = args[ 4 ], aEndAngle = args[ 5 ],\n\t\t\t\taClockwise = !!args[ 6 ];\n\n\n\t\t\tvar deltaAngle = aEndAngle - aStartAngle;\n\t\t\tvar angle;\n\t\t\tvar tdivisions = divisions * 2;\n\n\t\t\tfor ( j = 1; j <= tdivisions; j ++ ) {\n\n\t\t\t\tt = j / tdivisions;\n\n\t\t\t\tif ( ! aClockwise ) {\n\n\t\t\t\t\tt = 1 - t;\n\n\t\t\t\t}\n\n\t\t\t\tangle = aStartAngle + t * deltaAngle;\n\n\t\t\t\ttx = aX + xRadius * Math.cos( angle );\n\t\t\t\tty = aY + yRadius * Math.sin( angle );\n\n\t\t\t\t//console.log('t', t, 'angle', angle, 'tx', tx, 'ty', ty);\n\n\t\t\t\tpoints.push( new THREE.Vector2( tx, ty ) );\n\n\t\t\t}\n\n\t\t\t//console.log(points);\n\n\t\t  break;\n\n\t\t} // end switch\n\n\t}\n\n\n\n\t// Normalize to remove the closing point by default.\n\tvar lastPoint = points[ points.length - 1];\n\tvar EPSILON = 0.0000000001;\n\tif ( Math.abs(lastPoint.x - points[ 0 ].x) < EPSILON &&\n\t\t\t Math.abs(lastPoint.y - points[ 0 ].y) < EPSILON)\n\t\tpoints.splice( points.length - 1, 1);\n\tif ( closedPath ) {\n\n\t\tpoints.push( points[ 0 ] );\n\n\t}\n\n\treturn points;\n\n};\n\n// Breaks path into shapes\n\nTHREE.Path.prototype.toShapes = function( isCCW ) {\n\n\tvar i, il, item, action, args;\n\n\tvar subPaths = [], lastPath = new THREE.Path();\n\n\tfor ( i = 0, il = this.actions.length; i < il; i ++ ) {\n\n\t\titem = this.actions[ i ];\n\n\t\targs = item.args;\n\t\taction = item.action;\n\n\t\tif ( action == THREE.PathActions.MOVE_TO ) {\n\n\t\t\tif ( lastPath.actions.length != 0 ) {\n\n\t\t\t\tsubPaths.push( lastPath );\n\t\t\t\tlastPath = new THREE.Path();\n\n\t\t\t}\n\n\t\t}\n\n\t\tlastPath[ action ].apply( lastPath, args );\n\n\t}\n\n\tif ( lastPath.actions.length != 0 ) {\n\n\t\tsubPaths.push( lastPath );\n\n\t}\n\n\t// console.log(subPaths);\n\n\tif ( subPaths.length == 0 ) return [];\n\n\tvar solid, tmpPath, tmpShape, shapes = [];\n\n\tif ( subPaths.length == 1) {\n\n\t\ttmpPath = subPaths[0];\n\t\ttmpShape = new THREE.Shape();\n\t\ttmpShape.actions = tmpPath.actions;\n\t\ttmpShape.curves = tmpPath.curves;\n\t\tshapes.push( tmpShape );\n\t\treturn shapes;\n\n\t}\n\n\tvar holesFirst = !THREE.Shape.Utils.isClockWise( subPaths[ 0 ].getPoints() );\n\tholesFirst = isCCW ? !holesFirst : holesFirst;\n\n\t// console.log(\"Holes first\", holesFirst);\n\n\tif ( holesFirst ) {\n\n\t\ttmpShape = new THREE.Shape();\n\n\t\tfor ( i = 0, il = subPaths.length; i < il; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\tsolid = THREE.Shape.Utils.isClockWise( tmpPath.getPoints() );\n\t\t\tsolid = isCCW ? !solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\ttmpShape.actions = tmpPath.actions;\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t\tshapes.push( tmpShape );\n\t\t\t\ttmpShape = new THREE.Shape();\n\n\t\t\t\t//console.log('cw', i);\n\n\t\t\t} else {\n\n\t\t\t\ttmpShape.holes.push( tmpPath );\n\n\t\t\t\t//console.log('ccw', i);\n\n\t\t\t}\n\n\t\t}\n\n\t} else {\n\n\t\t// Shapes first\n\t\ttmpShape = undefined;\n\n\t\tfor ( i = 0, il = subPaths.length; i < il; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\tsolid = THREE.Shape.Utils.isClockWise( tmpPath.getPoints() );\n\t\t\tsolid = isCCW ? !solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\tif ( tmpShape ) shapes.push( tmpShape );\n\n\t\t\t\ttmpShape = new THREE.Shape();\n\t\t\t\ttmpShape.actions = tmpPath.actions;\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t} else {\n\n\t\t\t\ttmpShape.holes.push( tmpPath );\n\n\t\t\t}\n\n\t\t}\n\n\t\tshapes.push( tmpShape );\n\n\t}\n\n\t//console.log(\"shape\", shapes);\n\n\treturn shapes;\n\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Defines a 2d shape plane using paths.\n **/\n\n// STEP 1 Create a path.\n// STEP 2 Turn path into shape.\n// STEP 3 ExtrudeGeometry takes in Shape/Shapes\n// STEP 3a - Extract points from each shape, turn to vertices\n// STEP 3b - Triangulate each shape, add faces.\n\nTHREE.Shape = function () {\n\n\tTHREE.Path.apply( this, arguments );\n\tthis.holes = [];\n\n};\n\nTHREE.Shape.prototype = Object.create( THREE.Path.prototype );\n\n// Convenience method to return ExtrudeGeometry\n\nTHREE.Shape.prototype.extrude = function ( options ) {\n\n\tvar extruded = new THREE.ExtrudeGeometry( this, options );\n\treturn extruded;\n\n};\n\n// Convenience method to return ShapeGeometry\n\nTHREE.Shape.prototype.makeGeometry = function ( options ) {\n\n\tvar geometry = new THREE.ShapeGeometry( this, options );\n\treturn geometry;\n\n};\n\n// Get points of holes\n\nTHREE.Shape.prototype.getPointsHoles = function ( divisions ) {\n\n\tvar i, il = this.holes.length, holesPts = [];\n\n\tfor ( i = 0; i < il; i ++ ) {\n\n\t\tholesPts[ i ] = this.holes[ i ].getTransformedPoints( divisions, this.bends );\n\n\t}\n\n\treturn holesPts;\n\n};\n\n// Get points of holes (spaced by regular distance)\n\nTHREE.Shape.prototype.getSpacedPointsHoles = function ( divisions ) {\n\n\tvar i, il = this.holes.length, holesPts = [];\n\n\tfor ( i = 0; i < il; i ++ ) {\n\n\t\tholesPts[ i ] = this.holes[ i ].getTransformedSpacedPoints( divisions, this.bends );\n\n\t}\n\n\treturn holesPts;\n\n};\n\n\n// Get points of shape and holes (keypoints based on segments parameter)\n\nTHREE.Shape.prototype.extractAllPoints = function ( divisions ) {\n\n\treturn {\n\n\t\tshape: this.getTransformedPoints( divisions ),\n\t\tholes: this.getPointsHoles( divisions )\n\n\t};\n\n};\n\nTHREE.Shape.prototype.extractPoints = function ( divisions ) {\n\n\tif (this.useSpacedPoints) {\n\t\treturn this.extractAllSpacedPoints(divisions);\n\t}\n\n\treturn this.extractAllPoints(divisions);\n\n};\n\n//\n// THREE.Shape.prototype.extractAllPointsWithBend = function ( divisions, bend ) {\n//\n// \treturn {\n//\n// \t\tshape: this.transform( bend, divisions ),\n// \t\tholes: this.getPointsHoles( divisions, bend )\n//\n// \t};\n//\n// };\n\n// Get points of shape and holes (spaced by regular distance)\n\nTHREE.Shape.prototype.extractAllSpacedPoints = function ( divisions ) {\n\n\treturn {\n\n\t\tshape: this.getTransformedSpacedPoints( divisions ),\n\t\tholes: this.getSpacedPointsHoles( divisions )\n\n\t};\n\n};\n\n/**************************************************************\n *\tUtils\n **************************************************************/\n\nTHREE.Shape.Utils = {\n\n\t/*\n\t\tcontour - array of vector2 for contour\n\t\tholes   - array of array of vector2\n\t*/\n\n\tremoveHoles: function ( contour, holes ) {\n\n\t\tvar shape = contour.concat(); // work on this shape\n\t\tvar allpoints = shape.concat();\n\n\t\t/* For each isolated shape, find the closest points and break to the hole to allow triangulation */\n\n\n\t\tvar prevShapeVert, nextShapeVert,\n\t\t\tprevHoleVert, nextHoleVert,\n\t\t\tholeIndex, shapeIndex,\n\t\t\tshapeId, shapeGroup,\n\t\t\th, h2,\n\t\t\thole, shortest, d,\n\t\t\tp, pts1, pts2,\n\t\t\ttmpShape1, tmpShape2,\n\t\t\ttmpHole1, tmpHole2,\n\t\t\tverts = [];\n\n\t\tfor ( h = 0; h < holes.length; h ++ ) {\n\n\t\t\thole = holes[ h ];\n\n\t\t\t/*\n\t\t\tshapeholes[ h ].concat(); // preserves original\n\t\t\tholes.push( hole );\n\t\t\t*/\n\n\t\t\tArray.prototype.push.apply( allpoints, hole );\n\n\t\t\tshortest = Number.POSITIVE_INFINITY;\n\n\n\t\t\t// Find the shortest pair of pts between shape and hole\n\n\t\t\t// Note: Actually, I'm not sure now if we could optimize this to be faster than O(m*n)\n\t\t\t// Using distanceToSquared() intead of distanceTo() should speed a little\n\t\t\t// since running square roots operations are reduced.\n\n\t\t\tfor ( h2 = 0; h2 < hole.length; h2 ++ ) {\n\n\t\t\t\tpts1 = hole[ h2 ];\n\t\t\t\tvar dist = [];\n\n\t\t\t\tfor ( p = 0; p < shape.length; p++ ) {\n\n\t\t\t\t\tpts2 = shape[ p ];\n\t\t\t\t\td = pts1.distanceToSquared( pts2 );\n\t\t\t\t\tdist.push( d );\n\n\t\t\t\t\tif ( d < shortest ) {\n\n\t\t\t\t\t\tshortest = d;\n\t\t\t\t\t\tholeIndex = h2;\n\t\t\t\t\t\tshapeIndex = p;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//console.log(\"shortest\", shortest, dist);\n\n\t\t\tprevShapeVert = ( shapeIndex - 1 ) >= 0 ? shapeIndex - 1 : shape.length - 1;\n\t\t\tprevHoleVert = ( holeIndex - 1 ) >= 0 ? holeIndex - 1 : hole.length - 1;\n\n\t\t\tvar areaapts = [\n\n\t\t\t\thole[ holeIndex ],\n\t\t\t\tshape[ shapeIndex ],\n\t\t\t\tshape[ prevShapeVert ]\n\n\t\t\t];\n\n\t\t\tvar areaa = THREE.FontUtils.Triangulate.area( areaapts );\n\n\t\t\tvar areabpts = [\n\n\t\t\t\thole[ holeIndex ],\n\t\t\t\thole[ prevHoleVert ],\n\t\t\t\tshape[ shapeIndex ]\n\n\t\t\t];\n\n\t\t\tvar areab = THREE.FontUtils.Triangulate.area( areabpts );\n\n\t\t\tvar shapeOffset = 1;\n\t\t\tvar holeOffset = -1;\n\n\t\t\tvar oldShapeIndex = shapeIndex, oldHoleIndex = holeIndex;\n\t\t\tshapeIndex += shapeOffset;\n\t\t\tholeIndex += holeOffset;\n\n\t\t\tif ( shapeIndex < 0 ) { shapeIndex += shape.length;  }\n\t\t\tshapeIndex %= shape.length;\n\n\t\t\tif ( holeIndex < 0 ) { holeIndex += hole.length;  }\n\t\t\tholeIndex %= hole.length;\n\n\t\t\tprevShapeVert = ( shapeIndex - 1 ) >= 0 ? shapeIndex - 1 : shape.length - 1;\n\t\t\tprevHoleVert = ( holeIndex - 1 ) >= 0 ? holeIndex - 1 : hole.length - 1;\n\n\t\t\tareaapts = [\n\n\t\t\t\thole[ holeIndex ],\n\t\t\t\tshape[ shapeIndex ],\n\t\t\t\tshape[ prevShapeVert ]\n\n\t\t\t];\n\n\t\t\tvar areaa2 = THREE.FontUtils.Triangulate.area( areaapts );\n\n\t\t\tareabpts = [\n\n\t\t\t\thole[ holeIndex ],\n\t\t\t\thole[ prevHoleVert ],\n\t\t\t\tshape[ shapeIndex ]\n\n\t\t\t];\n\n\t\t\tvar areab2 = THREE.FontUtils.Triangulate.area( areabpts );\n\t\t\t//console.log(areaa,areab ,areaa2,areab2, ( areaa + areab ),  ( areaa2 + areab2 ));\n\n\t\t\tif ( ( areaa + areab ) > ( areaa2 + areab2 ) ) {\n\n\t\t\t\t// In case areas are not correct.\n\t\t\t\t//console.log(\"USE THIS\");\n\n\t\t\t\tshapeIndex = oldShapeIndex;\n\t\t\t\tholeIndex = oldHoleIndex ;\n\n\t\t\t\tif ( shapeIndex < 0 ) { shapeIndex += shape.length;  }\n\t\t\t\tshapeIndex %= shape.length;\n\n\t\t\t\tif ( holeIndex < 0 ) { holeIndex += hole.length;  }\n\t\t\t\tholeIndex %= hole.length;\n\n\t\t\t\tprevShapeVert = ( shapeIndex - 1 ) >= 0 ? shapeIndex - 1 : shape.length - 1;\n\t\t\t\tprevHoleVert = ( holeIndex - 1 ) >= 0 ? holeIndex - 1 : hole.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\t//console.log(\"USE THAT \")\n\n\t\t\t}\n\n\t\t\ttmpShape1 = shape.slice( 0, shapeIndex );\n\t\t\ttmpShape2 = shape.slice( shapeIndex );\n\t\t\ttmpHole1 = hole.slice( holeIndex );\n\t\t\ttmpHole2 = hole.slice( 0, holeIndex );\n\n\t\t\t// Should check orders here again?\n\n\t\t\tvar trianglea = [\n\n\t\t\t\thole[ holeIndex ],\n\t\t\t\tshape[ shapeIndex ],\n\t\t\t\tshape[ prevShapeVert ]\n\n\t\t\t];\n\n\t\t\tvar triangleb = [\n\n\t\t\t\thole[ holeIndex ] ,\n\t\t\t\thole[ prevHoleVert ],\n\t\t\t\tshape[ shapeIndex ]\n\n\t\t\t];\n\n\t\t\tverts.push( trianglea );\n\t\t\tverts.push( triangleb );\n\n\t\t\tshape = tmpShape1.concat( tmpHole1 ).concat( tmpHole2 ).concat( tmpShape2 );\n\n\t\t}\n\n\t\treturn {\n\n\t\t\tshape:shape, \t\t/* shape with no holes */\n\t\t\tisolatedPts: verts, /* isolated faces */\n\t\t\tallpoints: allpoints\n\n\t\t}\n\n\n\t},\n\n\ttriangulateShape: function ( contour, holes ) {\n\n\t\tvar shapeWithoutHoles = THREE.Shape.Utils.removeHoles( contour, holes );\n\n\t\tvar shape = shapeWithoutHoles.shape,\n\t\t\tallpoints = shapeWithoutHoles.allpoints,\n\t\t\tisolatedPts = shapeWithoutHoles.isolatedPts;\n\n\t\tvar triangles = THREE.FontUtils.Triangulate( shape, false ); // True returns indices for points of spooled shape\n\n\t\t// To maintain reference to old shape, one must match coordinates, or offset the indices from original arrays. It's probably easier to do the first.\n\n\t\t//console.log( \"triangles\",triangles, triangles.length );\n\t\t//console.log( \"allpoints\",allpoints, allpoints.length );\n\n\t\tvar i, il, f, face,\n\t\t\tkey, index,\n\t\t\tallPointsMap = {},\n\t\t\tisolatedPointsMap = {};\n\n\t\t// prepare all points map\n\n\t\tfor ( i = 0, il = allpoints.length; i < il; i ++ ) {\n\n\t\t\tkey = allpoints[ i ].x + \":\" + allpoints[ i ].y;\n\n\t\t\tif ( allPointsMap[ key ] !== undefined ) {\n\n\t\t\t\tconsole.log( \"Duplicate point\", key );\n\n\t\t\t}\n\n\t\t\tallPointsMap[ key ] = i;\n\n\t\t}\n\n\t\t// check all face vertices against all points map\n\n\t\tfor ( i = 0, il = triangles.length; i < il; i ++ ) {\n\n\t\t\tface = triangles[ i ];\n\n\t\t\tfor ( f = 0; f < 3; f ++ ) {\n\n\t\t\t\tkey = face[ f ].x + \":\" + face[ f ].y;\n\n\t\t\t\tindex = allPointsMap[ key ];\n\n\t\t\t\tif ( index !== undefined ) {\n\n\t\t\t\t\tface[ f ] = index;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// check isolated points vertices against all points map\n\n\t\tfor ( i = 0, il = isolatedPts.length; i < il; i ++ ) {\n\n\t\t\tface = isolatedPts[ i ];\n\n\t\t\tfor ( f = 0; f < 3; f ++ ) {\n\n\t\t\t\tkey = face[ f ].x + \":\" + face[ f ].y;\n\n\t\t\t\tindex = allPointsMap[ key ];\n\n\t\t\t\tif ( index !== undefined ) {\n\n\t\t\t\t\tface[ f ] = index;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn triangles.concat( isolatedPts );\n\n\t}, // end triangulate shapes\n\n\t/*\n\ttriangulate2 : function( pts, holes ) {\n\n\t\t// For use with Poly2Tri.js\n\n\t\tvar allpts = pts.concat();\n\t\tvar shape = [];\n\t\tfor (var p in pts) {\n\t\t\tshape.push(new js.poly2tri.Point(pts[p].x, pts[p].y));\n\t\t}\n\n\t\tvar swctx = new js.poly2tri.SweepContext(shape);\n\n\t\tfor (var h in holes) {\n\t\t\tvar aHole = holes[h];\n\t\t\tvar newHole = []\n\t\t\tfor (i in aHole) {\n\t\t\t\tnewHole.push(new js.poly2tri.Point(aHole[i].x, aHole[i].y));\n\t\t\t\tallpts.push(aHole[i]);\n\t\t\t}\n\t\t\tswctx.AddHole(newHole);\n\t\t}\n\n\t\tvar find;\n\t\tvar findIndexForPt = function (pt) {\n\t\t\tfind = new THREE.Vector2(pt.x, pt.y);\n\t\t\tvar p;\n\t\t\tfor (p=0, pl = allpts.length; p<pl; p++) {\n\t\t\t\tif (allpts[p].equals(find)) return p;\n\t\t\t}\n\t\t\treturn -1;\n\t\t};\n\n\t\t// triangulate\n\t\tjs.poly2tri.sweep.Triangulate(swctx);\n\n\t\tvar triangles =  swctx.GetTriangles();\n\t\tvar tr ;\n\t\tvar facesPts = [];\n\t\tfor (var t in triangles) {\n\t\t\ttr =  triangles[t];\n\t\t\tfacesPts.push([\n\t\t\t\tfindIndexForPt(tr.GetPoint(0)),\n\t\t\t\tfindIndexForPt(tr.GetPoint(1)),\n\t\t\t\tfindIndexForPt(tr.GetPoint(2))\n\t\t\t\t\t]);\n\t\t}\n\n\n\t//\tconsole.log(facesPts);\n\t//\tconsole.log(\"triangles\", triangles.length, triangles);\n\n\t\t// Returns array of faces with 3 element each\n\treturn facesPts;\n\t},\n*/\n\n\tisClockWise: function ( pts ) {\n\n\t\treturn THREE.FontUtils.Triangulate.area( pts ) < 0;\n\n\t},\n\n\t// Bezier Curves formulas obtained from\n\t// http://en.wikipedia.org/wiki/B%C3%A9zier_curve\n\n\t// Quad Bezier Functions\n\n\tb2p0: function ( t, p ) {\n\n\t\tvar k = 1 - t;\n\t\treturn k * k * p;\n\n\t},\n\n\tb2p1: function ( t, p ) {\n\n\t\treturn 2 * ( 1 - t ) * t * p;\n\n\t},\n\n\tb2p2: function ( t, p ) {\n\n\t\treturn t * t * p;\n\n\t},\n\n\tb2: function ( t, p0, p1, p2 ) {\n\n\t\treturn this.b2p0( t, p0 ) + this.b2p1( t, p1 ) + this.b2p2( t, p2 );\n\n\t},\n\n\t// Cubic Bezier Functions\n\n\tb3p0: function ( t, p ) {\n\n\t\tvar k = 1 - t;\n\t\treturn k * k * k * p;\n\n\t},\n\n\tb3p1: function ( t, p ) {\n\n\t\tvar k = 1 - t;\n\t\treturn 3 * k * k * t * p;\n\n\t},\n\n\tb3p2: function ( t, p ) {\n\n\t\tvar k = 1 - t;\n\t\treturn 3 * k * t * t * p;\n\n\t},\n\n\tb3p3: function ( t, p ) {\n\n\t\treturn t * t * t * p;\n\n\t},\n\n\tb3: function ( t, p0, p1, p2, p3 ) {\n\n\t\treturn this.b3p0( t, p0 ) + this.b3p1( t, p1 ) + this.b3p2( t, p2 ) +  this.b3p3( t, p3 );\n\n\t}\n\n};\n\n\n/**************************************************************\n *\tLine\n **************************************************************/\n\nTHREE.LineCurve = function ( v1, v2 ) {\n\n\tthis.v1 = v1;\n\tthis.v2 = v2;\n\n};\n\nTHREE.LineCurve.prototype = Object.create( THREE.Curve.prototype );\n\nTHREE.LineCurve.prototype.getPoint = function ( t ) {\n\n\tvar point = this.v2.clone().sub(this.v1);\n\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nTHREE.LineCurve.prototype.getPointAt = function ( u ) {\n\n\treturn this.getPoint( u );\n\n};\n\nTHREE.LineCurve.prototype.getTangent = function( t ) {\n\n\tvar tangent = this.v2.clone().sub(this.v1);\n\n\treturn tangent.normalize();\n\n};\n/**************************************************************\n *\tQuadratic Bezier curve\n **************************************************************/\n\n\nTHREE.QuadraticBezierCurve = function ( v0, v1, v2 ) {\n\n\tthis.v0 = v0;\n\tthis.v1 = v1;\n\tthis.v2 = v2;\n\n};\n\nTHREE.QuadraticBezierCurve.prototype = Object.create( THREE.Curve.prototype );\n\n\nTHREE.QuadraticBezierCurve.prototype.getPoint = function ( t ) {\n\n\tvar tx, ty;\n\n\ttx = THREE.Shape.Utils.b2( t, this.v0.x, this.v1.x, this.v2.x );\n\tty = THREE.Shape.Utils.b2( t, this.v0.y, this.v1.y, this.v2.y );\n\n\treturn new THREE.Vector2( tx, ty );\n\n};\n\n\nTHREE.QuadraticBezierCurve.prototype.getTangent = function( t ) {\n\n\tvar tx, ty;\n\n\ttx = THREE.Curve.Utils.tangentQuadraticBezier( t, this.v0.x, this.v1.x, this.v2.x );\n\tty = THREE.Curve.Utils.tangentQuadraticBezier( t, this.v0.y, this.v1.y, this.v2.y );\n\n\t// returns unit vector\n\n\tvar tangent = new THREE.Vector2( tx, ty );\n\ttangent.normalize();\n\n\treturn tangent;\n\n};\n/**************************************************************\n *\tCubic Bezier curve\n **************************************************************/\n\nTHREE.CubicBezierCurve = function ( v0, v1, v2, v3 ) {\n\n\tthis.v0 = v0;\n\tthis.v1 = v1;\n\tthis.v2 = v2;\n\tthis.v3 = v3;\n\n};\n\nTHREE.CubicBezierCurve.prototype = Object.create( THREE.Curve.prototype );\n\nTHREE.CubicBezierCurve.prototype.getPoint = function ( t ) {\n\n\tvar tx, ty;\n\n\ttx = THREE.Shape.Utils.b3( t, this.v0.x, this.v1.x, this.v2.x, this.v3.x );\n\tty = THREE.Shape.Utils.b3( t, this.v0.y, this.v1.y, this.v2.y, this.v3.y );\n\n\treturn new THREE.Vector2( tx, ty );\n\n};\n\nTHREE.CubicBezierCurve.prototype.getTangent = function( t ) {\n\n\tvar tx, ty;\n\n\ttx = THREE.Curve.Utils.tangentCubicBezier( t, this.v0.x, this.v1.x, this.v2.x, this.v3.x );\n\tty = THREE.Curve.Utils.tangentCubicBezier( t, this.v0.y, this.v1.y, this.v2.y, this.v3.y );\n\n\tvar tangent = new THREE.Vector2( tx, ty );\n\ttangent.normalize();\n\n\treturn tangent;\n\n};\n/**************************************************************\n *\tSpline curve\n **************************************************************/\n\nTHREE.SplineCurve = function ( points /* array of Vector2 */ ) {\n\n\tthis.points = (points == undefined) ? [] : points;\n\n};\n\nTHREE.SplineCurve.prototype = Object.create( THREE.Curve.prototype );\n\nTHREE.SplineCurve.prototype.getPoint = function ( t ) {\n\n\tvar v = new THREE.Vector2();\n\tvar c = [];\n\tvar points = this.points, point, intPoint, weight;\n\tpoint = ( points.length - 1 ) * t;\n\n\tintPoint = Math.floor( point );\n\tweight = point - intPoint;\n\n\tc[ 0 ] = intPoint == 0 ? intPoint : intPoint - 1;\n\tc[ 1 ] = intPoint;\n\tc[ 2 ] = intPoint  > points.length - 2 ? points.length -1 : intPoint + 1;\n\tc[ 3 ] = intPoint  > points.length - 3 ? points.length -1 : intPoint + 2;\n\n\tv.x = THREE.Curve.Utils.interpolate( points[ c[ 0 ] ].x, points[ c[ 1 ] ].x, points[ c[ 2 ] ].x, points[ c[ 3 ] ].x, weight );\n\tv.y = THREE.Curve.Utils.interpolate( points[ c[ 0 ] ].y, points[ c[ 1 ] ].y, points[ c[ 2 ] ].y, points[ c[ 3 ] ].y, weight );\n\n\treturn v;\n\n};\n/**************************************************************\n *\tEllipse curve\n **************************************************************/\n\nTHREE.EllipseCurve = function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\tthis.aX = aX;\n\tthis.aY = aY;\n\n\tthis.xRadius = xRadius;\n\tthis.yRadius = yRadius;\n\n\tthis.aStartAngle = aStartAngle;\n\tthis.aEndAngle = aEndAngle;\n\n\tthis.aClockwise = aClockwise;\n\n};\n\nTHREE.EllipseCurve.prototype = Object.create( THREE.Curve.prototype );\n\nTHREE.EllipseCurve.prototype.getPoint = function ( t ) {\n\n\tvar angle;\n\tvar deltaAngle = this.aEndAngle - this.aStartAngle;\n\n\tif ( deltaAngle < 0 ) deltaAngle += Math.PI * 2;\n\tif ( deltaAngle > Math.PI * 2 ) deltaAngle -= Math.PI * 2;\n\n\tif ( this.aClockwise === true ) {\n\n\t\tangle = this.aEndAngle + ( 1 - t ) * ( Math.PI * 2 - deltaAngle );\n\n\t} else {\n\n\t\tangle = this.aStartAngle + t * deltaAngle;\n\n\t}\n\n\tvar tx = this.aX + this.xRadius * Math.cos( angle );\n\tvar ty = this.aY + this.yRadius * Math.sin( angle );\n\n\treturn new THREE.Vector2( tx, ty );\n\n};\n\n/**************************************************************\n *\tArc curve\n **************************************************************/\n\nTHREE.ArcCurve = function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\tTHREE.EllipseCurve.call( this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n};\n\nTHREE.ArcCurve.prototype = Object.create( THREE.EllipseCurve.prototype );\n/**************************************************************\n *\tLine3D\n **************************************************************/\n\nTHREE.LineCurve3 = THREE.Curve.create(\n\n\tfunction ( v1, v2 ) {\n\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t},\n\n\tfunction ( t ) {\n\n\t\tvar r = new THREE.Vector3();\n\n\n\t\tr.subVectors( this.v2, this.v1 ); // diff\n\t\tr.multiplyScalar( t );\n\t\tr.add( this.v1 );\n\n\t\treturn r;\n\n\t}\n\n);\n\n/**************************************************************\n *\tQuadratic Bezier 3D curve\n **************************************************************/\n\nTHREE.QuadraticBezierCurve3 = THREE.Curve.create(\n\n\tfunction ( v0, v1, v2 ) {\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t},\n\n\tfunction ( t ) {\n\n\t\tvar tx, ty, tz;\n\n\t\ttx = THREE.Shape.Utils.b2( t, this.v0.x, this.v1.x, this.v2.x );\n\t\tty = THREE.Shape.Utils.b2( t, this.v0.y, this.v1.y, this.v2.y );\n\t\ttz = THREE.Shape.Utils.b2( t, this.v0.z, this.v1.z, this.v2.z );\n\n\t\treturn new THREE.Vector3( tx, ty, tz );\n\n\t}\n\n);\n/**************************************************************\n *\tCubic Bezier 3D curve\n **************************************************************/\n\nTHREE.CubicBezierCurve3 = THREE.Curve.create(\n\n\tfunction ( v0, v1, v2, v3 ) {\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\t\tthis.v3 = v3;\n\n\t},\n\n\tfunction ( t ) {\n\n\t\tvar tx, ty, tz;\n\n\t\ttx = THREE.Shape.Utils.b3( t, this.v0.x, this.v1.x, this.v2.x, this.v3.x );\n\t\tty = THREE.Shape.Utils.b3( t, this.v0.y, this.v1.y, this.v2.y, this.v3.y );\n\t\ttz = THREE.Shape.Utils.b3( t, this.v0.z, this.v1.z, this.v2.z, this.v3.z );\n\n\t\treturn new THREE.Vector3( tx, ty, tz );\n\n\t}\n\n);\n/**************************************************************\n *\tSpline 3D curve\n **************************************************************/\n\n\nTHREE.SplineCurve3 = THREE.Curve.create(\n\n\tfunction ( points /* array of Vector3 */) {\n\n\t\tthis.points = (points == undefined) ? [] : points;\n\n\t},\n\n\tfunction ( t ) {\n\n\t\tvar v = new THREE.Vector3();\n\t\tvar c = [];\n\t\tvar points = this.points, point, intPoint, weight;\n\t\tpoint = ( points.length - 1 ) * t;\n\n\t\tintPoint = Math.floor( point );\n\t\tweight = point - intPoint;\n\n\t\tc[ 0 ] = intPoint == 0 ? intPoint : intPoint - 1;\n\t\tc[ 1 ] = intPoint;\n\t\tc[ 2 ] = intPoint  > points.length - 2 ? points.length - 1 : intPoint + 1;\n\t\tc[ 3 ] = intPoint  > points.length - 3 ? points.length - 1 : intPoint + 2;\n\n\t\tvar pt0 = points[ c[0] ],\n\t\t\tpt1 = points[ c[1] ],\n\t\t\tpt2 = points[ c[2] ],\n\t\t\tpt3 = points[ c[3] ];\n\n\t\tv.x = THREE.Curve.Utils.interpolate(pt0.x, pt1.x, pt2.x, pt3.x, weight);\n\t\tv.y = THREE.Curve.Utils.interpolate(pt0.y, pt1.y, pt2.y, pt3.y, weight);\n\t\tv.z = THREE.Curve.Utils.interpolate(pt0.z, pt1.z, pt2.z, pt3.z, weight);\n\n\t\treturn v;\n\n\t}\n\n);\n\n\n// THREE.SplineCurve3.prototype.getTangent = function(t) {\n// \t\tvar v = new THREE.Vector3();\n// \t\tvar c = [];\n// \t\tvar points = this.points, point, intPoint, weight;\n// \t\tpoint = ( points.length - 1 ) * t;\n\n// \t\tintPoint = Math.floor( point );\n// \t\tweight = point - intPoint;\n\n// \t\tc[ 0 ] = intPoint == 0 ? intPoint : intPoint - 1;\n// \t\tc[ 1 ] = intPoint;\n// \t\tc[ 2 ] = intPoint  > points.length - 2 ? points.length - 1 : intPoint + 1;\n// \t\tc[ 3 ] = intPoint  > points.length - 3 ? points.length - 1 : intPoint + 2;\n\n// \t\tvar pt0 = points[ c[0] ],\n// \t\t\tpt1 = points[ c[1] ],\n// \t\t\tpt2 = points[ c[2] ],\n// \t\t\tpt3 = points[ c[3] ];\n\n// \t// t = weight;\n// \tv.x = THREE.Curve.Utils.tangentSpline( t, pt0.x, pt1.x, pt2.x, pt3.x );\n// \tv.y = THREE.Curve.Utils.tangentSpline( t, pt0.y, pt1.y, pt2.y, pt3.y );\n// \tv.z = THREE.Curve.Utils.tangentSpline( t, pt0.z, pt1.z, pt2.z, pt3.z );\n\n// \treturn v;\n\n// }\n/**************************************************************\n *\tClosed Spline 3D curve\n **************************************************************/\n\n\nTHREE.ClosedSplineCurve3 = THREE.Curve.create(\n\n\tfunction ( points /* array of Vector3 */) {\n\n\t\tthis.points = (points == undefined) ? [] : points;\n\n\t},\n\n    function ( t ) {\n\n        var v = new THREE.Vector3();\n        var c = [];\n        var points = this.points, point, intPoint, weight;\n        point = ( points.length - 0 ) * t;\n            // This needs to be from 0-length +1\n\n        intPoint = Math.floor( point );\n        weight = point - intPoint;\n\n        intPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / points.length ) + 1 ) * points.length;\n        c[ 0 ] = ( intPoint - 1 ) % points.length;\n        c[ 1 ] = ( intPoint ) % points.length;\n        c[ 2 ] = ( intPoint + 1 ) % points.length;\n        c[ 3 ] = ( intPoint + 2 ) % points.length;\n\n        v.x = THREE.Curve.Utils.interpolate( points[ c[ 0 ] ].x, points[ c[ 1 ] ].x, points[ c[ 2 ] ].x, points[ c[ 3 ] ].x, weight );\n        v.y = THREE.Curve.Utils.interpolate( points[ c[ 0 ] ].y, points[ c[ 1 ] ].y, points[ c[ 2 ] ].y, points[ c[ 3 ] ].y, weight );\n        v.z = THREE.Curve.Utils.interpolate( points[ c[ 0 ] ].z, points[ c[ 1 ] ].z, points[ c[ 2 ] ].z, points[ c[ 3 ] ].z, weight );\n\n        return v;\n\n    }\n\n);\n/**\n * @author mikael emtinger / http://gomo.se/\n */\n\nTHREE.AnimationHandler = (function() {\n\n\tvar playing = [];\n\tvar library = {};\n\tvar that    = {};\n\n\n\t//--- update ---\n\n\tthat.update = function( deltaTimeMS ) {\n\n\t\tfor( var i = 0; i < playing.length; i ++ )\n\t\t\tplaying[ i ].update( deltaTimeMS );\n\n\t};\n\n\n\t//--- add ---\n\n\tthat.addToUpdate = function( animation ) {\n\n\t\tif ( playing.indexOf( animation ) === -1 )\n\t\t\tplaying.push( animation );\n\n\t};\n\n\n\t//--- remove ---\n\n\tthat.removeFromUpdate = function( animation ) {\n\n\t\tvar index = playing.indexOf( animation );\n\n\t\tif( index !== -1 )\n\t\t\tplaying.splice( index, 1 );\n\n\t};\n\n\n\t//--- add ---\n\n\tthat.add = function( data ) {\n\n\t\tif ( library[ data.name ] !== undefined )\n\t\t\tconsole.log( \"THREE.AnimationHandler.add: Warning! \" + data.name + \" already exists in library. Overwriting.\" );\n\n\t\tlibrary[ data.name ] = data;\n\t\tinitData( data );\n\n\t};\n\n\n\t//--- get ---\n\n\tthat.get = function( name ) {\n\n\t\tif ( typeof name === \"string\" ) {\n\n\t\t\tif ( library[ name ] ) {\n\n\t\t\t\treturn library[ name ];\n\n\t\t\t} else {\n\n\t\t\t\tconsole.log( \"THREE.AnimationHandler.get: Couldn't find animation \" + name );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// todo: add simple tween library\n\n\t\t}\n\n\t};\n\n\t//--- parse ---\n\n\tthat.parse = function( root ) {\n\n\t\t// setup hierarchy\n\n\t\tvar hierarchy = [];\n\n\t\tif ( root instanceof THREE.SkinnedMesh ) {\n\n\t\t\tfor( var b = 0; b < root.bones.length; b++ ) {\n\n\t\t\t\thierarchy.push( root.bones[ b ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tparseRecurseHierarchy( root, hierarchy );\n\n\t\t}\n\n\t\treturn hierarchy;\n\n\t};\n\n\tvar parseRecurseHierarchy = function( root, hierarchy ) {\n\n\t\thierarchy.push( root );\n\n\t\tfor( var c = 0; c < root.children.length; c++ )\n\t\t\tparseRecurseHierarchy( root.children[ c ], hierarchy );\n\n\t}\n\n\n\t//--- init data ---\n\n\tvar initData = function( data ) {\n\n\t\tif( data.initialized === true )\n\t\t\treturn;\n\n\n\t\t// loop through all keys\n\n\t\tfor( var h = 0; h < data.hierarchy.length; h ++ ) {\n\n\t\t\tfor( var k = 0; k < data.hierarchy[ h ].keys.length; k ++ ) {\n\n\t\t\t\t// remove minus times\n\n\t\t\t\tif( data.hierarchy[ h ].keys[ k ].time < 0 )\n\t\t\t\t\tdata.hierarchy[ h ].keys[ k ].time = 0;\n\n\n\t\t\t\t// create quaternions\n\n\t\t\t\tif( data.hierarchy[ h ].keys[ k ].rot !== undefined &&\n\t\t\t\t !( data.hierarchy[ h ].keys[ k ].rot instanceof THREE.Quaternion ) ) {\n\n\t\t\t\t\tvar quat = data.hierarchy[ h ].keys[ k ].rot;\n\t\t\t\t\tdata.hierarchy[ h ].keys[ k ].rot = new THREE.Quaternion( quat[0], quat[1], quat[2], quat[3] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\t// prepare morph target keys\n\n\t\t\tif( data.hierarchy[ h ].keys.length && data.hierarchy[ h ].keys[ 0 ].morphTargets !== undefined ) {\n\n\t\t\t\t// get all used\n\n\t\t\t\tvar usedMorphTargets = {};\n\n\t\t\t\tfor ( var k = 0; k < data.hierarchy[ h ].keys.length; k ++ ) {\n\n\t\t\t\t\tfor ( var m = 0; m < data.hierarchy[ h ].keys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\tvar morphTargetName = data.hierarchy[ h ].keys[ k ].morphTargets[ m ];\n\t\t\t\t\t\tusedMorphTargets[ morphTargetName ] = -1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tdata.hierarchy[ h ].usedMorphTargets = usedMorphTargets;\n\n\n\t\t\t\t// set all used on all frames\n\n\t\t\t\tfor ( var k = 0; k < data.hierarchy[ h ].keys.length; k ++ ) {\n\n\t\t\t\t\tvar influences = {};\n\n\t\t\t\t\tfor ( var morphTargetName in usedMorphTargets ) {\n\n\t\t\t\t\t\tfor ( var m = 0; m < data.hierarchy[ h ].keys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\t\tif ( data.hierarchy[ h ].keys[ k ].morphTargets[ m ] === morphTargetName ) {\n\n\t\t\t\t\t\t\t\tinfluences[ morphTargetName ] = data.hierarchy[ h ].keys[ k ].morphTargetsInfluences[ m ];\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( m === data.hierarchy[ h ].keys[ k ].morphTargets.length ) {\n\n\t\t\t\t\t\t\tinfluences[ morphTargetName ] = 0;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tdata.hierarchy[ h ].keys[ k ].morphTargetsInfluences = influences;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\t// remove all keys that are on the same time\n\n\t\t\tfor ( var k = 1; k < data.hierarchy[ h ].keys.length; k ++ ) {\n\n\t\t\t\tif ( data.hierarchy[ h ].keys[ k ].time === data.hierarchy[ h ].keys[ k - 1 ].time ) {\n\n\t\t\t\t\tdata.hierarchy[ h ].keys.splice( k, 1 );\n\t\t\t\t\tk --;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\t// set index\n\n\t\t\tfor ( var k = 0; k < data.hierarchy[ h ].keys.length; k ++ ) {\n\n\t\t\t\tdata.hierarchy[ h ].keys[ k ].index = k;\n\n\t\t\t}\n\n\t\t}\n\n\n\t\t// JIT\n\n\t\tvar lengthInFrames = parseInt( data.length * data.fps, 10 );\n\n\t\tdata.JIT = {};\n\t\tdata.JIT.hierarchy = [];\n\n\t\tfor( var h = 0; h < data.hierarchy.length; h ++ )\n\t\t\tdata.JIT.hierarchy.push( new Array( lengthInFrames ) );\n\n\n\t\t// done\n\n\t\tdata.initialized = true;\n\n\t};\n\n\n\t// interpolation types\n\n\tthat.LINEAR = 0;\n\tthat.CATMULLROM = 1;\n\tthat.CATMULLROM_FORWARD = 2;\n\n\treturn that;\n\n}());\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.Animation = function ( root, name, interpolationType ) {\n\n\tthis.root = root;\n\tthis.data = THREE.AnimationHandler.get( name );\n\tthis.hierarchy = THREE.AnimationHandler.parse( root );\n\n\tthis.currentTime = 0;\n\tthis.timeScale = 1;\n\n\tthis.isPlaying = false;\n\tthis.isPaused = true;\n\tthis.loop = true;\n\n\tthis.interpolationType = interpolationType !== undefined ? interpolationType : THREE.AnimationHandler.LINEAR;\n\n\tthis.points = [];\n\tthis.target = new THREE.Vector3();\n\n};\n\nTHREE.Animation.prototype.play = function ( loop, startTimeMS ) {\n\n\tif ( this.isPlaying === false ) {\n\n\t\tthis.isPlaying = true;\n\t\tthis.loop = loop !== undefined ? loop : true;\n\t\tthis.currentTime = startTimeMS !== undefined ? startTimeMS : 0;\n\n\t\t// reset key cache\n\n\t\tvar h, hl = this.hierarchy.length,\n\t\t\tobject;\n\n\t\tfor ( h = 0; h < hl; h ++ ) {\n\n\t\t\tobject = this.hierarchy[ h ];\n\n\t\t\tobject.matrixAutoUpdate = true;\n\n\t\t\tif ( object.animationCache === undefined ) {\n\n\t\t\t\tobject.animationCache = {};\n\t\t\t\tobject.animationCache.prevKey = { pos: 0, rot: 0, scl: 0 };\n\t\t\t\tobject.animationCache.nextKey = { pos: 0, rot: 0, scl: 0 };\n\t\t\t\tobject.animationCache.originalMatrix = object instanceof THREE.Bone ? object.skinMatrix : object.matrix;\n\n\t\t\t}\n\n\t\t\tvar prevKey = object.animationCache.prevKey;\n\t\t\tvar nextKey = object.animationCache.nextKey;\n\n\t\t\tprevKey.pos = this.data.hierarchy[ h ].keys[ 0 ];\n\t\t\tprevKey.rot = this.data.hierarchy[ h ].keys[ 0 ];\n\t\t\tprevKey.scl = this.data.hierarchy[ h ].keys[ 0 ];\n\n\t\t\tnextKey.pos = this.getNextKeyWith( \"pos\", h, 1 );\n\t\t\tnextKey.rot = this.getNextKeyWith( \"rot\", h, 1 );\n\t\t\tnextKey.scl = this.getNextKeyWith( \"scl\", h, 1 );\n\n\t\t}\n\n\t\tthis.update( 0 );\n\n\t}\n\n\tthis.isPaused = false;\n\n\tTHREE.AnimationHandler.addToUpdate( this );\n\n};\n\n\nTHREE.Animation.prototype.pause = function() {\n\n\tif ( this.isPaused === true ) {\n\n\t\tTHREE.AnimationHandler.addToUpdate( this );\n\n\t} else {\n\n\t\tTHREE.AnimationHandler.removeFromUpdate( this );\n\n\t}\n\n\tthis.isPaused = !this.isPaused;\n\n};\n\n\nTHREE.Animation.prototype.stop = function() {\n\n\tthis.isPlaying = false;\n\tthis.isPaused  = false;\n\tTHREE.AnimationHandler.removeFromUpdate( this );\n\n};\n\n\nTHREE.Animation.prototype.update = function ( deltaTimeMS ) {\n\n\t// early out\n\n\tif ( this.isPlaying === false ) return;\n\n\n\t// vars\n\n\tvar types = [ \"pos\", \"rot\", \"scl\" ];\n\tvar type;\n\tvar scale;\n\tvar vector;\n\tvar prevXYZ, nextXYZ;\n\tvar prevKey, nextKey;\n\tvar object;\n\tvar animationCache;\n\tvar frame;\n\tvar JIThierarchy = this.data.JIT.hierarchy;\n\tvar currentTime, unloopedCurrentTime;\n\tvar currentPoint, forwardPoint, angle;\n\n\n\tthis.currentTime += deltaTimeMS * this.timeScale;\n\n\tunloopedCurrentTime = this.currentTime;\n\n\t// Mod operation fails on floats\n\t// was this supposed to be in frames?\n\twhile ( this.currentTime > this.data.length ) {\n\n\t\tthis.currentTime -= this.data.length;\n\n\t}\n\n\tcurrentTime = this.currentTime = this.currentTime % this.data.length;\n\n\t\n\tframe = parseInt( Math.min( currentTime * this.data.fps, this.data.length * this.data.fps ), 10 );\n\n\n\tfor ( var h = 0, hl = this.hierarchy.length; h < hl; h ++ ) {\n\n\t\tobject = this.hierarchy[ h ];\n\t\tanimationCache = object.animationCache;\n\n\t\t// loop through pos/rot/scl\n\n\t\tfor ( var t = 0; t < 3; t ++ ) {\n\n\t\t\t// get keys\n\n\t\t\ttype    = types[ t ];\n\t\t\tprevKey = animationCache.prevKey[ type ];\n\t\t\tnextKey = animationCache.nextKey[ type ];\n\n\t\t\t// switch keys?\n\t\t\t\n\t\t\tif ( nextKey.time <= unloopedCurrentTime ) {\n\n\t\t\t\t// did we loop?\n\n\t\t\t\tif ( currentTime <= unloopedCurrentTime ) {\n\n\t\t\t\t\tif ( this.loop ) {\n\n\t\t\t\t\t\tprevKey = this.data.hierarchy[ h ].keys[ 0 ];\n\t\t\t\t\t\tnextKey = this.getNextKeyWith( type, h, 1 );\n\n\t\t\t\t\t\t// if ( nextKey.index < prevKey.index ) then we have wrapped over the end, and nextKey.time < currentTime will loop forever\n\t\t\t\t\t\twhile ( nextKey !== null && nextKey.time < currentTime && nextKey.index > prevKey.index) {\n\n\t\t\t\t\t\t\tprevKey = nextKey;\n\t\t\t\t\t\t\tnextKey = this.getNextKeyWith( type, h, nextKey.index + 1 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.stop();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdo {\n\n\t\t\t\t\t\tprevKey = nextKey;\n\t\t\t\t\t\tnextKey = this.getNextKeyWith( type, h, nextKey.index + 1 );\n\n\t\t\t\t\t} while ( nextKey !== null && nextKey.time < currentTime && nextKey.index > prevKey.index )\n\t\t\t\t\t// if ( nextKey.index < prevKey.index ) then we have wrapped over the end, and nextKey.time < currentTime will loop forever\n\n\t\t\t\t}\n\n\t\t\t\tanimationCache.prevKey[ type ] = prevKey;\n\t\t\t\tanimationCache.nextKey[ type ] = nextKey;\n\n\t\t\t}\n\n\n\t\t\tobject.matrixAutoUpdate = true;\n\t\t\tobject.matrixWorldNeedsUpdate = true;\n\n\t\t\tscale = ( currentTime - prevKey.time ) / ( nextKey.time - prevKey.time );\n\t\t\tprevXYZ = prevKey[ type ];\n\t\t\tnextXYZ = nextKey[ type ];\n\n\n\t\t\t// check scale error\n\n\t\t\tif ( scale < 0 || scale > 1 ) {\n\n\t\t\t\tconsole.log( \"THREE.Animation.update: Warning! Scale out of bounds:\" + scale + \" on bone \" + h );\n\t\t\t\tscale = scale < 0 ? 0 : 1;\n\n\t\t\t}\n\n\t\t\t// interpolate\n\n\t\t\tif ( type === \"pos\" ) {\n\n\t\t\t\tvector = object.position;\n\n\t\t\t\tif ( this.interpolationType === THREE.AnimationHandler.LINEAR ) {\n\n\t\t\t\t\tvector.x = prevXYZ[ 0 ] + ( nextXYZ[ 0 ] - prevXYZ[ 0 ] ) * scale;\n\t\t\t\t\tvector.y = prevXYZ[ 1 ] + ( nextXYZ[ 1 ] - prevXYZ[ 1 ] ) * scale;\n\t\t\t\t\tvector.z = prevXYZ[ 2 ] + ( nextXYZ[ 2 ] - prevXYZ[ 2 ] ) * scale;\n\n\t\t\t\t} else if ( this.interpolationType === THREE.AnimationHandler.CATMULLROM ||\n\t\t\t\t\t\t    this.interpolationType === THREE.AnimationHandler.CATMULLROM_FORWARD ) {\n\n\t\t\t\t\tthis.points[ 0 ] = this.getPrevKeyWith( \"pos\", h, prevKey.index - 1 )[ \"pos\" ];\n\t\t\t\t\tthis.points[ 1 ] = prevXYZ;\n\t\t\t\t\tthis.points[ 2 ] = nextXYZ;\n\t\t\t\t\tthis.points[ 3 ] = this.getNextKeyWith( \"pos\", h, nextKey.index + 1 )[ \"pos\" ];\n\n\t\t\t\t\tscale = scale * 0.33 + 0.33;\n\n\t\t\t\t\tcurrentPoint = this.interpolateCatmullRom( this.points, scale );\n\n\t\t\t\t\tvector.x = currentPoint[ 0 ];\n\t\t\t\t\tvector.y = currentPoint[ 1 ];\n\t\t\t\t\tvector.z = currentPoint[ 2 ];\n\n\t\t\t\t\tif ( this.interpolationType === THREE.AnimationHandler.CATMULLROM_FORWARD ) {\n\n\t\t\t\t\t\tforwardPoint = this.interpolateCatmullRom( this.points, scale * 1.01 );\n\n\t\t\t\t\t\tthis.target.set( forwardPoint[ 0 ], forwardPoint[ 1 ], forwardPoint[ 2 ] );\n\t\t\t\t\t\tthis.target.sub( vector );\n\t\t\t\t\t\tthis.target.y = 0;\n\t\t\t\t\t\tthis.target.normalize();\n\n\t\t\t\t\t\tangle = Math.atan2( this.target.x, this.target.z );\n\t\t\t\t\t\tobject.rotation.set( 0, angle, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( type === \"rot\" ) {\n\n\t\t\t\tTHREE.Quaternion.slerp( prevXYZ, nextXYZ, object.quaternion, scale );\n\n\t\t\t} else if ( type === \"scl\" ) {\n\n\t\t\t\tvector = object.scale;\n\n\t\t\t\tvector.x = prevXYZ[ 0 ] + ( nextXYZ[ 0 ] - prevXYZ[ 0 ] ) * scale;\n\t\t\t\tvector.y = prevXYZ[ 1 ] + ( nextXYZ[ 1 ] - prevXYZ[ 1 ] ) * scale;\n\t\t\t\tvector.z = prevXYZ[ 2 ] + ( nextXYZ[ 2 ] - prevXYZ[ 2 ] ) * scale;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n};\n\n// Catmull-Rom spline\n\nTHREE.Animation.prototype.interpolateCatmullRom = function ( points, scale ) {\n\n\tvar c = [], v3 = [],\n\tpoint, intPoint, weight, w2, w3,\n\tpa, pb, pc, pd;\n\n\tpoint = ( points.length - 1 ) * scale;\n\tintPoint = Math.floor( point );\n\tweight = point - intPoint;\n\n\tc[ 0 ] = intPoint === 0 ? intPoint : intPoint - 1;\n\tc[ 1 ] = intPoint;\n\tc[ 2 ] = intPoint > points.length - 2 ? intPoint : intPoint + 1;\n\tc[ 3 ] = intPoint > points.length - 3 ? intPoint : intPoint + 2;\n\n\tpa = points[ c[ 0 ] ];\n\tpb = points[ c[ 1 ] ];\n\tpc = points[ c[ 2 ] ];\n\tpd = points[ c[ 3 ] ];\n\n\tw2 = weight * weight;\n\tw3 = weight * w2;\n\n\tv3[ 0 ] = this.interpolate( pa[ 0 ], pb[ 0 ], pc[ 0 ], pd[ 0 ], weight, w2, w3 );\n\tv3[ 1 ] = this.interpolate( pa[ 1 ], pb[ 1 ], pc[ 1 ], pd[ 1 ], weight, w2, w3 );\n\tv3[ 2 ] = this.interpolate( pa[ 2 ], pb[ 2 ], pc[ 2 ], pd[ 2 ], weight, w2, w3 );\n\n\treturn v3;\n\n};\n\nTHREE.Animation.prototype.interpolate = function ( p0, p1, p2, p3, t, t2, t3 ) {\n\n\tvar v0 = ( p2 - p0 ) * 0.5,\n\t\tv1 = ( p3 - p1 ) * 0.5;\n\n\treturn ( 2 * ( p1 - p2 ) + v0 + v1 ) * t3 + ( - 3 * ( p1 - p2 ) - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n};\n\n\n\n// Get next key with\n\nTHREE.Animation.prototype.getNextKeyWith = function ( type, h, key ) {\n\n\tvar keys = this.data.hierarchy[ h ].keys;\n\n\tif ( this.interpolationType === THREE.AnimationHandler.CATMULLROM ||\n\t\t this.interpolationType === THREE.AnimationHandler.CATMULLROM_FORWARD ) {\n\n\t\tkey = key < keys.length - 1 ? key : keys.length - 1;\n\n\t} else {\n\n\t\tkey = key % keys.length;\n\n\t}\n\n\tfor ( ; key < keys.length; key++ ) {\n\n\t\tif ( keys[ key ][ type ] !== undefined ) {\n\n\t\t\treturn keys[ key ];\n\n\t\t}\n\n\t}\n\n\treturn this.data.hierarchy[ h ].keys[ 0 ];\n\n};\n\n// Get previous key with\n\nTHREE.Animation.prototype.getPrevKeyWith = function ( type, h, key ) {\n\n\tvar keys = this.data.hierarchy[ h ].keys;\n\n\tif ( this.interpolationType === THREE.AnimationHandler.CATMULLROM ||\n\t\t this.interpolationType === THREE.AnimationHandler.CATMULLROM_FORWARD ) {\n\n\t\tkey = key > 0 ? key : 0;\n\n\t} else {\n\n\t\tkey = key >= 0 ? key : key + keys.length;\n\n\t}\n\n\n\tfor ( ; key >= 0; key -- ) {\n\n\t\tif ( keys[ key ][ type ] !== undefined ) {\n\n\t\t\treturn keys[ key ];\n\n\t\t}\n\n\t}\n\n\treturn this.data.hierarchy[ h ].keys[ keys.length - 1 ];\n\n};\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author khang duong\n * @author erik kitson\n */\n\nTHREE.KeyFrameAnimation = function( root, data, JITCompile ) {\n\n\tthis.root = root;\n\tthis.data = THREE.AnimationHandler.get( data );\n\tthis.hierarchy = THREE.AnimationHandler.parse( root );\n\tthis.currentTime = 0;\n\tthis.timeScale = 0.001;\n\tthis.isPlaying = false;\n\tthis.isPaused = true;\n\tthis.loop = true;\n\tthis.JITCompile = JITCompile !== undefined ? JITCompile : true;\n\n\t// initialize to first keyframes\n\n\tfor ( var h = 0, hl = this.hierarchy.length; h < hl; h++ ) {\n\n\t\tvar keys = this.data.hierarchy[h].keys,\n\t\t\tsids = this.data.hierarchy[h].sids,\n\t\t\tobj = this.hierarchy[h];\n\n\t\tif ( keys.length && sids ) {\n\n\t\t\tfor ( var s = 0; s < sids.length; s++ ) {\n\n\t\t\t\tvar sid = sids[ s ],\n\t\t\t\t\tnext = this.getNextKeyWith( sid, h, 0 );\n\n\t\t\t\tif ( next ) {\n\n\t\t\t\t\tnext.apply( sid );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tobj.matrixAutoUpdate = false;\n\t\t\tthis.data.hierarchy[h].node.updateMatrix();\n\t\t\tobj.matrixWorldNeedsUpdate = true;\n\n\t\t}\n\n\t}\n\n};\n\n// Play\n\nTHREE.KeyFrameAnimation.prototype.play = function( loop, startTimeMS ) {\n\n\tif( !this.isPlaying ) {\n\n\t\tthis.isPlaying = true;\n\t\tthis.loop = loop !== undefined ? loop : true;\n\t\tthis.currentTime = startTimeMS !== undefined ? startTimeMS : 0;\n\t\tthis.startTimeMs = startTimeMS;\n\t\tthis.startTime = 10000000;\n\t\tthis.endTime = -this.startTime;\n\n\n\t\t// reset key cache\n\n\t\tvar h, hl = this.hierarchy.length,\n\t\t\tobject,\n\t\t\tnode;\n\n\t\tfor ( h = 0; h < hl; h++ ) {\n\n\t\t\tobject = this.hierarchy[ h ];\n\t\t\tnode = this.data.hierarchy[ h ];\n\n\t\t\tif ( node.animationCache === undefined ) {\n\n\t\t\t\tnode.animationCache = {};\n\t\t\t\tnode.animationCache.prevKey = null;\n\t\t\t\tnode.animationCache.nextKey = null;\n\t\t\t\tnode.animationCache.originalMatrix = object instanceof THREE.Bone ? object.skinMatrix : object.matrix;\n\n\t\t\t}\n\n\t\t\tvar keys = this.data.hierarchy[h].keys;\n\n\t\t\tif (keys.length) {\n\n\t\t\t\tnode.animationCache.prevKey = keys[ 0 ];\n\t\t\t\tnode.animationCache.nextKey = keys[ 1 ];\n\n\t\t\t\tthis.startTime = Math.min( keys[0].time, this.startTime );\n\t\t\t\tthis.endTime = Math.max( keys[keys.length - 1].time, this.endTime );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.update( 0 );\n\n\t}\n\n\tthis.isPaused = false;\n\n\tTHREE.AnimationHandler.addToUpdate( this );\n\n};\n\n\n\n// Pause\n\nTHREE.KeyFrameAnimation.prototype.pause = function() {\n\n\tif( this.isPaused ) {\n\n\t\tTHREE.AnimationHandler.addToUpdate( this );\n\n\t} else {\n\n\t\tTHREE.AnimationHandler.removeFromUpdate( this );\n\n\t}\n\n\tthis.isPaused = !this.isPaused;\n\n};\n\n\n// Stop\n\nTHREE.KeyFrameAnimation.prototype.stop = function() {\n\n\tthis.isPlaying = false;\n\tthis.isPaused  = false;\n\tTHREE.AnimationHandler.removeFromUpdate( this );\n\n\n\t// reset JIT matrix and remove cache\n\n\tfor ( var h = 0; h < this.data.hierarchy.length; h++ ) {\n        \n        var obj = this.hierarchy[ h ];\n\t\tvar node = this.data.hierarchy[ h ];\n\n\t\tif ( node.animationCache !== undefined ) {\n\n\t\t\tvar original = node.animationCache.originalMatrix;\n\n\t\t\tif( obj instanceof THREE.Bone ) {\n\n\t\t\t\toriginal.copy( obj.skinMatrix );\n\t\t\t\tobj.skinMatrix = original;\n\n\t\t\t} else {\n\n\t\t\t\toriginal.copy( obj.matrix );\n\t\t\t\tobj.matrix = original;\n\n\t\t\t}\n\n\t\t\tdelete node.animationCache;\n\n\t\t}\n\n\t}\n\n};\n\n\n// Update\n\nTHREE.KeyFrameAnimation.prototype.update = function( deltaTimeMS ) {\n\n\t// early out\n\n\tif( !this.isPlaying ) return;\n\n\n\t// vars\n\n\tvar prevKey, nextKey;\n\tvar object;\n\tvar node;\n\tvar frame;\n\tvar JIThierarchy = this.data.JIT.hierarchy;\n\tvar currentTime, unloopedCurrentTime;\n\tvar looped;\n\n\n\t// update\n\n\tthis.currentTime += deltaTimeMS * this.timeScale;\n\n\tunloopedCurrentTime = this.currentTime;\n\tcurrentTime         = this.currentTime = this.currentTime % this.data.length;\n\n\t// if looped around, the current time should be based on the startTime\n\tif ( currentTime < this.startTimeMs ) {\n\n\t\tcurrentTime = this.currentTime = this.startTimeMs + currentTime;\n\n\t}\n\n\tframe               = parseInt( Math.min( currentTime * this.data.fps, this.data.length * this.data.fps ), 10 );\n\tlooped \t\t\t\t= currentTime < unloopedCurrentTime;\n\n\tif ( looped && !this.loop ) {\n\n\t\t// Set the animation to the last keyframes and stop\n\t\tfor ( var h = 0, hl = this.hierarchy.length; h < hl; h++ ) {\n\n\t\t\tvar keys = this.data.hierarchy[h].keys,\n\t\t\t\tsids = this.data.hierarchy[h].sids,\n\t\t\t\tend = keys.length-1,\n\t\t\t\tobj = this.hierarchy[h];\n\n\t\t\tif ( keys.length ) {\n\n\t\t\t\tfor ( var s = 0; s < sids.length; s++ ) {\n\n\t\t\t\t\tvar sid = sids[ s ],\n\t\t\t\t\t\tprev = this.getPrevKeyWith( sid, h, end );\n\n\t\t\t\t\tif ( prev ) {\n\t\t\t\t\t\tprev.apply( sid );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tthis.data.hierarchy[h].node.updateMatrix();\n\t\t\t\tobj.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.stop();\n\t\treturn;\n\n\t}\n\n\t// check pre-infinity\n\tif ( currentTime < this.startTime ) {\n\n\t\treturn;\n\n\t}\n\n\t// update\n\n\tfor ( var h = 0, hl = this.hierarchy.length; h < hl; h++ ) {\n\n\t\tobject = this.hierarchy[ h ];\n\t\tnode = this.data.hierarchy[ h ];\n\n\t\tvar keys = node.keys,\n\t\t\tanimationCache = node.animationCache;\n\n\t\t// use JIT?\n\n\t\tif ( this.JITCompile && JIThierarchy[ h ][ frame ] !== undefined ) {\n\n\t\t\tif( object instanceof THREE.Bone ) {\n\n\t\t\t\tobject.skinMatrix = JIThierarchy[ h ][ frame ];\n\t\t\t\tobject.matrixWorldNeedsUpdate = false;\n\n\t\t\t} else {\n\n\t\t\t\tobject.matrix = JIThierarchy[ h ][ frame ];\n\t\t\t\tobject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t// use interpolation\n\n\t\t} else if ( keys.length ) {\n\n\t\t\t// make sure so original matrix and not JIT matrix is set\n\n\t\t\tif ( this.JITCompile && animationCache ) {\n\n\t\t\t\tif( object instanceof THREE.Bone ) {\n\n\t\t\t\t\tobject.skinMatrix = animationCache.originalMatrix;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tobject.matrix = animationCache.originalMatrix;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tprevKey = animationCache.prevKey;\n\t\t\tnextKey = animationCache.nextKey;\n\n\t\t\tif ( prevKey && nextKey ) {\n\n\t\t\t\t// switch keys?\n\n\t\t\t\tif ( nextKey.time <= unloopedCurrentTime ) {\n\n\t\t\t\t\t// did we loop?\n\n\t\t\t\t\tif ( looped && this.loop ) {\n\n\t\t\t\t\t\tprevKey = keys[ 0 ];\n\t\t\t\t\t\tnextKey = keys[ 1 ];\n\n\t\t\t\t\t\twhile ( nextKey.time < currentTime ) {\n\n\t\t\t\t\t\t\tprevKey = nextKey;\n\t\t\t\t\t\t\tnextKey = keys[ prevKey.index + 1 ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( !looped ) {\n\n\t\t\t\t\t\tvar lastIndex = keys.length - 1;\n\n\t\t\t\t\t\twhile ( nextKey.time < currentTime && nextKey.index !== lastIndex ) {\n\n\t\t\t\t\t\t\tprevKey = nextKey;\n\t\t\t\t\t\t\tnextKey = keys[ prevKey.index + 1 ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tanimationCache.prevKey = prevKey;\n\t\t\t\t\tanimationCache.nextKey = nextKey;\n\n\t\t\t\t}\n                if(nextKey.time >= currentTime)\n                    prevKey.interpolate( nextKey, currentTime );\n                else\n                    prevKey.interpolate( nextKey, nextKey.time);\n\n\t\t\t}\n\n\t\t\tthis.data.hierarchy[h].node.updateMatrix();\n\t\t\tobject.matrixWorldNeedsUpdate = true;\n\n\t\t}\n\n\t}\n\n\t// update JIT?\n\n\tif ( this.JITCompile ) {\n\n\t\tif ( JIThierarchy[ 0 ][ frame ] === undefined ) {\n\n\t\t\tthis.hierarchy[ 0 ].updateMatrixWorld( true );\n\n\t\t\tfor ( var h = 0; h < this.hierarchy.length; h++ ) {\n\n\t\t\t\tif( this.hierarchy[ h ] instanceof THREE.Bone ) {\n\n\t\t\t\t\tJIThierarchy[ h ][ frame ] = this.hierarchy[ h ].skinMatrix.clone();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tJIThierarchy[ h ][ frame ] = this.hierarchy[ h ].matrix.clone();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n};\n\n// Get next key with\n\nTHREE.KeyFrameAnimation.prototype.getNextKeyWith = function( sid, h, key ) {\n\n\tvar keys = this.data.hierarchy[ h ].keys;\n\tkey = key % keys.length;\n\n\tfor ( ; key < keys.length; key++ ) {\n\n\t\tif ( keys[ key ].hasTarget( sid ) ) {\n\n\t\t\treturn keys[ key ];\n\n\t\t}\n\n\t}\n\n\treturn keys[ 0 ];\n\n};\n\n// Get previous key with\n\nTHREE.KeyFrameAnimation.prototype.getPrevKeyWith = function( sid, h, key ) {\n\n\tvar keys = this.data.hierarchy[ h ].keys;\n\tkey = key >= 0 ? key : key + keys.length;\n\n\tfor ( ; key >= 0; key-- ) {\n\n\t\tif ( keys[ key ].hasTarget( sid ) ) {\n\n\t\t\treturn keys[ key ];\n\n\t\t}\n\n\t}\n\n\treturn keys[ keys.length - 1 ];\n\n};\n\n/**\n * Camera for rendering cube maps\n *\t- renders scene into axis-aligned cube\n *\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.CubeCamera = function ( near, far, cubeResolution ) {\n\n\tTHREE.Object3D.call( this );\n\n\tvar fov = 90, aspect = 1;\n\n\tvar cameraPX = new THREE.PerspectiveCamera( fov, aspect, near, far );\n\tcameraPX.up.set( 0, -1, 0 );\n\tcameraPX.lookAt( new THREE.Vector3( 1, 0, 0 ) );\n\tthis.add( cameraPX );\n\n\tvar cameraNX = new THREE.PerspectiveCamera( fov, aspect, near, far );\n\tcameraNX.up.set( 0, -1, 0 );\n\tcameraNX.lookAt( new THREE.Vector3( -1, 0, 0 ) );\n\tthis.add( cameraNX );\n\n\tvar cameraPY = new THREE.PerspectiveCamera( fov, aspect, near, far );\n\tcameraPY.up.set( 0, 0, 1 );\n\tcameraPY.lookAt( new THREE.Vector3( 0, 1, 0 ) );\n\tthis.add( cameraPY );\n\n\tvar cameraNY = new THREE.PerspectiveCamera( fov, aspect, near, far );\n\tcameraNY.up.set( 0, 0, -1 );\n\tcameraNY.lookAt( new THREE.Vector3( 0, -1, 0 ) );\n\tthis.add( cameraNY );\n\n\tvar cameraPZ = new THREE.PerspectiveCamera( fov, aspect, near, far );\n\tcameraPZ.up.set( 0, -1, 0 );\n\tcameraPZ.lookAt( new THREE.Vector3( 0, 0, 1 ) );\n\tthis.add( cameraPZ );\n\n\tvar cameraNZ = new THREE.PerspectiveCamera( fov, aspect, near, far );\n\tcameraNZ.up.set( 0, -1, 0 );\n\tcameraNZ.lookAt( new THREE.Vector3( 0, 0, -1 ) );\n\tthis.add( cameraNZ );\n\n\tthis.renderTarget = new THREE.WebGLRenderTargetCube( cubeResolution, cubeResolution, { format: THREE.RGBFormat, magFilter: THREE.LinearFilter, minFilter: THREE.LinearFilter } );\n\n\tthis.updateCubeMap = function ( renderer, scene ) {\n\n\t\tvar renderTarget = this.renderTarget;\n\t\tvar generateMipmaps = renderTarget.generateMipmaps;\n\n\t\trenderTarget.generateMipmaps = false;\n\n\t\trenderTarget.activeCubeFace = 0;\n\t\trenderer.render( scene, cameraPX, renderTarget );\n\n\t\trenderTarget.activeCubeFace = 1;\n\t\trenderer.render( scene, cameraNX, renderTarget );\n\n\t\trenderTarget.activeCubeFace = 2;\n\t\trenderer.render( scene, cameraPY, renderTarget );\n\n\t\trenderTarget.activeCubeFace = 3;\n\t\trenderer.render( scene, cameraNY, renderTarget );\n\n\t\trenderTarget.activeCubeFace = 4;\n\t\trenderer.render( scene, cameraPZ, renderTarget );\n\n\t\trenderTarget.generateMipmaps = generateMipmaps;\n\n\t\trenderTarget.activeCubeFace = 5;\n\t\trenderer.render( scene, cameraNZ, renderTarget );\n\n\t};\n\n};\n\nTHREE.CubeCamera.prototype = Object.create( THREE.Object3D.prototype );\n\n/**\n *\t@author zz85 / http://twitter.com/blurspline / http://www.lab4games.net/zz85/blog\n *\n *\tA general perpose camera, for setting FOV, Lens Focal Length,\n *\t\tand switching between perspective and orthographic views easily.\n *\t\tUse this only if you do not wish to manage\n *\t\tboth a Orthographic and Perspective Camera\n *\n */\n\n\nTHREE.CombinedCamera = function ( width, height, fov, near, far, orthoNear, orthoFar ) {\n\n\tTHREE.Camera.call( this );\n\n\tthis.fov = fov;\n\n\tthis.left = -width / 2;\n\tthis.right = width / 2\n\tthis.top = height / 2;\n\tthis.bottom = -height / 2;\n\n\t// We could also handle the projectionMatrix internally, but just wanted to test nested camera objects\n\n\tthis.cameraO = new THREE.OrthographicCamera( width / - 2, width / 2, height / 2, height / - 2, \torthoNear, orthoFar );\n\tthis.cameraP = new THREE.PerspectiveCamera( fov, width / height, near, far );\n\n\tthis.zoom = 1;\n\n\tthis.toPerspective();\n\n\tvar aspect = width/height;\n\n};\n\nTHREE.CombinedCamera.prototype = Object.create( THREE.Camera.prototype );\n\nTHREE.CombinedCamera.prototype.toPerspective = function () {\n\n\t// Switches to the Perspective Camera\n\n\tthis.near = this.cameraP.near;\n\tthis.far = this.cameraP.far;\n\n\tthis.cameraP.fov =  this.fov / this.zoom ;\n\n\tthis.cameraP.updateProjectionMatrix();\n\n\tthis.projectionMatrix = this.cameraP.projectionMatrix;\n\n\tthis.inPerspectiveMode = true;\n\tthis.inOrthographicMode = false;\n\n};\n\nTHREE.CombinedCamera.prototype.toOrthographic = function () {\n\n\t// Switches to the Orthographic camera estimating viewport from Perspective\n\n\tvar fov = this.fov;\n\tvar aspect = this.cameraP.aspect;\n\tvar near = this.cameraP.near;\n\tvar far = this.cameraP.far;\n\n\t// The size that we set is the mid plane of the viewing frustum\n\n\tvar hyperfocus = ( near + far ) / 2;\n\n\tvar halfHeight = Math.tan( fov / 2 ) * hyperfocus;\n\tvar planeHeight = 2 * halfHeight;\n\tvar planeWidth = planeHeight * aspect;\n\tvar halfWidth = planeWidth / 2;\n\n\thalfHeight /= this.zoom;\n\thalfWidth /= this.zoom;\n\n\tthis.cameraO.left = -halfWidth;\n\tthis.cameraO.right = halfWidth;\n\tthis.cameraO.top = halfHeight;\n\tthis.cameraO.bottom = -halfHeight;\n\n\t// this.cameraO.left = -farHalfWidth;\n\t// this.cameraO.right = farHalfWidth;\n\t// this.cameraO.top = farHalfHeight;\n\t// this.cameraO.bottom = -farHalfHeight;\n\n\t// this.cameraO.left = this.left / this.zoom;\n\t// this.cameraO.right = this.right / this.zoom;\n\t// this.cameraO.top = this.top / this.zoom;\n\t// this.cameraO.bottom = this.bottom / this.zoom;\n\n\tthis.cameraO.updateProjectionMatrix();\n\n\tthis.near = this.cameraO.near;\n\tthis.far = this.cameraO.far;\n\tthis.projectionMatrix = this.cameraO.projectionMatrix;\n\n\tthis.inPerspectiveMode = false;\n\tthis.inOrthographicMode = true;\n\n};\n\n\nTHREE.CombinedCamera.prototype.setSize = function( width, height ) {\n\n\tthis.cameraP.aspect = width / height;\n\tthis.left = -width / 2;\n\tthis.right = width / 2\n\tthis.top = height / 2;\n\tthis.bottom = -height / 2;\n\n};\n\n\nTHREE.CombinedCamera.prototype.setFov = function( fov ) {\n\n\tthis.fov = fov;\n\n\tif ( this.inPerspectiveMode ) {\n\n\t\tthis.toPerspective();\n\n\t} else {\n\n\t\tthis.toOrthographic();\n\n\t}\n\n};\n\n// For mantaining similar API with PerspectiveCamera\n\nTHREE.CombinedCamera.prototype.updateProjectionMatrix = function() {\n\n\tif ( this.inPerspectiveMode ) {\n\n\t\tthis.toPerspective();\n\n\t} else {\n\n\t\tthis.toPerspective();\n\t\tthis.toOrthographic();\n\n\t}\n\n};\n\n/*\n* Uses Focal Length (in mm) to estimate and set FOV\n* 35mm (fullframe) camera is used if frame size is not specified;\n* Formula based on http://www.bobatkins.com/photography/technical/field_of_view.html\n*/\nTHREE.CombinedCamera.prototype.setLens = function ( focalLength, frameHeight ) {\n\n\tif ( frameHeight === undefined ) frameHeight = 24;\n\n\tvar fov = 2 * THREE.Math.radToDeg( Math.atan( frameHeight / ( focalLength * 2 ) ) );\n\n\tthis.setFov( fov );\n\n\treturn fov;\n};\n\n\nTHREE.CombinedCamera.prototype.setZoom = function( zoom ) {\n\n\tthis.zoom = zoom;\n\n\tif ( this.inPerspectiveMode ) {\n\n\t\tthis.toPerspective();\n\n\t} else {\n\n\t\tthis.toOrthographic();\n\n\t}\n\n};\n\nTHREE.CombinedCamera.prototype.toFrontView = function() {\n\n\tthis.rotation.x = 0;\n\tthis.rotation.y = 0;\n\tthis.rotation.z = 0;\n\n\t// should we be modifing the matrix instead?\n\n\tthis.rotationAutoUpdate = false;\n\n};\n\nTHREE.CombinedCamera.prototype.toBackView = function() {\n\n\tthis.rotation.x = 0;\n\tthis.rotation.y = Math.PI;\n\tthis.rotation.z = 0;\n\tthis.rotationAutoUpdate = false;\n\n};\n\nTHREE.CombinedCamera.prototype.toLeftView = function() {\n\n\tthis.rotation.x = 0;\n\tthis.rotation.y = - Math.PI / 2;\n\tthis.rotation.z = 0;\n\tthis.rotationAutoUpdate = false;\n\n};\n\nTHREE.CombinedCamera.prototype.toRightView = function() {\n\n\tthis.rotation.x = 0;\n\tthis.rotation.y = Math.PI / 2;\n\tthis.rotation.z = 0;\n\tthis.rotationAutoUpdate = false;\n\n};\n\nTHREE.CombinedCamera.prototype.toTopView = function() {\n\n\tthis.rotation.x = - Math.PI / 2;\n\tthis.rotation.y = 0;\n\tthis.rotation.z = 0;\n\tthis.rotationAutoUpdate = false;\n\n};\n\nTHREE.CombinedCamera.prototype.toBottomView = function() {\n\n\tthis.rotation.x = Math.PI / 2;\n\tthis.rotation.y = 0;\n\tthis.rotation.z = 0;\n\tthis.rotationAutoUpdate = false;\n\n};\n\n/**\n * @author hughes\n */\n\nTHREE.CircleGeometry = function ( radius, segments, thetaStart, thetaLength ) {\n\n\tTHREE.Geometry.call( this );\n\n\tthis.radius = radius = radius || 50;\n\tthis.segments = segments = segments !== undefined ? Math.max( 3, segments ) : 8;\n\n\tthis.thetaStart = thetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthis.thetaLength = thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\tvar i, uvs = [],\n\tcenter = new THREE.Vector3(), centerUV = new THREE.Vector2( 0.5, 0.5 );\n\n\tthis.vertices.push(center);\n\tuvs.push( centerUV );\n\n\tfor ( i = 0; i <= segments; i ++ ) {\n\n\t\tvar vertex = new THREE.Vector3();\n\t\tvar segment = thetaStart + i / segments * thetaLength;\n\n\t\tvertex.x = radius * Math.cos( segment );\n\t\tvertex.y = radius * Math.sin( segment );\n\n\t\tthis.vertices.push( vertex );\n\t\tuvs.push( new THREE.Vector2( ( vertex.x / radius + 1 ) / 2, ( vertex.y / radius + 1 ) / 2 ) );\n\n\t}\n\n\tvar n = new THREE.Vector3( 0, 0, 1 );\n\n\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\tvar v1 = i;\n\t\tvar v2 = i + 1 ;\n\t\tvar v3 = 0;\n\n\t\tthis.faces.push( new THREE.Face3( v1, v2, v3, [ n.clone(), n.clone(), n.clone() ] ) );\n\t\tthis.faceVertexUvs[ 0 ].push( [ uvs[ i ].clone(), uvs[ i + 1 ].clone(), centerUV.clone() ] );\n\n\t}\n\n\tthis.computeCentroids();\n\tthis.computeFaceNormals();\n\n\tthis.boundingSphere = new THREE.Sphere( new THREE.Vector3(), radius );\n\n};\n\nTHREE.CircleGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * based on http://papervision3d.googlecode.com/svn/trunk/as3/trunk/src/org/papervision3d/objects/primitives/Cube.as\n */\n\nTHREE.CubeGeometry = function ( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\tTHREE.Geometry.call( this );\n\n\tvar scope = this;\n\n\tthis.width = width;\n\tthis.height = height;\n\tthis.depth = depth;\n\n\tthis.widthSegments = widthSegments || 1;\n\tthis.heightSegments = heightSegments || 1;\n\tthis.depthSegments = depthSegments || 1;\n\n\tvar width_half = this.width / 2;\n\tvar height_half = this.height / 2;\n\tvar depth_half = this.depth / 2;\n\n\tbuildPlane( 'z', 'y', - 1, - 1, this.depth, this.height, width_half, 0 ); // px\n\tbuildPlane( 'z', 'y',   1, - 1, this.depth, this.height, - width_half, 1 ); // nx\n\tbuildPlane( 'x', 'z',   1,   1, this.width, this.depth, height_half, 2 ); // py\n\tbuildPlane( 'x', 'z',   1, - 1, this.width, this.depth, - height_half, 3 ); // ny\n\tbuildPlane( 'x', 'y',   1, - 1, this.width, this.height, depth_half, 4 ); // pz\n\tbuildPlane( 'x', 'y', - 1, - 1, this.width, this.height, - depth_half, 5 ); // nz\n\n\tfunction buildPlane( u, v, udir, vdir, width, height, depth, materialIndex ) {\n\n\t\tvar w, ix, iy,\n\t\tgridX = scope.widthSegments,\n\t\tgridY = scope.heightSegments,\n\t\twidth_half = width / 2,\n\t\theight_half = height / 2,\n\t\toffset = scope.vertices.length;\n\n\t\tif ( ( u === 'x' && v === 'y' ) || ( u === 'y' && v === 'x' ) ) {\n\n\t\t\tw = 'z';\n\n\t\t} else if ( ( u === 'x' && v === 'z' ) || ( u === 'z' && v === 'x' ) ) {\n\n\t\t\tw = 'y';\n\t\t\tgridY = scope.depthSegments;\n\n\t\t} else if ( ( u === 'z' && v === 'y' ) || ( u === 'y' && v === 'z' ) ) {\n\n\t\t\tw = 'x';\n\t\t\tgridX = scope.depthSegments;\n\n\t\t}\n\n\t\tvar gridX1 = gridX + 1,\n\t\tgridY1 = gridY + 1,\n\t\tsegment_width = width / gridX,\n\t\tsegment_height = height / gridY,\n\t\tnormal = new THREE.Vector3();\n\n\t\tnormal[ w ] = depth > 0 ? 1 : - 1;\n\n\t\tfor ( iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\tvar vector = new THREE.Vector3();\n\t\t\t\tvector[ u ] = ( ix * segment_width - width_half ) * udir;\n\t\t\t\tvector[ v ] = ( iy * segment_height - height_half ) * vdir;\n\t\t\t\tvector[ w ] = depth;\n\n\t\t\t\tscope.vertices.push( vector );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( iy = 0; iy < gridY; iy++ ) {\n\n\t\t\tfor ( ix = 0; ix < gridX; ix++ ) {\n\n\t\t\t\tvar a = ix + gridX1 * iy;\n\t\t\t\tvar b = ix + gridX1 * ( iy + 1 );\n\t\t\t\tvar c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\tvar d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\tvar uva = new THREE.Vector2( ix / gridX, 1 - iy / gridY );\n\t\t\t\tvar uvb = new THREE.Vector2( ix / gridX, 1 - ( iy + 1 ) / gridY );\n\t\t\t\tvar uvc = new THREE.Vector2( ( ix + 1 ) / gridX, 1 - ( iy + 1 ) / gridY );\n\t\t\t\tvar uvd = new THREE.Vector2( ( ix + 1 ) / gridX, 1 - iy / gridY );\n\n\t\t\t\tvar face = new THREE.Face3( a + offset, b + offset, d + offset );\n\t\t\t\tface.normal.copy( normal );\n\t\t\t\tface.vertexNormals.push( normal.clone(), normal.clone(), normal.clone() );\n\t\t\t\tface.materialIndex = materialIndex;\n\n\t\t\t\tscope.faces.push( face );\n\t\t\t\tscope.faceVertexUvs[ 0 ].push( [ uva, uvb, uvd ] );\n\n\t\t\t\tface = new THREE.Face3( b + offset, c + offset, d + offset );\n\t\t\t\tface.normal.copy( normal );\n\t\t\t\tface.vertexNormals.push( normal.clone(), normal.clone(), normal.clone() );\n\t\t\t\tface.materialIndex = materialIndex;\n\n\t\t\t\tscope.faces.push( face );\n\t\t\t\tscope.faceVertexUvs[ 0 ].push( [ uvb.clone(), uvc, uvd.clone() ] );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tthis.computeCentroids();\n\tthis.mergeVertices();\n\n};\n\nTHREE.CubeGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.CylinderGeometry = function ( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded ) {\n\n\tTHREE.Geometry.call( this );\n\n\tthis.radiusTop = radiusTop = radiusTop !== undefined ? radiusTop : 20;\n\tthis.radiusBottom = radiusBottom = radiusBottom !== undefined ? radiusBottom : 20;\n\tthis.height = height = height !== undefined ? height : 100;\n\n\tthis.radialSegments = radialSegments = radialSegments || 8;\n\tthis.heightSegments = heightSegments = heightSegments || 1;\n\n\tthis.openEnded = openEnded = openEnded !== undefined ? openEnded : false;\n\n\tvar heightHalf = height / 2;\n\n\tvar x, y, vertices = [], uvs = [];\n\n\tfor ( y = 0; y <= heightSegments; y ++ ) {\n\n\t\tvar verticesRow = [];\n\t\tvar uvsRow = [];\n\n\t\tvar v = y / heightSegments;\n\t\tvar radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\tvar u = x / radialSegments;\n\n\t\t\tvar vertex = new THREE.Vector3();\n\t\t\tvertex.x = radius * Math.sin( u * Math.PI * 2 );\n\t\t\tvertex.y = - v * height + heightHalf;\n\t\t\tvertex.z = radius * Math.cos( u * Math.PI * 2 );\n\n\t\t\tthis.vertices.push( vertex );\n\n\t\t\tverticesRow.push( this.vertices.length - 1 );\n\t\t\tuvsRow.push( new THREE.Vector2( u, 1 - v ) );\n\n\t\t}\n\n\t\tvertices.push( verticesRow );\n\t\tuvs.push( uvsRow );\n\n\t}\n\n\tvar tanTheta = ( radiusBottom - radiusTop ) / height;\n\tvar na, nb;\n\n\tfor ( x = 0; x < radialSegments; x ++ ) {\n\n\t\tif ( radiusTop !== 0 ) {\n\n\t\t\tna = this.vertices[ vertices[ 0 ][ x ] ].clone();\n\t\t\tnb = this.vertices[ vertices[ 0 ][ x + 1 ] ].clone();\n\n\t\t} else {\n\n\t\t\tna = this.vertices[ vertices[ 1 ][ x ] ].clone();\n\t\t\tnb = this.vertices[ vertices[ 1 ][ x + 1 ] ].clone();\n\n\t\t}\n\n\t\tna.setY( Math.sqrt( na.x * na.x + na.z * na.z ) * tanTheta ).normalize();\n\t\tnb.setY( Math.sqrt( nb.x * nb.x + nb.z * nb.z ) * tanTheta ).normalize();\n\n\t\tfor ( y = 0; y < heightSegments; y ++ ) {\n\n\t\t\tvar v1 = vertices[ y ][ x ];\n\t\t\tvar v2 = vertices[ y + 1 ][ x ];\n\t\t\tvar v3 = vertices[ y + 1 ][ x + 1 ];\n\t\t\tvar v4 = vertices[ y ][ x + 1 ];\n\n\t\t\tvar n1 = na.clone();\n\t\t\tvar n2 = na.clone();\n\t\t\tvar n3 = nb.clone();\n\t\t\tvar n4 = nb.clone();\n\n\t\t\tvar uv1 = uvs[ y ][ x ].clone();\n\t\t\tvar uv2 = uvs[ y + 1 ][ x ].clone();\n\t\t\tvar uv3 = uvs[ y + 1 ][ x + 1 ].clone();\n\t\t\tvar uv4 = uvs[ y ][ x + 1 ].clone();\n\n\t\t\tthis.faces.push( new THREE.Face3( v1, v2, v4, [ n1, n2, n4 ] ) );\n\t\t\tthis.faceVertexUvs[ 0 ].push( [ uv1, uv2, uv4 ] );\n\n\t\t\tthis.faces.push( new THREE.Face3( v2, v3, v4, [ n2.clone(), n3, n4.clone() ] ) );\n\t\t\tthis.faceVertexUvs[ 0 ].push( [ uv2.clone(), uv3, uv4.clone() ] );\n\n\t\t}\n\n\t}\n\n\t// top cap\n\n\tif ( openEnded === false && radiusTop > 0 ) {\n\n\t\tthis.vertices.push( new THREE.Vector3( 0, heightHalf, 0 ) );\n\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\n\t\t\tvar v1 = vertices[ 0 ][ x ];\n\t\t\tvar v2 = vertices[ 0 ][ x + 1 ];\n\t\t\tvar v3 = this.vertices.length - 1;\n\n\t\t\tvar n1 = new THREE.Vector3( 0, 1, 0 );\n\t\t\tvar n2 = new THREE.Vector3( 0, 1, 0 );\n\t\t\tvar n3 = new THREE.Vector3( 0, 1, 0 );\n\n\t\t\tvar uv1 = uvs[ 0 ][ x ].clone();\n\t\t\tvar uv2 = uvs[ 0 ][ x + 1 ].clone();\n\t\t\tvar uv3 = new THREE.Vector2( uv2.x, 0 );\n\n\t\t\tthis.faces.push( new THREE.Face3( v1, v2, v3, [ n1, n2, n3 ] ) );\n\t\t\tthis.faceVertexUvs[ 0 ].push( [ uv1, uv2, uv3 ] );\n\n\t\t}\n\n\t}\n\n\t// bottom cap\n\n\tif ( openEnded === false && radiusBottom > 0 ) {\n\n\t\tthis.vertices.push( new THREE.Vector3( 0, - heightHalf, 0 ) );\n\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\n\t\t\tvar v1 = vertices[ y ][ x + 1 ];\n\t\t\tvar v2 = vertices[ y ][ x ];\n\t\t\tvar v3 = this.vertices.length - 1;\n\n\t\t\tvar n1 = new THREE.Vector3( 0, - 1, 0 );\n\t\t\tvar n2 = new THREE.Vector3( 0, - 1, 0 );\n\t\t\tvar n3 = new THREE.Vector3( 0, - 1, 0 );\n\n\t\t\tvar uv1 = uvs[ y ][ x + 1 ].clone();\n\t\t\tvar uv2 = uvs[ y ][ x ].clone();\n\t\t\tvar uv3 = new THREE.Vector2( uv2.x, 1 );\n\n\t\t\tthis.faces.push( new THREE.Face3( v1, v2, v3, [ n1, n2, n3 ] ) );\n\t\t\tthis.faceVertexUvs[ 0 ].push( [ uv1, uv2, uv3 ] );\n\n\t\t}\n\n\t}\n\n\tthis.computeCentroids();\n\tthis.computeFaceNormals();\n\n}\n\nTHREE.CylinderGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segements of extrude spline too\n *  amount: <int>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline is bevel\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.CurvePath> // 3d spline path to extrude shape along. (creates Frames if .frames aren't defined)\n *  frames: <THREE.TubeGeometry.FrenetFrames> // containing arrays of tangents, normals, binormals\n *\n *  material: <int> // material index for front and back faces\n *  extrudeMaterial: <int> // material index for extrusion and beveled faces\n *  uvGenerator: <Object> // object that provides UV generator functions\n *\n * }\n **/\n\nTHREE.ExtrudeGeometry = function ( shapes, options ) {\n\n\tif ( typeof( shapes ) === \"undefined\" ) {\n\t\tshapes = [];\n\t\treturn;\n\t}\n\n\tTHREE.Geometry.call( this );\n\n\tshapes = shapes instanceof Array ? shapes : [ shapes ];\n\n\tthis.shapebb = shapes[ shapes.length - 1 ].getBoundingBox();\n\n\tthis.addShapeList( shapes, options );\n\n\tthis.computeCentroids();\n\tthis.computeFaceNormals();\n\n\t// can't really use automatic vertex normals\n\t// as then front and back sides get smoothed too\n\t// should do separate smoothing just for sides\n\n\t//this.computeVertexNormals();\n\n\t//console.log( \"took\", ( Date.now() - startTime ) );\n\n};\n\nTHREE.ExtrudeGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\nTHREE.ExtrudeGeometry.prototype.addShapeList = function ( shapes, options ) {\n\tvar sl = shapes.length;\n\n\tfor ( var s = 0; s < sl; s ++ ) {\n\t\tvar shape = shapes[ s ];\n\t\tthis.addShape( shape, options );\n\t}\n};\n\nTHREE.ExtrudeGeometry.prototype.addShape = function ( shape, options ) {\n\n\tvar amount = options.amount !== undefined ? options.amount : 100;\n\n\tvar bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6; // 10\n\tvar bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2; // 8\n\tvar bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n\tvar bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true; // false\n\n\tvar curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\n\tvar steps = options.steps !== undefined ? options.steps : 1;\n\n\tvar extrudePath = options.extrudePath;\n\tvar extrudePts, extrudeByPath = false;\n\n\tvar material = options.material;\n\tvar extrudeMaterial = options.extrudeMaterial;\n\n\t// Use default WorldUVGenerator if no UV generators are specified.\n\tvar uvgen = options.UVGenerator !== undefined ? options.UVGenerator : THREE.ExtrudeGeometry.WorldUVGenerator;\n\n\tvar shapebb = this.shapebb;\n\t//shapebb = shape.getBoundingBox();\n\n\n\n\tvar splineTube, binormal, normal, position2;\n\tif ( extrudePath ) {\n\n\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\n\t\textrudeByPath = true;\n\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\n\t\t// SETUP TNB variables\n\n\t\t// Reuse TNB from TubeGeomtry for now.\n\t\t// TODO1 - have a .isClosed in spline?\n\n\t\tsplineTube = options.frames !== undefined ? options.frames : new THREE.TubeGeometry.FrenetFrames(extrudePath, steps, false);\n\n\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\tbinormal = new THREE.Vector3();\n\t\tnormal = new THREE.Vector3();\n\t\tposition2 = new THREE.Vector3();\n\n\t}\n\n\t// Safeguards if bevels are not enabled\n\n\tif ( ! bevelEnabled ) {\n\n\t\tbevelSegments = 0;\n\t\tbevelThickness = 0;\n\t\tbevelSize = 0;\n\n\t}\n\n\t// Variables initalization\n\n\tvar ahole, h, hl; // looping of holes\n\tvar scope = this;\n\tvar bevelPoints = [];\n\n\tvar shapesOffset = this.vertices.length;\n\n\tvar shapePoints = shape.extractPoints( curveSegments );\n\n\tvar vertices = shapePoints.shape;\n\tvar holes = shapePoints.holes;\n\n\tvar reverse = !THREE.Shape.Utils.isClockWise( vertices ) ;\n\n\tif ( reverse ) {\n\n\t\tvertices = vertices.reverse();\n\n\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\n\t\t\tif ( THREE.Shape.Utils.isClockWise( ahole ) ) {\n\n\t\t\t\tholes[ h ] = ahole.reverse();\n\n\t\t\t}\n\n\t\t}\n\n\t\treverse = false; // If vertices are in order now, we shouldn't need to worry about them again (hopefully)!\n\n\t}\n\n\n\tvar faces = THREE.Shape.Utils.triangulateShape ( vertices, holes );\n\n\t/* Vertices */\n\n\tvar contour = vertices; // vertices has all points but contour has only points of circumference\n\n\tfor ( h = 0, hl = holes.length;  h < hl; h ++ ) {\n\n\t\tahole = holes[ h ];\n\n\t\tvertices = vertices.concat( ahole );\n\n\t}\n\n\n\tfunction scalePt2 ( pt, vec, size ) {\n\n\t\tif ( !vec ) console.log( \"die\" );\n\n\t\treturn vec.clone().multiplyScalar( size ).add( pt );\n\n\t}\n\n\tvar b, bs, t, z,\n\t\tvert, vlen = vertices.length,\n\t\tface, flen = faces.length,\n\t\tcont, clen = contour.length;\n\n\n\t// Find directions for point movement\n\n\tvar RAD_TO_DEGREES = 180 / Math.PI;\n\n\n\tfunction getBevelVec( pt_i, pt_j, pt_k ) {\n\n\t\t// Algorithm 2\n\n\t\treturn getBevelVec2( pt_i, pt_j, pt_k );\n\n\t}\n\n\tfunction getBevelVec1( pt_i, pt_j, pt_k ) {\n\n\t\tvar anglea = Math.atan2( pt_j.y - pt_i.y, pt_j.x - pt_i.x );\n\t\tvar angleb = Math.atan2( pt_k.y - pt_i.y, pt_k.x - pt_i.x );\n\n\t\tif ( anglea > angleb ) {\n\n\t\t\tangleb += Math.PI * 2;\n\n\t\t}\n\n\t\tvar anglec = ( anglea + angleb ) / 2;\n\n\n\t\t//console.log('angle1', anglea * RAD_TO_DEGREES,'angle2', angleb * RAD_TO_DEGREES, 'anglec', anglec *RAD_TO_DEGREES);\n\n\t\tvar x = - Math.cos( anglec );\n\t\tvar y = - Math.sin( anglec );\n\n\t\tvar vec = new THREE.Vector2( x, y ); //.normalize();\n\n\t\treturn vec;\n\n\t}\n\n\tfunction getBevelVec2( pt_i, pt_j, pt_k ) {\n\n\t\tvar a = THREE.ExtrudeGeometry.__v1,\n\t\t\tb = THREE.ExtrudeGeometry.__v2,\n\t\t\tv_hat = THREE.ExtrudeGeometry.__v3,\n\t\t\tw_hat = THREE.ExtrudeGeometry.__v4,\n\t\t\tp = THREE.ExtrudeGeometry.__v5,\n\t\t\tq = THREE.ExtrudeGeometry.__v6,\n\t\t\tv, w,\n\t\t\tv_dot_w_hat, q_sub_p_dot_w_hat,\n\t\t\ts, intersection;\n\n\t\t// good reading for line-line intersection\n\t\t// http://sputsoft.com/blog/2010/03/line-line-intersection.html\n\n\t\t// define a as vector j->i\n\t\t// define b as vectot k->i\n\n\t\ta.set( pt_i.x - pt_j.x, pt_i.y - pt_j.y );\n\t\tb.set( pt_i.x - pt_k.x, pt_i.y - pt_k.y );\n\n\t\t// get unit vectors\n\n\t\tv = a.normalize();\n\t\tw = b.normalize();\n\n\t\t// normals from pt i\n\n\t\tv_hat.set( -v.y, v.x );\n\t\tw_hat.set( w.y, -w.x );\n\n\t\t// pts from i\n\n\t\tp.copy( pt_i ).add( v_hat );\n\t\tq.copy( pt_i ).add( w_hat );\n\n\t\tif ( p.equals( q ) ) {\n\n\t\t\t//console.log(\"Warning: lines are straight\");\n\t\t\treturn w_hat.clone();\n\n\t\t}\n\n\t\t// Points from j, k. helps prevents points cross overover most of the time\n\n\t\tp.copy( pt_j ).add( v_hat );\n\t\tq.copy( pt_k ).add( w_hat );\n\n\t\tv_dot_w_hat = v.dot( w_hat );\n\t\tq_sub_p_dot_w_hat = q.sub( p ).dot( w_hat );\n\n\t\t// We should not reach these conditions\n\n\t\tif ( v_dot_w_hat === 0 ) {\n\n\t\t\tconsole.log( \"Either infinite or no solutions!\" );\n\n\t\t\tif ( q_sub_p_dot_w_hat === 0 ) {\n\n\t\t\t\tconsole.log( \"Its finite solutions.\" );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.log( \"Too bad, no solutions.\" );\n\n\t\t\t}\n\n\t\t}\n\n\t\ts = q_sub_p_dot_w_hat / v_dot_w_hat;\n\n\t\tif ( s < 0 ) {\n\n\t\t\t// in case of emergecy, revert to algorithm 1.\n\n\t\t\treturn getBevelVec1( pt_i, pt_j, pt_k );\n\n\t\t}\n\n\t\tintersection = v.multiplyScalar( s ).add( p );\n\n\t\treturn intersection.sub( pt_i ).clone(); // Don't normalize!, otherwise sharp corners become ugly\n\n\t}\n\n\tvar contourMovements = [];\n\n\tfor ( var i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\tif ( j === il ) j = 0;\n\t\tif ( k === il ) k = 0;\n\n\t\t//  (j)---(i)---(k)\n\t\t// console.log('i,j,k', i, j , k)\n\n\t\tvar pt_i = contour[ i ];\n\t\tvar pt_j = contour[ j ];\n\t\tvar pt_k = contour[ k ];\n\n\t\tcontourMovements[ i ]= getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n\t}\n\n\tvar holesMovements = [], oneHoleMovements, verticesMovements = contourMovements.concat();\n\n\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\tahole = holes[ h ];\n\n\t\toneHoleMovements = [];\n\n\t\tfor ( i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\tif ( j === il ) j = 0;\n\t\t\tif ( k === il ) k = 0;\n\n\t\t\t//  (j)---(i)---(k)\n\t\t\toneHoleMovements[ i ]= getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n\t\t}\n\n\t\tholesMovements.push( oneHoleMovements );\n\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\n\t}\n\n\n\t// Loop bevelSegments, 1 for the front, 1 for the back\n\n\tfor ( b = 0; b < bevelSegments; b ++ ) {\n\t//for ( b = bevelSegments; b > 0; b -- ) {\n\n\t\tt = b / bevelSegments;\n\t\tz = bevelThickness * ( 1 - t );\n\n\t\t//z = bevelThickness * t;\n\t\tbs = bevelSize * ( Math.sin ( t * Math.PI/2 ) ) ; // curved\n\t\t//bs = bevelSize * t ; // linear\n\n\t\t// contract shape\n\n\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\t//vert = scalePt( contour[ i ], contourCentroid, bs, false );\n\t\t\tv( vert.x, vert.y,  - z );\n\n\t\t}\n\n\t\t// expand holes\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h++ ) {\n\n\t\t\tahole = holes[ h ];\n\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\tfor ( i = 0, il = ahole.length; i < il; i++ ) {\n\n\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\t\t\t\t//vert = scalePt( ahole[ i ], holesCentroids[ h ], bs, true );\n\n\t\t\t\tv( vert.x, vert.y,  -z );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tbs = bevelSize;\n\n\t// Back facing vertices\n\n\tfor ( i = 0; i < vlen; i ++ ) {\n\n\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\tif ( !extrudeByPath ) {\n\n\t\t\tv( vert.x, vert.y, 0 );\n\n\t\t} else {\n\n\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n\t\t\tnormal.copy( splineTube.normals[0] ).multiplyScalar(vert.x);\n\t\t\tbinormal.copy( splineTube.binormals[0] ).multiplyScalar(vert.y);\n\n\t\t\tposition2.copy( extrudePts[0] ).add(normal).add(binormal);\n\n\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t}\n\n\t}\n\n\t// Add stepped vertices...\n\t// Including front facing vertices\n\n\tvar s;\n\n\tfor ( s = 1; s <= steps; s ++ ) {\n\n\t\tfor ( i = 0; i < vlen; i ++ ) {\n\n\t\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\tif ( !extrudeByPath ) {\n\n\t\t\t\tv( vert.x, vert.y, amount / steps * s );\n\n\t\t\t} else {\n\n\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n\t\t\t\tnormal.copy( splineTube.normals[s] ).multiplyScalar( vert.x );\n\t\t\t\tbinormal.copy( splineTube.binormals[s] ).multiplyScalar( vert.y );\n\n\t\t\t\tposition2.copy( extrudePts[s] ).add( normal ).add( binormal );\n\n\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\n\t// Add bevel segments planes\n\n\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\tfor ( b = bevelSegments - 1; b >= 0; b -- ) {\n\n\t\tt = b / bevelSegments;\n\t\tz = bevelThickness * ( 1 - t );\n\t\t//bs = bevelSize * ( 1-Math.sin ( ( 1 - t ) * Math.PI/2 ) );\n\t\tbs = bevelSize * Math.sin ( t * Math.PI/2 ) ;\n\n\t\t// contract shape\n\n\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\tv( vert.x, vert.y,  amount + z );\n\n\t\t}\n\n\t\t// expand holes\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\tif ( !extrudeByPath ) {\n\n\t\t\t\t\tv( vert.x, vert.y,  amount + z );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/* Faces */\n\n\t// Top and bottom faces\n\n\tbuildLidFaces();\n\n\t// Sides faces\n\n\tbuildSideFaces();\n\n\n\t/////  Internal functions\n\n\tfunction buildLidFaces() {\n\n\t\tif ( bevelEnabled ) {\n\n\t\t\tvar layer = 0 ; // steps + 1\n\t\t\tvar offset = vlen * layer;\n\n\t\t\t// Bottom faces\n\n\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\tface = faces[ i ];\n\t\t\t\tf3( face[ 2 ]+ offset, face[ 1 ]+ offset, face[ 0 ] + offset, true );\n\n\t\t\t}\n\n\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\toffset = vlen * layer;\n\n\t\t\t// Top faces\n\n\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\tface = faces[ i ];\n\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset, false );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Bottom faces\n\n\t\t\tfor ( i = 0; i < flen; i++ ) {\n\n\t\t\t\tface = faces[ i ];\n\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ], true );\n\n\t\t\t}\n\n\t\t\t// Top faces\n\n\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\tface = faces[ i ];\n\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps, false );\n\n\t\t\t}\n\t\t}\n\n\t}\n\n\t// Create faces for the z-sides of the shape\n\n\tfunction buildSideFaces() {\n\n\t\tvar layeroffset = 0;\n\t\tsidewalls( contour, layeroffset );\n\t\tlayeroffset += contour.length;\n\n\t\tfor ( h = 0, hl = holes.length;  h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\t\t\tsidewalls( ahole, layeroffset );\n\n\t\t\t//, true\n\t\t\tlayeroffset += ahole.length;\n\n\t\t}\n\n\t}\n\n\tfunction sidewalls( contour, layeroffset ) {\n\n\t\tvar j, k;\n\t\ti = contour.length;\n\n\t\twhile ( --i >= 0 ) {\n\n\t\t\tj = i;\n\t\t\tk = i - 1;\n\t\t\tif ( k < 0 ) k = contour.length - 1;\n\n\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\tvar s = 0, sl = steps  + bevelSegments * 2;\n\n\t\t\tfor ( s = 0; s < sl; s ++ ) {\n\n\t\t\t\tvar slen1 = vlen * s;\n\t\t\t\tvar slen2 = vlen * ( s + 1 );\n\n\t\t\t\tvar a = layeroffset + j + slen1,\n\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\td = layeroffset + j + slen2;\n\n\t\t\t\tf4( a, b, c, d, contour, s, sl, j, k );\n\n\t\t\t}\n\t\t}\n\n\t}\n\n\n\tfunction v( x, y, z ) {\n\n\t\tscope.vertices.push( new THREE.Vector3( x, y, z ) );\n\n\t}\n\n\tfunction f3( a, b, c, isBottom ) {\n\n\t\ta += shapesOffset;\n\t\tb += shapesOffset;\n\t\tc += shapesOffset;\n\n\t\t// normal, color, material\n\t\tscope.faces.push( new THREE.Face3( a, b, c, null, null, material ) );\n\n\t\tvar uvs = isBottom ? uvgen.generateBottomUV( scope, shape, options, a, b, c ) : uvgen.generateTopUV( scope, shape, options, a, b, c );\n\n \t\tscope.faceVertexUvs[ 0 ].push( uvs );\n\n\t}\n\n\tfunction f4( a, b, c, d, wallContour, stepIndex, stepsLength, contourIndex1, contourIndex2 ) {\n\n\t\ta += shapesOffset;\n\t\tb += shapesOffset;\n\t\tc += shapesOffset;\n\t\td += shapesOffset;\n\n \t\tscope.faces.push( new THREE.Face3( a, b, d, null, null, extrudeMaterial ) );\n \t\tscope.faces.push( new THREE.Face3( b, c, d, null, null, extrudeMaterial ) );\n\n \t\tvar uvs = uvgen.generateSideWallUV( scope, shape, wallContour, options, a, b, c, d,\n \t\t                                    stepIndex, stepsLength, contourIndex1, contourIndex2 );\n\n \t\tscope.faceVertexUvs[ 0 ].push( [ uvs[ 0 ], uvs[ 1 ], uvs[ 3 ] ] );\n \t\tscope.faceVertexUvs[ 0 ].push( [ uvs[ 1 ], uvs[ 2 ], uvs[ 3 ] ] );\n\n\t}\n\n};\n\nTHREE.ExtrudeGeometry.WorldUVGenerator = {\n\n\tgenerateTopUV: function( geometry, extrudedShape, extrudeOptions, indexA, indexB, indexC ) {\n\t\tvar ax = geometry.vertices[ indexA ].x,\n\t\t\tay = geometry.vertices[ indexA ].y,\n\n\t\t\tbx = geometry.vertices[ indexB ].x,\n\t\t\tby = geometry.vertices[ indexB ].y,\n\n\t\t\tcx = geometry.vertices[ indexC ].x,\n\t\t\tcy = geometry.vertices[ indexC ].y;\n\n\t\treturn [\n\t\t\tnew THREE.Vector2( ax, ay ),\n\t\t\tnew THREE.Vector2( bx, by ),\n\t\t\tnew THREE.Vector2( cx, cy )\n\t\t];\n\n\t},\n\n\tgenerateBottomUV: function( geometry, extrudedShape, extrudeOptions, indexA, indexB, indexC ) {\n\n\t\treturn this.generateTopUV( geometry, extrudedShape, extrudeOptions, indexA, indexB, indexC );\n\n\t},\n\n\tgenerateSideWallUV: function( geometry, extrudedShape, wallContour, extrudeOptions,\n\t                              indexA, indexB, indexC, indexD, stepIndex, stepsLength,\n\t                              contourIndex1, contourIndex2 ) {\n\n\t\tvar ax = geometry.vertices[ indexA ].x,\n\t\t\tay = geometry.vertices[ indexA ].y,\n\t\t\taz = geometry.vertices[ indexA ].z,\n\n\t\t\tbx = geometry.vertices[ indexB ].x,\n\t\t\tby = geometry.vertices[ indexB ].y,\n\t\t\tbz = geometry.vertices[ indexB ].z,\n\n\t\t\tcx = geometry.vertices[ indexC ].x,\n\t\t\tcy = geometry.vertices[ indexC ].y,\n\t\t\tcz = geometry.vertices[ indexC ].z,\n\n\t\t\tdx = geometry.vertices[ indexD ].x,\n\t\t\tdy = geometry.vertices[ indexD ].y,\n\t\t\tdz = geometry.vertices[ indexD ].z;\n\n\t\tif ( Math.abs( ay - by ) < 0.01 ) {\n\t\t\treturn [\n\t\t\t\tnew THREE.Vector2( ax, 1 - az ),\n\t\t\t\tnew THREE.Vector2( bx, 1 - bz ),\n\t\t\t\tnew THREE.Vector2( cx, 1 - cz ),\n\t\t\t\tnew THREE.Vector2( dx, 1 - dz )\n\t\t\t];\n\t\t} else {\n\t\t\treturn [\n\t\t\t\tnew THREE.Vector2( ay, 1 - az ),\n\t\t\t\tnew THREE.Vector2( by, 1 - bz ),\n\t\t\t\tnew THREE.Vector2( cy, 1 - cz ),\n\t\t\t\tnew THREE.Vector2( dy, 1 - dz )\n\t\t\t];\n\t\t}\n\t}\n};\n\nTHREE.ExtrudeGeometry.__v1 = new THREE.Vector2();\nTHREE.ExtrudeGeometry.__v2 = new THREE.Vector2();\nTHREE.ExtrudeGeometry.__v3 = new THREE.Vector2();\nTHREE.ExtrudeGeometry.__v4 = new THREE.Vector2();\nTHREE.ExtrudeGeometry.__v5 = new THREE.Vector2();\nTHREE.ExtrudeGeometry.__v6 = new THREE.Vector2();\n\n/**\n * @author jonobr1 / http://jonobr1.com\n *\n * Creates a one-sided polygonal geometry from a path shape. Similar to\n * ExtrudeGeometry.\n *\n * parameters = {\n *\n *\tcurveSegments: <int>, // number of points on the curves. NOT USED AT THE MOMENT.\n *\n *\tmaterial: <int> // material index for front and back faces\n *\tuvGenerator: <Object> // object that provides UV generator functions\n *\n * }\n **/\n\nTHREE.ShapeGeometry = function ( shapes, options ) {\n\n\tTHREE.Geometry.call( this );\n\n\tif ( shapes instanceof Array === false ) shapes = [ shapes ];\n\n\tthis.shapebb = shapes[ shapes.length - 1 ].getBoundingBox();\n\n\tthis.addShapeList( shapes, options );\n\n\tthis.computeCentroids();\n\tthis.computeFaceNormals();\n\n};\n\nTHREE.ShapeGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\n/**\n * Add an array of shapes to THREE.ShapeGeometry.\n */\nTHREE.ShapeGeometry.prototype.addShapeList = function ( shapes, options ) {\n\n\tfor ( var i = 0, l = shapes.length; i < l; i++ ) {\n\n\t\tthis.addShape( shapes[ i ], options );\n\n\t}\n\n\treturn this;\n\n};\n\n/**\n * Adds a shape to THREE.ShapeGeometry, based on THREE.ExtrudeGeometry.\n */\nTHREE.ShapeGeometry.prototype.addShape = function ( shape, options ) {\n\n\tif ( options === undefined ) options = {};\n\tvar curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\n\tvar material = options.material;\n\tvar uvgen = options.UVGenerator === undefined ? THREE.ExtrudeGeometry.WorldUVGenerator : options.UVGenerator;\n\n\tvar shapebb = this.shapebb;\n\n\t//\n\n\tvar i, l, hole, s;\n\n\tvar shapesOffset = this.vertices.length;\n\tvar shapePoints = shape.extractPoints( curveSegments );\n\n\tvar vertices = shapePoints.shape;\n\tvar holes = shapePoints.holes;\n\n\tvar reverse = !THREE.Shape.Utils.isClockWise( vertices );\n\n\tif ( reverse ) {\n\n\t\tvertices = vertices.reverse();\n\n\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe...\n\n\t\tfor ( i = 0, l = holes.length; i < l; i++ ) {\n\n\t\t\thole = holes[ i ];\n\n\t\t\tif ( THREE.Shape.Utils.isClockWise( hole ) ) {\n\n\t\t\t\tholes[ i ] = hole.reverse();\n\n\t\t\t}\n\n\t\t}\n\n\t\treverse = false;\n\n\t}\n\n\tvar faces = THREE.Shape.Utils.triangulateShape( vertices, holes );\n\n\t// Vertices\n\n\tvar contour = vertices;\n\n\tfor ( i = 0, l = holes.length; i < l; i++ ) {\n\n\t\thole = holes[ i ];\n\t\tvertices = vertices.concat( hole );\n\n\t}\n\n\t//\n\n\tvar vert, vlen = vertices.length;\n\tvar face, flen = faces.length;\n\tvar cont, clen = contour.length;\n\n\tfor ( i = 0; i < vlen; i++ ) {\n\n\t\tvert = vertices[ i ];\n\n\t\tthis.vertices.push( new THREE.Vector3( vert.x, vert.y, 0 ) );\n\n\t}\n\n\tfor ( i = 0; i < flen; i++ ) {\n\n\t\tface = faces[ i ];\n\n\t\tvar a = face[ 0 ] + shapesOffset;\n\t\tvar b = face[ 1 ] + shapesOffset;\n\t\tvar c = face[ 2 ] + shapesOffset;\n\n\t\tthis.faces.push( new THREE.Face3( a, b, c, null, null, material ) );\n\t\tthis.faceVertexUvs[ 0 ].push( uvgen.generateBottomUV( this, shape, options, a, b, c ) );\n\n\t}\n\n};\n\n/**\n * @author astrodud / http://astrodud.isgreat.org/\n * @author zz85 / https://github.com/zz85\n * @author bhouston / http://exocortex.com\n */\n\n// points - to create a closed torus, one must use a set of points \n//    like so: [ a, b, c, d, a ], see first is the same as last.\n// segments - the number of circumference segments to create\n// phiStart - the starting radian\n// phiLength - the radian (0 to 2*PI) range of the lathed section\n//    2*pi is a closed lathe, less than 2PI is a portion.\nTHREE.LatheGeometry = function ( points, segments, phiStart, phiLength ) {\n\n\tTHREE.Geometry.call( this );\n\n\tsegments = segments || 12;\n\tphiStart = phiStart || 0;\n\tphiLength = phiLength || 2 * Math.PI;\n\n\tvar inversePointLength = 1.0 / ( points.length - 1 );\n\tvar inverseSegments = 1.0 / segments;\n\n\tfor ( var i = 0, il = segments; i <= il; i ++ ) {\n\n\t\tvar phi = phiStart + i * inverseSegments * phiLength;\n\n\t\tvar c = Math.cos( phi ),\n\t\t\ts = Math.sin( phi );\n\n\t\tfor ( var j = 0, jl = points.length; j < jl; j ++ ) {\n\n\t\t\tvar pt = points[ j ];\n\n\t\t\tvar vertex = new THREE.Vector3();\n\n\t\t\tvertex.x = c * pt.x - s * pt.y;\n\t\t\tvertex.y = s * pt.x + c * pt.y;\n\t\t\tvertex.z = pt.z;\n\n\t\t\tthis.vertices.push( vertex );\n\n\t\t}\n\n\t}\n\n\tvar np = points.length;\n\n\tfor ( var i = 0, il = segments; i < il; i ++ ) {\n\n\t\tfor ( var j = 0, jl = points.length - 1; j < jl; j ++ ) {\n\n\t\t\tvar base = j + np * i;\n\t\t\tvar a = base;\n\t\t\tvar b = base + np;\n\t\t\tvar c = base + 1 + np;\n\t\t\tvar d = base + 1;\n\n\t\t\tvar u0 = i * inverseSegments;\n\t\t\tvar v0 = j * inversePointLength;\n\t\t\tvar u1 = u0 + inverseSegments;\n\t\t\tvar v1 = v0 + inversePointLength;\n\n\t\t\tthis.faces.push( new THREE.Face3( a, b, d ) );\n\n\t\t\tthis.faceVertexUvs[ 0 ].push( [\n\n\t\t\t\tnew THREE.Vector2( u0, v0 ),\n\t\t\t\tnew THREE.Vector2( u1, v0 ),\n\t\t\t\tnew THREE.Vector2( u0, v1 )\n\n\t\t\t] );\n\n\t\t\tthis.faces.push( new THREE.Face3( b, c, d ) );\n\n\t\t\tthis.faceVertexUvs[ 0 ].push( [\n\n\t\t\t\tnew THREE.Vector2( u1, v0 ),\n\t\t\t\tnew THREE.Vector2( u1, v1 ),\n\t\t\t\tnew THREE.Vector2( u0, v1 )\n\n\t\t\t] );\n\n\n\t\t}\n\n\t}\n\n\tthis.mergeVertices();\n\tthis.computeCentroids();\n\tthis.computeFaceNormals();\n\tthis.computeVertexNormals();\n\n};\n\nTHREE.LatheGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * based on http://papervision3d.googlecode.com/svn/trunk/as3/trunk/src/org/papervision3d/objects/primitives/Plane.as\n */\n\nTHREE.PlaneGeometry = function ( width, height, widthSegments, heightSegments ) {\n\n\tTHREE.Geometry.call( this );\n\n\tthis.width = width;\n\tthis.height = height;\n\n\tthis.widthSegments = widthSegments || 1;\n\tthis.heightSegments = heightSegments || 1;\n\n\tvar ix, iz;\n\tvar width_half = width / 2;\n\tvar height_half = height / 2;\n\n\tvar gridX = this.widthSegments;\n\tvar gridZ = this.heightSegments;\n\n\tvar gridX1 = gridX + 1;\n\tvar gridZ1 = gridZ + 1;\n\n\tvar segment_width = this.width / gridX;\n\tvar segment_height = this.height / gridZ;\n\n\tvar normal = new THREE.Vector3( 0, 0, 1 );\n\n\tfor ( iz = 0; iz < gridZ1; iz ++ ) {\n\n\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\tvar x = ix * segment_width - width_half;\n\t\t\tvar y = iz * segment_height - height_half;\n\n\t\t\tthis.vertices.push( new THREE.Vector3( x, - y, 0 ) );\n\n\t\t}\n\n\t}\n\n\tfor ( iz = 0; iz < gridZ; iz ++ ) {\n\n\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\tvar a = ix + gridX1 * iz;\n\t\t\tvar b = ix + gridX1 * ( iz + 1 );\n\t\t\tvar c = ( ix + 1 ) + gridX1 * ( iz + 1 );\n\t\t\tvar d = ( ix + 1 ) + gridX1 * iz;\n\n\t\t\tvar uva = new THREE.Vector2( ix / gridX, 1 - iz / gridZ );\n\t\t\tvar uvb = new THREE.Vector2( ix / gridX, 1 - ( iz + 1 ) / gridZ );\n\t\t\tvar uvc = new THREE.Vector2( ( ix + 1 ) / gridX, 1 - ( iz + 1 ) / gridZ );\n\t\t\tvar uvd = new THREE.Vector2( ( ix + 1 ) / gridX, 1 - iz / gridZ );\n\n\t\t\tvar face = new THREE.Face3( a, b, d );\n\t\t\tface.normal.copy( normal );\n\t\t\tface.vertexNormals.push( normal.clone(), normal.clone(), normal.clone() );\n\n\t\t\tthis.faces.push( face );\n\t\t\tthis.faceVertexUvs[ 0 ].push( [ uva, uvb, uvd ] );\n\n\t\t\tface = new THREE.Face3( b, c, d );\n\t\t\tface.normal.copy( normal );\n\t\t\tface.vertexNormals.push( normal.clone(), normal.clone(), normal.clone() );\n\n\t\t\tthis.faces.push( face );\n\t\t\tthis.faceVertexUvs[ 0 ].push( [ uvb.clone(), uvc, uvd.clone() ] );\n\n\t\t}\n\n\t}\n\n\tthis.computeCentroids();\n\n};\n\nTHREE.PlaneGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\n/**\n * @author Kaleb Murphy\n */\n\nTHREE.RingGeometry = function ( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tTHREE.Geometry.call( this );\n\n\tinnerRadius = innerRadius || 0;\n\touterRadius = outerRadius || 50;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\tthetaSegments = thetaSegments !== undefined ? Math.max( 3, thetaSegments ) : 8;\n\tphiSegments = phiSegments !== undefined ? Math.max( 3, phiSegments ) : 8;\n\n\tvar i, o, uvs = [], radius = innerRadius, radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\n\tfor ( i = 0; i <= phiSegments; i ++ ) { // concentric circles inside ring\n\n\t\tfor ( o = 0; o <= thetaSegments; o ++ ) { // number of segments per circle\n\n\t\t\tvar vertex = new THREE.Vector3();\n\t\t\tvar segment = thetaStart + o / thetaSegments * thetaLength;\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tthis.vertices.push( vertex );\n\t\t\tuvs.push( new THREE.Vector2( ( vertex.x / outerRadius + 1 ) / 2, ( vertex.y / outerRadius + 1 ) / 2 ) );\n\t\t}\n\n\t\tradius += radiusStep;\n\n\t}\n\n\tvar n = new THREE.Vector3( 0, 0, 1 );\n\n\tfor ( i = 0; i < phiSegments; i ++ ) { // concentric circles inside ring\n\n\t\tvar thetaSegment = i * thetaSegments;\n\n\t\tfor ( o = 0; o <= thetaSegments; o ++ ) { // number of segments per circle\n\n\t\t\tvar segment = o + thetaSegment;\n\n\t\t\tvar v1 = segment + i;\n\t\t\tvar v2 = segment + thetaSegments + i;\n\t\t\tvar v3 = segment + thetaSegments + 1 + i;\n\n\t\t\tthis.faces.push( new THREE.Face3( v1, v2, v3, [ n.clone(), n.clone(), n.clone() ] ) );\n\t\t\tthis.faceVertexUvs[ 0 ].push( [ uvs[ v1 ].clone(), uvs[ v2 ].clone(), uvs[ v3 ].clone() ]);\n\n\t\t\tv1 = segment + i;\n\t\t\tv2 = segment + thetaSegments + 1 + i;\n\t\t\tv3 = segment + 1 + i;\n\n\t\t\tthis.faces.push( new THREE.Face3( v1, v2, v3, [ n.clone(), n.clone(), n.clone() ] ) );\n\t\t\tthis.faceVertexUvs[ 0 ].push( [ uvs[ v1 ].clone(), uvs[ v2 ].clone(), uvs[ v3 ].clone() ]);\n\n\t\t}\n\t}\n\n\tthis.computeCentroids();\n\tthis.computeFaceNormals();\n\n\tthis.boundingSphere = new THREE.Sphere( new THREE.Vector3(), radius );\n\n};\n\nTHREE.RingGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.SphereGeometry = function ( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\tTHREE.Geometry.call( this );\n\n\tthis.radius = radius = radius || 50;\n\n\tthis.widthSegments = widthSegments = Math.max( 3, Math.floor( widthSegments ) || 8 );\n\tthis.heightSegments = heightSegments = Math.max( 2, Math.floor( heightSegments ) || 6 );\n\n\tthis.phiStart = phiStart = phiStart !== undefined ? phiStart : 0;\n\tthis.phiLength = phiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\n\n\tthis.thetaStart = thetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthis.thetaLength = thetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\n\n\tvar x, y, vertices = [], uvs = [];\n\n\tfor ( y = 0; y <= heightSegments; y ++ ) {\n\n\t\tvar verticesRow = [];\n\t\tvar uvsRow = [];\n\n\t\tfor ( x = 0; x <= widthSegments; x ++ ) {\n\n\t\t\tvar u = x / widthSegments;\n\t\t\tvar v = y / heightSegments;\n\n\t\t\tvar vertex = new THREE.Vector3();\n\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n\t\t\tthis.vertices.push( vertex );\n\n\t\t\tverticesRow.push( this.vertices.length - 1 );\n\t\t\tuvsRow.push( new THREE.Vector2( u, 1 - v ) );\n\n\t\t}\n\n\t\tvertices.push( verticesRow );\n\t\tuvs.push( uvsRow );\n\n\t}\n\n\tfor ( y = 0; y < this.heightSegments; y ++ ) {\n\n\t\tfor ( x = 0; x < this.widthSegments; x ++ ) {\n\n\t\t\tvar v1 = vertices[ y ][ x + 1 ];\n\t\t\tvar v2 = vertices[ y ][ x ];\n\t\t\tvar v3 = vertices[ y + 1 ][ x ];\n\t\t\tvar v4 = vertices[ y + 1 ][ x + 1 ];\n\n\t\t\tvar n1 = this.vertices[ v1 ].clone().normalize();\n\t\t\tvar n2 = this.vertices[ v2 ].clone().normalize();\n\t\t\tvar n3 = this.vertices[ v3 ].clone().normalize();\n\t\t\tvar n4 = this.vertices[ v4 ].clone().normalize();\n\n\t\t\tvar uv1 = uvs[ y ][ x + 1 ].clone();\n\t\t\tvar uv2 = uvs[ y ][ x ].clone();\n\t\t\tvar uv3 = uvs[ y + 1 ][ x ].clone();\n\t\t\tvar uv4 = uvs[ y + 1 ][ x + 1 ].clone();\n\n\t\t\tif ( Math.abs( this.vertices[ v1 ].y ) === this.radius ) {\n\n\t\t\t\tuv1.x = ( uv1.x + uv2.x ) / 2;\n\t\t\t\tthis.faces.push( new THREE.Face3( v1, v3, v4, [ n1, n3, n4 ] ) );\n\t\t\t\tthis.faceVertexUvs[ 0 ].push( [ uv1, uv3, uv4 ] );\n\n\t\t\t} else if ( Math.abs( this.vertices[ v3 ].y ) === this.radius ) {\n\n\t\t\t\tuv3.x = ( uv3.x + uv4.x ) / 2;\n\t\t\t\tthis.faces.push( new THREE.Face3( v1, v2, v3, [ n1, n2, n3 ] ) );\n\t\t\t\tthis.faceVertexUvs[ 0 ].push( [ uv1, uv2, uv3 ] );\n\n\t\t\t} else {\n\n\t\t\t\tthis.faces.push( new THREE.Face3( v1, v2, v4, [ n1, n2, n4 ] ) );\n\t\t\t\tthis.faceVertexUvs[ 0 ].push( [ uv1, uv2, uv4 ] );\n\n\t\t\t\tthis.faces.push( new THREE.Face3( v2, v3, v4, [ n2.clone(), n3, n4.clone() ] ) );\n\t\t\t\tthis.faceVertexUvs[ 0 ].push( [ uv2.clone(), uv3, uv4.clone() ] );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tthis.computeCentroids();\n\tthis.computeFaceNormals();\n\n\tthis.boundingSphere = new THREE.Sphere( new THREE.Vector3(), radius );\n\n};\n\nTHREE.SphereGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author alteredq / http://alteredqualia.com/\n *\n * For creating 3D text geometry in three.js\n *\n * Text = 3D Text\n *\n * parameters = {\n *  size: \t\t\t<float>, \t// size of the text\n *  height: \t\t<float>, \t// thickness to extrude text\n *  curveSegments: \t<int>,\t\t// number of points on the curves\n *\n *  font: \t\t\t<string>,\t\t// font name\n *  weight: \t\t<string>,\t\t// font weight (normal, bold)\n *  style: \t\t\t<string>,\t\t// font style  (normal, italics)\n *\n *  bevelEnabled:\t<bool>,\t\t\t// turn on bevel\n *  bevelThickness: <float>, \t\t// how deep into text bevel goes\n *  bevelSize:\t\t<float>, \t\t// how far from text outline is bevel\n *  }\n *\n */\n\n/*\tUsage Examples\n\n\t// TextGeometry wrapper\n\n\tvar text3d = new TextGeometry( text, options );\n\n\t// Complete manner\n\n\tvar textShapes = THREE.FontUtils.generateShapes( text, options );\n\tvar text3d = new ExtrudeGeometry( textShapes, options );\n\n*/\n\n\nTHREE.TextGeometry = function ( text, parameters ) {\n\n\tparameters = parameters || {};\n\n\tvar textShapes = THREE.FontUtils.generateShapes( text, parameters );\n\n\t// translate parameters to ExtrudeGeometry API\n\n\tparameters.amount = parameters.height !== undefined ? parameters.height : 50;\n\n\t// defaults\n\n\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\n\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\n\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\n\n\tTHREE.ExtrudeGeometry.call( this, textShapes, parameters );\n\n};\n\nTHREE.TextGeometry.prototype = Object.create( THREE.ExtrudeGeometry.prototype );\n\n/**\n * @author oosmoxiecode\n * @author mrdoob / http://mrdoob.com/\n * based on http://code.google.com/p/away3d/source/browse/trunk/fp10/Away3DLite/src/away3dlite/primitives/Torus.as?r=2888\n */\n\nTHREE.TorusGeometry = function ( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\tTHREE.Geometry.call( this );\n\n\tvar scope = this;\n\n\tthis.radius = radius || 100;\n\tthis.tube = tube || 40;\n\tthis.radialSegments = radialSegments || 8;\n\tthis.tubularSegments = tubularSegments || 6;\n\tthis.arc = arc || Math.PI * 2;\n\n\tvar center = new THREE.Vector3(), uvs = [], normals = [];\n\n\tfor ( var j = 0; j <= this.radialSegments; j ++ ) {\n\n\t\tfor ( var i = 0; i <= this.tubularSegments; i ++ ) {\n\n\t\t\tvar u = i / this.tubularSegments * this.arc;\n\t\t\tvar v = j / this.radialSegments * Math.PI * 2;\n\n\t\t\tcenter.x = this.radius * Math.cos( u );\n\t\t\tcenter.y = this.radius * Math.sin( u );\n\n\t\t\tvar vertex = new THREE.Vector3();\n\t\t\tvertex.x = ( this.radius + this.tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\tvertex.y = ( this.radius + this.tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\tvertex.z = this.tube * Math.sin( v );\n\n\t\t\tthis.vertices.push( vertex );\n\n\t\t\tuvs.push( new THREE.Vector2( i / this.tubularSegments, j / this.radialSegments ) );\n\t\t\tnormals.push( vertex.clone().sub( center ).normalize() );\n\n\t\t}\n\n\t}\n\n\n\tfor ( var j = 1; j <= this.radialSegments; j ++ ) {\n\n\t\tfor ( var i = 1; i <= this.tubularSegments; i ++ ) {\n\n\t\t\tvar a = ( this.tubularSegments + 1 ) * j + i - 1;\n\t\t\tvar b = ( this.tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\tvar c = ( this.tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\tvar d = ( this.tubularSegments + 1 ) * j + i;\n\n\t\t\tvar face = new THREE.Face3( a, b, d, [ normals[ a ].clone(), normals[ b ].clone(), normals[ d ].clone() ] );\n\t\t\tthis.faces.push( face );\n\t\t\tthis.faceVertexUvs[ 0 ].push( [ uvs[ a ].clone(), uvs[ b ].clone(), uvs[ d ].clone() ] );\n\n\t\t\tface = new THREE.Face3( b, c, d, [ normals[ b ].clone(), normals[ c ].clone(), normals[ d ].clone() ] );\n\t\t\tthis.faces.push( face );\n\t\t\tthis.faceVertexUvs[ 0 ].push( [ uvs[ b ].clone(), uvs[ c ].clone(), uvs[ d ].clone() ] );\n\n\t\t}\n\n\t}\n\n\tthis.computeCentroids();\n\tthis.computeFaceNormals();\n\n};\n\nTHREE.TorusGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\n/**\n * @author oosmoxiecode\n * based on http://code.google.com/p/away3d/source/browse/trunk/fp10/Away3D/src/away3d/primitives/TorusKnot.as?spec=svn2473&r=2473\n */\n\nTHREE.TorusKnotGeometry = function ( radius, tube, radialSegments, tubularSegments, p, q, heightScale ) {\n\n\tTHREE.Geometry.call( this );\n\n\tvar scope = this;\n\n\tthis.radius = radius || 100;\n\tthis.tube = tube || 40;\n\tthis.radialSegments = radialSegments || 64;\n\tthis.tubularSegments = tubularSegments || 8;\n\tthis.p = p || 2;\n\tthis.q = q || 3;\n\tthis.heightScale = heightScale || 1;\n\tthis.grid = new Array( this.radialSegments );\n\n\tvar tang = new THREE.Vector3();\n\tvar n = new THREE.Vector3();\n\tvar bitan = new THREE.Vector3();\n\n\tfor ( var i = 0; i < this.radialSegments; ++ i ) {\n\n\t\tthis.grid[ i ] = new Array( this.tubularSegments );\n\t\tvar u = i / this.radialSegments * 2 * this.p * Math.PI;\n\t\tvar p1 = getPos( u, this.q, this.p, this.radius, this.heightScale );\n\t\tvar p2 = getPos( u + 0.01, this.q, this.p, this.radius, this.heightScale );\n\t\ttang.subVectors( p2, p1 );\n\t\tn.addVectors( p2, p1 );\n\n\t\tbitan.crossVectors( tang, n );\n\t\tn.crossVectors( bitan, tang );\n\t\tbitan.normalize();\n\t\tn.normalize();\n\n\t\tfor ( var j = 0; j < this.tubularSegments; ++ j ) {\n\n\t\t\tvar v = j / this.tubularSegments * 2 * Math.PI;\n\t\t\tvar cx = - this.tube * Math.cos( v ); // TODO: Hack: Negating it so it faces outside.\n\t\t\tvar cy = this.tube * Math.sin( v );\n\n\t\t\tvar pos = new THREE.Vector3();\n\t\t\tpos.x = p1.x + cx * n.x + cy * bitan.x;\n\t\t\tpos.y = p1.y + cx * n.y + cy * bitan.y;\n\t\t\tpos.z = p1.z + cx * n.z + cy * bitan.z;\n\n\t\t\tthis.grid[ i ][ j ] = scope.vertices.push( pos ) - 1;\n\n\t\t}\n\n\t}\n\n\tfor ( var i = 0; i < this.radialSegments; ++ i ) {\n\n\t\tfor ( var j = 0; j < this.tubularSegments; ++ j ) {\n\n\t\t\tvar ip = ( i + 1 ) % this.radialSegments;\n\t\t\tvar jp = ( j + 1 ) % this.tubularSegments;\n\n\t\t\tvar a = this.grid[ i ][ j ];\n\t\t\tvar b = this.grid[ ip ][ j ];\n\t\t\tvar c = this.grid[ ip ][ jp ];\n\t\t\tvar d = this.grid[ i ][ jp ];\n\n\t\t\tvar uva = new THREE.Vector2( i / this.radialSegments, j / this.tubularSegments );\n\t\t\tvar uvb = new THREE.Vector2( ( i + 1 ) / this.radialSegments, j / this.tubularSegments );\n\t\t\tvar uvc = new THREE.Vector2( ( i + 1 ) / this.radialSegments, ( j + 1 ) / this.tubularSegments );\n\t\t\tvar uvd = new THREE.Vector2( i / this.radialSegments, ( j + 1 ) / this.tubularSegments );\n\n\t\t\tthis.faces.push( new THREE.Face3( a, b, d ) );\n\t\t\tthis.faceVertexUvs[ 0 ].push( [ uva, uvb, uvd ] );\n\n\t\t\tthis.faces.push( new THREE.Face3( b, c, d ) );\n\t\t\tthis.faceVertexUvs[ 0 ].push( [ uvb.clone(), uvc, uvd.clone() ] );\n\n\t\t}\n\t}\n\n\tthis.computeCentroids();\n\tthis.computeFaceNormals();\n\tthis.computeVertexNormals();\n\n\tfunction getPos( u, in_q, in_p, radius, heightScale ) {\n\n\t\tvar cu = Math.cos( u );\n\t\tvar su = Math.sin( u );\n\t\tvar quOverP = in_q / in_p * u;\n\t\tvar cs = Math.cos( quOverP );\n\n\t\tvar tx = radius * ( 2 + cs ) * 0.5 * cu;\n\t\tvar ty = radius * ( 2 + cs ) * su * 0.5;\n\t\tvar tz = heightScale * radius * Math.sin( quOverP ) * 0.5;\n\n\t\treturn new THREE.Vector3( tx, ty, tz );\n\n\t}\n\n};\n\nTHREE.TorusKnotGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\n/**\n * @author WestLangley / https://github.com/WestLangley\n * @author zz85 / https://github.com/zz85\n * @author miningold / https://github.com/miningold\n *\n * Modified from the TorusKnotGeometry by @oosmoxiecode\n *\n * Creates a tube which extrudes along a 3d spline\n *\n * Uses parallel transport frames as described in\n * http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n */\n\nTHREE.TubeGeometry = function( path, segments, radius, radialSegments, closed ) {\n\n\tTHREE.Geometry.call( this );\n\n\tthis.path = path;\n\tthis.segments = segments || 64;\n\tthis.radius = radius || 1;\n\tthis.radialSegments = radialSegments || 8;\n\tthis.closed = closed || false;\n\n\tthis.grid = [];\n\n\tvar scope = this,\n\n\t\ttangent,\n\t\tnormal,\n\t\tbinormal,\n\n\t\tnumpoints = this.segments + 1,\n\n\t\tx, y, z,\n\t\ttx, ty, tz,\n\t\tu, v,\n\n\t\tcx, cy,\n\t\tpos, pos2 = new THREE.Vector3(),\n\t\ti, j,\n\t\tip, jp,\n\t\ta, b, c, d,\n\t\tuva, uvb, uvc, uvd;\n\n\tvar frames = new THREE.TubeGeometry.FrenetFrames( this.path, this.segments, this.closed ),\n\t\ttangents = frames.tangents,\n\t\tnormals = frames.normals,\n\t\tbinormals = frames.binormals;\n\n\t// proxy internals\n\tthis.tangents = tangents;\n\tthis.normals = normals;\n\tthis.binormals = binormals;\n\n\tfunction vert( x, y, z ) {\n\n\t\treturn scope.vertices.push( new THREE.Vector3( x, y, z ) ) - 1;\n\n\t}\n\n\n\t// consruct the grid\n\n\tfor ( i = 0; i < numpoints; i++ ) {\n\n\t\tthis.grid[ i ] = [];\n\n\t\tu = i / ( numpoints - 1 );\n\n\t\tpos = path.getPointAt( u );\n\n\t\ttangent = tangents[ i ];\n\t\tnormal = normals[ i ];\n\t\tbinormal = binormals[ i ];\n\n\t\tfor ( j = 0; j < this.radialSegments; j++ ) {\n\n\t\t\tv = j / this.radialSegments * 2 * Math.PI;\n\n\t\t\tcx = -this.radius * Math.cos( v ); // TODO: Hack: Negating it so it faces outside.\n\t\t\tcy = this.radius * Math.sin( v );\n\n\t\t\tpos2.copy( pos );\n\t\t\tpos2.x += cx * normal.x + cy * binormal.x;\n\t\t\tpos2.y += cx * normal.y + cy * binormal.y;\n\t\t\tpos2.z += cx * normal.z + cy * binormal.z;\n\n\t\t\tthis.grid[ i ][ j ] = vert( pos2.x, pos2.y, pos2.z );\n\n\t\t}\n\t}\n\n\n\t// construct the mesh\n\n\tfor ( i = 0; i < this.segments; i++ ) {\n\n\t\tfor ( j = 0; j < this.radialSegments; j++ ) {\n\n\t\t\tip = ( this.closed ) ? (i + 1) % this.segments : i + 1;\n\t\t\tjp = (j + 1) % this.radialSegments;\n\n\t\t\ta = this.grid[ i ][ j ];\t\t// *** NOT NECESSARILY PLANAR ! ***\n\t\t\tb = this.grid[ ip ][ j ];\n\t\t\tc = this.grid[ ip ][ jp ];\n\t\t\td = this.grid[ i ][ jp ];\n\n\t\t\tuva = new THREE.Vector2( i / this.segments, j / this.radialSegments );\n\t\t\tuvb = new THREE.Vector2( ( i + 1 ) / this.segments, j / this.radialSegments );\n\t\t\tuvc = new THREE.Vector2( ( i + 1 ) / this.segments, ( j + 1 ) / this.radialSegments );\n\t\t\tuvd = new THREE.Vector2( i / this.segments, ( j + 1 ) / this.radialSegments );\n\n\t\t\tthis.faces.push( new THREE.Face3( a, b, d ) );\n\t\t\tthis.faceVertexUvs[ 0 ].push( [ uva, uvb, uvd ] );\n\n\t\t\tthis.faces.push( new THREE.Face3( b, c, d ) );\n\t\t\tthis.faceVertexUvs[ 0 ].push( [ uvb.clone(), uvc, uvd.clone() ] );\n\n\t\t}\n\t}\n\n\tthis.computeCentroids();\n\tthis.computeFaceNormals();\n\tthis.computeVertexNormals();\n\n};\n\nTHREE.TubeGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\n\n// For computing of Frenet frames, exposing the tangents, normals and binormals the spline\nTHREE.TubeGeometry.FrenetFrames = function(path, segments, closed) {\n\n\tvar\ttangent = new THREE.Vector3(),\n\t\tnormal = new THREE.Vector3(),\n\t\tbinormal = new THREE.Vector3(),\n\n\t\ttangents = [],\n\t\tnormals = [],\n\t\tbinormals = [],\n\n\t\tvec = new THREE.Vector3(),\n\t\tmat = new THREE.Matrix4(),\n\n\t\tnumpoints = segments + 1,\n\t\ttheta,\n\t\tepsilon = 0.0001,\n\t\tsmallest,\n\n\t\ttx, ty, tz,\n\t\ti, u, v;\n\n\n\t// expose internals\n\tthis.tangents = tangents;\n\tthis.normals = normals;\n\tthis.binormals = binormals;\n\n\t// compute the tangent vectors for each segment on the path\n\n\tfor ( i = 0; i < numpoints; i++ ) {\n\n\t\tu = i / ( numpoints - 1 );\n\n\t\ttangents[ i ] = path.getTangentAt( u );\n\t\ttangents[ i ].normalize();\n\n\t}\n\n\tinitialNormal3();\n\n\tfunction initialNormal1(lastBinormal) {\n\t\t// fixed start binormal. Has dangers of 0 vectors\n\t\tnormals[ 0 ] = new THREE.Vector3();\n\t\tbinormals[ 0 ] = new THREE.Vector3();\n\t\tif (lastBinormal===undefined) lastBinormal = new THREE.Vector3( 0, 0, 1 );\n\t\tnormals[ 0 ].crossVectors( lastBinormal, tangents[ 0 ] ).normalize();\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] ).normalize();\n\t}\n\n\tfunction initialNormal2() {\n\n\t\t// This uses the Frenet-Serret formula for deriving binormal\n\t\tvar t2 = path.getTangentAt( epsilon );\n\n\t\tnormals[ 0 ] = new THREE.Vector3().subVectors( t2, tangents[ 0 ] ).normalize();\n\t\tbinormals[ 0 ] = new THREE.Vector3().crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\t\tnormals[ 0 ].crossVectors( binormals[ 0 ], tangents[ 0 ] ).normalize(); // last binormal x tangent\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] ).normalize();\n\n\t}\n\n\tfunction initialNormal3() {\n\t\t// select an initial normal vector perpenicular to the first tangent vector,\n\t\t// and in the direction of the smallest tangent xyz component\n\n\t\tnormals[ 0 ] = new THREE.Vector3();\n\t\tbinormals[ 0 ] = new THREE.Vector3();\n\t\tsmallest = Number.MAX_VALUE;\n\t\ttx = Math.abs( tangents[ 0 ].x );\n\t\tty = Math.abs( tangents[ 0 ].y );\n\t\ttz = Math.abs( tangents[ 0 ].z );\n\n\t\tif ( tx <= smallest ) {\n\t\t\tsmallest = tx;\n\t\t\tnormal.set( 1, 0, 0 );\n\t\t}\n\n\t\tif ( ty <= smallest ) {\n\t\t\tsmallest = ty;\n\t\t\tnormal.set( 0, 1, 0 );\n\t\t}\n\n\t\tif ( tz <= smallest ) {\n\t\t\tnormal.set( 0, 0, 1 );\n\t\t}\n\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\t}\n\n\n\t// compute the slowly-varying normal and binormal vectors for each segment on the path\n\n\tfor ( i = 1; i < numpoints; i++ ) {\n\n\t\tnormals[ i ] = normals[ i-1 ].clone();\n\n\t\tbinormals[ i ] = binormals[ i-1 ].clone();\n\n\t\tvec.crossVectors( tangents[ i-1 ], tangents[ i ] );\n\n\t\tif ( vec.length() > epsilon ) {\n\n\t\t\tvec.normalize();\n\n\t\t\ttheta = Math.acos( THREE.Math.clamp( tangents[ i-1 ].dot( tangents[ i ] ), -1, 1 ) ); // clamp for floating pt errors\n\n\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n\t\t}\n\n\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t}\n\n\n\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\tif ( closed ) {\n\n\t\ttheta = Math.acos( THREE.Math.clamp( normals[ 0 ].dot( normals[ numpoints-1 ] ), -1, 1 ) );\n\t\ttheta /= ( numpoints - 1 );\n\n\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ numpoints-1 ] ) ) > 0 ) {\n\n\t\t\ttheta = -theta;\n\n\t\t}\n\n\t\tfor ( i = 1; i < numpoints; i++ ) {\n\n\t\t\t// twist a little...\n\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t}\n\n\t}\n};\n\n/**\n * @author clockworkgeek / https://github.com/clockworkgeek\n * @author timothypratley / https://github.com/timothypratley\n * @author WestLangley / http://github.com/WestLangley\n*/\n\nTHREE.PolyhedronGeometry = function ( vertices, faces, radius, detail ) {\n\n\tTHREE.Geometry.call( this );\n\n\tradius = radius || 1;\n\tdetail = detail || 0;\n\n\tvar that = this;\n\n\tfor ( var i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\tprepare( new THREE.Vector3( vertices[ i ][ 0 ], vertices[ i ][ 1 ], vertices[ i ][ 2 ] ) );\n\n\t}\n\n\tvar midpoints = [], p = this.vertices;\n\n\tvar f = [];\n\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\tvar v1 = p[ faces[ i ][ 0 ] ];\n\t\tvar v2 = p[ faces[ i ][ 1 ] ];\n\t\tvar v3 = p[ faces[ i ][ 2 ] ];\n\n\t\tf[ i ] = new THREE.Face3( v1.index, v2.index, v3.index, [ v1.clone(), v2.clone(), v3.clone() ] );\n\n\t}\n\n\tfor ( var i = 0, l = f.length; i < l; i ++ ) {\n\n\t\tsubdivide(f[ i ], detail);\n\n\t}\n\n\n\t// Handle case when face straddles the seam\n\n\tfor ( var i = 0, l = this.faceVertexUvs[ 0 ].length; i < l; i ++ ) {\n\n\t\tvar uvs = this.faceVertexUvs[ 0 ][ i ];\n\n\t\tvar x0 = uvs[ 0 ].x;\n\t\tvar x1 = uvs[ 1 ].x;\n\t\tvar x2 = uvs[ 2 ].x;\n\n\t\tvar max = Math.max( x0, Math.max( x1, x2 ) );\n\t\tvar min = Math.min( x0, Math.min( x1, x2 ) );\n\n\t\tif ( max > 0.9 && min < 0.1 ) { // 0.9 is somewhat arbitrary\n\n\t\t\tif ( x0 < 0.2 ) uvs[ 0 ].x += 1;\n\t\t\tif ( x1 < 0.2 ) uvs[ 1 ].x += 1;\n\t\t\tif ( x2 < 0.2 ) uvs[ 2 ].x += 1;\n\n\t\t}\n\n\t}\n\n\n\t// Apply radius\n\n\tfor ( var i = 0, l = this.vertices.length; i < l; i ++ ) {\n\n\t\tthis.vertices[ i ].multiplyScalar( radius );\n\n\t}\n\n\n\t// Merge vertices\n\n\tthis.mergeVertices();\n\n\tthis.computeCentroids();\n\n\tthis.computeFaceNormals();\n\n\tthis.boundingSphere = new THREE.Sphere( new THREE.Vector3(), radius );\n\n\n\t// Project vector onto sphere's surface\n\n\tfunction prepare( vector ) {\n\n\t\tvar vertex = vector.normalize().clone();\n\t\tvertex.index = that.vertices.push( vertex ) - 1;\n\n\t\t// Texture coords are equivalent to map coords, calculate angle and convert to fraction of a circle.\n\n\t\tvar u = azimuth( vector ) / 2 / Math.PI + 0.5;\n\t\tvar v = inclination( vector ) / Math.PI + 0.5;\n\t\tvertex.uv = new THREE.Vector2( u, 1 - v );\n\n\t\treturn vertex;\n\n\t}\n\n\n\t// Approximate a curved face with recursively sub-divided triangles.\n\n\tfunction make( v1, v2, v3 ) {\n\n\t\tvar face = new THREE.Face3( v1.index, v2.index, v3.index, [ v1.clone(), v2.clone(), v3.clone() ] );\n\t\tface.centroid.add( v1 ).add( v2 ).add( v3 ).divideScalar( 3 );\n\t\tthat.faces.push( face );\n\n\t\tvar azi = azimuth( face.centroid );\n\n\t\tthat.faceVertexUvs[ 0 ].push( [\n\t\t\tcorrectUV( v1.uv, v1, azi ),\n\t\t\tcorrectUV( v2.uv, v2, azi ),\n\t\t\tcorrectUV( v3.uv, v3, azi )\n\t\t] );\n\n\t}\n\n\n\t// Analytically subdivide a face to the required detail level.\n\n\tfunction subdivide(face, detail ) {\n\n\t\tvar cols = Math.pow(2, detail);\n\t\tvar cells = Math.pow(4, detail);\n\t\tvar a = prepare( that.vertices[ face.a ] );\n\t\tvar b = prepare( that.vertices[ face.b ] );\n\t\tvar c = prepare( that.vertices[ face.c ] );\n\t\tvar v = [];\n\n\t\t// Construct all of the vertices for this subdivision.\n\n\t\tfor ( var i = 0 ; i <= cols; i ++ ) {\n\n\t\t\tv[ i ] = [];\n\n\t\t\tvar aj = prepare( a.clone().lerp( c, i / cols ) );\n\t\t\tvar bj = prepare( b.clone().lerp( c, i / cols ) );\n\t\t\tvar rows = cols - i;\n\n\t\t\tfor ( var j = 0; j <= rows; j ++) {\n\n\t\t\t\tif ( j == 0 && i == cols ) {\n\n\t\t\t\t\tv[ i ][ j ] = aj;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv[ i ][ j ] = prepare( aj.clone().lerp( bj, j / rows ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Construct all of the faces.\n\n\t\tfor ( var i = 0; i < cols ; i ++ ) {\n\n\t\t\tfor ( var j = 0; j < 2 * (cols - i) - 1; j ++ ) {\n\n\t\t\t\tvar k = Math.floor( j / 2 );\n\n\t\t\t\tif ( j % 2 == 0 ) {\n\n\t\t\t\t\tmake(\n\t\t\t\t\t\tv[ i ][ k + 1],\n\t\t\t\t\t\tv[ i + 1 ][ k ],\n\t\t\t\t\t\tv[ i ][ k ]\n\t\t\t\t\t);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tmake(\n\t\t\t\t\t\tv[ i ][ k + 1 ],\n\t\t\t\t\t\tv[ i + 1][ k + 1],\n\t\t\t\t\t\tv[ i + 1 ][ k ]\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\n\t// Angle around the Y axis, counter-clockwise when looking from above.\n\n\tfunction azimuth( vector ) {\n\n\t\treturn Math.atan2( vector.z, -vector.x );\n\n\t}\n\n\n\t// Angle above the XZ plane.\n\n\tfunction inclination( vector ) {\n\n\t\treturn Math.atan2( -vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n\t}\n\n\n\t// Texture fixing helper. Spheres have some odd behaviours.\n\n\tfunction correctUV( uv, vector, azimuth ) {\n\n\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) uv = new THREE.Vector2( uv.x - 1, uv.y );\n\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) uv = new THREE.Vector2( azimuth / 2 / Math.PI + 0.5, uv.y );\n\t\treturn uv.clone();\n\n\t}\n\n\n};\n\nTHREE.PolyhedronGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n */\n\nTHREE.IcosahedronGeometry = function ( radius, detail ) {\n\n\tthis.radius = radius;\n\tthis.detail = detail;\n\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n\tvar vertices = [\n\t\t[ -1,  t,  0 ], [  1, t, 0 ], [ -1, -t,  0 ], [  1, -t,  0 ],\n\t\t[  0, -1,  t ], [  0, 1, t ], [  0, -1, -t ], [  0,  1, -t ],\n\t\t[  t,  0, -1 ], [  t, 0, 1 ], [ -t,  0, -1 ], [ -t,  0,  1 ]\n\t];\n\n\tvar faces = [\n\t\t[ 0, 11,  5 ], [ 0,  5,  1 ], [  0,  1,  7 ], [  0,  7, 10 ], [  0, 10, 11 ],\n\t\t[ 1,  5,  9 ], [ 5, 11,  4 ], [ 11, 10,  2 ], [ 10,  7,  6 ], [  7,  1,  8 ],\n\t\t[ 3,  9,  4 ], [ 3,  4,  2 ], [  3,  2,  6 ], [  3,  6,  8 ], [  3,  8,  9 ],\n\t\t[ 4,  9,  5 ], [ 2,  4, 11 ], [  6,  2, 10 ], [  8,  6,  7 ], [  9,  8,  1 ]\n\t];\n\n\tTHREE.PolyhedronGeometry.call( this, vertices, faces, radius, detail );\n\n};\n\nTHREE.IcosahedronGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n */\n\nTHREE.OctahedronGeometry = function ( radius, detail ) {\n\n\tvar vertices = [\n\t\t[ 1, 0, 0 ], [ -1, 0, 0 ], [ 0, 1, 0 ], [ 0, -1, 0 ], [ 0, 0, 1 ], [ 0, 0, -1 ]\n\t];\n\n\tvar faces = [\n\t\t[ 0, 2, 4 ], [ 0, 4, 3 ], [ 0, 3, 5 ], [ 0, 5, 2 ], [ 1, 2, 5 ], [ 1, 5, 3 ], [ 1, 3, 4 ], [ 1, 4, 2 ]\n\t];\n\n\tTHREE.PolyhedronGeometry.call( this, vertices, faces, radius, detail );\n};\n\nTHREE.OctahedronGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n */\n\nTHREE.TetrahedronGeometry = function ( radius, detail ) {\n\n\tvar vertices = [\n\t\t[ 1,  1,  1 ], [ -1, -1, 1 ], [ -1, 1, -1 ], [ 1, -1, -1 ]\n\t];\n\n\tvar faces = [\n\t\t[ 2, 1, 0 ], [ 0, 3, 2 ], [ 1, 3, 0 ], [ 2, 3, 1 ]\n\t];\n\n\tTHREE.PolyhedronGeometry.call( this, vertices, faces, radius, detail );\n\n};\n\nTHREE.TetrahedronGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\n/**\n * @author zz85 / https://github.com/zz85\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout http://prideout.net/blog/?p=44\n *\n * new THREE.ParametricGeometry( parametricFunction, uSegments, ySegements );\n *\n */\n\nTHREE.ParametricGeometry = function ( func, slices, stacks ) {\n\n\tTHREE.Geometry.call( this );\n\n\tvar verts = this.vertices;\n\tvar faces = this.faces;\n\tvar uvs = this.faceVertexUvs[ 0 ];\n\n\tvar i, il, j, p;\n\tvar u, v;\n\n\tvar stackCount = stacks + 1;\n\tvar sliceCount = slices + 1;\n\n\tfor ( i = 0; i <= stacks; i ++ ) {\n\n\t\tv = i / stacks;\n\n\t\tfor ( j = 0; j <= slices; j ++ ) {\n\n\t\t\tu = j / slices;\n\n\t\t\tp = func( u, v );\n\t\t\tverts.push( p );\n\n\t\t}\n\t}\n\n\tvar a, b, c, d;\n\tvar uva, uvb, uvc, uvd;\n\n\tfor ( i = 0; i < stacks; i ++ ) {\n\n\t\tfor ( j = 0; j < slices; j ++ ) {\n\n\t\t\ta = i * sliceCount + j;\n\t\t\tb = i * sliceCount + j + 1;\n\t\t\tc = (i + 1) * sliceCount + j + 1;\n\t\t\td = (i + 1) * sliceCount + j;\n\n\t\t\tuva = new THREE.Vector2( j / slices, i / stacks );\n\t\t\tuvb = new THREE.Vector2( ( j + 1 ) / slices, i / stacks );\n\t\t\tuvc = new THREE.Vector2( ( j + 1 ) / slices, ( i + 1 ) / stacks );\n\t\t\tuvd = new THREE.Vector2( j / slices, ( i + 1 ) / stacks );\n\n\t\t\tfaces.push( new THREE.Face3( a, b, d ) );\n\t\t\tuvs.push( [ uva, uvb, uvd ] );\n\n\t\t\tfaces.push( new THREE.Face3( b, c, d ) );\n\t\t\tuvs.push( [ uvb.clone(), uvc, uvd.clone() ] );\n\n\t\t}\n\n\t}\n\n\t// console.log(this);\n\n\t// magic bullet\n\t// var diff = this.mergeVertices();\n\t// console.log('removed ', diff, ' vertices by merging');\n\n\tthis.computeCentroids();\n\tthis.computeFaceNormals();\n\tthis.computeVertexNormals();\n\n};\n\nTHREE.ParametricGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\n/**\n * @author sroucheray / http://sroucheray.org/\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.AxisHelper = function ( size ) {\n\n\tsize = size || 1;\n\n\tvar geometry = new THREE.Geometry();\n\n\tgeometry.vertices.push(\n\t\tnew THREE.Vector3(), new THREE.Vector3( size, 0, 0 ),\n\t\tnew THREE.Vector3(), new THREE.Vector3( 0, size, 0 ),\n\t\tnew THREE.Vector3(), new THREE.Vector3( 0, 0, size )\n\t);\n\n\tgeometry.colors.push(\n\t\tnew THREE.Color( 0xff0000 ), new THREE.Color( 0xffaa00 ),\n\t\tnew THREE.Color( 0x00ff00 ), new THREE.Color( 0xaaff00 ),\n\t\tnew THREE.Color( 0x0000ff ), new THREE.Color( 0x00aaff )\n\t);\n\n\tvar material = new THREE.LineBasicMaterial( { vertexColors: THREE.VertexColors } );\n\n\tTHREE.Line.call( this, geometry, material, THREE.LinePieces );\n\n};\n\nTHREE.AxisHelper.prototype = Object.create( THREE.Line.prototype );\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author zz85 / http://github.com/zz85\n * @author bhouston / http://exocortex.com\n *\n * Creates an arrow for visualizing directions\n *\n * Parameters:\n *  dir - Vector3\n *  origin - Vector3\n *  length - Number\n *  hex - color in hex value\n *  headLength - Number\n *  headWidth - Number\n */\n\nTHREE.ArrowHelper = function ( dir, origin, length, hex, headLength, headWidth ) {\n\n\t// dir is assumed to be normalized\n\n\tTHREE.Object3D.call( this );\n\n\tif ( hex === undefined ) hex = 0xffff00;\n\tif ( length === undefined ) length = 1;\n\tif ( headLength === undefined ) headLength = 0.2 * length;\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\tthis.position = origin;\n\n\tvar lineGeometry = new THREE.Geometry();\n\tlineGeometry.vertices.push( new THREE.Vector3( 0, 0, 0 ) );\n\tlineGeometry.vertices.push( new THREE.Vector3( 0, 1, 0 ) );\n\n\tthis.line = new THREE.Line( lineGeometry, new THREE.LineBasicMaterial( { color: hex } ) );\n\tthis.line.matrixAutoUpdate = false;\n\tthis.add( this.line );\n\n\tvar coneGeometry = new THREE.CylinderGeometry( 0, 0.5, 1, 5, 1 );\n\tconeGeometry.applyMatrix( new THREE.Matrix4().makeTranslation( 0, - 0.5, 0 ) );\n\n\tthis.cone = new THREE.Mesh( coneGeometry, new THREE.MeshBasicMaterial( { color: hex } ) );\n\tthis.cone.matrixAutoUpdate = false;\n\tthis.add( this.cone );\n\n\tthis.setDirection( dir );\n\tthis.setLength( length, headLength, headWidth );\n\n};\n\nTHREE.ArrowHelper.prototype = Object.create( THREE.Object3D.prototype );\n\nTHREE.ArrowHelper.prototype.setDirection = function () {\n\n\tvar axis = new THREE.Vector3();\n\tvar radians;\n\n\treturn function ( dir ) {\n\n\t\t// dir is assumed to be normalized\n\n\t\tif ( dir.y > 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\n\t\t} else if ( dir.y < - 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\n\t\t} else {\n\n\t\t\taxis.set( dir.z, 0, - dir.x ).normalize();\n\n\t\t\tradians = Math.acos( dir.y );\n\n\t\t\tthis.quaternion.setFromAxisAngle( axis, radians );\n\n\t\t}\n\n\t};\n\n}();\n\nTHREE.ArrowHelper.prototype.setLength = function ( length, headLength, headWidth ) {\n\n\tif ( headLength === undefined ) headLength = 0.2 * length;\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\tthis.line.scale.set( 1, length, 1 );\n\tthis.line.updateMatrix();\n\n\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\tthis.cone.position.y = length;\n\tthis.cone.updateMatrix();\n\n};\n\nTHREE.ArrowHelper.prototype.setColor = function ( hex ) {\n\n\tthis.line.material.color.setHex( hex );\n\tthis.cone.material.color.setHex( hex );\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.BoxHelper = function ( object ) {\n\n\t//   5____4\n\t// 1/___0/|\n\t// | 6__|_7\n\t// 2/___3/\n\n\tvar vertices = [\n\t\tnew THREE.Vector3(   1,   1,   1 ),\n\t\tnew THREE.Vector3( - 1,   1,   1 ),\n\t\tnew THREE.Vector3( - 1, - 1,   1 ),\n\t\tnew THREE.Vector3(   1, - 1,   1 ),\n\n\t\tnew THREE.Vector3(   1,   1, - 1 ),\n\t\tnew THREE.Vector3( - 1,   1, - 1 ),\n\t\tnew THREE.Vector3( - 1, - 1, - 1 ),\n\t\tnew THREE.Vector3(   1, - 1, - 1 )\n\t];\n\n\tthis.vertices = vertices;\n\n\t// TODO: Wouldn't be nice if Line had .segments?\n\n\tvar geometry = new THREE.Geometry();\n\tgeometry.vertices.push(\n\t\tvertices[ 0 ], vertices[ 1 ],\n\t\tvertices[ 1 ], vertices[ 2 ],\n\t\tvertices[ 2 ], vertices[ 3 ],\n\t\tvertices[ 3 ], vertices[ 0 ],\n\n\t\tvertices[ 4 ], vertices[ 5 ],\n\t\tvertices[ 5 ], vertices[ 6 ],\n\t\tvertices[ 6 ], vertices[ 7 ],\n\t\tvertices[ 7 ], vertices[ 4 ],\n\n\t\tvertices[ 0 ], vertices[ 4 ],\n\t\tvertices[ 1 ], vertices[ 5 ],\n\t\tvertices[ 2 ], vertices[ 6 ],\n\t\tvertices[ 3 ], vertices[ 7 ]\n\t);\n\n\tTHREE.Line.call( this, geometry, new THREE.LineBasicMaterial( { color: 0xffff00 } ), THREE.LinePieces );\n\n\tif ( object !== undefined ) {\n\n\t\tthis.update( object );\n\n\t}\n\n};\n\nTHREE.BoxHelper.prototype = Object.create( THREE.Line.prototype );\n\nTHREE.BoxHelper.prototype.update = function ( object ) {\n\n\tvar geometry = object.geometry;\n\n\tif ( geometry.boundingBox === null ) {\n\n\t\tgeometry.computeBoundingBox();\n\n\t}\n\n\tvar min = geometry.boundingBox.min;\n\tvar max = geometry.boundingBox.max;\n\tvar vertices = this.vertices;\n\n\tvertices[ 0 ].set( max.x, max.y, max.z );\n\tvertices[ 1 ].set( min.x, max.y, max.z );\n\tvertices[ 2 ].set( min.x, min.y, max.z );\n\tvertices[ 3 ].set( max.x, min.y, max.z );\n\tvertices[ 4 ].set( max.x, max.y, min.z );\n\tvertices[ 5 ].set( min.x, max.y, min.z );\n\tvertices[ 6 ].set( min.x, min.y, min.z );\n\tvertices[ 7 ].set( max.x, min.y, min.z );\n\n\tthis.geometry.computeBoundingSphere();\n\tthis.geometry.verticesNeedUpdate = true;\n\n\tthis.matrixAutoUpdate = false;\n\tthis.matrixWorld = object.matrixWorld;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\n// a helper to show the world-axis-aligned bounding box for an object\n\nTHREE.BoundingBoxHelper = function ( object, hex ) {\n\n\tvar color = ( hex !== undefined ) ? hex : 0x888888;\n\n\tthis.object = object;\n\n\tthis.box = new THREE.Box3();\n\n\tTHREE.Mesh.call( this, new THREE.CubeGeometry( 1, 1, 1 ), new THREE.MeshBasicMaterial( { color: color, wireframe: true } ) );\n\n};\n\nTHREE.BoundingBoxHelper.prototype = Object.create( THREE.Mesh.prototype );\n\nTHREE.BoundingBoxHelper.prototype.update = function () {\n\n\tthis.box.setFromObject( this.object );\n\n\tthis.box.size( this.scale );\n\n\tthis.box.center( this.position );\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n */\n\nTHREE.CameraHelper = function ( camera ) {\n\n\tvar geometry = new THREE.Geometry();\n\tvar material = new THREE.LineBasicMaterial( { color: 0xffffff, vertexColors: THREE.FaceColors } );\n\n\tvar pointMap = {};\n\n\t// colors\n\n\tvar hexFrustum = 0xffaa00;\n\tvar hexCone = 0xff0000;\n\tvar hexUp = 0x00aaff;\n\tvar hexTarget = 0xffffff;\n\tvar hexCross = 0x333333;\n\n\t// near\n\n\taddLine( \"n1\", \"n2\", hexFrustum );\n\taddLine( \"n2\", \"n4\", hexFrustum );\n\taddLine( \"n4\", \"n3\", hexFrustum );\n\taddLine( \"n3\", \"n1\", hexFrustum );\n\n\t// far\n\n\taddLine( \"f1\", \"f2\", hexFrustum );\n\taddLine( \"f2\", \"f4\", hexFrustum );\n\taddLine( \"f4\", \"f3\", hexFrustum );\n\taddLine( \"f3\", \"f1\", hexFrustum );\n\n\t// sides\n\n\taddLine( \"n1\", \"f1\", hexFrustum );\n\taddLine( \"n2\", \"f2\", hexFrustum );\n\taddLine( \"n3\", \"f3\", hexFrustum );\n\taddLine( \"n4\", \"f4\", hexFrustum );\n\n\t// cone\n\n\taddLine( \"p\", \"n1\", hexCone );\n\taddLine( \"p\", \"n2\", hexCone );\n\taddLine( \"p\", \"n3\", hexCone );\n\taddLine( \"p\", \"n4\", hexCone );\n\n\t// up\n\n\taddLine( \"u1\", \"u2\", hexUp );\n\taddLine( \"u2\", \"u3\", hexUp );\n\taddLine( \"u3\", \"u1\", hexUp );\n\n\t// target\n\n\taddLine( \"c\", \"t\", hexTarget );\n\taddLine( \"p\", \"c\", hexCross );\n\n\t// cross\n\n\taddLine( \"cn1\", \"cn2\", hexCross );\n\taddLine( \"cn3\", \"cn4\", hexCross );\n\n\taddLine( \"cf1\", \"cf2\", hexCross );\n\taddLine( \"cf3\", \"cf4\", hexCross );\n\n\tfunction addLine( a, b, hex ) {\n\n\t\taddPoint( a, hex );\n\t\taddPoint( b, hex );\n\n\t}\n\n\tfunction addPoint( id, hex ) {\n\n\t\tgeometry.vertices.push( new THREE.Vector3() );\n\t\tgeometry.colors.push( new THREE.Color( hex ) );\n\n\t\tif ( pointMap[ id ] === undefined ) {\n\n\t\t\tpointMap[ id ] = [];\n\n\t\t}\n\n\t\tpointMap[ id ].push( geometry.vertices.length - 1 );\n\n\t}\n\n\tTHREE.Line.call( this, geometry, material, THREE.LinePieces );\n\n\tthis.camera = camera;\n\tthis.matrixWorld = camera.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.pointMap = pointMap;\n\n\tthis.update();\n\n};\n\nTHREE.CameraHelper.prototype = Object.create( THREE.Line.prototype );\n\nTHREE.CameraHelper.prototype.update = function () {\n\n\tvar vector = new THREE.Vector3();\n\tvar camera = new THREE.Camera();\n\tvar projector = new THREE.Projector();\n\n\treturn function () {\n\n\t\tvar scope = this;\n\n\t\tvar w = 1, h = 1;\n\n\t\t// we need just camera projection matrix\n\t\t// world matrix must be identity\n\n\t\tcamera.projectionMatrix.copy( this.camera.projectionMatrix );\n\n\t\t// center / target\n\n\t\tsetPoint( \"c\", 0, 0, -1 );\n\t\tsetPoint( \"t\", 0, 0,  1 );\n\n\t\t// near\n\n\t\tsetPoint( \"n1\", -w, -h, -1 );\n\t\tsetPoint( \"n2\",  w, -h, -1 );\n\t\tsetPoint( \"n3\", -w,  h, -1 );\n\t\tsetPoint( \"n4\",  w,  h, -1 );\n\n\t\t// far\n\n\t\tsetPoint( \"f1\", -w, -h, 1 );\n\t\tsetPoint( \"f2\",  w, -h, 1 );\n\t\tsetPoint( \"f3\", -w,  h, 1 );\n\t\tsetPoint( \"f4\",  w,  h, 1 );\n\n\t\t// up\n\n\t\tsetPoint( \"u1\",  w * 0.7, h * 1.1, -1 );\n\t\tsetPoint( \"u2\", -w * 0.7, h * 1.1, -1 );\n\t\tsetPoint( \"u3\",        0, h * 2,   -1 );\n\n\t\t// cross\n\n\t\tsetPoint( \"cf1\", -w,  0, 1 );\n\t\tsetPoint( \"cf2\",  w,  0, 1 );\n\t\tsetPoint( \"cf3\",  0, -h, 1 );\n\t\tsetPoint( \"cf4\",  0,  h, 1 );\n\n\t\tsetPoint( \"cn1\", -w,  0, -1 );\n\t\tsetPoint( \"cn2\",  w,  0, -1 );\n\t\tsetPoint( \"cn3\",  0, -h, -1 );\n\t\tsetPoint( \"cn4\",  0,  h, -1 );\n\n\t\tfunction setPoint( point, x, y, z ) {\n\n\t\t\tvector.set( x, y, z );\n\t\t\tprojector.unprojectVector( vector, camera );\n\n\t\t\tvar points = scope.pointMap[ point ];\n\n\t\t\tif ( points !== undefined ) {\n\n\t\t\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\t\t\tscope.geometry.vertices[ points[ i ] ].copy( vector );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.geometry.verticesNeedUpdate = true;\n\n\t};\n\n}();\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nTHREE.DirectionalLightHelper = function ( light, size ) {\n\n\tTHREE.Object3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrixWorld = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tsize = size || 1;\n\tvar geometry = new THREE.PlaneGeometry( size, size );\n\tvar material = new THREE.MeshBasicMaterial( { wireframe: true, fog: false } );\n\tmaterial.color.copy( this.light.color ).multiplyScalar( this.light.intensity );\n\n\tthis.lightPlane = new THREE.Mesh( geometry, material );\n\tthis.add( this.lightPlane );\n\n\tgeometry = new THREE.Geometry();\n\tgeometry.vertices.push( new THREE.Vector3() );\n\tgeometry.vertices.push( new THREE.Vector3() );\n\n\tmaterial = new THREE.LineBasicMaterial( { fog: false } );\n\tmaterial.color.copy( this.light.color ).multiplyScalar( this.light.intensity );\n\n\tthis.targetLine = new THREE.Line( geometry, material );\n\tthis.add( this.targetLine );\n\n\tthis.update();\n\n};\n\nTHREE.DirectionalLightHelper.prototype = Object.create( THREE.Object3D.prototype );\n\nTHREE.DirectionalLightHelper.prototype.dispose = function () {\n\t\n\tthis.lightPlane.geometry.dispose();\n\tthis.lightPlane.material.dispose();\n\tthis.targetLine.geometry.dispose();\n\tthis.targetLine.material.dispose();\n};\n\nTHREE.DirectionalLightHelper.prototype.update = function () {\n\n\tvar v1 = new THREE.Vector3();\n\tvar v2 = new THREE.Vector3();\n\tvar v3 = new THREE.Vector3();\n\n\treturn function () {\n\n\t\tv1.setFromMatrixPosition( this.light.matrixWorld );\n\t\tv2.setFromMatrixPosition( this.light.target.matrixWorld );\n\t\tv3.subVectors( v2, v1 );\n\n\t\tthis.lightPlane.lookAt( v3 );\n\t\tthis.lightPlane.material.color.copy( this.light.color ).multiplyScalar( this.light.intensity );\n\n\t\tthis.targetLine.geometry.vertices[ 1 ].copy( v3 );\n\t\tthis.targetLine.geometry.verticesNeedUpdate = true;\n\t\tthis.targetLine.material.color.copy( this.lightPlane.material.color );\n\n\t}\n\n}();\n\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nTHREE.EdgesHelper = function ( object, hex ) {\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffffff;\n\n\tvar edge = [ 0, 0 ], hash = {};\n\tvar sortFunction = function ( a, b ) { return a - b };\n\n\tvar keys = [ 'a', 'b', 'c' ];\n\tvar geometry = new THREE.BufferGeometry();\n\n\tvar geometry2 = object.geometry.clone();\n\n\tgeometry2.mergeVertices();\n\tgeometry2.computeFaceNormals();\n\n\tvar vertices = geometry2.vertices;\n\tvar faces = geometry2.faces;\n\tvar numEdges = 0;\n\n\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\tvar face = faces[ i ];\n\n\t\tfor ( var j = 0; j < 3; j ++ ) {\n\n\t\t\tedge[ 0 ] = face[ keys[ j ] ];\n\t\t\tedge[ 1 ] = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\tedge.sort( sortFunction );\n\n\t\t\tvar key = edge.toString();\n\n\t\t\tif ( hash[ key ] === undefined ) {\n\n\t\t\t\thash[ key ] = { vert1: edge[ 0 ], vert2: edge[ 1 ], face1: i, face2: undefined };\n\t\t\t\tnumEdges ++;\n\n\t\t\t} else {\n\n\t\t\t\thash[ key ].face2 = i;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tgeometry.addAttribute( 'position', Float32Array, 2 * numEdges, 3 );\n\n\tvar coords = geometry.attributes.position.array;\n\n\tvar index = 0;\n\n\tfor ( var key in hash ) {\n\n\t\tvar h = hash[ key ];\n\n\t\tif ( h.face2 === undefined || faces[ h.face1 ].normal.dot( faces[ h.face2 ].normal ) < 0.9999 ) { // hardwired const OK\n\n\t\t\tvar vertex = vertices[ h.vert1 ];\n\t\t\tcoords[ index ++ ] = vertex.x;\n\t\t\tcoords[ index ++ ] = vertex.y;\n\t\t\tcoords[ index ++ ] = vertex.z;\n\n\t\t\tvertex = vertices[ h.vert2 ];\n\t\t\tcoords[ index ++ ] = vertex.x;\n\t\t\tcoords[ index ++ ] = vertex.y;\n\t\t\tcoords[ index ++ ] = vertex.z;\n\n\t\t}\n\n\t}\n\n\tTHREE.Line.call( this, geometry, new THREE.LineBasicMaterial( { color: color } ), THREE.LinePieces );\n\n\tthis.matrixAutoUpdate = false;\n\tthis.matrixWorld = object.matrixWorld;\n\n};\n\nTHREE.EdgesHelper.prototype = Object.create( THREE.Line.prototype );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n*/\n\nTHREE.FaceNormalsHelper = function ( object, size, hex, linewidth ) {\n\n\tthis.object = object;\n\n\tthis.size = ( size !== undefined ) ? size : 1;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\tvar width = ( linewidth !== undefined ) ? linewidth : 1;\n\n\tvar geometry = new THREE.Geometry();\n\n\tvar faces = this.object.geometry.faces;\n\n\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\tgeometry.vertices.push( new THREE.Vector3() );\n\t\tgeometry.vertices.push( new THREE.Vector3() );\n\n\t}\n\n\tTHREE.Line.call( this, geometry, new THREE.LineBasicMaterial( { color: color, linewidth: width } ), THREE.LinePieces );\n\n\tthis.matrixAutoUpdate = false;\n\n\tthis.normalMatrix = new THREE.Matrix3();\n\n\tthis.update();\n\n};\n\nTHREE.FaceNormalsHelper.prototype = Object.create( THREE.Line.prototype );\n\nTHREE.FaceNormalsHelper.prototype.update = ( function ( object ) {\n\n\tvar v1 = new THREE.Vector3();\n\n\treturn function ( object ) {\n\n\t\tthis.object.updateMatrixWorld( true );\n\n\t\tthis.normalMatrix.getNormalMatrix( this.object.matrixWorld );\n\n\t\tvar vertices = this.geometry.vertices;\n\n\t\tvar faces = this.object.geometry.faces;\n\n\t\tvar worldMatrix = this.object.matrixWorld;\n\n\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tv1.copy( face.normal ).applyMatrix3( this.normalMatrix ).normalize().multiplyScalar( this.size );\n\n\t\t\tvar idx = 2 * i;\n\n\t\t\tvertices[ idx ].copy( face.centroid ).applyMatrix4( worldMatrix );\n\n\t\t\tvertices[ idx + 1 ].addVectors( vertices[ idx ], v1 );\n\n\t\t}\n\n\t\tthis.geometry.verticesNeedUpdate = true;\n\n\t\treturn this;\n\n\t}\n\n}());\n\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.GridHelper = function ( size, step ) {\n\n\tvar geometry = new THREE.Geometry();\n\tvar material = new THREE.LineBasicMaterial( { vertexColors: THREE.VertexColors } );\n\n\tthis.color1 = new THREE.Color( 0x444444 );\n\tthis.color2 = new THREE.Color( 0x888888 );\n\n\tfor ( var i = - size; i <= size; i += step ) {\n\n\t\tgeometry.vertices.push(\n\t\t\tnew THREE.Vector3( - size, 0, i ), new THREE.Vector3( size, 0, i ),\n\t\t\tnew THREE.Vector3( i, 0, - size ), new THREE.Vector3( i, 0, size )\n\t\t);\n\n\t\tvar color = i === 0 ? this.color1 : this.color2;\n\n\t\tgeometry.colors.push( color, color, color, color );\n\n\t}\n\n\tTHREE.Line.call( this, geometry, material, THREE.LinePieces );\n\n};\n\nTHREE.GridHelper.prototype = Object.create( THREE.Line.prototype );\n\nTHREE.GridHelper.prototype.setColors = function( colorCenterLine, colorGrid ) {\n\n\tthis.color1.set( colorCenterLine );\n\tthis.color2.set( colorGrid );\n\n\tthis.geometry.colorsNeedUpdate = true;\n\n}\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.HemisphereLightHelper = function ( light, sphereSize, arrowLength, domeSize ) {\n\n\tTHREE.Object3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrixWorld = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.colors = [ new THREE.Color(), new THREE.Color() ];\n\n\tvar geometry = new THREE.SphereGeometry( sphereSize, 4, 2 );\n\tgeometry.applyMatrix( new THREE.Matrix4().makeRotationX( - Math.PI / 2 ) );\n\n\tfor ( var i = 0, il = 8; i < il; i ++ ) {\n\n\t\tgeometry.faces[ i ].color = this.colors[ i < 4 ? 0 : 1 ];\n\n\t}\n\n\tvar material = new THREE.MeshBasicMaterial( { vertexColors: THREE.FaceColors, wireframe: true } );\n\n\tthis.lightSphere = new THREE.Mesh( geometry, material );\n\tthis.add( this.lightSphere );\n\n\tthis.update();\n\n};\n\nTHREE.HemisphereLightHelper.prototype = Object.create( THREE.Object3D.prototype );\n\nTHREE.HemisphereLightHelper.prototype.dispose = function () {\n\tthis.lightSphere.geometry.dispose();\n\tthis.lightSphere.material.dispose();\n};\n\nTHREE.HemisphereLightHelper.prototype.update = function () {\n\n\tvar vector = new THREE.Vector3();\n\n\treturn function () {\n\n\t\tthis.colors[ 0 ].copy( this.light.color ).multiplyScalar( this.light.intensity );\n\t\tthis.colors[ 1 ].copy( this.light.groundColor ).multiplyScalar( this.light.intensity );\n\n\t\tthis.lightSphere.lookAt( vector.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\t\tthis.lightSphere.geometry.colorsNeedUpdate = true;\n\n\t}\n\n}();\n\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.PointLightHelper = function ( light, sphereSize ) {\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tvar geometry = new THREE.SphereGeometry( sphereSize, 4, 2 );\n\tvar material = new THREE.MeshBasicMaterial( { wireframe: true, fog: false } );\n\tmaterial.color.copy( this.light.color ).multiplyScalar( this.light.intensity );\n\n\tTHREE.Mesh.call( this, geometry, material );\n\n\tthis.matrixWorld = this.light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\t/*\n\tvar distanceGeometry = new THREE.IcosahedronGeometry( 1, 2 );\n\tvar distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n\tvar d = light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\n\tthis.add( this.lightDistance );\n\t*/\n\n};\n\nTHREE.PointLightHelper.prototype = Object.create( THREE.Mesh.prototype );\n\nTHREE.PointLightHelper.prototype.dispose = function () {\n\t\n\tthis.geometry.dispose();\n\tthis.material.dispose();\n};\n\nTHREE.PointLightHelper.prototype.update = function () {\n\n\tthis.material.color.copy( this.light.color ).multiplyScalar( this.light.intensity );\n\n\t/*\n\tvar d = this.light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.visible = true;\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\t*/\n\n};\n\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n*/\n\nTHREE.SpotLightHelper = function ( light ) {\n\n\tTHREE.Object3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrixWorld = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tvar geometry = new THREE.CylinderGeometry( 0, 1, 1, 8, 1, true );\n\n\tgeometry.applyMatrix( new THREE.Matrix4().makeTranslation( 0, -0.5, 0 ) );\n\tgeometry.applyMatrix( new THREE.Matrix4().makeRotationX( - Math.PI / 2 ) );\n\n\tvar material = new THREE.MeshBasicMaterial( { wireframe: true, fog: false } );\n\t\n\tthis.cone = new THREE.Mesh( geometry, material );\n\tthis.add( this.cone );\n\n\tthis.update();\n\n};\n\nTHREE.SpotLightHelper.prototype = Object.create( THREE.Object3D.prototype );\n\nTHREE.SpotLightHelper.prototype.dispose = function () {\n\tthis.cone.geometry.dispose();\n\tthis.cone.material.dispose();\n};\n\nTHREE.SpotLightHelper.prototype.update = function () {\n\n\tvar vector = new THREE.Vector3();\n\tvar vector2 = new THREE.Vector3();\n\n\treturn function () {\n\n\t\tvar coneLength = this.light.distance ? this.light.distance : 10000;\n\t\tvar coneWidth = coneLength * Math.tan( this.light.angle );\n\n\t\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\n\n\t\tvector.setFromMatrixPosition( this.light.matrixWorld );\n\t\tvector2.setFromMatrixPosition( this.light.target.matrixWorld );\n\n\t\tthis.cone.lookAt( vector2.sub( vector ) );\n\n\t\tthis.cone.material.color.copy( this.light.color ).multiplyScalar( this.light.intensity );\n\n\t};\n\n}();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n*/\n\nTHREE.VertexNormalsHelper = function ( object, size, hex, linewidth ) {\n\n\tthis.object = object;\n\n\tthis.size = ( size !== undefined ) ? size : 1;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xff0000;\n\n\tvar width = ( linewidth !== undefined ) ? linewidth : 1;\n\n\tvar geometry = new THREE.Geometry();\n\n\tvar vertices = object.geometry.vertices;\n\n\tvar faces = object.geometry.faces;\n\n\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\tvar face = faces[ i ];\n\n\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\tgeometry.vertices.push( new THREE.Vector3() );\n\t\t\tgeometry.vertices.push( new THREE.Vector3() );\n\n\t\t}\n\n\t}\n\n\tTHREE.Line.call( this, geometry, new THREE.LineBasicMaterial( { color: color, linewidth: width } ), THREE.LinePieces );\n\n\tthis.matrixAutoUpdate = false;\n\n\tthis.normalMatrix = new THREE.Matrix3();\n\n\tthis.update();\n\n};\n\nTHREE.VertexNormalsHelper.prototype = Object.create( THREE.Line.prototype );\n\nTHREE.VertexNormalsHelper.prototype.update = ( function ( object ) {\n\n\tvar v1 = new THREE.Vector3();\n\n\treturn function( object ) {\n\n\t\tvar keys = [ 'a', 'b', 'c', 'd' ];\n\n\t\tthis.object.updateMatrixWorld( true );\n\n\t\tthis.normalMatrix.getNormalMatrix( this.object.matrixWorld );\n\n\t\tvar vertices = this.geometry.vertices;\n\n\t\tvar verts = this.object.geometry.vertices;\n\n\t\tvar faces = this.object.geometry.faces;\n\n\t\tvar worldMatrix = this.object.matrixWorld;\n\n\t\tvar idx = 0;\n\n\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tvar vertexId = face[ keys[ j ] ];\n\t\t\t\tvar vertex = verts[ vertexId ];\n\n\t\t\t\tvar normal = face.vertexNormals[ j ];\n\n\t\t\t\tvertices[ idx ].copy( vertex ).applyMatrix4( worldMatrix );\n\n\t\t\t\tv1.copy( normal ).applyMatrix3( this.normalMatrix ).normalize().multiplyScalar( this.size );\n\n\t\t\t\tv1.add( vertices[ idx ] );\n\t\t\t\tidx = idx + 1;\n\n\t\t\t\tvertices[ idx ].copy( v1 );\n\t\t\t\tidx = idx + 1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.geometry.verticesNeedUpdate = true;\n\n\t\treturn this;\n\n\t}\n\n}());\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n*/\n\nTHREE.VertexTangentsHelper = function ( object, size, hex, linewidth ) {\n\n\tthis.object = object;\n\n\tthis.size = ( size !== undefined ) ? size : 1;\n\n\tvar color = ( hex !== undefined ) ? hex : 0x0000ff;\n\n\tvar width = ( linewidth !== undefined ) ? linewidth : 1;\n\n\tvar geometry = new THREE.Geometry();\n\n\tvar vertices = object.geometry.vertices;\n\n\tvar faces = object.geometry.faces;\n\n\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\tvar face = faces[ i ];\n\n\t\tfor ( var j = 0, jl = face.vertexTangents.length; j < jl; j ++ ) {\n\n\t\t\tgeometry.vertices.push( new THREE.Vector3() );\n\t\t\tgeometry.vertices.push( new THREE.Vector3() );\n\n\t\t}\n\n\t}\n\n\tTHREE.Line.call( this, geometry, new THREE.LineBasicMaterial( { color: color, linewidth: width } ), THREE.LinePieces );\n\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n};\n\nTHREE.VertexTangentsHelper.prototype = Object.create( THREE.Line.prototype );\n\nTHREE.VertexTangentsHelper.prototype.update = ( function ( object ) {\n\n\tvar v1 = new THREE.Vector3();\n\n\treturn function( object ) {\n\n\t\tvar keys = [ 'a', 'b', 'c', 'd' ];\n\n\t\tthis.object.updateMatrixWorld( true );\n\n\t\tvar vertices = this.geometry.vertices;\n\n\t\tvar verts = this.object.geometry.vertices;\n\n\t\tvar faces = this.object.geometry.faces;\n\n\t\tvar worldMatrix = this.object.matrixWorld;\n\n\t\tvar idx = 0;\n\n\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tfor ( var j = 0, jl = face.vertexTangents.length; j < jl; j ++ ) {\n\n\t\t\t\tvar vertexId = face[ keys[ j ] ];\n\t\t\t\tvar vertex = verts[ vertexId ];\n\n\t\t\t\tvar tangent = face.vertexTangents[ j ];\n\n\t\t\t\tvertices[ idx ].copy( vertex ).applyMatrix4( worldMatrix );\n\n\t\t\t\tv1.copy( tangent ).transformDirection( worldMatrix ).multiplyScalar( this.size );\n\n\t\t\t\tv1.add( vertices[ idx ] );\n\t\t\t\tidx = idx + 1;\n\n\t\t\t\tvertices[ idx ].copy( v1 );\n\t\t\t\tidx = idx + 1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.geometry.verticesNeedUpdate = true;\n\n\t\treturn this;\n\n\t}\n\n}());\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.WireframeHelper = function ( object, hex ) {\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffffff;\n\n\tvar edge = [ 0, 0 ], hash = {};\n\tvar sortFunction = function ( a, b ) { return a - b };\n\n\tvar keys = [ 'a', 'b', 'c' ];\n\tvar geometry = new THREE.BufferGeometry();\n\n\tif ( object.geometry instanceof THREE.Geometry ) {\n\n\t\tvar vertices = object.geometry.vertices;\n\t\tvar faces = object.geometry.faces;\n\t\tvar numEdges = 0;\n\n\t\t// allocate maximal size\n\t\tvar edges = new Uint32Array( 6 * faces.length );\n\n\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tfor ( var j = 0; j < 3; j ++ ) {\n\n\t\t\t\tedge[ 0 ] = face[ keys[ j ] ];\n\t\t\t\tedge[ 1 ] = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\t\tedge.sort( sortFunction );\n\n\t\t\t\tvar key = edge.toString();\n\n\t\t\t\tif ( hash[ key ] === undefined ) {\n\n\t\t\t\t\tedges[ 2 * numEdges ] = edge[ 0 ];\n\t\t\t\t\tedges[ 2 * numEdges + 1 ] = edge[ 1 ];\n\t\t\t\t\thash[ key ] = true;\n\t\t\t\t\tnumEdges ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.addAttribute( 'position', Float32Array, 2 * numEdges, 3 );\n\n\t\tvar coords = geometry.attributes.position.array;\n\n\t\tfor ( var i = 0, l = numEdges; i < l; i ++ ) {\n\n\t\t\tfor ( var j = 0; j < 2; j ++ ) {\n\n\t\t\t\tvar vertex = vertices[ edges [ 2 * i + j] ];\n\n\t\t\t\tvar index = 6 * i + 3 * j;\n\t\t\t\tcoords[ index + 0 ] = vertex.x;\n\t\t\t\tcoords[ index + 1 ] = vertex.y;\n\t\t\t\tcoords[ index + 2 ] = vertex.z;\n\n\t\t\t}\n\n\t\t}\n\n\t} else if ( object.geometry instanceof THREE.BufferGeometry && object.geometry.attributes.index !== undefined ) { // indexed BufferGeometry\n\n\t\tvar vertices = object.geometry.attributes.position.array;\n\t\tvar indices = object.geometry.attributes.index.array;\n\t\tvar offsets = object.geometry.offsets;\n\t\tvar numEdges = 0;\n\n\t\t// allocate maximal size\n\t\tvar edges = new Uint32Array( 2 * indices.length );\n\n\t\tfor ( var o = 0, ol = offsets.length; o < ol; ++ o ) {\n\n\t\t\tvar start = offsets[ o ].start;\n\t\t\tvar count = offsets[ o ].count;\n\t\t\tvar index = offsets[ o ].index;\n\n\t\t\tfor ( var i = start, il = start + count; i < il; i += 3 ) {\n\n\t\t\t\tfor ( var j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\tedge[ 0 ] = index + indices[ i + j ];\n\t\t\t\t\tedge[ 1 ] = index + indices[ i + ( j + 1 ) % 3 ];\n\t\t\t\t\tedge.sort( sortFunction );\n\n\t\t\t\t\tvar key = edge.toString();\n\n\t\t\t\t\tif ( hash[ key ] === undefined ) {\n\n\t\t\t\t\t\tedges[ 2 * numEdges ] = edge[ 0 ];\n\t\t\t\t\t\tedges[ 2 * numEdges + 1 ] = edge[ 1 ];\n\t\t\t\t\t\thash[ key ] = true;\n\t\t\t\t\t\tnumEdges ++;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.addAttribute( 'position', Float32Array, 2 * numEdges, 3 );\n\n\t\tvar coords = geometry.attributes.position.array;\n\n\t\tfor ( var i = 0, l = numEdges; i < l; i ++ ) {\n\n\t\t\tfor ( var j = 0; j < 2; j ++ ) {\n\n\t\t\t\tvar index = 6 * i + 3 * j;\n\t\t\t\tvar index2 = 3 * edges[ 2 * i + j];\n\t\t\t\tcoords[ index + 0 ] = vertices[ index2 ];\n\t\t\t\tcoords[ index + 1 ] = vertices[ index2 + 1 ];\n\t\t\t\tcoords[ index + 2 ] = vertices[ index2 + 2 ];\n\n\t\t\t}\n\n\t\t}\n\n\t} else if ( object.geometry instanceof THREE.BufferGeometry\t) { // non-indexed BufferGeometry\n\n\t\tvar vertices = object.geometry.attributes.position.array;\n\t\tvar numEdges = vertices.length / 3;\n\t\tvar numTris = numEdges / 3;\n\n\t\tgeometry.addAttribute( 'position', Float32Array, 2 * numEdges, 3 );\n\n\t\tvar coords = geometry.attributes.position.array;\n\n\t\tfor ( var i = 0, l = numTris; i < l; i ++ ) {\n\n\t\t\tfor ( var j = 0; j < 3; j ++ ) {\n\n\t\t\t\tvar index = 18 * i + 6 * j;\n\n\t\t\t\tvar index1 = 9 * i + 3 * j;\n\t\t\t\tcoords[ index + 0 ] = vertices[ index1 ];\n\t\t\t\tcoords[ index + 1 ] = vertices[ index1 + 1 ];\n\t\t\t\tcoords[ index + 2 ] = vertices[ index1 + 2 ];\n\n\t\t\t\tvar index2 = 9 * i + 3 * ( ( j + 1 ) % 3 );\n\t\t\t\tcoords[ index + 3 ] = vertices[ index2 ];\n\t\t\t\tcoords[ index + 4 ] = vertices[ index2 + 1 ];\n\t\t\t\tcoords[ index + 5 ] = vertices[ index2 + 2 ];\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tTHREE.Line.call( this, geometry, new THREE.LineBasicMaterial( { color: color } ), THREE.LinePieces );\n\n\tthis.matrixAutoUpdate = false;\n\tthis.matrixWorld = object.matrixWorld;\n\n};\n\nTHREE.WireframeHelper.prototype = Object.create( THREE.Line.prototype );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.ImmediateRenderObject = function () {\n\n\tTHREE.Object3D.call( this );\n\n\tthis.render = function ( renderCallback ) { };\n\n};\n\nTHREE.ImmediateRenderObject.prototype = Object.create( THREE.Object3D.prototype );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.LensFlare = function ( texture, size, distance, blending, color ) {\n\n\tTHREE.Object3D.call( this );\n\n\tthis.lensFlares = [];\n\n\tthis.positionScreen = new THREE.Vector3();\n\tthis.customUpdateCallback = undefined;\n\n\tif( texture !== undefined ) {\n\n\t\tthis.add( texture, size, distance, blending, color );\n\n\t}\n\n};\n\nTHREE.LensFlare.prototype = Object.create( THREE.Object3D.prototype );\n\n\n/*\n * Add: adds another flare\n */\n\nTHREE.LensFlare.prototype.add = function ( texture, size, distance, blending, color, opacity ) {\n\n\tif( size === undefined ) size = -1;\n\tif( distance === undefined ) distance = 0;\n\tif( opacity === undefined ) opacity = 1;\n\tif( color === undefined ) color = new THREE.Color( 0xffffff );\n\tif( blending === undefined ) blending = THREE.NormalBlending;\n\n\tdistance = Math.min( distance, Math.max( 0, distance ) );\n\n\tthis.lensFlares.push( { texture: texture, \t\t\t// THREE.Texture\n\t\t                    size: size, \t\t\t\t// size in pixels (-1 = use texture.width)\n\t\t                    distance: distance, \t\t// distance (0-1) from light source (0=at light source)\n\t\t                    x: 0, y: 0, z: 0,\t\t\t// screen position (-1 => 1) z = 0 is ontop z = 1 is back\n\t\t                    scale: 1, \t\t\t\t\t// scale\n\t\t                    rotation: 1, \t\t\t\t// rotation\n\t\t                    opacity: opacity,\t\t\t// opacity\n\t\t\t\t\t\t\tcolor: color,\t\t\t\t// color\n\t\t                    blending: blending } );\t\t// blending\n\n};\n\n\n/*\n * Update lens flares update positions on all flares based on the screen position\n * Set myLensFlare.customUpdateCallback to alter the flares in your project specific way.\n */\n\nTHREE.LensFlare.prototype.updateLensFlares = function () {\n\n\tvar f, fl = this.lensFlares.length;\n\tvar flare;\n\tvar vecX = -this.positionScreen.x * 2;\n\tvar vecY = -this.positionScreen.y * 2;\n\n\tfor( f = 0; f < fl; f ++ ) {\n\n\t\tflare = this.lensFlares[ f ];\n\n\t\tflare.x = this.positionScreen.x + vecX * flare.distance;\n\t\tflare.y = this.positionScreen.y + vecY * flare.distance;\n\n\t\tflare.wantedRotation = flare.x * Math.PI * 0.25;\n\t\tflare.rotation += ( flare.wantedRotation - flare.rotation ) * 0.25;\n\n\t}\n\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\r\n * @author alteredq / http://alteredqualia.com/\r\n */\r\n\r\nTHREE.MorphBlendMesh = function( geometry, material ) {\r\n\r\n\tTHREE.Mesh.call( this, geometry, material );\r\n\r\n\tthis.animationsMap = {};\r\n\tthis.animationsList = [];\r\n\r\n\t// prepare default animation\r\n\t// (all frames played together in 1 second)\r\n\r\n\tvar numFrames = this.geometry.morphTargets.length;\r\n\r\n\tvar name = \"__default\";\r\n\r\n\tvar startFrame = 0;\r\n\tvar endFrame = numFrames - 1;\r\n\r\n\tvar fps = numFrames / 1;\r\n\r\n\tthis.createAnimation( name, startFrame, endFrame, fps );\r\n\tthis.setAnimationWeight( name, 1 );\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype = Object.create( THREE.Mesh.prototype );\r\n\r\nTHREE.MorphBlendMesh.prototype.createAnimation = function ( name, start, end, fps ) {\r\n\r\n\tvar animation = {\r\n\r\n\t\tstartFrame: start,\r\n\t\tendFrame: end,\r\n\r\n\t\tlength: end - start + 1,\r\n\r\n\t\tfps: fps,\r\n\t\tduration: ( end - start ) / fps,\r\n\r\n\t\tlastFrame: 0,\r\n\t\tcurrentFrame: 0,\r\n\r\n\t\tactive: false,\r\n\r\n\t\ttime: 0,\r\n\t\tdirection: 1,\r\n\t\tweight: 1,\r\n\r\n\t\tdirectionBackwards: false,\r\n\t\tmirroredLoop: false\r\n\r\n\t};\r\n\r\n\tthis.animationsMap[ name ] = animation;\r\n\tthis.animationsList.push( animation );\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.autoCreateAnimations = function ( fps ) {\r\n\r\n\tvar pattern = /([a-z]+)(\\d+)/;\r\n\r\n\tvar firstAnimation, frameRanges = {};\r\n\r\n\tvar geometry = this.geometry;\r\n\r\n\tfor ( var i = 0, il = geometry.morphTargets.length; i < il; i ++ ) {\r\n\r\n\t\tvar morph = geometry.morphTargets[ i ];\r\n\t\tvar chunks = morph.name.match( pattern );\r\n\r\n\t\tif ( chunks && chunks.length > 1 ) {\r\n\r\n\t\t\tvar name = chunks[ 1 ];\r\n\t\t\tvar num = chunks[ 2 ];\r\n\r\n\t\t\tif ( ! frameRanges[ name ] ) frameRanges[ name ] = { start: Infinity, end: -Infinity };\r\n\r\n\t\t\tvar range = frameRanges[ name ];\r\n\r\n\t\t\tif ( i < range.start ) range.start = i;\r\n\t\t\tif ( i > range.end ) range.end = i;\r\n\r\n\t\t\tif ( ! firstAnimation ) firstAnimation = name;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfor ( var name in frameRanges ) {\r\n\r\n\t\tvar range = frameRanges[ name ];\r\n\t\tthis.createAnimation( name, range.start, range.end, fps );\r\n\r\n\t}\r\n\r\n\tthis.firstAnimation = firstAnimation;\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.setAnimationDirectionForward = function ( name ) {\r\n\r\n\tvar animation = this.animationsMap[ name ];\r\n\r\n\tif ( animation ) {\r\n\r\n\t\tanimation.direction = 1;\r\n\t\tanimation.directionBackwards = false;\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.setAnimationDirectionBackward = function ( name ) {\r\n\r\n\tvar animation = this.animationsMap[ name ];\r\n\r\n\tif ( animation ) {\r\n\r\n\t\tanimation.direction = -1;\r\n\t\tanimation.directionBackwards = true;\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.setAnimationFPS = function ( name, fps ) {\r\n\r\n\tvar animation = this.animationsMap[ name ];\r\n\r\n\tif ( animation ) {\r\n\r\n\t\tanimation.fps = fps;\r\n\t\tanimation.duration = ( animation.end - animation.start ) / animation.fps;\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.setAnimationDuration = function ( name, duration ) {\r\n\r\n\tvar animation = this.animationsMap[ name ];\r\n\r\n\tif ( animation ) {\r\n\r\n\t\tanimation.duration = duration;\r\n\t\tanimation.fps = ( animation.end - animation.start ) / animation.duration;\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.setAnimationWeight = function ( name, weight ) {\r\n\r\n\tvar animation = this.animationsMap[ name ];\r\n\r\n\tif ( animation ) {\r\n\r\n\t\tanimation.weight = weight;\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.setAnimationTime = function ( name, time ) {\r\n\r\n\tvar animation = this.animationsMap[ name ];\r\n\r\n\tif ( animation ) {\r\n\r\n\t\tanimation.time = time;\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.getAnimationTime = function ( name ) {\r\n\r\n\tvar time = 0;\r\n\r\n\tvar animation = this.animationsMap[ name ];\r\n\r\n\tif ( animation ) {\r\n\r\n\t\ttime = animation.time;\r\n\r\n\t}\r\n\r\n\treturn time;\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.getAnimationDuration = function ( name ) {\r\n\r\n\tvar duration = -1;\r\n\r\n\tvar animation = this.animationsMap[ name ];\r\n\r\n\tif ( animation ) {\r\n\r\n\t\tduration = animation.duration;\r\n\r\n\t}\r\n\r\n\treturn duration;\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.playAnimation = function ( name ) {\r\n\r\n\tvar animation = this.animationsMap[ name ];\r\n\r\n\tif ( animation ) {\r\n\r\n\t\tanimation.time = 0;\r\n\t\tanimation.active = true;\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"animation[\" + name + \"] undefined\" );\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.stopAnimation = function ( name ) {\r\n\r\n\tvar animation = this.animationsMap[ name ];\r\n\r\n\tif ( animation ) {\r\n\r\n\t\tanimation.active = false;\r\n\r\n\t}\r\n\r\n};\r\n\r\nTHREE.MorphBlendMesh.prototype.update = function ( delta ) {\r\n\r\n\tfor ( var i = 0, il = this.animationsList.length; i < il; i ++ ) {\r\n\r\n\t\tvar animation = this.animationsList[ i ];\r\n\r\n\t\tif ( ! animation.active ) continue;\r\n\r\n\t\tvar frameTime = animation.duration / animation.length;\r\n\r\n\t\tanimation.time += animation.direction * delta;\r\n\r\n\t\tif ( animation.mirroredLoop ) {\r\n\r\n\t\t\tif ( animation.time > animation.duration || animation.time < 0 ) {\r\n\r\n\t\t\t\tanimation.direction *= -1;\r\n\r\n\t\t\t\tif ( animation.time > animation.duration ) {\r\n\r\n\t\t\t\t\tanimation.time = animation.duration;\r\n\t\t\t\t\tanimation.directionBackwards = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( animation.time < 0 ) {\r\n\r\n\t\t\t\t\tanimation.time = 0;\r\n\t\t\t\t\tanimation.directionBackwards = false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tanimation.time = animation.time % animation.duration;\r\n\r\n\t\t\tif ( animation.time < 0 ) animation.time += animation.duration;\r\n\r\n\t\t}\r\n\r\n\t\tvar keyframe = animation.startFrame + THREE.Math.clamp( Math.floor( animation.time / frameTime ), 0, animation.length - 1 );\r\n\t\tvar weight = animation.weight;\r\n\r\n\t\tif ( keyframe !== animation.currentFrame ) {\r\n\r\n\t\t\tthis.morphTargetInfluences[ animation.lastFrame ] = 0;\r\n\t\t\tthis.morphTargetInfluences[ animation.currentFrame ] = 1 * weight;\r\n\r\n\t\t\tthis.morphTargetInfluences[ keyframe ] = 0;\r\n\r\n\t\t\tanimation.lastFrame = animation.currentFrame;\r\n\t\t\tanimation.currentFrame = keyframe;\r\n\r\n\t\t}\r\n\r\n\t\tvar mix = ( animation.time % frameTime ) / frameTime;\r\n\r\n\t\tif ( animation.directionBackwards ) mix = 1 - mix;\r\n\r\n\t\tthis.morphTargetInfluences[ animation.currentFrame ] = mix * weight;\r\n\t\tthis.morphTargetInfluences[ animation.lastFrame ] = ( 1 - mix ) * weight;\r\n\r\n\t}\r\n\r\n};\r\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.LensFlarePlugin = function () {\n\n\tvar _gl, _renderer, _precision, _lensFlare = {};\n\n\tthis.init = function ( renderer ) {\n\n\t\t_gl = renderer.context;\n\t\t_renderer = renderer;\n\n\t\t_precision = renderer.getPrecision();\n\n\t\t_lensFlare.vertices = new Float32Array( 8 + 8 );\n\t\t_lensFlare.faces = new Uint16Array( 6 );\n\n\t\tvar i = 0;\n\t\t_lensFlare.vertices[ i++ ] = -1; _lensFlare.vertices[ i++ ] = -1;\t// vertex\n\t\t_lensFlare.vertices[ i++ ] = 0;  _lensFlare.vertices[ i++ ] = 0;\t// uv... etc.\n\n\t\t_lensFlare.vertices[ i++ ] = 1;  _lensFlare.vertices[ i++ ] = -1;\n\t\t_lensFlare.vertices[ i++ ] = 1;  _lensFlare.vertices[ i++ ] = 0;\n\n\t\t_lensFlare.vertices[ i++ ] = 1;  _lensFlare.vertices[ i++ ] = 1;\n\t\t_lensFlare.vertices[ i++ ] = 1;  _lensFlare.vertices[ i++ ] = 1;\n\n\t\t_lensFlare.vertices[ i++ ] = -1; _lensFlare.vertices[ i++ ] = 1;\n\t\t_lensFlare.vertices[ i++ ] = 0;  _lensFlare.vertices[ i++ ] = 1;\n\n\t\ti = 0;\n\t\t_lensFlare.faces[ i++ ] = 0; _lensFlare.faces[ i++ ] = 1; _lensFlare.faces[ i++ ] = 2;\n\t\t_lensFlare.faces[ i++ ] = 0; _lensFlare.faces[ i++ ] = 2; _lensFlare.faces[ i++ ] = 3;\n\n\t\t// buffers\n\n\t\t_lensFlare.vertexBuffer     = _gl.createBuffer();\n\t\t_lensFlare.elementBuffer    = _gl.createBuffer();\n\n\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, _lensFlare.vertexBuffer );\n\t\t_gl.bufferData( _gl.ARRAY_BUFFER, _lensFlare.vertices, _gl.STATIC_DRAW );\n\n\t\t_gl.bindBuffer( _gl.ELEMENT_ARRAY_BUFFER, _lensFlare.elementBuffer );\n\t\t_gl.bufferData( _gl.ELEMENT_ARRAY_BUFFER, _lensFlare.faces, _gl.STATIC_DRAW );\n\n\t\t// textures\n\n\t\t_lensFlare.tempTexture      = _gl.createTexture();\n\t\t_lensFlare.occlusionTexture = _gl.createTexture();\n\n\t\t_gl.bindTexture( _gl.TEXTURE_2D, _lensFlare.tempTexture );\n\t\t_gl.texImage2D( _gl.TEXTURE_2D, 0, _gl.RGB, 16, 16, 0, _gl.RGB, _gl.UNSIGNED_BYTE, null );\n\t\t_gl.texParameteri( _gl.TEXTURE_2D, _gl.TEXTURE_WRAP_S, _gl.CLAMP_TO_EDGE );\n\t\t_gl.texParameteri( _gl.TEXTURE_2D, _gl.TEXTURE_WRAP_T, _gl.CLAMP_TO_EDGE );\n\t\t_gl.texParameteri( _gl.TEXTURE_2D, _gl.TEXTURE_MAG_FILTER, _gl.NEAREST );\n\t\t_gl.texParameteri( _gl.TEXTURE_2D, _gl.TEXTURE_MIN_FILTER, _gl.NEAREST );\n\n\t\t_gl.bindTexture( _gl.TEXTURE_2D, _lensFlare.occlusionTexture );\n\t\t_gl.texImage2D( _gl.TEXTURE_2D, 0, _gl.RGBA, 16, 16, 0, _gl.RGBA, _gl.UNSIGNED_BYTE, null );\n\t\t_gl.texParameteri( _gl.TEXTURE_2D, _gl.TEXTURE_WRAP_S, _gl.CLAMP_TO_EDGE );\n\t\t_gl.texParameteri( _gl.TEXTURE_2D, _gl.TEXTURE_WRAP_T, _gl.CLAMP_TO_EDGE );\n\t\t_gl.texParameteri( _gl.TEXTURE_2D, _gl.TEXTURE_MAG_FILTER, _gl.NEAREST );\n\t\t_gl.texParameteri( _gl.TEXTURE_2D, _gl.TEXTURE_MIN_FILTER, _gl.NEAREST );\n\n\t\tif ( _gl.getParameter( _gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS ) <= 0 ) {\n\n\t\t\t_lensFlare.hasVertexTexture = false;\n\t\t\t_lensFlare.program = createProgram( THREE.ShaderFlares[ \"lensFlare\" ], _precision );\n\n\t\t} else {\n\n\t\t\t_lensFlare.hasVertexTexture = true;\n\t\t\t_lensFlare.program = createProgram( THREE.ShaderFlares[ \"lensFlareVertexTexture\" ], _precision );\n\n\t\t}\n\n\t\t_lensFlare.attributes = {};\n\t\t_lensFlare.uniforms = {};\n\n\t\t_lensFlare.attributes.vertex       = _gl.getAttribLocation ( _lensFlare.program, \"position\" );\n\t\t_lensFlare.attributes.uv           = _gl.getAttribLocation ( _lensFlare.program, \"uv\" );\n\n\t\t_lensFlare.uniforms.renderType     = _gl.getUniformLocation( _lensFlare.program, \"renderType\" );\n\t\t_lensFlare.uniforms.map            = _gl.getUniformLocation( _lensFlare.program, \"map\" );\n\t\t_lensFlare.uniforms.occlusionMap   = _gl.getUniformLocation( _lensFlare.program, \"occlusionMap\" );\n\t\t_lensFlare.uniforms.opacity        = _gl.getUniformLocation( _lensFlare.program, \"opacity\" );\n\t\t_lensFlare.uniforms.color          = _gl.getUniformLocation( _lensFlare.program, \"color\" );\n\t\t_lensFlare.uniforms.scale          = _gl.getUniformLocation( _lensFlare.program, \"scale\" );\n\t\t_lensFlare.uniforms.rotation       = _gl.getUniformLocation( _lensFlare.program, \"rotation\" );\n\t\t_lensFlare.uniforms.screenPosition = _gl.getUniformLocation( _lensFlare.program, \"screenPosition\" );\n\n\t};\n\n\n\t/*\n\t * Render lens flares\n\t * Method: renders 16x16 0xff00ff-colored points scattered over the light source area,\n\t *         reads these back and calculates occlusion.\n\t *         Then _lensFlare.update_lensFlares() is called to re-position and\n\t *         update transparency of flares. Then they are rendered.\n\t *\n\t */\n\n\tthis.render = function ( scene, camera, viewportWidth, viewportHeight ) {\n\n\t\tvar flares = scene.__webglFlares,\n\t\t\tnFlares = flares.length;\n\n\t\tif ( ! nFlares ) return;\n\n\t\tvar tempPosition = new THREE.Vector3();\n\n\t\tvar invAspect = viewportHeight / viewportWidth,\n\t\t\thalfViewportWidth = viewportWidth * 0.5,\n\t\t\thalfViewportHeight = viewportHeight * 0.5;\n\n\t\tvar size = 16 / viewportHeight,\n\t\t\tscale = new THREE.Vector2( size * invAspect, size );\n\n\t\tvar screenPosition = new THREE.Vector3( 1, 1, 0 ),\n\t\t\tscreenPositionPixels = new THREE.Vector2( 1, 1 );\n\n\t\tvar uniforms = _lensFlare.uniforms,\n\t\t\tattributes = _lensFlare.attributes;\n\n\t\t// set _lensFlare program and reset blending\n\n\t\t_gl.useProgram( _lensFlare.program );\n\n\t\t_gl.enableVertexAttribArray( _lensFlare.attributes.vertex );\n\t\t_gl.enableVertexAttribArray( _lensFlare.attributes.uv );\n\n\t\t// loop through all lens flares to update their occlusion and positions\n\t\t// setup gl and common used attribs/unforms\n\n\t\t_gl.uniform1i( uniforms.occlusionMap, 0 );\n\t\t_gl.uniform1i( uniforms.map, 1 );\n\n\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, _lensFlare.vertexBuffer );\n\t\t_gl.vertexAttribPointer( attributes.vertex, 2, _gl.FLOAT, false, 2 * 8, 0 );\n\t\t_gl.vertexAttribPointer( attributes.uv, 2, _gl.FLOAT, false, 2 * 8, 8 );\n\n\t\t_gl.bindBuffer( _gl.ELEMENT_ARRAY_BUFFER, _lensFlare.elementBuffer );\n\n\t\t_gl.disable( _gl.CULL_FACE );\n\t\t_gl.depthMask( false );\n\n\t\tvar i, j, jl, flare, sprite;\n\n\t\tfor ( i = 0; i < nFlares; i ++ ) {\n\n\t\t\tsize = 16 / viewportHeight;\n\t\t\tscale.set( size * invAspect, size );\n\n\t\t\t// calc object screen position\n\n\t\t\tflare = flares[ i ];\n\n\t\t\ttempPosition.set( flare.matrixWorld.elements[12], flare.matrixWorld.elements[13], flare.matrixWorld.elements[14] );\n\n\t\t\ttempPosition.applyMatrix4( camera.matrixWorldInverse );\n\t\t\ttempPosition.applyProjection( camera.projectionMatrix );\n\n\t\t\t// setup arrays for gl programs\n\n\t\t\tscreenPosition.copy( tempPosition )\n\n\t\t\tscreenPositionPixels.x = screenPosition.x * halfViewportWidth + halfViewportWidth;\n\t\t\tscreenPositionPixels.y = screenPosition.y * halfViewportHeight + halfViewportHeight;\n\n\t\t\t// screen cull\n\n\t\t\tif ( _lensFlare.hasVertexTexture || (\n\t\t\t\tscreenPositionPixels.x > 0 &&\n\t\t\t\tscreenPositionPixels.x < viewportWidth &&\n\t\t\t\tscreenPositionPixels.y > 0 &&\n\t\t\t\tscreenPositionPixels.y < viewportHeight ) ) {\n\n\t\t\t\t// save current RGB to temp texture\n\n\t\t\t\t_gl.activeTexture( _gl.TEXTURE1 );\n\t\t\t\t_gl.bindTexture( _gl.TEXTURE_2D, _lensFlare.tempTexture );\n\t\t\t\t_gl.copyTexImage2D( _gl.TEXTURE_2D, 0, _gl.RGB, screenPositionPixels.x - 8, screenPositionPixels.y - 8, 16, 16, 0 );\n\n\n\t\t\t\t// render pink quad\n\n\t\t\t\t_gl.uniform1i( uniforms.renderType, 0 );\n\t\t\t\t_gl.uniform2f( uniforms.scale, scale.x, scale.y );\n\t\t\t\t_gl.uniform3f( uniforms.screenPosition, screenPosition.x, screenPosition.y, screenPosition.z );\n\n\t\t\t\t_gl.disable( _gl.BLEND );\n\t\t\t\t_gl.enable( _gl.DEPTH_TEST );\n\n\t\t\t\t_gl.drawElements( _gl.TRIANGLES, 6, _gl.UNSIGNED_SHORT, 0 );\n\n\n\t\t\t\t// copy result to occlusionMap\n\n\t\t\t\t_gl.activeTexture( _gl.TEXTURE0 );\n\t\t\t\t_gl.bindTexture( _gl.TEXTURE_2D, _lensFlare.occlusionTexture );\n\t\t\t\t_gl.copyTexImage2D( _gl.TEXTURE_2D, 0, _gl.RGBA, screenPositionPixels.x - 8, screenPositionPixels.y - 8, 16, 16, 0 );\n\n\n\t\t\t\t// restore graphics\n\n\t\t\t\t_gl.uniform1i( uniforms.renderType, 1 );\n\t\t\t\t_gl.disable( _gl.DEPTH_TEST );\n\n\t\t\t\t_gl.activeTexture( _gl.TEXTURE1 );\n\t\t\t\t_gl.bindTexture( _gl.TEXTURE_2D, _lensFlare.tempTexture );\n\t\t\t\t_gl.drawElements( _gl.TRIANGLES, 6, _gl.UNSIGNED_SHORT, 0 );\n\n\n\t\t\t\t// update object positions\n\n\t\t\t\tflare.positionScreen.copy( screenPosition )\n\n\t\t\t\tif ( flare.customUpdateCallback ) {\n\n\t\t\t\t\tflare.customUpdateCallback( flare );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tflare.updateLensFlares();\n\n\t\t\t\t}\n\n\t\t\t\t// render flares\n\n\t\t\t\t_gl.uniform1i( uniforms.renderType, 2 );\n\t\t\t\t_gl.enable( _gl.BLEND );\n\n\t\t\t\tfor ( j = 0, jl = flare.lensFlares.length; j < jl; j ++ ) {\n\n\t\t\t\t\tsprite = flare.lensFlares[ j ];\n\n\t\t\t\t\tif ( sprite.opacity > 0.001 && sprite.scale > 0.001 ) {\n\n\t\t\t\t\t\tscreenPosition.x = sprite.x;\n\t\t\t\t\t\tscreenPosition.y = sprite.y;\n\t\t\t\t\t\tscreenPosition.z = sprite.z;\n\n\t\t\t\t\t\tsize = sprite.size * sprite.scale / viewportHeight;\n\n\t\t\t\t\t\tscale.x = size * invAspect;\n\t\t\t\t\t\tscale.y = size;\n\n\t\t\t\t\t\t_gl.uniform3f( uniforms.screenPosition, screenPosition.x, screenPosition.y, screenPosition.z );\n\t\t\t\t\t\t_gl.uniform2f( uniforms.scale, scale.x, scale.y );\n\t\t\t\t\t\t_gl.uniform1f( uniforms.rotation, sprite.rotation );\n\n\t\t\t\t\t\t_gl.uniform1f( uniforms.opacity, sprite.opacity );\n\t\t\t\t\t\t_gl.uniform3f( uniforms.color, sprite.color.r, sprite.color.g, sprite.color.b );\n\n\t\t\t\t\t\t_renderer.setBlending( sprite.blending, sprite.blendEquation, sprite.blendSrc, sprite.blendDst );\n\t\t\t\t\t\t_renderer.setTexture( sprite.texture, 1 );\n\n\t\t\t\t\t\t_gl.drawElements( _gl.TRIANGLES, 6, _gl.UNSIGNED_SHORT, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restore gl\n\n\t\t_gl.enable( _gl.CULL_FACE );\n\t\t_gl.enable( _gl.DEPTH_TEST );\n\t\t_gl.depthMask( true );\n\n\t};\n\n\tfunction createProgram ( shader, precision ) {\n\n\t\tvar program = _gl.createProgram();\n\n\t\tvar fragmentShader = _gl.createShader( _gl.FRAGMENT_SHADER );\n\t\tvar vertexShader = _gl.createShader( _gl.VERTEX_SHADER );\n\n\t\tvar prefix = \"precision \" + precision + \" float;\\n\";\n\n\t\t_gl.shaderSource( fragmentShader, prefix + shader.fragmentShader );\n\t\t_gl.shaderSource( vertexShader, prefix + shader.vertexShader );\n\n\t\t_gl.compileShader( fragmentShader );\n\t\t_gl.compileShader( vertexShader );\n\n\t\t_gl.attachShader( program, fragmentShader );\n\t\t_gl.attachShader( program, vertexShader );\n\n\t\t_gl.linkProgram( program );\n\n\t\treturn program;\n\n\t};\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.ShadowMapPlugin = function () {\n\n\tvar _gl,\n\t_renderer,\n\t_depthMaterial, _depthMaterialMorph, _depthMaterialSkin, _depthMaterialMorphSkin,\n\n\t_frustum = new THREE.Frustum(),\n\t_projScreenMatrix = new THREE.Matrix4(),\n\n\t_min = new THREE.Vector3(),\n\t_max = new THREE.Vector3(),\n\n\t_matrixPosition = new THREE.Vector3();\n\n\tthis.init = function ( renderer ) {\n\n\t\t_gl = renderer.context;\n\t\t_renderer = renderer;\n\n\t\tvar depthShader = THREE.ShaderLib[ \"depthRGBA\" ];\n\t\tvar depthUniforms = THREE.UniformsUtils.clone( depthShader.uniforms );\n\n\t\t_depthMaterial = new THREE.ShaderMaterial( { fragmentShader: depthShader.fragmentShader, vertexShader: depthShader.vertexShader, uniforms: depthUniforms } );\n\t\t_depthMaterialMorph = new THREE.ShaderMaterial( { fragmentShader: depthShader.fragmentShader, vertexShader: depthShader.vertexShader, uniforms: depthUniforms, morphTargets: true } );\n\t\t_depthMaterialSkin = new THREE.ShaderMaterial( { fragmentShader: depthShader.fragmentShader, vertexShader: depthShader.vertexShader, uniforms: depthUniforms, skinning: true } );\n\t\t_depthMaterialMorphSkin = new THREE.ShaderMaterial( { fragmentShader: depthShader.fragmentShader, vertexShader: depthShader.vertexShader, uniforms: depthUniforms, morphTargets: true, skinning: true } );\n\n\t\t_depthMaterial._shadowPass = true;\n\t\t_depthMaterialMorph._shadowPass = true;\n\t\t_depthMaterialSkin._shadowPass = true;\n\t\t_depthMaterialMorphSkin._shadowPass = true;\n\n\t};\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tif ( ! ( _renderer.shadowMapEnabled && _renderer.shadowMapAutoUpdate ) ) return;\n\n\t\tthis.update( scene, camera );\n\n\t};\n\n\tthis.update = function ( scene, camera ) {\n\n\t\tvar i, il, j, jl, n,\n\n\t\tshadowMap, shadowMatrix, shadowCamera,\n\t\tprogram, buffer, material,\n\t\twebglObject, object, light,\n\t\trenderList,\n\n\t\tlights = [],\n\t\tk = 0,\n\n\t\tfog = null;\n\n\t\t// set GL state for depth map\n\n\t\t_gl.clearColor( 1, 1, 1, 1 );\n\t\t_gl.disable( _gl.BLEND );\n\n\t\t_gl.enable( _gl.CULL_FACE );\n\t\t_gl.frontFace( _gl.CCW );\n\n\t\tif ( _renderer.shadowMapCullFace === THREE.CullFaceFront ) {\n\n\t\t\t_gl.cullFace( _gl.FRONT );\n\n\t\t} else {\n\n\t\t\t_gl.cullFace( _gl.BACK );\n\n\t\t}\n\n\t\t_renderer.setDepthTest( true );\n\n\t\t// preprocess lights\n\t\t// \t- skip lights that are not casting shadows\n\t\t//\t- create virtual lights for cascaded shadow maps\n\n\t\tfor ( i = 0, il = scene.__lights.length; i < il; i ++ ) {\n\n\t\t\tlight = scene.__lights[ i ];\n\n\t\t\tif ( ! light.castShadow ) continue;\n\n\t\t\tif ( ( light instanceof THREE.DirectionalLight ) && light.shadowCascade ) {\n\n\t\t\t\tfor ( n = 0; n < light.shadowCascadeCount; n ++ ) {\n\n\t\t\t\t\tvar virtualLight;\n\n\t\t\t\t\tif ( ! light.shadowCascadeArray[ n ] ) {\n\n\t\t\t\t\t\tvirtualLight = createVirtualLight( light, n );\n\t\t\t\t\t\tvirtualLight.originalCamera = camera;\n\n\t\t\t\t\t\tvar gyro = new THREE.Gyroscope();\n\t\t\t\t\t\tgyro.position = light.shadowCascadeOffset;\n\n\t\t\t\t\t\tgyro.add( virtualLight );\n\t\t\t\t\t\tgyro.add( virtualLight.target );\n\n\t\t\t\t\t\tcamera.add( gyro );\n\n\t\t\t\t\t\tlight.shadowCascadeArray[ n ] = virtualLight;\n\n\t\t\t\t\t\tconsole.log( \"Created virtualLight\", virtualLight );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvirtualLight = light.shadowCascadeArray[ n ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\tupdateVirtualLight( light, n );\n\n\t\t\t\t\tlights[ k ] = virtualLight;\n\t\t\t\t\tk ++;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tlights[ k ] = light;\n\t\t\t\tk ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// render depth map\n\n\t\tfor ( i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tlight = lights[ i ];\n\n\t\t\tif ( ! light.shadowMap ) {\n\n\t\t\t\tvar shadowFilter = THREE.LinearFilter;\n\n\t\t\t\tif ( _renderer.shadowMapType === THREE.PCFSoftShadowMap ) {\n\n\t\t\t\t\tshadowFilter = THREE.NearestFilter;\n\n\t\t\t\t}\n\n\t\t\t\tvar pars = { minFilter: shadowFilter, magFilter: shadowFilter, format: THREE.RGBAFormat };\n\n\t\t\t\tlight.shadowMap = new THREE.WebGLRenderTarget( light.shadowMapWidth, light.shadowMapHeight, pars );\n\t\t\t\tlight.shadowMapSize = new THREE.Vector2( light.shadowMapWidth, light.shadowMapHeight );\n\n\t\t\t\tlight.shadowMatrix = new THREE.Matrix4();\n\n\t\t\t}\n\n\t\t\tif ( ! light.shadowCamera ) {\n\n\t\t\t\tif ( light instanceof THREE.SpotLight ) {\n\n\t\t\t\t\tlight.shadowCamera = new THREE.PerspectiveCamera( light.shadowCameraFov, light.shadowMapWidth / light.shadowMapHeight, light.shadowCameraNear, light.shadowCameraFar );\n\n\t\t\t\t} else if ( light instanceof THREE.DirectionalLight ) {\n\n\t\t\t\t\tlight.shadowCamera = new THREE.OrthographicCamera( light.shadowCameraLeft, light.shadowCameraRight, light.shadowCameraTop, light.shadowCameraBottom, light.shadowCameraNear, light.shadowCameraFar );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( \"Unsupported light type for shadow\" );\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tscene.add( light.shadowCamera );\n\n\t\t\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t\t}\n\n\t\t\tif ( light.shadowCameraVisible && ! light.cameraHelper ) {\n\n\t\t\t\tlight.cameraHelper = new THREE.CameraHelper( light.shadowCamera );\n\t\t\t\tlight.shadowCamera.add( light.cameraHelper );\n\n\t\t\t}\n\n\t\t\tif ( light.isVirtual && virtualLight.originalCamera == camera ) {\n\n\t\t\t\tupdateShadowCamera( camera, light );\n\n\t\t\t}\n\n\t\t\tshadowMap = light.shadowMap;\n\t\t\tshadowMatrix = light.shadowMatrix;\n\t\t\tshadowCamera = light.shadowCamera;\n\n\t\t\tshadowCamera.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t_matrixPosition.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\tshadowCamera.lookAt( _matrixPosition );\n\t\t\tshadowCamera.updateMatrixWorld();\n\n\t\t\tshadowCamera.matrixWorldInverse.getInverse( shadowCamera.matrixWorld );\n\n\t\t\tif ( light.cameraHelper ) light.cameraHelper.visible = light.shadowCameraVisible;\n\t\t\tif ( light.shadowCameraVisible ) light.cameraHelper.update();\n\n\t\t\t// compute shadow matrix\n\n\t\t\tshadowMatrix.set( 0.5, 0.0, 0.0, 0.5,\n\t\t\t\t\t\t\t  0.0, 0.5, 0.0, 0.5,\n\t\t\t\t\t\t\t  0.0, 0.0, 0.5, 0.5,\n\t\t\t\t\t\t\t  0.0, 0.0, 0.0, 1.0 );\n\n\t\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\n\t\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\n\t\t\t// update camera matrices and frustum\n\n\t\t\t_projScreenMatrix.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\t\t_frustum.setFromMatrix( _projScreenMatrix );\n\n\t\t\t// render shadow map\n\n\t\t\t_renderer.setRenderTarget( shadowMap );\n\t\t\t_renderer.clear();\n\n\t\t\t// set object matrices & frustum culling\n\n\t\t\trenderList = scene.__webglObjects;\n\n\t\t\tfor ( j = 0, jl = renderList.length; j < jl; j ++ ) {\n\n\t\t\t\twebglObject = renderList[ j ];\n\t\t\t\tobject = webglObject.object;\n\n\t\t\t\twebglObject.render = false;\n\n\t\t\t\tif ( object.visible && object.castShadow ) {\n\n\t\t\t\t\tif ( ! ( object instanceof THREE.Mesh || object instanceof THREE.ParticleSystem ) || ! ( object.frustumCulled ) || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\t\tobject._modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\t\t\twebglObject.render = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// render regular objects\n\n\t\t\tvar objectMaterial, useMorphing, useSkinning;\n\n\t\t\tfor ( j = 0, jl = renderList.length; j < jl; j ++ ) {\n\n\t\t\t\twebglObject = renderList[ j ];\n\n\t\t\t\tif ( webglObject.render ) {\n\n\t\t\t\t\tobject = webglObject.object;\n\t\t\t\t\tbuffer = webglObject.buffer;\n\n\t\t\t\t\t// culling is overriden globally for all objects\n\t\t\t\t\t// while rendering depth map\n\n\t\t\t\t\t// need to deal with MeshFaceMaterial somehow\n\t\t\t\t\t// in that case just use the first of material.materials for now\n\t\t\t\t\t// (proper solution would require to break objects by materials\n\t\t\t\t\t//  similarly to regular rendering and then set corresponding\n\t\t\t\t\t//  depth materials per each chunk instead of just once per object)\n\n\t\t\t\t\tobjectMaterial = getObjectMaterial( object );\n\n\t\t\t\t\tuseMorphing = object.geometry.morphTargets.length > 0 && objectMaterial.morphTargets;\n\t\t\t\t\tuseSkinning = object instanceof THREE.SkinnedMesh && objectMaterial.skinning;\n\n\t\t\t\t\tif ( object.customDepthMaterial ) {\n\n\t\t\t\t\t\tmaterial = object.customDepthMaterial;\n\n\t\t\t\t\t} else if ( useSkinning ) {\n\n\t\t\t\t\t\tmaterial = useMorphing ? _depthMaterialMorphSkin : _depthMaterialSkin;\n\n\t\t\t\t\t} else if ( useMorphing ) {\n\n\t\t\t\t\t\tmaterial = _depthMaterialMorph;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmaterial = _depthMaterial;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( buffer instanceof THREE.BufferGeometry ) {\n\n\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, scene.__lights, fog, material, buffer, object );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_renderer.renderBuffer( shadowCamera, scene.__lights, fog, material, buffer, object );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// set matrices and render immediate objects\n\n\t\t\trenderList = scene.__webglObjectsImmediate;\n\n\t\t\tfor ( j = 0, jl = renderList.length; j < jl; j ++ ) {\n\n\t\t\t\twebglObject = renderList[ j ];\n\t\t\t\tobject = webglObject.object;\n\n\t\t\t\tif ( object.visible && object.castShadow ) {\n\n\t\t\t\t\tobject._modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\t\t_renderer.renderImmediateObject( shadowCamera, scene.__lights, fog, _depthMaterial, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restore GL state\n\n\t\tvar clearColor = _renderer.getClearColor(),\n\t\tclearAlpha = _renderer.getClearAlpha();\n\n\t\t_gl.clearColor( clearColor.r, clearColor.g, clearColor.b, clearAlpha );\n\t\t_gl.enable( _gl.BLEND );\n\n\t\tif ( _renderer.shadowMapCullFace === THREE.CullFaceFront ) {\n\n\t\t\t_gl.cullFace( _gl.BACK );\n\n\t\t}\n\n\t};\n\n\tfunction createVirtualLight( light, cascade ) {\n\n\t\tvar virtualLight = new THREE.DirectionalLight();\n\n\t\tvirtualLight.isVirtual = true;\n\n\t\tvirtualLight.onlyShadow = true;\n\t\tvirtualLight.castShadow = true;\n\n\t\tvirtualLight.shadowCameraNear = light.shadowCameraNear;\n\t\tvirtualLight.shadowCameraFar = light.shadowCameraFar;\n\n\t\tvirtualLight.shadowCameraLeft = light.shadowCameraLeft;\n\t\tvirtualLight.shadowCameraRight = light.shadowCameraRight;\n\t\tvirtualLight.shadowCameraBottom = light.shadowCameraBottom;\n\t\tvirtualLight.shadowCameraTop = light.shadowCameraTop;\n\n\t\tvirtualLight.shadowCameraVisible = light.shadowCameraVisible;\n\n\t\tvirtualLight.shadowDarkness = light.shadowDarkness;\n\n\t\tvirtualLight.shadowBias = light.shadowCascadeBias[ cascade ];\n\t\tvirtualLight.shadowMapWidth = light.shadowCascadeWidth[ cascade ];\n\t\tvirtualLight.shadowMapHeight = light.shadowCascadeHeight[ cascade ];\n\n\t\tvirtualLight.pointsWorld = [];\n\t\tvirtualLight.pointsFrustum = [];\n\n\t\tvar pointsWorld = virtualLight.pointsWorld,\n\t\t\tpointsFrustum = virtualLight.pointsFrustum;\n\n\t\tfor ( var i = 0; i < 8; i ++ ) {\n\n\t\t\tpointsWorld[ i ] = new THREE.Vector3();\n\t\t\tpointsFrustum[ i ] = new THREE.Vector3();\n\n\t\t}\n\n\t\tvar nearZ = light.shadowCascadeNearZ[ cascade ];\n\t\tvar farZ = light.shadowCascadeFarZ[ cascade ];\n\n\t\tpointsFrustum[ 0 ].set( -1, -1, nearZ );\n\t\tpointsFrustum[ 1 ].set(  1, -1, nearZ );\n\t\tpointsFrustum[ 2 ].set( -1,  1, nearZ );\n\t\tpointsFrustum[ 3 ].set(  1,  1, nearZ );\n\n\t\tpointsFrustum[ 4 ].set( -1, -1, farZ );\n\t\tpointsFrustum[ 5 ].set(  1, -1, farZ );\n\t\tpointsFrustum[ 6 ].set( -1,  1, farZ );\n\t\tpointsFrustum[ 7 ].set(  1,  1, farZ );\n\n\t\treturn virtualLight;\n\n\t}\n\n\t// Synchronize virtual light with the original light\n\n\tfunction updateVirtualLight( light, cascade ) {\n\n\t\tvar virtualLight = light.shadowCascadeArray[ cascade ];\n\n\t\tvirtualLight.position.copy( light.position );\n\t\tvirtualLight.target.position.copy( light.target.position );\n\t\tvirtualLight.lookAt( virtualLight.target );\n\n\t\tvirtualLight.shadowCameraVisible = light.shadowCameraVisible;\n\t\tvirtualLight.shadowDarkness = light.shadowDarkness;\n\n\t\tvirtualLight.shadowBias = light.shadowCascadeBias[ cascade ];\n\n\t\tvar nearZ = light.shadowCascadeNearZ[ cascade ];\n\t\tvar farZ = light.shadowCascadeFarZ[ cascade ];\n\n\t\tvar pointsFrustum = virtualLight.pointsFrustum;\n\n\t\tpointsFrustum[ 0 ].z = nearZ;\n\t\tpointsFrustum[ 1 ].z = nearZ;\n\t\tpointsFrustum[ 2 ].z = nearZ;\n\t\tpointsFrustum[ 3 ].z = nearZ;\n\n\t\tpointsFrustum[ 4 ].z = farZ;\n\t\tpointsFrustum[ 5 ].z = farZ;\n\t\tpointsFrustum[ 6 ].z = farZ;\n\t\tpointsFrustum[ 7 ].z = farZ;\n\n\t}\n\n\t// Fit shadow camera's ortho frustum to camera frustum\n\n\tfunction updateShadowCamera( camera, light ) {\n\n\t\tvar shadowCamera = light.shadowCamera,\n\t\t\tpointsFrustum = light.pointsFrustum,\n\t\t\tpointsWorld = light.pointsWorld;\n\n\t\t_min.set( Infinity, Infinity, Infinity );\n\t\t_max.set( -Infinity, -Infinity, -Infinity );\n\n\t\tfor ( var i = 0; i < 8; i ++ ) {\n\n\t\t\tvar p = pointsWorld[ i ];\n\n\t\t\tp.copy( pointsFrustum[ i ] );\n\t\t\tTHREE.ShadowMapPlugin.__projector.unprojectVector( p, camera );\n\n\t\t\tp.applyMatrix4( shadowCamera.matrixWorldInverse );\n\n\t\t\tif ( p.x < _min.x ) _min.x = p.x;\n\t\t\tif ( p.x > _max.x ) _max.x = p.x;\n\n\t\t\tif ( p.y < _min.y ) _min.y = p.y;\n\t\t\tif ( p.y > _max.y ) _max.y = p.y;\n\n\t\t\tif ( p.z < _min.z ) _min.z = p.z;\n\t\t\tif ( p.z > _max.z ) _max.z = p.z;\n\n\t\t}\n\n\t\tshadowCamera.left = _min.x;\n\t\tshadowCamera.right = _max.x;\n\t\tshadowCamera.top = _max.y;\n\t\tshadowCamera.bottom = _min.y;\n\n\t\t// can't really fit near/far\n\t\t//shadowCamera.near = _min.z;\n\t\t//shadowCamera.far = _max.z;\n\n\t\tshadowCamera.updateProjectionMatrix();\n\n\t}\n\n\t// For the moment just ignore objects that have multiple materials with different animation methods\n\t// Only the first material will be taken into account for deciding which depth material to use for shadow maps\n\n\tfunction getObjectMaterial( object ) {\n\n\t\treturn object.material instanceof THREE.MeshFaceMaterial\n\t\t\t? object.material.materials[ 0 ]\n\t\t\t: object.material;\n\n\t};\n\n};\n\nTHREE.ShadowMapPlugin.__projector = new THREE.Projector();\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.SpritePlugin = function () {\n\n\tvar _gl, _renderer, _texture;\n\n\tvar vertices, faces, vertexBuffer, elementBuffer;\n\tvar program, attributes, uniforms;\n\n\tthis.init = function ( renderer ) {\n\n\t\t_gl = renderer.context;\n\t\t_renderer = renderer;\n\n\t\tvertices = new Float32Array( [\n\t\t\t- 0.5, - 0.5, 0, 0, \n\t\t\t  0.5, - 0.5, 1, 0,\n\t\t\t  0.5,   0.5, 1, 1,\n\t\t\t- 0.5,   0.5, 0, 1\n\t\t] );\n\n\t\tfaces = new Uint16Array( [\n\t\t\t0, 1, 2,\n\t\t\t0, 2, 3\n\t\t] );\n\n\t\tvertexBuffer  = _gl.createBuffer();\n\t\telementBuffer = _gl.createBuffer();\n\n\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, vertexBuffer );\n\t\t_gl.bufferData( _gl.ARRAY_BUFFER, vertices, _gl.STATIC_DRAW );\n\n\t\t_gl.bindBuffer( _gl.ELEMENT_ARRAY_BUFFER, elementBuffer );\n\t\t_gl.bufferData( _gl.ELEMENT_ARRAY_BUFFER, faces, _gl.STATIC_DRAW );\n\n\t\tprogram = createProgram();\n\n\t\tattributes = {\n\t\t\tposition:\t\t\t_gl.getAttribLocation ( program, 'position' ),\n\t\t\tuv:\t\t\t\t\t_gl.getAttribLocation ( program, 'uv' )\n\t\t};\n\n\t\tuniforms = {\n\t\t\tuvOffset:\t\t\t_gl.getUniformLocation( program, 'uvOffset' ),\n\t\t\tuvScale:\t\t\t_gl.getUniformLocation( program, 'uvScale' ),\n\n\t\t\trotation:\t\t\t_gl.getUniformLocation( program, 'rotation' ),\n\t\t\tscale:\t\t\t\t_gl.getUniformLocation( program, 'scale' ),\n\n\t\t\tcolor:\t\t\t\t_gl.getUniformLocation( program, 'color' ),\n\t\t\tmap:\t\t\t\t_gl.getUniformLocation( program, 'map' ),\n\t\t\topacity:\t\t\t_gl.getUniformLocation( program, 'opacity' ),\n\n\t\t\tmodelViewMatrix: \t_gl.getUniformLocation( program, 'modelViewMatrix' ),\n\t\t\tprojectionMatrix:\t_gl.getUniformLocation( program, 'projectionMatrix' ),\n\n\t\t\tfogType:\t\t\t_gl.getUniformLocation( program, 'fogType' ),\n\t\t\tfogDensity:\t\t\t_gl.getUniformLocation( program, 'fogDensity' ),\n\t\t\tfogNear:\t\t\t_gl.getUniformLocation( program, 'fogNear' ),\n\t\t\tfogFar:\t\t\t\t_gl.getUniformLocation( program, 'fogFar' ),\n\t\t\tfogColor:\t\t\t_gl.getUniformLocation( program, 'fogColor' ),\n\n\t\t\talphaTest:\t\t\t_gl.getUniformLocation( program, 'alphaTest' )\n\t\t};\n\n\t\tvar canvas = document.createElement( 'canvas' );\n\t\tcanvas.width = 8;\n\t\tcanvas.height = 8;\n\n\t\tvar context = canvas.getContext( '2d' );\n\t\tcontext.fillStyle = '#ffffff';\n\t\tcontext.fillRect( 0, 0, canvas.width, canvas.height );\n\n\t\t_texture = new THREE.Texture( canvas );\n\t\t_texture.needsUpdate = true;\n\n\t};\n\n\tthis.render = function ( scene, camera, viewportWidth, viewportHeight ) {\n\n\t\tvar sprites = scene.__webglSprites,\n\t\t\tnSprites = sprites.length;\n\n\t\tif ( ! nSprites ) return;\n\n\t\t// setup gl\n\n\t\t_gl.useProgram( program );\n\n\t\t_gl.enableVertexAttribArray( attributes.position );\n\t\t_gl.enableVertexAttribArray( attributes.uv );\n\n\t\t_gl.disable( _gl.CULL_FACE );\n\t\t_gl.enable( _gl.BLEND );\n\n\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, vertexBuffer );\n\t\t_gl.vertexAttribPointer( attributes.position, 2, _gl.FLOAT, false, 2 * 8, 0 );\n\t\t_gl.vertexAttribPointer( attributes.uv, 2, _gl.FLOAT, false, 2 * 8, 8 );\n\n\t\t_gl.bindBuffer( _gl.ELEMENT_ARRAY_BUFFER, elementBuffer );\n\n\t\t_gl.uniformMatrix4fv( uniforms.projectionMatrix, false, camera.projectionMatrix.elements );\n\n\t\t_gl.activeTexture( _gl.TEXTURE0 );\n\t\t_gl.uniform1i( uniforms.map, 0 );\n\n\t\tvar oldFogType = 0;\n\t\tvar sceneFogType = 0;\n\t\tvar fog = scene.fog;\n\n\t\tif ( fog ) {\n\n\t\t\t_gl.uniform3f( uniforms.fogColor, fog.color.r, fog.color.g, fog.color.b );\n\n\t\t\tif ( fog instanceof THREE.Fog ) {\n\n\t\t\t\t_gl.uniform1f( uniforms.fogNear, fog.near );\n\t\t\t\t_gl.uniform1f( uniforms.fogFar, fog.far );\n\n\t\t\t\t_gl.uniform1i( uniforms.fogType, 1 );\n\t\t\t\toldFogType = 1;\n\t\t\t\tsceneFogType = 1;\n\n\t\t\t} else if ( fog instanceof THREE.FogExp2 ) {\n\n\t\t\t\t_gl.uniform1f( uniforms.fogDensity, fog.density );\n\n\t\t\t\t_gl.uniform1i( uniforms.fogType, 2 );\n\t\t\t\toldFogType = 2;\n\t\t\t\tsceneFogType = 2;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.uniform1i( uniforms.fogType, 0 );\n\t\t\toldFogType = 0;\n\t\t\tsceneFogType = 0;\n\n\t\t}\n\n\n\t\t// update positions and sort\n\n\t\tvar i, sprite, material, fogType, scale = [];\n\n\t\tfor( i = 0; i < nSprites; i ++ ) {\n\n\t\t\tsprite = sprites[ i ];\n\t\t\tmaterial = sprite.material;\n\n\t\t\tif ( sprite.visible === false ) continue;\n\n\t\t\tsprite._modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, sprite.matrixWorld );\n\t\t\tsprite.z = - sprite._modelViewMatrix.elements[ 14 ];\n\n\t\t}\n\n\t\tsprites.sort( painterSortStable );\n\n\t\t// render all sprites\n\n\t\tfor( i = 0; i < nSprites; i ++ ) {\n\n\t\t\tsprite = sprites[ i ];\n\n\t\t\tif ( sprite.visible === false ) continue;\n\n\t\t\tmaterial = sprite.material;\n\n\t\t\t_gl.uniform1f( uniforms.alphaTest, material.alphaTest );\n\t\t\t_gl.uniformMatrix4fv( uniforms.modelViewMatrix, false, sprite._modelViewMatrix.elements );\n\n\t\t\tscale[ 0 ] = sprite.scale.x;\n\t\t\tscale[ 1 ] = sprite.scale.y;\n\n\t\t\tif ( scene.fog && material.fog ) {\n\n\t\t\t\tfogType = sceneFogType;\n\n\t\t\t} else {\n\n\t\t\t\tfogType = 0;\n\n\t\t\t}\n\n\t\t\tif ( oldFogType !== fogType ) {\n\n\t\t\t\t_gl.uniform1i( uniforms.fogType, fogType );\n\t\t\t\toldFogType = fogType;\n\n\t\t\t}\n\n\t\t\tif ( material.map !== null ) {\n\n\t\t\t\t_gl.uniform2f( uniforms.uvOffset, material.map.offset.x, material.map.offset.y );\n\t\t\t\t_gl.uniform2f( uniforms.uvScale, material.map.repeat.x, material.map.repeat.y );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.uniform2f( uniforms.uvOffset, 0, 0 );\n\t\t\t\t_gl.uniform2f( uniforms.uvScale, 1, 1 );\n\n\t\t\t}\n\n\t\t\t_gl.uniform1f( uniforms.opacity, material.opacity );\n\t\t\t_gl.uniform3f( uniforms.color, material.color.r, material.color.g, material.color.b );\n\n\t\t\t_gl.uniform1f( uniforms.rotation, material.rotation );\n\t\t\t_gl.uniform2fv( uniforms.scale, scale );\n\n\t\t\t_renderer.setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst );\n\t\t\t_renderer.setDepthTest( material.depthTest );\n\t\t\t_renderer.setDepthWrite( material.depthWrite );\n\n\t\t\tif ( material.map && material.map.image && material.map.image.width ) {\n\n\t\t\t\t_renderer.setTexture( material.map, 0 );\n\n\t\t\t} else {\n\n\t\t\t\t_renderer.setTexture( _texture, 0 );\n\n\t\t\t}\n\n\t\t\t_gl.drawElements( _gl.TRIANGLES, 6, _gl.UNSIGNED_SHORT, 0 );\n\n\t\t}\n\n\t\t// restore gl\n\n\t\t_gl.enable( _gl.CULL_FACE );\n\n\t};\n\n\tfunction createProgram () {\n\n\t\tvar program = _gl.createProgram();\n\n\t\tvar vertexShader = _gl.createShader( _gl.VERTEX_SHADER );\n\t\tvar fragmentShader = _gl.createShader( _gl.FRAGMENT_SHADER );\n\n\t\t_gl.shaderSource( vertexShader, [\n\n\t\t\t'precision ' + _renderer.getPrecision() + ' float;',\n\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform float rotation;',\n\t\t\t'uniform vec2 scale;',\n\t\t\t'uniform vec2 uvOffset;',\n\t\t\t'uniform vec2 uvScale;',\n\n\t\t\t'attribute vec2 position;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'varying vec2 vUV;',\n\n\t\t\t'void main() {',\n\n\t\t\t\t'vUV = uvOffset + uv * uvScale;',\n\n\t\t\t\t'vec2 alignedPosition = position * scale;',\n\n\t\t\t\t'vec2 rotatedPosition;',\n\t\t\t\t'rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;',\n\t\t\t\t'rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;',\n\n\t\t\t\t'vec4 finalPosition;',\n\n\t\t\t\t'finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );',\n\t\t\t\t'finalPosition.xy += rotatedPosition;',\n\t\t\t\t'finalPosition = projectionMatrix * finalPosition;',\n\n\t\t\t\t'gl_Position = finalPosition;',\n\n\t\t\t'}'\n\n\t\t].join( '\\n' ) );\n\n\t\t_gl.shaderSource( fragmentShader, [\n\n\t\t\t'precision ' + _renderer.getPrecision() + ' float;',\n\n\t\t\t'uniform vec3 color;',\n\t\t\t'uniform sampler2D map;',\n\t\t\t'uniform float opacity;',\n\n\t\t\t'uniform int fogType;',\n\t\t\t'uniform vec3 fogColor;',\n\t\t\t'uniform float fogDensity;',\n\t\t\t'uniform float fogNear;',\n\t\t\t'uniform float fogFar;',\n\t\t\t'uniform float alphaTest;',\n\n\t\t\t'varying vec2 vUV;',\n\n\t\t\t'void main() {',\n\n\t\t\t\t'vec4 texture = texture2D( map, vUV );',\n\n\t\t\t\t'if ( texture.a < alphaTest ) discard;',\n\n\t\t\t\t'gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );',\n\n\t\t\t\t'if ( fogType > 0 ) {',\n\n\t\t\t\t\t'float depth = gl_FragCoord.z / gl_FragCoord.w;',\n\t\t\t\t\t'float fogFactor = 0.0;',\n\n\t\t\t\t\t'if ( fogType == 1 ) {',\n\n\t\t\t\t\t\t'fogFactor = smoothstep( fogNear, fogFar, depth );',\n\n\t\t\t\t\t'} else {',\n\n\t\t\t\t\t\t'const float LOG2 = 1.442695;',\n\t\t\t\t\t\t'float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );',\n\t\t\t\t\t\t'fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );',\n\n\t\t\t\t\t'}',\n\n\t\t\t\t\t'gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );',\n\n\t\t\t\t'}',\n\n\t\t\t'}'\n\n\t\t].join( '\\n' ) );\n\n\t\t_gl.compileShader( vertexShader );\n\t\t_gl.compileShader( fragmentShader );\n\n\t\t_gl.attachShader( program, vertexShader );\n\t\t_gl.attachShader( program, fragmentShader );\n\n\t\t_gl.linkProgram( program );\n\n\t\treturn program;\n\n\t};\n\n\tfunction painterSortStable ( a, b ) {\n\n\t\tif ( a.z !== b.z ) {\n\n\t\t\treturn b.z - a.z;\n\n\t\t} else {\n\n\t\t\treturn b.id - a.id;\n\n\t\t}\n\n\t};\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nTHREE.DepthPassPlugin = function () {\n\n\tthis.enabled = false;\n\tthis.renderTarget = null;\n\n\tvar _gl,\n\t_renderer,\n\t_depthMaterial, _depthMaterialMorph, _depthMaterialSkin, _depthMaterialMorphSkin,\n\n\t_frustum = new THREE.Frustum(),\n\t_projScreenMatrix = new THREE.Matrix4();\n\n\tthis.init = function ( renderer ) {\n\n\t\t_gl = renderer.context;\n\t\t_renderer = renderer;\n\n\t\tvar depthShader = THREE.ShaderLib[ \"depthRGBA\" ];\n\t\tvar depthUniforms = THREE.UniformsUtils.clone( depthShader.uniforms );\n\n\t\t_depthMaterial = new THREE.ShaderMaterial( { fragmentShader: depthShader.fragmentShader, vertexShader: depthShader.vertexShader, uniforms: depthUniforms } );\n\t\t_depthMaterialMorph = new THREE.ShaderMaterial( { fragmentShader: depthShader.fragmentShader, vertexShader: depthShader.vertexShader, uniforms: depthUniforms, morphTargets: true } );\n\t\t_depthMaterialSkin = new THREE.ShaderMaterial( { fragmentShader: depthShader.fragmentShader, vertexShader: depthShader.vertexShader, uniforms: depthUniforms, skinning: true } );\n\t\t_depthMaterialMorphSkin = new THREE.ShaderMaterial( { fragmentShader: depthShader.fragmentShader, vertexShader: depthShader.vertexShader, uniforms: depthUniforms, morphTargets: true, skinning: true } );\n\n\t\t_depthMaterial._shadowPass = true;\n\t\t_depthMaterialMorph._shadowPass = true;\n\t\t_depthMaterialSkin._shadowPass = true;\n\t\t_depthMaterialMorphSkin._shadowPass = true;\n\n\t};\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tif ( ! this.enabled ) return;\n\n\t\tthis.update( scene, camera );\n\n\t};\n\n\tthis.update = function ( scene, camera ) {\n\n\t\tvar i, il, j, jl, n,\n\n\t\tprogram, buffer, material,\n\t\twebglObject, object, light,\n\t\trenderList,\n\n\t\tfog = null;\n\n\t\t// set GL state for depth map\n\n\t\t_gl.clearColor( 1, 1, 1, 1 );\n\t\t_gl.disable( _gl.BLEND );\n\n\t\t_renderer.setDepthTest( true );\n\n\t\t// update scene\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromMatrix( _projScreenMatrix );\n\n\t\t// render depth map\n\n\t\t_renderer.setRenderTarget( this.renderTarget );\n\t\t_renderer.clear();\n\n\t\t// set object matrices & frustum culling\n\n\t\trenderList = scene.__webglObjects;\n\n\t\tfor ( j = 0, jl = renderList.length; j < jl; j ++ ) {\n\n\t\t\twebglObject = renderList[ j ];\n\t\t\tobject = webglObject.object;\n\n\t\t\twebglObject.render = false;\n\n\t\t\tif ( object.visible ) {\n\n\t\t\t\tif ( ! ( object instanceof THREE.Mesh || object instanceof THREE.ParticleSystem ) || ! ( object.frustumCulled ) || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tobject._modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\t\twebglObject.render = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// render regular objects\n\n\t\tvar objectMaterial, useMorphing, useSkinning;\n\n\t\tfor ( j = 0, jl = renderList.length; j < jl; j ++ ) {\n\n\t\t\twebglObject = renderList[ j ];\n\n\t\t\tif ( webglObject.render ) {\n\n\t\t\t\tobject = webglObject.object;\n\t\t\t\tbuffer = webglObject.buffer;\n\n\t\t\t\t// todo: create proper depth material for particles\n\n\t\t\t\tif ( object instanceof THREE.ParticleSystem && !object.customDepthMaterial ) continue;\n\n\t\t\t\tobjectMaterial = getObjectMaterial( object );\n\n\t\t\t\tif ( objectMaterial ) _renderer.setMaterialFaces( object.material );\n\n\t\t\t\tuseMorphing = object.geometry.morphTargets.length > 0 && objectMaterial.morphTargets;\n\t\t\t\tuseSkinning = object instanceof THREE.SkinnedMesh && objectMaterial.skinning;\n\n\t\t\t\tif ( object.customDepthMaterial ) {\n\n\t\t\t\t\tmaterial = object.customDepthMaterial;\n\n\t\t\t\t} else if ( useSkinning ) {\n\n\t\t\t\t\tmaterial = useMorphing ? _depthMaterialMorphSkin : _depthMaterialSkin;\n\n\t\t\t\t} else if ( useMorphing ) {\n\n\t\t\t\t\tmaterial = _depthMaterialMorph;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tmaterial = _depthMaterial;\n\n\t\t\t\t}\n\n\t\t\t\tif ( buffer instanceof THREE.BufferGeometry ) {\n\n\t\t\t\t\t_renderer.renderBufferDirect( camera, scene.__lights, fog, material, buffer, object );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_renderer.renderBuffer( camera, scene.__lights, fog, material, buffer, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// set matrices and render immediate objects\n\n\t\trenderList = scene.__webglObjectsImmediate;\n\n\t\tfor ( j = 0, jl = renderList.length; j < jl; j ++ ) {\n\n\t\t\twebglObject = renderList[ j ];\n\t\t\tobject = webglObject.object;\n\n\t\t\tif ( object.visible ) {\n\n\t\t\t\tobject._modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\t_renderer.renderImmediateObject( camera, scene.__lights, fog, _depthMaterial, object );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restore GL state\n\n\t\tvar clearColor = _renderer.getClearColor(),\n\t\tclearAlpha = _renderer.getClearAlpha();\n\n\t\t_gl.clearColor( clearColor.r, clearColor.g, clearColor.b, clearAlpha );\n\t\t_gl.enable( _gl.BLEND );\n\n\t};\n\n\t// For the moment just ignore objects that have multiple materials with different animation methods\n\t// Only the first material will be taken into account for deciding which depth material to use\n\n\tfunction getObjectMaterial( object ) {\n\n\t\treturn object.material instanceof THREE.MeshFaceMaterial\n\t\t\t? object.material.materials[ 0 ]\n\t\t\t: object.material;\n\n\t};\n\n};\n\n\n/**\n * @author mikael emtinger / http://gomo.se/\n */\n\nTHREE.ShaderFlares = {\n\n\t'lensFlareVertexTexture': {\n\n\t\tvertexShader: [\n\n\t\t\t\"uniform lowp int renderType;\",\n\n\t\t\t\"uniform vec3 screenPosition;\",\n\t\t\t\"uniform vec2 scale;\",\n\t\t\t\"uniform float rotation;\",\n\n\t\t\t\"uniform sampler2D occlusionMap;\",\n\n\t\t\t\"attribute vec2 position;\",\n\t\t\t\"attribute vec2 uv;\",\n\n\t\t\t\"varying vec2 vUV;\",\n\t\t\t\"varying float vVisibility;\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\t\"vUV = uv;\",\n\n\t\t\t\t\"vec2 pos = position;\",\n\n\t\t\t\t\"if( renderType == 2 ) {\",\n\n\t\t\t\t\t\"vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\",\n\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\",\n\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\",\n\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\",\n\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\",\n\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\",\n\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\",\n\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\",\n\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\",\n\n\t\t\t\t\t\"vVisibility =        visibility.r / 9.0;\",\n\t\t\t\t\t\"vVisibility *= 1.0 - visibility.g / 9.0;\",\n\t\t\t\t\t\"vVisibility *=       visibility.b / 9.0;\",\n\t\t\t\t\t\"vVisibility *= 1.0 - visibility.a / 9.0;\",\n\n\t\t\t\t\t\"pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\",\n\t\t\t\t\t\"pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\",\n\n\t\t\t\t\"}\",\n\n\t\t\t\t\"gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\",\n\n\t\t\t\"}\"\n\n\t\t].join( \"\\n\" ),\n\n\t\tfragmentShader: [\n\n\t\t\t\"uniform lowp int renderType;\",\n\n\t\t\t\"uniform sampler2D map;\",\n\t\t\t\"uniform float opacity;\",\n\t\t\t\"uniform vec3 color;\",\n\n\t\t\t\"varying vec2 vUV;\",\n\t\t\t\"varying float vVisibility;\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\t// pink square\n\n\t\t\t\t\"if( renderType == 0 ) {\",\n\n\t\t\t\t\t\"gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\",\n\n\t\t\t\t// restore\n\n\t\t\t\t\"} else if( renderType == 1 ) {\",\n\n\t\t\t\t\t\"gl_FragColor = texture2D( map, vUV );\",\n\n\t\t\t\t// flare\n\n\t\t\t\t\"} else {\",\n\n\t\t\t\t\t\"vec4 texture = texture2D( map, vUV );\",\n\t\t\t\t\t\"texture.a *= opacity * vVisibility;\",\n\t\t\t\t\t\"gl_FragColor = texture;\",\n\t\t\t\t\t\"gl_FragColor.rgb *= color;\",\n\n\t\t\t\t\"}\",\n\n\t\t\t\"}\"\n\t\t].join( \"\\n\" )\n\n\t},\n\n\n\t'lensFlare': {\n\n\t\tvertexShader: [\n\n\t\t\t\"uniform lowp int renderType;\",\n\n\t\t\t\"uniform vec3 screenPosition;\",\n\t\t\t\"uniform vec2 scale;\",\n\t\t\t\"uniform float rotation;\",\n\n\t\t\t\"attribute vec2 position;\",\n\t\t\t\"attribute vec2 uv;\",\n\n\t\t\t\"varying vec2 vUV;\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\t\"vUV = uv;\",\n\n\t\t\t\t\"vec2 pos = position;\",\n\n\t\t\t\t\"if( renderType == 2 ) {\",\n\n\t\t\t\t\t\"pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\",\n\t\t\t\t\t\"pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\",\n\n\t\t\t\t\"}\",\n\n\t\t\t\t\"gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\",\n\n\t\t\t\"}\"\n\n\t\t].join( \"\\n\" ),\n\n\t\tfragmentShader: [\n\n\t\t\t\"precision mediump float;\",\n\n\t\t\t\"uniform lowp int renderType;\",\n\n\t\t\t\"uniform sampler2D map;\",\n\t\t\t\"uniform sampler2D occlusionMap;\",\n\t\t\t\"uniform float opacity;\",\n\t\t\t\"uniform vec3 color;\",\n\n\t\t\t\"varying vec2 vUV;\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\t// pink square\n\n\t\t\t\t\"if( renderType == 0 ) {\",\n\n\t\t\t\t\t\"gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );\",\n\n\t\t\t\t// restore\n\n\t\t\t\t\"} else if( renderType == 1 ) {\",\n\n\t\t\t\t\t\"gl_FragColor = texture2D( map, vUV );\",\n\n\t\t\t\t// flare\n\n\t\t\t\t\"} else {\",\n\n\t\t\t\t\t\"float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;\",\n\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;\",\n\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;\",\n\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;\",\n\t\t\t\t\t\"visibility = ( 1.0 - visibility / 4.0 );\",\n\n\t\t\t\t\t\"vec4 texture = texture2D( map, vUV );\",\n\t\t\t\t\t\"texture.a *= opacity * visibility;\",\n\t\t\t\t\t\"gl_FragColor = texture;\",\n\t\t\t\t\t\"gl_FragColor.rgb *= color;\",\n\n\t\t\t\t\"}\",\n\n\t\t\t\"}\"\n\n\t\t].join( \"\\n\" )\n\n\t}\n\n};\n\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = THREE;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/three.js/build/three.js\n ** module id = 245\n ** module chunks = 1\n **/","Marionette          = require(\"backbone.marionette\")\napp                 = require(\"app\")\nconstants           = require(\"oxalis/constants\")\nArbitraryController = require(\"oxalis/controller/viewmodes/arbitrary_controller\")\n\nclass DatasetInfoView extends Marionette.ItemView\n\n  className : \"col-sm-12 flex-column\"\n  id : \"dataset\"\n  template : _.template(\"\"\"\n    <div class=\"well\">\n      <p><%- annotationType %></p>\n      <p>DataSet: <%- dataSetName %></p>\n      <p>Viewport width: <%- chooseUnit(zoomLevel) %></p>\n      <% if(treeCount != null) { %>\n        <p>Total number of trees: <%- treeCount %></p>\n      <% } %>\n    </div>\n  \"\"\")\n\n  templateHelpers :\n    chooseUnit : ->\n      if(@zoomLevel < 1000)\n        return @zoomLevel.toFixed(0) + \" nm\"\n      else if (@zoomLevel < 1000000)\n        return (@zoomLevel / 1000).toFixed(1) + \" m\"\n      else\n        return (@zoomLevel / 1000000).toFixed(1) + \" mm\"\n\n\n  initialize : (options) ->\n\n    @listenTo(@model.flycam3d, \"changed\", @render)\n    @listenTo(@model.flycam, \"zoomStepChanged\", @render)\n\n    if @model.skeletonTracing\n      @listenTo(@model.skeletonTracing, \"deleteTree\", @render)\n      @listenTo(@model.skeletonTracing, \"mergeTree\", @render)\n      @listenTo(@model.skeletonTracing, \"newTree\", @render)\n\n\n  serializeData : ->\n\n    annotationType = @model.get(\"tracingType\")\n    task = @model.get(\"tracing\").task\n\n    # In case we have a task display its id as well\n    if task then annotationType += \" #{task.formattedHash}\"\n\n    return {\n      annotationType : annotationType\n      zoomLevel : @calculateZoomLevel()\n      dataSetName : @model.get(\"dataset\").get(\"name\")\n      treeCount : @model.skeletonTracing?.trees.length\n    }\n\n\n  calculateZoomLevel : ->\n\n    if @model.mode in constants.MODES_PLANE\n      zoom  = @model.flycam.getPlaneScalingFactor()\n      width = constants.PLANE_WIDTH\n\n    if @model.mode in constants.MODES_ARBITRARY\n      zoom  = @model.flycam3d.zoomStep\n      width = ArbitraryController::WIDTH\n\n    # unit is nm\n    return zoom * width * app.scaleInfo.baseVoxel\n\n\n  onDestroy : ->\n\n    @model.flycam3d.off(\"changed\")\n    @model.flycam.off(\"zoomStepChanged\")\n\nmodule.exports = DatasetInfoView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/viewmode/right-menu/dataset_info_view.coffee\n **/","app                = require(\"app\")\nBackbone           = require(\"backbone\")\n$                  = require(\"jquery\")\n_                  = require(\"lodash\")\nTWEEN              = require(\"tween.js\")\nInput              = require(\"libs/input\")\nArbitraryPlane     = require(\"../../geometries/arbitrary_plane\")\nCrosshair          = require(\"../../geometries/crosshair\")\nArbitraryView      = require(\"../../view/arbitrary_view\")\nArbitraryPlaneInfo = require(\"../../geometries/arbitrary_plane_info\")\nconstants          = require(\"../../constants\")\n{M4x4, V3}         = require(\"libs/mjs\")\nUtils              = require(\"libs/utils\")\n\n\nclass ArbitraryController\n\n  # See comment in Controller class on general controller architecture.\n  #\n  # Arbitrary Controller: Responsible for Arbitrary Modes\n\n  WIDTH : 128\n\n  plane : null\n  crosshair : null\n  cam : null\n\n  fullscreen : false\n  lastNodeMatrix : null\n\n  model : null\n  view : null\n\n  record : false\n\n  input :\n    mouse : null\n    keyboard : null\n    keyboardNoLoop : null\n    keyboardOnce : null\n\n    unbind : ->\n\n      @mouse?.unbind()\n      @keyboard?.unbind()\n      @keyboardNoLoop?.unbind()\n      @keyboardOnce?.unbind()\n\n\n  constructor : (@model, @view, @sceneController, @skeletonTracingController) ->\n\n    _.extend(this, Backbone.Events)\n\n    @isStarted = false\n\n    @canvas = canvas = $(\"#render-canvas\")\n\n    @cam = @model.flycam3d\n    @arbitraryView = new ArbitraryView(canvas, @cam, @view, @WIDTH)\n\n    @plane = new ArbitraryPlane(@cam, @model, @WIDTH)\n    @arbitraryView.addGeometry @plane\n\n    # render HTML element to indicate recording status\n    @infoPlane = new ArbitraryPlaneInfo()\n    @infoPlane.render()\n    $(\"#render\").append(@infoPlane.el)\n\n\n    @input = _.extend({}, @input)\n\n    @crosshair = new Crosshair(@cam, @model.user.get(\"crosshairSize\"))\n    @arbitraryView.addGeometry(@crosshair)\n\n    @listenTo(@model.user, \"change:displayCrosshair\", (model, value) ->\n      @crosshair.setVisibility(value)\n    )\n\n    @bindToEvents()\n    @arbitraryView.draw()\n\n    @stop()\n\n    @crosshair.setVisibility(@model.user.get(\"displayCrosshair\"))\n\n    # Toggle record\n    @setRecord(true)\n    $('#trace-mode-trace').on(\"click\", =>\n      @setRecord(true)\n      $(\":focus\").blur()\n    )\n    $('#trace-mode-watch').on(\"click\", =>\n      @setRecord(false)\n      $(\":focus\").blur()\n    )\n\n\n  render : (forceUpdate, event) ->\n\n    matrix = @cam.getMatrix()\n    for binary in @model.getColorBinaries()\n      binary.arbitraryPing(matrix)\n\n\n  initMouse : ->\n\n    @input.mouse = new Input.Mouse(\n      @canvas\n      leftDownMove : (delta) =>\n        if @mode == constants.MODE_ARBITRARY\n          @cam.yaw(\n            -delta.x * @model.user.getMouseInversionX() * @model.user.get(\"mouseRotateValue\"),\n            true\n          )\n          @cam.pitch(\n            delta.y * @model.user.getMouseInversionY() * @model.user.get(\"mouseRotateValue\"),\n            true\n          )\n        else if @mode == constants.MODE_ARBITRARY_PLANE\n          f = @cam.getZoomStep() / (@arbitraryView.width / @WIDTH)\n          @cam.move [delta.x * f, delta.y * f, 0]\n      scroll : @scroll\n    )\n\n\n  initKeyboard : ->\n\n    getVoxelOffset  = (timeFactor) =>\n\n      return @model.user.get(\"moveValue3d\") * timeFactor / app.scaleInfo.baseVoxel / constants.FPS\n\n\n    @input.keyboard = new Input.Keyboard(\n\n      # KeyboardJS is sensitive to ordering (complex combos first)\n\n      # Scale plane\n      \"l\"             : (timeFactor) => @arbitraryView.applyScale -@model.user.get(\"scaleValue\")\n      \"k\"             : (timeFactor) => @arbitraryView.applyScale  @model.user.get(\"scaleValue\")\n\n      #Move\n      \"w\"             : (timeFactor) => @cam.move [0, getVoxelOffset(timeFactor), 0]\n      \"s\"             : (timeFactor) => @cam.move [0, -getVoxelOffset(timeFactor), 0]\n      \"a\"             : (timeFactor) => @cam.move [getVoxelOffset(timeFactor), 0, 0]\n      \"d\"             : (timeFactor) => @cam.move [-getVoxelOffset(timeFactor), 0, 0]\n      \"space\"         : (timeFactor) =>\n        @cam.move [0, 0, getVoxelOffset(timeFactor)]\n        @moved()\n      \"ctrl + space\"   : (timeFactor) => @cam.move [0, 0, -getVoxelOffset(timeFactor)]\n\n      #Rotate at centre\n      \"shift + left\"  : (timeFactor) => @cam.yaw @model.user.get(\"rotateValue\") * timeFactor\n      \"shift + right\" : (timeFactor) => @cam.yaw -@model.user.get(\"rotateValue\") * timeFactor\n      \"shift + up\"    : (timeFactor) => @cam.pitch @model.user.get(\"rotateValue\") * timeFactor\n      \"shift + down\"  : (timeFactor) => @cam.pitch -@model.user.get(\"rotateValue\") * timeFactor\n\n      #Rotate in distance\n      \"left\"          : (timeFactor) => @cam.yaw @model.user.get(\"rotateValue\") * timeFactor, @mode == constants.MODE_ARBITRARY\n      \"right\"         : (timeFactor) => @cam.yaw -@model.user.get(\"rotateValue\") * timeFactor, @mode == constants.MODE_ARBITRARY\n      \"up\"            : (timeFactor) => @cam.pitch -@model.user.get(\"rotateValue\") * timeFactor, @mode == constants.MODE_ARBITRARY\n      \"down\"          : (timeFactor) => @cam.pitch @model.user.get(\"rotateValue\") * timeFactor, @mode == constants.MODE_ARBITRARY\n\n      #Zoom in/out\n      \"i\"             : (timeFactor) => @cam.zoomIn()\n      \"o\"             : (timeFactor) => @cam.zoomOut()\n\n      #Change move value\n      \"h\"             : (timeFactor) => @changeMoveValue(25)\n      \"g\"             : (timeFactor) => @changeMoveValue(-25)\n    )\n\n    @input.keyboardNoLoop = new Input.KeyboardNoLoop(\n\n      \"1\" : => @skeletonTracingController.toggleSkeletonVisibility()\n      \"2\" : => @sceneController.skeleton.toggleInactiveTreeVisibility()\n\n      #Delete active node\n      \"delete\" : => @model.skeletonTracing.deleteActiveNode()\n      \"c\" : => @model.skeletonTracing.createNewTree()\n\n      #Branches\n      \"b\" : => @pushBranch()\n      \"j\" : => @popBranch()\n\n      #Reset Matrix\n      \"r\" : => @cam.setRotation([0, 0, 0])\n\n      #Recenter active node\n      \"y\" : => @centerActiveNode()\n\n      #Recording of Waypoints\n      \"z\" : =>\n        @setRecord(true)\n      \"u\" : =>\n        @setRecord(false)\n      #Comments\n      \"n\" : => @setActiveNode(@model.skeletonTracing.nextCommentNodeID(false), true)\n      \"p\" : => @setActiveNode(@model.skeletonTracing.nextCommentNodeID(true), true)\n    )\n\n    @input.keyboardOnce = new Input.Keyboard(\n\n      #Delete active node and recenter last node\n      \"shift + space\" : =>\n        @model.skeletonTracing.deleteActiveNode()\n        @centerActiveNode()\n\n    , -1)\n\n\n  setRecord : (@record) ->\n\n    $('#trace-mode button').removeClass(\"btn-primary\")\n    if @record\n      $('#trace-mode-trace').addClass(\"btn-primary\")\n    else\n      $('#trace-mode-watch').addClass(\"btn-primary\")\n\n    @infoPlane.updateInfo(@record)\n    if @record\n      @setWaypoint()\n\n\n  init : ->\n\n    @setClippingDistance(@model.user.get(\"clippingDistanceArbitrary\"))\n    @arbitraryView.applyScale(0)\n\n\n  bindToEvents : ->\n\n    @listenTo(@arbitraryView, \"render\", @render)\n\n    for name, binary of @model.binary\n      @listenTo(binary.cube, \"bucketLoaded\", @arbitraryView.draw)\n\n    @listenTo(@model.user, \"change:crosshairSize\", (model, value) ->\n      @crosshair.setScale(value)\n    )\n    @listenTo(@model.user, \"change:sphericalCapRadius\" : (model, value) ->\n      @model.flycam3d.distance = value\n      @plane.setMode(@mode)\n    )\n    @listenTo(@model.user, \"change:clippingDistanceArbitrary\", (model, value) ->\n      @setClippingDistance(value)\n    )\n\n\n  start : (@mode) ->\n\n    @stop()\n\n    @plane.setMode @mode\n\n    @initKeyboard()\n    @initMouse()\n    @arbitraryView.start()\n    @init()\n    @arbitraryView.draw()\n\n    @isStarted = true\n\n\n  stop : ->\n\n    if @isStarted\n      @input.unbind()\n\n    @arbitraryView.stop()\n\n    @isStarted = false\n\n\n  scroll : (delta, type) =>\n\n    switch type\n      when \"shift\" then @setParticleSize(Utils.clamp(-1, delta, 1))\n\n\n  addNode : (position, rotation) =>\n\n    datasetConfig = @model.get(\"datasetConfiguration\")\n    fourBit = if datasetConfig.get(\"fourBit\") then 4 else 8\n    interpolation = datasetConfig.get(\"interpolation\")\n\n    @model.skeletonTracing.addNode(position, rotation, constants.TYPE_USUAL, constants.ARBITRARY_VIEW, 0, fourBit, interpolation)\n\n\n  setWaypoint : =>\n\n    unless @record\n      return\n\n    position  = @cam.getPosition()\n    rotation = @cam.getRotation()\n\n    @addNode(position, rotation)\n\n\n  changeMoveValue : (delta) ->\n\n    moveValue = @model.user.get(\"moveValue3d\") + delta\n    moveValue = Math.min(constants.MAX_MOVE_VALUE, moveValue)\n    moveValue = Math.max(constants.MIN_MOVE_VALUE, moveValue)\n\n    @model.user.set(\"moveValue3d\", (Number) moveValue)\n\n\n  setParticleSize : (delta) ->\n\n    particleSize = @model.user.get(\"particleSize\") + delta\n    particleSize = Math.min(constants.MAX_PARTICLE_SIZE, particleSize)\n    particleSize = Math.max(constants.MIN_PARTICLE_SIZE, particleSize)\n\n    @model.user.set(\"particleSize\", (Number) particleSize)\n\n\n  setClippingDistance : (value) ->\n\n    @arbitraryView.setClippingDistance(value)\n\n\n  pushBranch : ->\n\n    @model.skeletonTracing.pushBranch()\n\n\n  popBranch : ->\n\n    _.defer => @model.skeletonTracing.popBranch().then((id) =>\n      @setActiveNode(id, true)\n    )\n\n\n  centerActiveNode : ->\n\n    activeNode = @model.skeletonTracing.getActiveNode()\n    if activeNode\n\n      # animate the change to the new position and new rotation\n      curPos = @cam.getPosition()\n      newPos = @model.skeletonTracing.getActiveNodePos()\n      curRotation = @cam.getRotation()\n      newRotation = @model.skeletonTracing.getActiveNodeRotation()\n      newRotation = @getShortestRotation(curRotation, newRotation)\n\n      waypointAnimation = new TWEEN.Tween(\n        {x: curPos[0], y: curPos[1], z: curPos[2], rx: curRotation[0], ry: curRotation[1], rz: curRotation[2], cam: @cam})\n      waypointAnimation.to(\n        {x: newPos[0], y: newPos[1], z: newPos[2], rx: newRotation[0], ry: newRotation[1], rz: newRotation[2]}, 200)\n      waypointAnimation.onUpdate( ->\n        @cam.setPosition([@x, @y, @z])\n        @cam.setRotation([@rx, @ry, @rz])\n      )\n      waypointAnimation.start()\n\n      @cam.update()\n\n\n  setActiveNode : (nodeId, centered, mergeTree) ->\n\n    @model.skeletonTracing.setActiveNode(nodeId, mergeTree)\n    @cam.setPosition(@model.skeletonTracing.getActiveNodePos())\n    @cam.setRotation(@model.skeletonTracing.getActiveNodeRotation())\n\n\n  getShortestRotation : (curRotation, newRotation) ->\n\n    # TODO\n    # interpolating Euler angles does not lead to the shortest rotation\n    # interpolate the Quaternion representation instead\n    # https://theory.org/software/qfa/writeup/node12.html\n\n    for i in [0..2]\n      # a rotation about more than 180 is shorter when rotating the other direction\n      if newRotation[i] - curRotation[i] > 180\n        newRotation[i] -= 360\n      else if newRotation[i] - curRotation[i] < -180\n        newRotation[i] += 360\n    return newRotation\n\n\n  moved : ->\n\n    matrix = @cam.getMatrix()\n\n    unless @lastNodeMatrix?\n      @lastNodeMatrix = matrix\n\n    lastNodeMatrix = @lastNodeMatrix\n\n    vector = [\n      lastNodeMatrix[12] - matrix[12]\n      lastNodeMatrix[13] - matrix[13]\n      lastNodeMatrix[14] - matrix[14]\n    ]\n    vectorLength = V3.length(vector)\n\n    if vectorLength > 10\n      @setWaypoint()\n      @lastNodeMatrix = matrix\n\n\nmodule.exports = ArbitraryController\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/controller/viewmodes/arbitrary_controller.coffee\n **/","/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\n\n// Include a performance.now polyfill\n(function () {\n\n\tif ('performance' in window === false) {\n\t\twindow.performance = {};\n\t}\n\n\t// IE 8\n\tDate.now = (Date.now || function () {\n\t\treturn new Date().getTime();\n\t});\n\n\tif ('now' in window.performance === false) {\n\t\tvar offset = window.performance.timing && window.performance.timing.navigationStart ? window.performance.timing.navigationStart\n\t\t                                                                                    : Date.now();\n\n\t\twindow.performance.now = function () {\n\t\t\treturn Date.now() - offset;\n\t\t};\n\t}\n\n})();\n\nvar TWEEN = TWEEN || (function () {\n\n\tvar _tweens = [];\n\n\treturn {\n\n\t\tgetAll: function () {\n\n\t\t\treturn _tweens;\n\n\t\t},\n\n\t\tremoveAll: function () {\n\n\t\t\t_tweens = [];\n\n\t\t},\n\n\t\tadd: function (tween) {\n\n\t\t\t_tweens.push(tween);\n\n\t\t},\n\n\t\tremove: function (tween) {\n\n\t\t\tvar i = _tweens.indexOf(tween);\n\n\t\t\tif (i !== -1) {\n\t\t\t\t_tweens.splice(i, 1);\n\t\t\t}\n\n\t\t},\n\n\t\tupdate: function (time) {\n\n\t\t\tif (_tweens.length === 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar i = 0;\n\n\t\t\ttime = time !== undefined ? time : window.performance.now();\n\n\t\t\twhile (i < _tweens.length) {\n\n\t\t\t\tif (_tweens[i].update(time)) {\n\t\t\t\t\ti++;\n\t\t\t\t} else {\n\t\t\t\t\t_tweens.splice(i, 1);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\t};\n\n})();\n\nTWEEN.Tween = function (object) {\n\n\tvar _object = object;\n\tvar _valuesStart = {};\n\tvar _valuesEnd = {};\n\tvar _valuesStartRepeat = {};\n\tvar _duration = 1000;\n\tvar _repeat = 0;\n\tvar _yoyo = false;\n\tvar _isPlaying = false;\n\tvar _reversed = false;\n\tvar _delayTime = 0;\n\tvar _startTime = null;\n\tvar _easingFunction = TWEEN.Easing.Linear.None;\n\tvar _interpolationFunction = TWEEN.Interpolation.Linear;\n\tvar _chainedTweens = [];\n\tvar _onStartCallback = null;\n\tvar _onStartCallbackFired = false;\n\tvar _onUpdateCallback = null;\n\tvar _onCompleteCallback = null;\n\tvar _onStopCallback = null;\n\n\t// Set all starting values present on the target object\n\tfor (var field in object) {\n\t\t_valuesStart[field] = parseFloat(object[field], 10);\n\t}\n\n\tthis.to = function (properties, duration) {\n\n\t\tif (duration !== undefined) {\n\t\t\t_duration = duration;\n\t\t}\n\n\t\t_valuesEnd = properties;\n\n\t\treturn this;\n\n\t};\n\n\tthis.start = function (time) {\n\n\t\tTWEEN.add(this);\n\n\t\t_isPlaying = true;\n\n\t\t_onStartCallbackFired = false;\n\n\t\t_startTime = time !== undefined ? time : window.performance.now();\n\t\t_startTime += _delayTime;\n\n\t\tfor (var property in _valuesEnd) {\n\n\t\t\t// Check if an Array was provided as property value\n\t\t\tif (_valuesEnd[property] instanceof Array) {\n\n\t\t\t\tif (_valuesEnd[property].length === 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Create a local copy of the Array with the start value at the front\n\t\t\t\t_valuesEnd[property] = [_object[property]].concat(_valuesEnd[property]);\n\n\t\t\t}\n\n\t\t\t// If `to()` specifies a property that doesn't exist in the source object,\n\t\t\t// we should not set that property in the object\n\t\t\tif (_valuesStart[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t_valuesStart[property] = _object[property];\n\n\t\t\tif ((_valuesStart[property] instanceof Array) === false) {\n\t\t\t\t_valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n\t\t\t}\n\n\t\t\t_valuesStartRepeat[property] = _valuesStart[property] || 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\tthis.stop = function () {\n\n\t\tif (!_isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tTWEEN.remove(this);\n\t\t_isPlaying = false;\n\n\t\tif (_onStopCallback !== null) {\n\t\t\t_onStopCallback.call(_object);\n\t\t}\n\n\t\tthis.stopChainedTweens();\n\t\treturn this;\n\n\t};\n\n\tthis.stopChainedTweens = function () {\n\n\t\tfor (var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t_chainedTweens[i].stop();\n\t\t}\n\n\t};\n\n\tthis.delay = function (amount) {\n\n\t\t_delayTime = amount;\n\t\treturn this;\n\n\t};\n\n\tthis.repeat = function (times) {\n\n\t\t_repeat = times;\n\t\treturn this;\n\n\t};\n\n\tthis.yoyo = function (yoyo) {\n\n\t\t_yoyo = yoyo;\n\t\treturn this;\n\n\t};\n\n\n\tthis.easing = function (easing) {\n\n\t\t_easingFunction = easing;\n\t\treturn this;\n\n\t};\n\n\tthis.interpolation = function (interpolation) {\n\n\t\t_interpolationFunction = interpolation;\n\t\treturn this;\n\n\t};\n\n\tthis.chain = function () {\n\n\t\t_chainedTweens = arguments;\n\t\treturn this;\n\n\t};\n\n\tthis.onStart = function (callback) {\n\n\t\t_onStartCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.onUpdate = function (callback) {\n\n\t\t_onUpdateCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.onComplete = function (callback) {\n\n\t\t_onCompleteCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.onStop = function (callback) {\n\n\t\t_onStopCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.update = function (time) {\n\n\t\tvar property;\n\t\tvar elapsed;\n\t\tvar value;\n\n\t\tif (time < _startTime) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (_onStartCallbackFired === false) {\n\n\t\t\tif (_onStartCallback !== null) {\n\t\t\t\t_onStartCallback.call(_object);\n\t\t\t}\n\n\t\t\t_onStartCallbackFired = true;\n\n\t\t}\n\n\t\telapsed = (time - _startTime) / _duration;\n\t\telapsed = elapsed > 1 ? 1 : elapsed;\n\n\t\tvalue = _easingFunction(elapsed);\n\n\t\tfor (property in _valuesEnd) {\n\n\t\t\t// Don't update properties that do not exist in the source object\n\t\t\tif (_valuesStart[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar start = _valuesStart[property] || 0;\n\t\t\tvar end = _valuesEnd[property];\n\n\t\t\tif (end instanceof Array) {\n\n\t\t\t\t_object[property] = _interpolationFunction(end, value);\n\n\t\t\t} else {\n\n\t\t\t\t// Parses relative end values with start as base (e.g.: +10, -3)\n\t\t\t\tif (typeof (end) === 'string') {\n\n\t\t\t\t\tif (end.startsWith('+') || end.startsWith('-')) {\n\t\t\t\t\t\tend = start + parseFloat(end, 10);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tend = parseFloat(end, 10);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Protect against non numeric properties.\n\t\t\t\tif (typeof (end) === 'number') {\n\t\t\t\t\t_object[property] = start + (end - start) * value;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif (_onUpdateCallback !== null) {\n\t\t\t_onUpdateCallback.call(_object, value);\n\t\t}\n\n\t\tif (elapsed === 1) {\n\n\t\t\tif (_repeat > 0) {\n\n\t\t\t\tif (isFinite(_repeat)) {\n\t\t\t\t\t_repeat--;\n\t\t\t\t}\n\n\t\t\t\t// Reassign starting values, restart by making startTime = now\n\t\t\t\tfor (property in _valuesStartRepeat) {\n\n\t\t\t\t\tif (typeof (_valuesEnd[property]) === 'string') {\n\t\t\t\t\t\t_valuesStartRepeat[property] = _valuesStartRepeat[property] + parseFloat(_valuesEnd[property], 10);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_yoyo) {\n\t\t\t\t\t\tvar tmp = _valuesStartRepeat[property];\n\n\t\t\t\t\t\t_valuesStartRepeat[property] = _valuesEnd[property];\n\t\t\t\t\t\t_valuesEnd[property] = tmp;\n\t\t\t\t\t}\n\n\t\t\t\t\t_valuesStart[property] = _valuesStartRepeat[property];\n\n\t\t\t\t}\n\n\t\t\t\tif (_yoyo) {\n\t\t\t\t\t_reversed = !_reversed;\n\t\t\t\t}\n\n\t\t\t\t_startTime = time + _delayTime;\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\tif (_onCompleteCallback !== null) {\n\t\t\t\t\t_onCompleteCallback.call(_object);\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t\t\t// Make the chained tweens start exactly at the time they should,\n\t\t\t\t\t// even if the `update()` method was called way past the duration of the tween\n\t\t\t\t\t_chainedTweens[i].start(_startTime + _duration);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t};\n\n};\n\n\nTWEEN.Easing = {\n\n\tLinear: {\n\n\t\tNone: function (k) {\n\n\t\t\treturn k;\n\n\t\t}\n\n\t},\n\n\tQuadratic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k * (2 - k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * (--k * (k - 2) - 1);\n\n\t\t}\n\n\t},\n\n\tCubic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tQuartic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn 1 - (--k * k * k * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * ((k -= 2) * k * k * k - 2);\n\n\t\t}\n\n\t},\n\n\tQuintic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tSinusoidal: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.cos(k * Math.PI / 2);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sin(k * Math.PI / 2);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\treturn 0.5 * (1 - Math.cos(Math.PI * k));\n\n\t\t}\n\n\t},\n\n\tExponential: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k === 0 ? 0 : Math.pow(1024, k - 1);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k === 1 ? 1 : 1 - Math.pow(2, - 10 * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * Math.pow(1024, k - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (- Math.pow(2, - 10 * (k - 1)) + 2);\n\n\t\t}\n\n\t},\n\n\tCircular: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.sqrt(1 - k * k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sqrt(1 - (--k * k));\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn - 0.5 * (Math.sqrt(1 - k * k) - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n\n\t\t}\n\n\t},\n\n\tElastic: {\n\n\t\tIn: function (k) {\n\n\t\t\tvar s;\n\t\t\tvar a = 0.1;\n\t\t\tvar p = 0.4;\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif (!a || a < 1) {\n\t\t\t\ta = 1;\n\t\t\t\ts = p / 4;\n\t\t\t} else {\n\t\t\t\ts = p * Math.asin(1 / a) / (2 * Math.PI);\n\t\t\t}\n\n\t\t\treturn - (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tvar s;\n\t\t\tvar a = 0.1;\n\t\t\tvar p = 0.4;\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif (!a || a < 1) {\n\t\t\t\ta = 1;\n\t\t\t\ts = p / 4;\n\t\t\t} else {\n\t\t\t\ts = p * Math.asin(1 / a) / (2 * Math.PI);\n\t\t\t}\n\n\t\t\treturn (a * Math.pow(2, - 10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tvar s;\n\t\t\tvar a = 0.1;\n\t\t\tvar p = 0.4;\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif (!a || a < 1) {\n\t\t\t\ta = 1;\n\t\t\t\ts = p / 4;\n\t\t\t} else {\n\t\t\t\ts = p * Math.asin(1 / a) / (2 * Math.PI);\n\t\t\t}\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn - 0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n\t\t\t}\n\n\t\t\treturn a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\n\n\t\t}\n\n\t},\n\n\tBack: {\n\n\t\tIn: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn k * k * ((s + 1) * k - s);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn --k * k * ((s + 1) * k + s) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tvar s = 1.70158 * 1.525;\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * (k * k * ((s + 1) * k - s));\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n\n\t\t}\n\n\t},\n\n\tBounce: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - TWEEN.Easing.Bounce.Out(1 - k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k < (1 / 2.75)) {\n\t\t\t\treturn 7.5625 * k * k;\n\t\t\t} else if (k < (2 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n\t\t\t} else if (k < (2.5 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n\t\t\t} else {\n\t\t\t\treturn 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n\t\t\t}\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k < 0.5) {\n\t\t\t\treturn TWEEN.Easing.Bounce.In(k * 2) * 0.5;\n\t\t\t}\n\n\t\t\treturn TWEEN.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n\n\t\t}\n\n\t}\n\n};\n\nTWEEN.Interpolation = {\n\n\tLinear: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.Linear;\n\n\t\tif (k < 0) {\n\t\t\treturn fn(v[0], v[1], f);\n\t\t}\n\n\t\tif (k > 1) {\n\t\t\treturn fn(v[m], v[m - 1], m - f);\n\t\t}\n\n\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\n\t},\n\n\tBezier: function (v, k) {\n\n\t\tvar b = 0;\n\t\tvar n = v.length - 1;\n\t\tvar pw = Math.pow;\n\t\tvar bn = TWEEN.Interpolation.Utils.Bernstein;\n\n\t\tfor (var i = 0; i <= n; i++) {\n\t\t\tb += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n\t\t}\n\n\t\treturn b;\n\n\t},\n\n\tCatmullRom: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.CatmullRom;\n\n\t\tif (v[0] === v[m]) {\n\n\t\t\tif (k < 0) {\n\t\t\t\ti = Math.floor(f = m * (1 + k));\n\t\t\t}\n\n\t\t\treturn fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n\n\t\t} else {\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n\t\t\t}\n\n\t\t\treturn fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n\n\t\t}\n\n\t},\n\n\tUtils: {\n\n\t\tLinear: function (p0, p1, t) {\n\n\t\t\treturn (p1 - p0) * t + p0;\n\n\t\t},\n\n\t\tBernstein: function (n, i) {\n\n\t\t\tvar fc = TWEEN.Interpolation.Utils.Factorial;\n\n\t\t\treturn fc(n) / fc(i) / fc(n - i);\n\n\t\t},\n\n\t\tFactorial: (function () {\n\n\t\t\tvar a = [1];\n\n\t\t\treturn function (n) {\n\n\t\t\t\tvar s = 1;\n\n\t\t\t\tif (a[n]) {\n\t\t\t\t\treturn a[n];\n\t\t\t\t}\n\n\t\t\t\tfor (var i = n; i > 1; i--) {\n\t\t\t\t\ts *= i;\n\t\t\t\t}\n\n\t\t\t\ta[n] = s;\n\t\t\t\treturn s;\n\n\t\t\t};\n\n\t\t})(),\n\n\t\tCatmullRom: function (p0, p1, p2, p3, t) {\n\n\t\t\tvar v0 = (p2 - p0) * 0.5;\n\t\t\tvar v1 = (p3 - p1) * 0.5;\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t * t2;\n\n\t\t\treturn (2 * p1 - 2 * p2 + v0 + v1) * t3 + (- 3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\n\t\t}\n\n\t}\n\n};\n\n// UMD (Universal Module Definition)\n(function (root) {\n\n\tif (typeof define === 'function' && define.amd) {\n\n\t\t// AMD\n\t\tdefine([], function () {\n\t\t\treturn TWEEN;\n\t\t});\n\n\t} else if (typeof module !== 'undefined' && typeof exports === 'object') {\n\n\t\t// Node.js\n\t\tmodule.exports = TWEEN;\n\n\t} else if (root !== undefined) {\n\n\t\t// Global variable\n\t\troot.TWEEN = TWEEN;\n\n\t}\n\n})(this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/tween.js/src/Tween.js\n ** module id = 248\n ** module chunks = 1\n **/","_                             = require(\"lodash\")\nbackbone                      = require(\"backbone\")\nTHREE                         = require(\"three\")\n{M4x4, V3}                    = require(\"libs/mjs\")\nconstants                     = require(\"oxalis/constants\")\nArbitraryPlaneMaterialFactory = require(\"./materials/arbitrary_plane_material_factory\")\n\n# Let's set up our trianglesplane.\n# It serves as a \"canvas\" where the brain images\n# are drawn.\n# Don't let the name fool you, this is just an\n# ordinary plane with a texture applied to it.\n#\n# User tests showed that looking a bend surface (a half sphere)\n# feels more natural when moving around in 3D space.\n# To acknowledge this fact we determine the pixels that will\n# be displayed by requesting them as though they were\n# attached to bend surface.\n# The result is then projected on a flat surface.\n# For me detail look in Model.\n#\n# queryVertices: holds the position/matrices\n# needed to for the bend surface.\n# normalVertices: (depricated) holds the vertex postion\n# for the flat surface\nclass ArbitraryPlane\n\n  cam : null\n  model : null\n\n  mesh : null\n\n  isDirty : true\n\n  queryVertices : null\n  width : 0\n  height : 0\n  x : 0\n\n\n  constructor : (@cam, @model, @width = 128) ->\n\n    _.extend(@, Backbone.Events)\n\n    @mesh = @createMesh()\n\n    @listenTo(@cam, \"changed\", -> @isDirty = true)\n    @listenTo(@model.flycam, \"positionChanged\", -> @isDirty = true)\n\n    for name, binary of @model.binary\n      binary.cube.on \"bucketLoaded\", => @isDirty = true\n\n    throw \"width needs to be a power of 2\" unless Math.log(@width) / Math.LN2 % 1 != 1\n\n\n  setMode : ( mode, radius ) ->\n\n    @queryVertices = switch mode\n      when constants.MODE_ARBITRARY       then @calculateSphereVertices()\n      when constants.MODE_ARBITRARY_PLANE then @calculatePlaneVertices()\n\n    @isDirty = true\n\n\n  attachScene : (scene) ->\n\n    scene.add(@mesh)\n\n\n  update : ->\n\n    if @isDirty\n\n      { mesh, cam } = this\n\n      matrix = cam.getZoomedMatrix()\n\n      newVertices = M4x4.transformPointsAffine matrix, @queryVertices\n      newColors = @model.getColorBinaries()[0].getByVerticesSync(newVertices)\n\n      @textureMaterial.setData(\"color\", newColors)\n\n      m = cam.getZoomedMatrix()\n\n      mesh.matrix.set m[0], m[4], m[8], m[12],\n                      m[1], m[5], m[9], m[13],\n                      m[2], m[6], m[10], m[14],\n                      m[3], m[7], m[11], m[15]\n\n      mesh.matrix.multiply(new THREE.Matrix4().makeRotationY(Math.PI))\n      mesh.matrixWorldNeedsUpdate = true\n\n      @isDirty = false\n\n\n  calculateSphereVertices : ( sphericalCapRadius = @cam.distance ) ->\n\n    queryVertices = new Float32Array(@width * @width * 3)\n\n    # so we have Point [0, 0, 0] centered\n    currentIndex = 0\n\n    vertex        = [0, 0, 0]\n    vector        = [0, 0, 0]\n    centerVertex  = [0, 0, -sphericalCapRadius]\n\n    # Transforming those normalVertices to become a spherical cap\n    # which is better more smooth for querying.\n    # http://en.wikipedia.org/wiki/Spherical_cap\n    for y in [0...@width] by 1\n      for x in [0...@width] by 1\n\n        vertex[0] = x - (Math.floor @width/2)\n        vertex[1] = y - (Math.floor @width/2)\n        vertex[2] = 0\n\n        vector = V3.sub(vertex, centerVertex, vector)\n        length = V3.length(vector)\n        vector = V3.scale(vector, sphericalCapRadius / length, vector)\n\n        queryVertices[currentIndex++] = centerVertex[0] + vector[0]\n        queryVertices[currentIndex++] = centerVertex[1] + vector[1]\n        queryVertices[currentIndex++] = centerVertex[2] + vector[2]\n\n    queryVertices\n\n\n  calculatePlaneVertices : ->\n\n    queryVertices = new Float32Array(@width * @width * 3)\n\n    # so we have Point [0, 0, 0] centered\n    currentIndex = 0\n\n    for y in [0...@width] by 1\n      for x in [0...@width] by 1\n\n        queryVertices[currentIndex++] = x - (Math.floor @width/2)\n        queryVertices[currentIndex++] = y - (Math.floor @width/2)\n        queryVertices[currentIndex++] = 0\n\n    queryVertices\n\n\n  applyScale : (delta) ->\n\n    @x = Number(@mesh.scale.x) + Number(delta)\n\n    if @x > .5 and @x < 10\n      @mesh.scale.x = @mesh.scale.y = @mesh.scale.z = @x\n      @cam.update()\n\n\n  createMesh : ->\n\n    @textureMaterial = new ArbitraryPlaneMaterialFactory(@model, @width).getMaterial()\n\n    # create mesh\n    plane = new THREE.Mesh(\n      new THREE.PlaneGeometry(@width, @width, 1, 1)\n      @textureMaterial\n    )\n    plane.rotation.x = Math.PI\n    @x = 1\n\n    plane.matrixAutoUpdate = false\n    plane.doubleSided = true\n\n    plane\n\nmodule.exports = ArbitraryPlane\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/geometries/arbitrary_plane.coffee\n **/","THREE                        = require(\"three\")\nAbstractPlaneMaterialFactory = require(\"./abstract_plane_material_factory\")\n\nclass ArbitraryPlaneMaterialFactory extends AbstractPlaneMaterialFactory\n\n\n  createTextures : ->\n\n    @colorName = @sanitizeName(\n      @model.getColorBinaries()[0].name\n    )\n\n    @textures = {}\n    @textures[@colorName] = @createDataTexture(@tWidth, 1)\n\n    @uniforms[@colorName + \"_texture\"] = {\n      type : \"t\"\n      value : @textures[@colorName]\n    }\n\n\n  createDataTexture : (width, bytes) ->\n\n    @minFilter = THREE.LinearFilter\n    super(width, bytes)\n\n\n  getFragmentShader : ->\n\n    return _.template(\n      \"\"\"\n      uniform sampler2D <%= colorName %>_texture;\n      uniform float <%= colorName %>_brightness, <%= colorName %>_contrast;\n      varying vec2 vUv;\n\n      void main()\n      {\n        float color_value = 0.0;\n\n        /* Get grayscale value */\n        color_value = texture2D( <%= colorName %>_texture, vUv).r;\n\n        /* Brightness / Contrast Transformation */\n        color_value = (color_value + <%= colorName %>_brightness - 0.5) * <%= colorName %>_contrast + 0.5;\n\n        /* Set frag color */\n        gl_FragColor = vec4(color_value, color_value, color_value, 1.0);\n      }\n      \"\"\"\n    )(colorName : @colorName)\n\nmodule.exports = ArbitraryPlaneMaterialFactory\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/geometries/materials/arbitrary_plane_material_factory.coffee\n **/","app                     = require(\"app\")\nTHREE                   = require(\"three\")\nAbstractMaterialFactory = require(\"./abstract_material_factory\")\n\nclass AbstractPlaneMaterialFactory extends AbstractMaterialFactory\n\n\n  constructor : (@model, @tWidth) ->\n\n    _.extend(this, Backbone.Events)\n\n    @minFilter = THREE.NearestFilter\n    @maxFilter = THREE.NearestFilter\n    super(@model)\n\n\n  setupAttributesAndUniforms : ->\n\n    super()\n\n    for binary in @model.getColorBinaries()\n      name = @sanitizeName(binary.name)\n      @uniforms[name + \"_brightness\"] =\n        type : \"f\"\n        value : @model.datasetConfiguration.get(\"layers.#{binary.name}.brightness\") / 255\n      @uniforms[name + \"_contrast\"] =\n        type : \"f\"\n        value : @model.datasetConfiguration.get(\"layers.#{binary.name}.contrast\")\n\n\n    @createTextures()\n\n\n  makeMaterial : (options) ->\n\n    super(options)\n\n    @material.setData = (name, data) =>\n      textureName = @sanitizeName(name)\n      @textures[textureName]?.image.data.set(data)\n      @textures[textureName]?.needsUpdate = true\n\n\n  setupChangeListeners : ->\n\n    @listenTo(@model.datasetConfiguration, \"change\", (model) ->\n\n      for binaryName, changes of model.changed.layers or {}\n        name = @sanitizeName(binaryName)\n        if changes.brightness?\n          @uniforms[name + \"_brightness\"].value = changes.brightness / 255\n        if changes.contrast?\n          @uniforms[name + \"_contrast\"].value = changes.contrast\n      app.vent.trigger(\"rerender\")\n    )\n\n\n  createTextures : ->\n\n    throw new Error(\"Subclass responsibility\")\n\n\n  sanitizeName : (name) ->\n    # Make sure name starts with a letter and contains\n    # no \"-\" signs\n\n    return unless name?\n    return \"binary_\" + name.replace(/-/g, \"_\")\n\n\n  createDataTexture : (width, bytes) ->\n\n    format = if bytes == 1 then THREE.LuminanceFormat else THREE.RGBFormat\n\n    return new THREE.DataTexture(\n      new Uint8Array(bytes * width * width), width, width,\n      format, THREE.UnsignedByteType,\n      new THREE.UVMapping(),\n      THREE.ClampToEdgeWrapping, THREE.ClampToEdgeWrapping,\n      @minFilter, @maxFilter\n    )\n\n\n  getVertexShader : ->\n\n    return \"\"\"\n      varying vec2 vUv;\n      void main() {\n        vUv = uv;\n        gl_Position =   projectionMatrix *\n                        modelViewMatrix *\n                        vec4(position,1.0); }\n    \"\"\"\n\nmodule.exports = AbstractPlaneMaterialFactory\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/geometries/materials/abstract_plane_material_factory.coffee\n **/","Backbone = require(\"backbone\")\nTHREE    = require(\"three\")\n\nclass AbstractMaterialFactory\n\n\n  constructor : (@model) ->\n\n    _.extend(this, Backbone.Events)\n\n    @setupAttributesAndUniforms()\n    @makeMaterial()\n    @setupChangeListeners()\n\n\n  setupAttributesAndUniforms : ->\n\n    @uniforms = {}\n    @attributes = {}\n\n\n  makeMaterial : (options = {}) ->\n\n    options = _.extend options, {\n      @uniforms\n      @attributes\n      vertexShader   : @getVertexShader()\n      fragmentShader : @getFragmentShader()\n    }\n\n    @material = new THREE.ShaderMaterial(options)\n\n\n  setupChangeListeners : ->\n\n\n  getMaterial : ->\n\n    return @material\n\n\n  getVertexShader : ->\n\n\n  getFragmentShader : ->\n\n\nmodule.exports = AbstractMaterialFactory\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/geometries/materials/abstract_material_factory.coffee\n **/","THREE = require(\"three\")\n\nclass Crosshair\n\n  WIDTH : 200\n  COLOR : \"#2895FF\"\n\n  SCALE_MIN : 0.01\n  SCALE_MAX : 1\n\n  context : null\n  mesh : null\n  scale : 0\n\n  isDirty : true\n\n\n  constructor : (@cam, scale) ->\n\n    { WIDTH } = @\n\n    canvas = document.createElement('canvas')\n    canvas.width = canvas.height = WIDTH\n    @context = canvas.getContext(\"2d\")\n\n    @mesh = @createMesh(canvas)\n\n    @mesh.setVisibility = (v) ->\n      @arbitraryVisible = v\n      @updateVisibility()\n\n    @mesh.setVisibilityEnabled = (v) ->\n      @visibilityEnabled = v\n      @updateVisibility()\n\n    @mesh.updateVisibility = ->\n      @visible = @arbitraryVisible && @visibilityEnabled\n\n    @setScale(scale)\n\n\n  setVisibility : ( v ) ->\n\n    @mesh.setVisibilityEnabled( v )\n\n\n  update : ->\n\n    { isDirty, context, WIDTH, COLOR, texture, mesh, cam } = @\n\n    if @isDirty\n\n      context.clearRect(0, 0, WIDTH, WIDTH)\n\n      context.fillStyle = COLOR\n      context.strokeStyle = COLOR\n\n      context.lineWidth = 3\n      context.moveTo(WIDTH / 2, 3)\n      context.beginPath()\n      context.arc(WIDTH / 2, WIDTH / 2, WIDTH / 2 - 3, 0, 2 * Math.PI)\n      context.stroke()\n\n      context.beginPath()\n      context.moveTo(WIDTH / 2, WIDTH / 2 - 1)\n      context.arc(WIDTH / 2, WIDTH / 2, 4, 0, 2 * Math.PI, true)\n      context.fill()\n\n      mesh.material.map.needsUpdate = true\n\n    m = @cam.getZoomedMatrix()\n\n    mesh.matrix.set m[0], m[4], m[8], m[12],\n                    m[1], m[5], m[9], m[13],\n                    m[2], m[6], m[10], m[14],\n                    m[3], m[7], m[11], m[15]\n\n    mesh.matrix.multiply( new THREE.Matrix4().makeRotationY( Math.PI ))\n    mesh.matrix.multiply( new THREE.Matrix4().makeTranslation( 0, 0, 0.5 ))\n    mesh.matrix.scale(new THREE.Vector3(@scale, @scale, @scale))\n\n    mesh.matrixWorldNeedsUpdate = true\n\n    @isDirty = false\n\n\n  setScale : (value) ->\n\n    { SCALE_MIN, SCALE_MAX, mesh } = @\n\n    if value > SCALE_MIN and value < SCALE_MAX\n      @scale = value\n\n    @isDirty = true\n\n\n  attachScene : (scene) ->\n\n    scene.add(@mesh)\n\n\n  createMesh : (canvas) ->\n\n    { WIDTH } = @\n\n    texture = new THREE.Texture(canvas)\n\n    material = new THREE.MeshBasicMaterial(map : texture)\n    material.transparent = true\n\n    mesh = new THREE.Mesh(\n      new THREE.PlaneGeometry(WIDTH, WIDTH)\n      material\n    )\n\n    mesh.rotation.x = Math.PI\n\n    mesh.matrixAutoUpdate = false\n    mesh.doubleSided = true\n\n    mesh\n\nmodule.exports = Crosshair\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/geometries/crosshair.coffee\n **/","$         = require(\"jquery\")\n_         = require(\"lodash\")\napp       = require(\"app\")\nBackbone  = require(\"backbone\")\nTHREE     = require(\"three\")\nTWEEN     = require(\"tween.js\")\nConstants = require(\"../constants\")\n\nclass ArbitraryView\n\n  DEFAULT_SCALE  : 2\n  MAX_SCALE      : 3\n  MIN_SCALE      : 1\n\n  forceUpdate : false\n  geometries : []\n  additionalInfo : \"\"\n\n  isRunning : true\n  animationRequestId : undefined\n\n  scene : null\n  camera : null\n  cameraPosition : null\n\n  constructor : (canvas, @dataCam, @view, width) ->\n\n    _.extend(this, Backbone.Events)\n\n    # CAM_DISTANCE has to be calculates such that with cam\n    # angle 45, the plane of width 128 fits exactly in the\n    # viewport.\n    @CAM_DISTANCE = width / 2 / Math.tan( Math.PI / 180 * 45 / 2 )\n\n    # The \"render\" div serves as a container for the canvas, that is\n    # attached to it once a renderer has been initalized.\n    @container = $(canvas)\n    @width  = @container.width()\n    @height = @container.height()\n    @deviceScaleFactor = window.devicePixelRatio || 1\n\n    { @renderer, @scene } = @view\n\n    # Initialize main THREE.js components\n\n    @camera = camera = new THREE.PerspectiveCamera(45, @width / @height, 50, 1000)\n    camera.matrixAutoUpdate = false\n    camera.aspect = @width / @height\n\n    @cameraPosition = [0, 0, @CAM_DISTANCE]\n\n    @group = new THREE.Object3D\n    # The dimension(s) with the highest resolution will not be distorted\n    @group.scale = new THREE.Vector3(app.scaleInfo.nmPerVoxel...)\n    # Add scene to the group, all Geometries are then added to group\n    @scene.add(@group)\n    @group.add(camera)\n\n\n  start : ->\n\n    unless @isRunning\n      @isRunning = true\n\n      for element in @group.children\n        element.setVisibility = element.setVisibility || (v) -> this.visible = v\n        element.setVisibility true\n\n      $('.skeleton-arbitrary-controls').show()\n      $(\"#arbitrary-info-canvas\").show()\n\n      @resize()\n      # start the rendering loop\n      @animationRequestId = window.requestAnimationFrame(@animate)\n      # Dont forget to handle window resizing!\n      $(window).on(\"resize\", @resize)\n\n\n  stop : ->\n\n    if @isRunning\n      @isRunning = false\n      if @animationRequestId?\n        window.cancelAnimationFrame(@animationRequestId)\n        @animationRequestId = undefined\n\n      for element in @group.children\n        element.setVisibility = element.setVisibility || (v) -> this.visible = v\n        element.setVisibility(false)\n\n      $(window).off(\"resize\", @resize)\n\n      $('.skeleton-arbitrary-controls').hide()\n      $(\"#arbitrary-info-canvas\").hide()\n\n\n  animate : =>\n\n    @animationRequestId = undefined\n    return unless @isRunning\n\n    TWEEN.update()\n\n    if @trigger(\"render\", @forceUpdate) or @forceUpdate\n\n      { camera, geometries, renderer, scene } = @\n\n      for geometry in geometries when geometry.update?\n        geometry.update()\n\n      m = @dataCam.getZoomedMatrix()\n\n      camera.matrix.set(m[0], m[4], m[8],  m[12],\n                        m[1], m[5], m[9],  m[13],\n                        m[2], m[6], m[10], m[14],\n                        m[3], m[7], m[11], m[15])\n\n      camera.matrix.multiply(new THREE.Matrix4().makeRotationY(Math.PI))\n      camera.matrix.multiply(new THREE.Matrix4().makeTranslation(@cameraPosition...))\n      camera.matrixWorldNeedsUpdate = true\n\n      renderer.setViewport(0, 0,\n                           @width * @deviceScaleFactor,\n                           @height * @deviceScaleFactor)\n      renderer.setScissor(0, 0,\n                          @width * @deviceScaleFactor,\n                          @height * @deviceScaleFactor)\n      renderer.enableScissorTest(true)\n      renderer.setClearColor(0xFFFFFF, 1);\n\n      renderer.render(scene, camera)\n\n      forceUpdate = false\n\n      @trigger(\"render\")\n\n    @animationRequestId = window.requestAnimationFrame(@animate)\n\n\n  draw : ->\n\n    @forceUpdate = true\n\n\n  addGeometry : (geometry) ->\n    # Adds a new Three.js geometry to the scene.\n    # This provides the public interface to the GeometryFactory.\n\n    @geometries.push(geometry)\n    geometry.attachScene(@group)\n    return\n\n\n  resizeThrottled : ->\n    # throttle resize to avoid annoying flickering\n\n    @resizeThrottled = _.throttle(\n      => @resize()\n      Constants.RESIZE_THROTTLE_TIME\n    )\n    @resizeThrottled()\n\n\n  resize : =>\n    # Call this after the canvas was resized to fix the viewport\n    # Needs to be bound\n\n    @width  = @container.width()\n    @height = @container.height()\n\n    @renderer.setSize(@width, @height)\n\n    @camera.aspect = @width / @height\n    @camera.updateProjectionMatrix()\n    @draw()\n\n\n  applyScale : (delta) =>\n\n    @scaleFactor = @DEFAULT_SCALE unless @scaleFactor\n\n    if (@scaleFactor+delta > @MIN_SCALE) and (@scaleFactor+delta < @MAX_SCALE)\n      @scaleFactor += Number(delta)\n      @width = @height = @scaleFactor * Constants.VIEWPORT_WIDTH\n      @container.width(@width)\n      @container.height(@height)\n\n      @resizeThrottled()\n\n  setClippingDistance : (value) =>\n\n    @camera.near = @CAM_DISTANCE - value\n    @camera.updateProjectionMatrix()\n\n\n  setAdditionalInfo : (info) ->\n\n    @additionalInfo = info\n\nmodule.exports = ArbitraryView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/arbitrary_view.coffee\n **/","marionette = require(\"backbone.marionette\")\n\nclass ArbitraryPlaneInfo extends Backbone.Marionette.ItemView\n\n  NOT_RECORDING_CLASS : \"not-recording\"\n  NOT_RECORDING : \"Watching\"\n  RECORDING_CLASS : \"recording\"\n  RECORDING : \"RECORDING\"\n\n  tagName : \"div\"\n  id : \"arbitrary-info-canvas\"\n  className : ->\n    if @model.get(\"isRecording\")\n      return @RECORDING_CLASS\n    else\n      return @NOT_RECORDING_CLASS\n\n  template : _.template(\"\"\"\n    <span class=\"recording-text\">\n      <%= recordingText %>\n    </span>\n  \"\"\")\n\n  constructor : ->\n\n    # Initialize Model in constructor so it is already available for className()\n    @model = new Backbone.Model({\n      isRecording : false,\n      recordingText : @NOT_RECORDING\n    })\n\n    super()\n\n\n  initialize : ->\n\n    @listenTo(@model, \"change\", @render)\n\n\n  updateInfo : (isRecording) ->\n\n    @model.set({\n      isRecording : isRecording,\n      recordingText : if isRecording then @RECORDING else @NOT_RECORDING\n    })\n\n    @$el\n      .removeClass(@NOT_RECORDING_CLASS)\n      .removeClass(@RECORDING_CLASS)\n      .addClass(@className())\n\n\nmodule.exports = ArbitraryPlaneInfo\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/geometries/arbitrary_plane_info.coffee\n **/","AbstractTabView = require(\"../abstract_tab_view\")\nMappingInfoView = require(\"./right-menu/mapping_info_view\")\nDatasetInfoView = require(\"../viewmode/right-menu/dataset_info_view\")\n\nclass VolumeTracingRightMenuView extends AbstractTabView\n\n  getTabs : ->\n    [\n      {\n        id : \"tab-info\"\n        name : \"Info\"\n        viewClass : DatasetInfoView\n      }\n      {\n        id : \"volume-mapping-info\"\n        name : \"Mapping Info\"\n        viewClass : MappingInfoView\n      }\n    ]\n\nmodule.exports = VolumeTracingRightMenuView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/volumetracing/volumetracing_right_menu_view.coffee\n **/","backbone            = require(\"backbone\")\nMarionette          = require(\"backbone.marionette\")\nsubviews            = require(\"backbone-subviews\")\n_                   = require(\"lodash\")\nCheckboxSettingView = require(\"oxalis/view/settings/setting_views/checkbox_setting_view\")\n\nclass MappingInfoView extends Marionette.CompositeView\n\n  RENDER_DEBOUNCE_TIME : 200\n\n  id : \"volume-mapping-info\"\n  template : _.template(\"\"\"\n    <div class=\"well\">\n      <% if (hasMapping) { %>\n        <p>ID without mapping: <%- idWithoutMapping %></p>\n        <p>ID with mapping: <%- idWithMapping %></p>\n      <% } else { %>\n        <p>ID at current position: <%- idWithoutMapping %></p>\n      <% } %>\n    </div>\n    <% if (hasMapping) { %>\n      <div data-subview=\"enableMapping\"></div>\n    <% } %>\n    \"\"\")\n\n\n  subviewCreators :\n\n    \"enableMapping\" : ->\n\n      return new CheckboxSettingView(\n        model : @model\n        options :\n          name : \"enableMapping\"\n          displayName : \"Enable Mapping\"\n      )\n\n\n  initialize : ({model : oxalisModel}) ->\n\n    Backbone.Subviews.add(this)\n\n    @model = new Backbone.Model()\n    @model.set(\"enableMapping\", true)\n\n    @binary = oxalisModel.getSegmentationBinary()\n    @cube = @binary.cube\n    @flycam = oxalisModel.flycam\n\n    @renderDebounced = _.debounce(@render, @RENDER_DEBOUNCE_TIME)\n    @listenTo(@cube, \"bucketLoaded\", @renderDebounced)\n    @listenTo(@cube, \"volumeLabeled\", @renderDebounced)\n    @listenTo(@cube, \"newMapping\", @render)\n    @listenTo(@flycam, \"positionChanged\", @renderDebounced)\n    @listenTo(@model, \"change:enableMapping\", ->\n      @cube.setMappingEnabled(@model.get(\"enableMapping\"))\n    )\n\n\n  serializeData : ->\n\n    pos = @flycam.getPosition()\n\n    return {\n      hasMapping : @cube.hasMapping()\n      idWithMapping : @cube.getDataValue(pos, @cube.mapping)\n      idWithoutMapping : @cube.getDataValue(pos, @cube.EMPTY_MAPPING)\n    }\n\nmodule.exports = MappingInfoView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/volumetracing/right-menu/mapping_info_view.coffee\n **/","AbstractTabView = require(\"../abstract_tab_view\")\nDatasetInfoView = require(\"./right-menu/dataset_info_view\")\n\nclass ViewmodeRightMenuView extends AbstractTabView\n\n  getTabs : ->\n    [\n      {\n        id : \"tab-info\"\n        name : \"Info\"\n        viewClass : DatasetInfoView\n      }\n    ]\n\nmodule.exports = ViewmodeRightMenuView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/viewmode/viewmode_right_menu_view.coffee\n **/","_          = require(\"lodash\")\nMarionette = require(\"backbone.marionette\")\n\nclass UserScriptsModalView extends Marionette.ItemView\n\n  className : \"modal fade\"\n  template : _.template(\"\"\"\n    <div class=\"modal-dialog modal-lg\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\n          <h3>Add user script</h3>\n        </div>\n        <div class=\"modal-body\">\n          <textarea id=\"add-script-input\" rows=\"10\"></textarea>\n        </div>\n        <div class=\"modal-footer\">\n          <a href=\"#\" id=\"add-script-button\" class=\"btn btn-default\">Add</a>\n          <a href=\"#\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</a>\n        </div>\n      </div>\n    </div>\n  \"\"\")\n\n  ui :\n    \"inputBox\" : \"#add-script-input\"\n\n  events :\n    \"click #add-script-button\" : \"handleAddClick\"\n\n\n  show : ->\n    @$el.modal(\"show\")\n\n\n  handleAddClick : ->\n    eval(@ui.inputBox.val())\n\n\nmodule.exports = UserScriptsModalView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/user_scripts_modal.coffee\n **/","Marionette = require(\"backbone.marionette\")\nConstants  = require(\"../constants\")\n\nclass TracingView extends Marionette.LayoutView\n\n  id : \"render\"\n  template : _.template(\"\"\"\n    <div id=\"modal\" class=\"modal fade\"></div>\n    <div id=\"inputcatchers\">\n      <div id=\"planexy\" class=\"inputcatcher\"></div>\n      <div id=\"planeyz\" class=\"inputcatcher\"></div>\n      <div id=\"planexz\" class=\"inputcatcher\"></div>\n      <div id=\"TDView\" class=\"inputcatcher\">\n        <div id=\"TDViewControls\" class=\"btn-group\">\n          <button type=\"button\" class=\"btn btn-default btn-sm\">3D</button>\n          <button type=\"button\" class=\"btn btn-default btn-sm\">\n            <span></span>XY\n          </button>\n          <button type=\"button\" class=\"btn btn-default btn-sm\">\n            <span></span>YZ\n          </button>\n          <button type=\"button\" class=\"btn btn-default btn-sm\">\n            <span></span>XZ\n          </button>\n        </div>\n      </div>\n    </div>\n  \"\"\")\n\n  events :\n    \"contextmenu\" : \"disableContextMenu\"\n\n  ui :\n    \"inputcatchers\" : \".inputcatcher\"\n\n  initialize : ->\n\n    @listenTo(@model.flycam, \"zoomStepChanged\", ->\n      @$el.toggleClass(\"zoomstep-warning\",\n        @model.volumeTracing? and not @model.canDisplaySegmentationData())\n    )\n\n\n  disableContextMenu : (event) ->\n\n    # hide contextmenu, while rightclicking a canvas\n    event.preventDefault()\n    return\n\n\n  onRender : ->\n\n    # Hide the input catchers arbitrary model\n    if @model.get(\"mode\") in Constants.MODES_ARBITRARY\n      @ui.inputcatchers.hide()\n\nmodule.exports = TracingView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/tracing_view.coffee\n **/","$                                  = require(\"jquery\")\n_                                  = require(\"lodash\")\napp                                = require(\"../app\")\nBackbone                           = require(\"backbone\")\nStats                              = require(\"stats.js\")\nPlaneController                    = require(\"./controller/viewmodes/plane_controller\")\nSkeletonTracingController          = require(\"./controller/annotations/skeletontracing_controller\")\nVolumeTracingController            = require(\"./controller/annotations/volumetracing_controller\")\nSkeletonTracingArbitraryController = require(\"./controller/combinations/skeletontracing_arbitrary_controller\")\nSkeletonTracingPlaneController     = require(\"./controller/combinations/skeletontracing_plane_controller\")\nVolumeTracingPlaneController       = require(\"./controller/combinations/volumetracing_plane_controller\")\nMinimalArbitraryController         = require(\"./controller/combinations/minimal_skeletontracing_arbitrary_controller\")\nSceneController                    = require(\"./controller/scene_controller\")\nUrlManager                         = require(\"./controller/url_manager\")\nModel                              = require(\"./model\")\nView                               = require(\"./view\")\nSkeletonTracingView                = require(\"./view/skeletontracing/skeletontracing_view\")\nVolumeTracingView                  = require(\"./view/volumetracing/volumetracing_view\")\nconstants                          = require(\"./constants\")\nInput                              = require(\"../libs/input\")\nToast                              = require(\"../libs/toast\")\n\nclass Controller\n\n  # Main controller, responsible for setting modes and everything\n  # that has to be controlled in any mode.\n  #\n  # We have a matrix of modes like this:\n  #\n  #   Annotation Mode \\ View mode    Plane       Arbitrary\n  #              Skeleton Tracing      X             X\n  #                Volume Tracing      X             /\n  #\n  # In order to maximize code reuse, there is - besides the main\n  # controller - a controller for each row, each column and each\n  # cross in this matrix.\n\n  constructor : (options) ->\n\n    { @model } = options\n\n    _.extend(@,\n      view : null\n      planeController : null\n      arbitraryController : null\n    )\n\n    _.extend(@, Backbone.Events)\n\n    @fullScreen = false\n\n    @urlManager = new UrlManager(@model)\n    @model.set(\"state\", @urlManager.initialState)\n\n    @model.fetch()\n      .then(\n        (error) => @modelFetchDone(error)\n      )\n\n\n  modelFetchDone : (error) ->\n\n    # Do not continue, when there was an error and we got no settings from the server\n    if error\n      return\n\n    unless @model.tracing.restrictions.allowAccess\n      Toast.Error \"You are not allowed to access this tracing\"\n      return\n\n    @urlManager.startUrlUpdater()\n\n    @sceneController = new SceneController(\n      @model.upperBoundary, @model.flycam, @model)\n\n\n    if @model.skeletonTracing?\n\n      @view = new SkeletonTracingView(@model)\n      @annotationController = new SkeletonTracingController(\n        @model, @view, @sceneController)\n      @planeController = new SkeletonTracingPlaneController(\n        @model, @view, @sceneController, @annotationController)\n\n      ArbitraryController = if @model.tracing.content.settings.advancedOptionsAllowed then SkeletonTracingArbitraryController else MinimalArbitraryController\n      @arbitraryController = new ArbitraryController(\n        @model, @view, @sceneController, @annotationController)\n\n    else if @model.volumeTracing?\n\n      @view = new VolumeTracingView(@model)\n      @annotationController = new VolumeTracingController(\n        @model, @view, @sceneController)\n      @planeController = new VolumeTracingPlaneController(\n        @model, @view, @sceneController, @annotationController)\n\n    else # View mode\n\n      @view = new View(@model)\n      @planeController = new PlaneController(\n        @model, @view, @sceneController)\n\n    # FPS stats\n    stats = new Stats()\n    $(\"body\").append stats.domElement\n    @listenTo(@arbitraryController.arbitraryView, \"render\", -> stats.update()) if @arbitraryController\n    @listenTo(@planeController.planeView, \"render\", -> stats.update())\n\n    @initKeyboard()\n    @initTimeLimit()\n\n    for binaryName of @model.binary\n      @listenTo(@model.binary[binaryName].cube, \"bucketLoaded\", -> app.vent.trigger(\"rerender\"))\n\n\n    @listenTo(@model, \"change:mode\", @loadMode)\n    @loadMode(@model.get(\"mode\"))\n\n\n    # Zoom step warning\n    @zoomStepWarningToast = null\n    @model.flycam.on\n      zoomStepChanged : =>\n        shouldWarn = not @model.canDisplaySegmentationData()\n        if shouldWarn and not @zoomStepWarningToast?\n          toastType = if @model.volumeTracing? then \"danger\" else \"info\"\n          @zoomStepWarningToast = Toast.message(toastType,\n            \"Segmentation data is only fully supported at a smaller zoom level.\", true)\n        else if not shouldWarn and @zoomStepWarningToast?\n          @zoomStepWarningToast.remove()\n          @zoomStepWarningToast = null\n\n\n  initKeyboard : ->\n\n    # avoid scrolling while pressing space\n    $(document).keydown (event) ->\n      event.preventDefault() if (event.which == 32 or event.which == 18 or 37 <= event.which <= 40) and !$(\":focus\").length\n      return\n\n    keyboardControls = {}\n\n    if @model.get(\"controlMode\") == constants.CONTROL_MODE_TRACE\n      _.extend( keyboardControls, {\n        #Set Mode, outcomment for release\n        \"shift + 1\" : =>\n          @model.setMode(constants.MODE_PLANE_TRACING)\n        \"shift + 2\" : =>\n          @model.setMode(constants.MODE_ARBITRARY)\n        \"shift + 3\" : =>\n          @model.setMode(constants.MODE_ARBITRARY_PLANE)\n\n        \"t\" : =>\n          @view.toggleTheme()\n\n        \"m\" : => # rotate allowed modes\n\n          index = (@model.allowedModes.indexOf(@model.get(\"mode\")) + 1) % @model.allowedModes.length\n          @model.setMode(@model.allowedModes[index])\n\n        \"super + s\" : (event) =>\n          event.preventDefault()\n          event.stopPropagation()\n          @model.save()\n\n        \"ctrl + s\" : (event) =>\n          event.preventDefault()\n          event.stopPropagation()\n          @model.save()\n\n      } )\n\n    new Input.KeyboardNoLoop( keyboardControls )\n\n\n  loadMode : (newMode, force = false) ->\n\n    if (newMode == constants.MODE_ARBITRARY or newMode == constants.MODE_ARBITRARY_PLANE) and (newMode in @model.allowedModes or force)\n      @planeController?.stop()\n      @arbitraryController.start(newMode)\n\n    else if (newMode == constants.MODE_PLANE_TRACING or newMode == constants.MODE_VOLUME) and (newMode in @model.allowedModes or force)\n      @arbitraryController?.stop()\n      @planeController.start(newMode)\n\n    else # newMode not allowed or invalid\n      return\n\n\n  initTimeLimit :  ->\n\n    # only enable hard time limit for anonymous users so far\n    unless @model.tracing.task and @model.tracing.user is \"Anonymous User\"\n      return\n\n    # TODO move that somehwere else\n    finishTracing = =>\n      # save the progress\n      model = @model\n\n      tracingType = model.skeletonTracing || model.volumeTracing\n      tracingType.stateLogger.pushNow().done( ->\n        url = \"/annotations/#{model.tracingType}/#{model.tracingId}/finishAndRedirect\"\n        app.router.loadURL(url)\n      )\n\n    # parse hard time limit and convert from min to ms\n    hardLimitRe = /Limit: ([0-9]+)/\n    expectedTime = @model.tracing.task.type.expectedTime\n    timeLimit = parseInt(expectedTime.match(hardLimitRe)[1]) * 60 * 1000 or 0\n\n    # setTimeout uses signed 32-bit integers, an overflow would cause immediate timeout execution\n    if timeLimit >= Math.pow(2, 32) / 2\n      Toast.error(\"Time limit was reduced as it cannot be bigger than 35791 minutes.\")\n      timeLimit = Math.pow(2, 32) / 2 - 1\n    console.log(\"TimeLimit is #{timeLimit/60/1000} min\")\n\n    if timeLimit\n      setTimeout( ->\n        window.alert(\"Time limit is reached, thanks for tracing!\")\n        finishTracing()\n      , timeLimit)\n\n\nmodule.exports = Controller\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/controller.coffee\n **/","/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar Stats = function () {\n\n\tvar startTime = Date.now(), prevTime = startTime;\n\tvar ms = 0, msMin = Infinity, msMax = 0;\n\tvar fps = 0, fpsMin = Infinity, fpsMax = 0;\n\tvar frames = 0, mode = 0;\n\n\tvar container = document.createElement( 'div' );\n\tcontainer.id = 'stats';\n\tcontainer.addEventListener( 'mousedown', function ( event ) { event.preventDefault(); setMode( ++ mode % 2 ) }, false );\n\tcontainer.style.cssText = 'width:80px;opacity:0.9;cursor:pointer';\n\n\tvar fpsDiv = document.createElement( 'div' );\n\tfpsDiv.id = 'fps';\n\tfpsDiv.style.cssText = 'padding:0 0 3px 3px;text-align:left;background-color:#002';\n\tcontainer.appendChild( fpsDiv );\n\n\tvar fpsText = document.createElement( 'div' );\n\tfpsText.id = 'fpsText';\n\tfpsText.style.cssText = 'color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px';\n\tfpsText.innerHTML = 'FPS';\n\tfpsDiv.appendChild( fpsText );\n\n\tvar fpsGraph = document.createElement( 'div' );\n\tfpsGraph.id = 'fpsGraph';\n\tfpsGraph.style.cssText = 'position:relative;width:74px;height:30px;background-color:#0ff';\n\tfpsDiv.appendChild( fpsGraph );\n\n\twhile ( fpsGraph.children.length < 74 ) {\n\n\t\tvar bar = document.createElement( 'span' );\n\t\tbar.style.cssText = 'width:1px;height:30px;float:left;background-color:#113';\n\t\tfpsGraph.appendChild( bar );\n\n\t}\n\n\tvar msDiv = document.createElement( 'div' );\n\tmsDiv.id = 'ms';\n\tmsDiv.style.cssText = 'padding:0 0 3px 3px;text-align:left;background-color:#020;display:none';\n\tcontainer.appendChild( msDiv );\n\n\tvar msText = document.createElement( 'div' );\n\tmsText.id = 'msText';\n\tmsText.style.cssText = 'color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px';\n\tmsText.innerHTML = 'MS';\n\tmsDiv.appendChild( msText );\n\n\tvar msGraph = document.createElement( 'div' );\n\tmsGraph.id = 'msGraph';\n\tmsGraph.style.cssText = 'position:relative;width:74px;height:30px;background-color:#0f0';\n\tmsDiv.appendChild( msGraph );\n\n\twhile ( msGraph.children.length < 74 ) {\n\n\t\tvar bar = document.createElement( 'span' );\n\t\tbar.style.cssText = 'width:1px;height:30px;float:left;background-color:#131';\n\t\tmsGraph.appendChild( bar );\n\n\t}\n\n\tvar setMode = function ( value ) {\n\n\t\tmode = value;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 0:\n\t\t\t\tfpsDiv.style.display = 'block';\n\t\t\t\tmsDiv.style.display = 'none';\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tfpsDiv.style.display = 'none';\n\t\t\t\tmsDiv.style.display = 'block';\n\t\t\t\tbreak;\n\t\t}\n\n\t};\n\n\tvar updateGraph = function ( dom, value ) {\n\n\t\tvar child = dom.appendChild( dom.firstChild );\n\t\tchild.style.height = value + 'px';\n\n\t};\n\n\treturn {\n\n\t\tREVISION: 12,\n\n\t\tdomElement: container,\n\n\t\tsetMode: setMode,\n\n\t\tbegin: function () {\n\n\t\t\tstartTime = Date.now();\n\n\t\t},\n\n\t\tend: function () {\n\n\t\t\tvar time = Date.now();\n\n\t\t\tms = time - startTime;\n\t\t\tmsMin = Math.min( msMin, ms );\n\t\t\tmsMax = Math.max( msMax, ms );\n\n\t\t\tmsText.textContent = ms + ' MS (' + msMin + '-' + msMax + ')';\n\t\t\tupdateGraph( msGraph, Math.min( 30, 30 - ( ms / 200 ) * 30 ) );\n\n\t\t\tframes ++;\n\n\t\t\tif ( time > prevTime + 1000 ) {\n\n\t\t\t\tfps = Math.round( ( frames * 1000 ) / ( time - prevTime ) );\n\t\t\t\tfpsMin = Math.min( fpsMin, fps );\n\t\t\t\tfpsMax = Math.max( fpsMax, fps );\n\n\t\t\t\tfpsText.textContent = fps + ' FPS (' + fpsMin + '-' + fpsMax + ')';\n\t\t\t\tupdateGraph( fpsGraph, Math.min( 30, 30 - ( fps / 100 ) * 30 ) );\n\n\t\t\t\tprevTime = time;\n\t\t\t\tframes = 0;\n\n\t\t\t}\n\n\t\t\treturn time;\n\n\t\t},\n\n\t\tupdate: function () {\n\n\t\t\tstartTime = this.end();\n\n\t\t}\n\n\t}\n\n};\n\nif ( typeof module === 'object' ) {\n\n\tmodule.exports = Stats;\n\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/stats.js/src/Stats.js\n ** module id = 262\n ** module chunks = 1\n **/","app                       = require(\"app\")\nBackbone                  = require(\"backbone\")\n$                         = require(\"jquery\")\n_                         = require(\"lodash\")\nUtils                     = require(\"libs/utils\")\nInput                     = require(\"libs/input\")\nTrackball                 = require(\"three.trackball\")\nCameraController          = require(\"../camera_controller\")\nDimensions                = require(\"../../model/dimensions\")\nPlaneView                 = require(\"../../view/plane_view\")\nconstants                 = require(\"../../constants\")\nSkeletonTracingController = require(\"../annotations/skeletontracing_controller\")\nVolumeTracingController   = require(\"../annotations/volumetracing_controller\")\nTHREE                     = require(\"three\")\n\nclass PlaneController\n\n  # See comment in Controller class on general controller architecture.\n  #\n  # Plane Controller: Responsible for Plane Modes\n\n\n  bindings : []\n  model : null\n  view : null\n\n  input :\n    mouseControllers : []\n    keyboard : null\n    keyboardNoLoop : null\n    keyboardLoopDelayed : null\n\n    unbind : ->\n\n      for mouse in @mouseControllers\n        mouse.unbind()\n      @mouseControllers = []\n      @keyboard?.unbind()\n      @keyboardNoLoop?.unbind()\n      @keyboardLoopDelayed?.unbind()\n\n\n  constructor : (@model, @view, @sceneController) ->\n\n    _.extend(this, Backbone.Events)\n\n    @isStarted = false\n\n    @flycam = @model.flycam\n\n    @oldNmPos = app.scaleInfo.voxelToNm( @flycam.getPosition() )\n\n    @planeView = new PlaneView(@model, @view)\n\n    @activeViewport = constants.PLANE_XY\n\n    # initialize Camera Controller\n    @cameraController = new CameraController(@planeView.getCameras(), @flycam, @model)\n\n    @canvasesAndNav = $(\"#main\")[0]\n\n    @TDViewControls = $('#TDViewControls')\n    @TDViewControls.addClass(\"btn-group\")\n\n    callbacks = [\n      @cameraController.changeTDViewDiagonal,\n      @cameraController.changeTDViewXY,\n      @cameraController.changeTDViewYZ,\n      @cameraController.changeTDViewXZ\n    ]\n    $(\"#TDViewControls button\").each((i, element) =>\n      $(element).on(\"click\", callbacks[i])\n    )\n\n    meshes = @sceneController.getMeshes()\n\n    for mesh in meshes\n      @planeView.addGeometry(mesh)\n\n    @model.user.triggerAll()\n    @model.datasetConfiguration.triggerAll()\n\n    @initTrackballControls()\n    @bindToEvents()\n    @stop()\n\n\n  initMouse : ->\n\n    for planeId in [0..2]\n      do (planeId) =>\n        inputcatcher = $(\"#plane#{constants.PLANE_NAMES[planeId]}\")\n        @input.mouseControllers.push(\n          new Input.Mouse(inputcatcher, @getPlaneMouseControls(planeId), planeId))\n\n    @input.mouseControllers.push(\n      new Input.Mouse($(\"#TDView\"), @getTDViewMouseControls(), constants.TDView ))\n\n\n  getTDViewMouseControls : ->\n\n    return {\n      leftDownMove : (delta) => @moveTDView(delta)\n      scroll : (value) => @zoomTDView(Utils.clamp(-1, value, 1), true)\n      over : => @planeView.setActiveViewport( @activeViewport = constants.TDView )\n    }\n\n\n  getPlaneMouseControls : (planeId) ->\n\n    return {\n\n      leftDownMove : (delta, pos) =>\n\n        @move [\n          delta.x * @model.user.getMouseInversionX() / @planeView.scaleFactor\n          delta.y * @model.user.getMouseInversionY() / @planeView.scaleFactor\n          0\n        ]\n\n      over : =>\n        $(':focus').blur()\n        @planeView.setActiveViewport( @activeViewport = planeId )\n\n      scroll : @scrollPlanes\n    }\n\n\n  initTrackballControls : ->\n\n    view = $(\"#TDView\")[0]\n    pos = app.scaleInfo.voxelToNm(@flycam.getPosition())\n    @controls = new THREE.TrackballControls(\n      @planeView.getCameras()[constants.TDView],\n      view,\n      new THREE.Vector3(pos...),\n      -> app.vent.trigger(\"rerender\"))\n\n    @controls.noZoom = true\n    @controls.noPan = true\n    @controls.staticMoving = true\n\n    @controls.target.set(\n      app.scaleInfo.voxelToNm(@flycam.getPosition())...)\n\n    @listenTo(@flycam, \"positionChanged\", (position) ->\n\n      nmPosition = app.scaleInfo.voxelToNm(position)\n\n      @controls.target.set( nmPosition... )\n      @controls.update()\n\n      # As the previous step will also move the camera, we need to\n      # fix this by offsetting the viewport\n\n      invertedDiff = []\n      for i in [0..2]\n        invertedDiff.push( @oldNmPos[i] - nmPosition[i] )\n      @oldNmPos = nmPosition\n\n      @cameraController.moveTDView(\n        new THREE.Vector3( invertedDiff... )\n      )\n    )\n\n    @listenTo(@cameraController, \"cameraPositionChanged\", @controls.update)\n\n\n  initKeyboard : ->\n\n    # avoid scrolling while pressing space\n    $(document).keydown (event) ->\n      event.preventDefault() if (event.which == 32 or event.which == 18 or 37 <= event.which <= 40) and !$(\":focus\").length\n      return\n\n    getMoveValue  = (timeFactor) =>\n      if @activeViewport in [0..2]\n        return @model.user.get(\"moveValue\") * timeFactor / app.scaleInfo.baseVoxel / constants.FPS\n      else\n        return constants.TDView_MOVE_SPEED * timeFactor / constants.FPS\n\n    @input.keyboard = new Input.Keyboard(\n\n      #ScaleTrianglesPlane\n      \"l\" : (timeFactor) => @scaleTrianglesPlane(-@model.user.get(\"scaleValue\") * timeFactor )\n      \"k\" : (timeFactor) => @scaleTrianglesPlane( @model.user.get(\"scaleValue\") * timeFactor )\n\n      #Move\n      \"left\"  : (timeFactor) => @moveX(-getMoveValue(timeFactor))\n      \"right\" : (timeFactor) => @moveX( getMoveValue(timeFactor))\n      \"up\"    : (timeFactor) => @moveY(-getMoveValue(timeFactor))\n      \"down\"  : (timeFactor) => @moveY( getMoveValue(timeFactor))\n\n    )\n\n    @input.keyboardLoopDelayed = new Input.Keyboard(\n\n      # KeyboardJS is sensitive to ordering (complex combos first)\n      \"shift + f\"     : (timeFactor, first) => @moveZ( getMoveValue(timeFactor) * 5, first)\n      \"shift + d\"     : (timeFactor, first) => @moveZ(-getMoveValue(timeFactor) * 5, first)\n\n      \"shift + space\" : (timeFactor, first) => @moveZ(-getMoveValue(timeFactor)    , first)\n      \"ctrl + space\"  : (timeFactor, first) => @moveZ(-getMoveValue(timeFactor)    , first)\n      \"space\"         : (timeFactor, first) => @moveZ( getMoveValue(timeFactor)    , first)\n      \"f\"             : (timeFactor, first) => @moveZ( getMoveValue(timeFactor)    , first)\n      \"d\"             : (timeFactor, first) => @moveZ(-getMoveValue(timeFactor)    , first)\n\n    , @model.user.get(\"keyboardDelay\")\n    )\n\n    @listenTo(@model.user, \"change:keyboardDelay\", (model, value) -> @input.keyboardLoopDelayed.delay = value)\n\n    @input.keyboardNoLoop = new Input.KeyboardNoLoop( @getKeyboardControls() )\n\n\n  getKeyboardControls : ->\n\n    return {\n      #Zoom in/out\n      \"i\" : => @zoom( 1, false)\n      \"o\" : => @zoom(-1, false)\n\n      #Change move value\n      \"h\" : => @changeMoveValue(25)\n      \"g\" : => @changeMoveValue(-25)\n    }\n\n\n  init : ->\n\n    @cameraController.setClippingDistance(@model.user.get(\"clippingDistance\"))\n    @sceneController.setClippingDistance(@model.user.get(\"clippingDistance\"))\n\n\n  start : (newMode) ->\n\n    @stop()\n\n    @sceneController.start()\n    @planeView.start()\n\n    @initKeyboard()\n    @init()\n    @initMouse()\n\n    @isStarted = true\n\n\n  stop : ->\n\n    if @isStarted\n      @input.unbind()\n\n    @sceneController.stop()\n    @planeView.stop()\n\n    @isStarted = false\n\n  bindToEvents : ->\n\n    @planeView.bindToEvents()\n\n    @listenTo(@planeView, \"render\", @render)\n    @listenTo(@planeView, \"renderCam\", @sceneController.updateSceneForCam)\n\n    @listenTo(@sceneController, \"newGeometries\", (list) ->\n      for geometry in list\n        @planeView.addGeometry(geometry)\n    )\n    @listenTo(@sceneController, \"removeGeometries\", (list) ->\n      for geometry in list\n        @planeView.removeGeometry(geometry)\n    )\n\n    # TODO check for ControleMode rather the Object existence\n    if @sceneController.skeleton\n      @listenTo(@sceneController.skeleton, \"newGeometries\", (list) ->\n        for geometry in list\n          @planeView.addGeometry(geometry)\n      )\n      @listenTo(@sceneController.skeleton, \"removeGeometries\", (list) ->\n        for geometry in list\n          @planeView.removeGeometry(geometry)\n      )\n\n\n  render : ->\n\n    for dataLayerName of @model.binary\n      if (@sceneController.pingDataLayer(dataLayerName))\n        @model.binary[dataLayerName].ping(@flycam.getPosition(), {\n          zoomStep:     @flycam.getIntegerZoomStep()\n          area:         @flycam.getAreas()\n          activePlane:  @activeViewport\n        })\n\n    @cameraController.update()\n    @sceneController.update()\n\n\n  move : (v, increaseSpeedWithZoom = true) =>\n\n    if @activeViewport in [0..2]\n      @flycam.movePlane( v, @activeViewport, increaseSpeedWithZoom )\n    else\n      @moveTDView( {x : -v[0], y : -v[1]} )\n\n\n  moveX : (x) => @move([x, 0, 0])\n\n  moveY : (y) => @move([0, y, 0])\n\n  moveZ : (z, oneSlide) =>\n\n    if @activeViewport == constants.TDView\n      return\n\n    if oneSlide\n      @flycam.move(\n        Dimensions.transDim(\n          [0, 0, (if z < 0 then -1 else 1) << @flycam.getIntegerZoomStep()],\n          @activeViewport),\n        @activeViewport)\n\n    else\n      @move([0, 0, z], false)\n\n\n  zoom : (value, zoomToMouse) ->\n\n    if @activeViewport in [0..2]\n      @zoomPlanes(value, zoomToMouse)\n    else\n      @zoomTDView(value, zoomToMouse)\n\n\n  zoomPlanes : (value, zoomToMouse) ->\n\n    if zoomToMouse\n      @zoomPos = @getMousePosition()\n\n    @flycam.zoomByDelta( value )\n    @model.user.set(\"zoom\", @flycam.getPlaneScalingFactor())\n\n    if zoomToMouse\n      @finishZoom()\n\n\n  zoomTDView : (value, zoomToMouse) ->\n\n    if zoomToMouse\n      zoomToPosition = @input.mouseControllers[constants.TDView].position\n\n    @cameraController.zoomTDView(value, zoomToPosition, @planeView.curWidth)\n\n\n  moveTDView : (delta) ->\n\n    @cameraController.moveTDViewX(delta.x * @model.user.getMouseInversionX())\n    @cameraController.moveTDViewY(delta.y * @model.user.getMouseInversionY())\n\n\n  finishZoom : =>\n\n    # Move the plane so that the mouse is at the same position as\n    # before the zoom\n    if @isMouseOver()\n      mousePos = @getMousePosition()\n      moveVector = [@zoomPos[0] - mousePos[0],\n                    @zoomPos[1] - mousePos[1],\n                    @zoomPos[2] - mousePos[2]]\n      @flycam.move(moveVector, @activeViewport)\n\n  getMousePosition : ->\n\n    pos = @input.mouseControllers[@activeViewport].position\n    return @calculateGlobalPos(pos)\n\n\n  isMouseOver : ->\n\n    return @input.mouseControllers[@activeViewport].isMouseOver\n\n\n  changeMoveValue : (delta) ->\n\n    moveValue = @model.user.get(\"moveValue\") + delta\n    moveValue = Math.min(constants.MAX_MOVE_VALUE, moveValue)\n    moveValue = Math.max(constants.MIN_MOVE_VALUE, moveValue)\n\n    @model.user.set(\"moveValue\", (Number) moveValue)\n\n\n  scaleTrianglesPlane : (delta) ->\n\n    scale = @model.user.get(\"scale\") + delta\n    scale = Math.min(constants.MAX_SCALE, scale)\n    scale = Math.max(constants.MIN_SCALE, scale)\n\n    @model.user.set(\"scale\", scale)\n\n\n  scrollPlanes : (delta, type) =>\n\n    switch type\n      when null then @moveZ(delta, true)\n      when \"alt\"\n        @zoomPlanes(Utils.clamp(-1, delta, 1), true)\n\n\n  calculateGlobalPos : (clickPos) =>\n\n    curGlobalPos  = @flycam.getPosition()\n    zoomFactor    = @flycam.getPlaneScalingFactor()\n    scaleFactor   = @planeView.scaleFactor\n    planeRatio    = app.scaleInfo.baseVoxelFactors\n    position = switch @activeViewport\n      when constants.PLANE_XY\n        [ curGlobalPos[0] - (constants.VIEWPORT_WIDTH * scaleFactor / 2 - clickPos.x) / scaleFactor * planeRatio[0] * zoomFactor,\n          curGlobalPos[1] - (constants.VIEWPORT_WIDTH * scaleFactor / 2 - clickPos.y) / scaleFactor * planeRatio[1] * zoomFactor,\n          curGlobalPos[2] ]\n      when constants.PLANE_YZ\n         [ curGlobalPos[0],\n          curGlobalPos[1] - (constants.VIEWPORT_WIDTH * scaleFactor / 2 - clickPos.y) / scaleFactor * planeRatio[1] * zoomFactor,\n          curGlobalPos[2] - (constants.VIEWPORT_WIDTH * scaleFactor / 2 - clickPos.x) / scaleFactor * planeRatio[2] * zoomFactor ]\n      when constants.PLANE_XZ\n        [ curGlobalPos[0] - (constants.VIEWPORT_WIDTH * scaleFactor / 2 - clickPos.x) / scaleFactor * planeRatio[0] * zoomFactor,\n          curGlobalPos[1],\n          curGlobalPos[2] - (constants.VIEWPORT_WIDTH * scaleFactor / 2 - clickPos.y) / scaleFactor * planeRatio[2] * zoomFactor ]\n\nmodule.exports = PlaneController\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/controller/viewmodes/plane_controller.coffee\n **/","/*** IMPORTS FROM imports-loader ***/\nvar THREE = require(\"three\");\n\n/**\n * @author Eberhard Graether / http://egraether.com/\n * @author Mark Lundin \t/ http://mark-lundin.com\n */\n\nTHREE.TrackballControls = function ( object, domElement, target, updateCallback ) {\n\n\tvar _this = this;\n\tvar STATE = { NONE: -1, PAN: 0, ZOOM: 1, ROTATE: 2, TOUCH_ROTATE: 3, TOUCH_ZOOM: 4, TOUCH_PAN: 5 };\n\n\tthis.object = object;\n\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\tthis.updateCallback = updateCallback;\n\n\t// API\n\n\tthis.enabled = true;\n\tthis.keyboardEnabled = false;\n\n\tthis.rotateSpeed = 1.0;\n\tthis.zoomSpeed = 1.2;\n\tthis.panSpeed = 0.3;\n\n\tthis.noRotate = false;\n\tthis.noZoom = false;\n\tthis.noPan = false;\n\tthis.noRoll = false;\n\n\tthis.staticMoving = false;\n\tthis.dynamicDampingFactor = 0.2;\n\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\tthis.keys = [ 65 /*A*/, 83 /*S*/, 68 /*D*/ ];\n\n\t// internals\n\n\tthis.target = target || new THREE.Vector3();\n\tthis.lastTarget = this.target.clone();\n\n\tvar lastPosition = new THREE.Vector3();\n\n\tvar _state = STATE.NONE,\n\t_prevState = STATE.NONE,\n\n\t_eye = new THREE.Vector3(),\n\n\t_rotateStart = new THREE.Vector3(),\n\t_rotateEnd = new THREE.Vector3(),\n\n\t_zoomStart = new THREE.Vector2(),\n\t_zoomEnd = new THREE.Vector2(),\n\n\t_touchZoomDistanceStart = 0,\n\t_touchZoomDistanceEnd = 0,\n\n\t_panStart = new THREE.Vector2(),\n\t_panEnd = new THREE.Vector2();\n\n\t// for reset\n\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.up0 = this.object.up.clone();\n\n\t// events\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start'};\n\tvar endEvent = { type: 'end'};\n\n\n\t// methods\n\n\tthis.getScreenBounds = function() {\n\t\tvar clientRect = this.domElement.getBoundingClientRect();\n\t\tvar d = this.domElement.ownerDocument.documentElement;\n\t\treturn {\n\t\t\ttop : clientRect.top + window.pageYOffset - d.clientTop,\n\t\t\tleft : clientRect.left + window.pageXOffset - d.clientLeft,\n\t\t\twidth : clientRect.width,\n\t\t\theight : clientRect.height\n\t\t};\n\t};\n\n\tthis.handleEvent = function ( event ) {\n\n\t\tif ( typeof this[ event.type ] == 'function' ) {\n\n\t\t\tthis[ event.type ]( event );\n\n\t\t}\n\n\t};\n\n\tthis.getMouseOnScreen = function ( pageX, pageY, vector ) {\n\n\t\tvar screenBounds = _this.getScreenBounds()\n\n\t\treturn vector.set(\n\t\t\t( pageX - screenBounds.left ) / screenBounds.width,\n\t\t\t( pageY - screenBounds.top ) / screenBounds.height\n\t\t);\n\n\t};\n\n\tthis.getMouseProjectionOnBall = (function(){\n\n\t\tvar objectUp = new THREE.Vector3(),\n\t\t    mouseOnBall = new THREE.Vector3();\n\n\n\t\treturn function ( pageX, pageY, projection ) {\n\n\t\t\tvar screenBounds = _this.getScreenBounds()\n\n\t\t\tmouseOnBall.set(\n\t\t\t\t( pageX - screenBounds.width * 0.5 - screenBounds.left ) / (screenBounds.width*.5),\n\t\t\t\t( screenBounds.height * 0.5 + screenBounds.top - pageY ) / (screenBounds.height*.5),\n\t\t\t\t0.0\n\t\t\t);\n\n\t\t\tvar length = mouseOnBall.length();\n\n\t\t\tif ( _this.noRoll ) {\n\n\t\t\t\tif ( length < Math.SQRT1_2 ) {\n\n\t\t\t\t\tmouseOnBall.z = Math.sqrt( 1.0 - length*length );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tmouseOnBall.z = .5 / length;\n\n\t\t\t\t}\n\n\t\t\t} else if ( length > 1.0 ) {\n\n\t\t\t\tmouseOnBall.normalize();\n\n\t\t\t} else {\n\n\t\t\t\tmouseOnBall.z = Math.sqrt( 1.0 - length * length );\n\n\t\t\t}\n\n\t\t\t_eye.copy( _this.object.position ).sub( _this.target );\n\n\t\t\tprojection.copy( _this.object.up ).setLength( mouseOnBall.y )\n\t\t\tprojection.add( objectUp.copy( _this.object.up ).cross( _eye ).setLength( mouseOnBall.x ) );\n\t\t\tprojection.add( _eye.setLength( mouseOnBall.z ) );\n\n\t\t\treturn projection;\n\t\t}\n\n\t}());\n\n\tthis.rotateCamera = (function(){\n\n\t\tvar axis = new THREE.Vector3(),\n\t\t\tquaternion = new THREE.Quaternion();\n\n\n\t\treturn function () {\n\n\t\t\tvar angle = Math.acos( _rotateStart.dot( _rotateEnd ) / _rotateStart.length() / _rotateEnd.length() );\n\n\t\t\tif ( angle ) {\n\n\t\t\t\taxis.crossVectors( _rotateStart, _rotateEnd ).normalize();\n\n\t\t\t\tangle *= _this.rotateSpeed;\n\n\t\t\t\tquaternion.setFromAxisAngle( axis, -angle );\n\n\t\t\t\t_eye.applyQuaternion( quaternion );\n\t\t\t\t_this.object.up.applyQuaternion( quaternion );\n\n\t\t\t\t_rotateEnd.applyQuaternion( quaternion );\n\n\t\t\t\tif ( _this.staticMoving ) {\n\n\t\t\t\t\t_rotateStart.copy( _rotateEnd );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tquaternion.setFromAxisAngle( axis, angle * ( _this.dynamicDampingFactor - 1.0 ) );\n\t\t\t\t\t_rotateStart.applyQuaternion( quaternion );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t}());\n\n\tthis.zoomCamera = function () {\n\n\t\tif ( _state === STATE.TOUCH_ZOOM ) {\n\n\t\t\tvar factor = _touchZoomDistanceStart / _touchZoomDistanceEnd;\n\t\t\t_touchZoomDistanceStart = _touchZoomDistanceEnd;\n\t\t\t_eye.multiplyScalar( factor );\n\n\t\t} else {\n\n\t\t\tvar factor = 1.0 + ( _zoomEnd.y - _zoomStart.y ) * _this.zoomSpeed;\n\n\t\t\tif ( factor !== 1.0 && factor > 0.0 ) {\n\n\t\t\t\t_eye.multiplyScalar( factor );\n\n\t\t\t\tif ( _this.staticMoving ) {\n\n\t\t\t\t\t_zoomStart.copy( _zoomEnd );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_zoomStart.y += ( _zoomEnd.y - _zoomStart.y ) * this.dynamicDampingFactor;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.panCamera = (function(){\n\n\t\tvar mouseChange = new THREE.Vector2(),\n\t\t\tobjectUp = new THREE.Vector3(),\n\t\t\tpan = new THREE.Vector3();\n\n\t\treturn function () {\n\n\t\t\tmouseChange.copy( _panEnd ).sub( _panStart );\n\n\t\t\tif ( mouseChange.lengthSq() ) {\n\n\t\t\t\tmouseChange.multiplyScalar( _eye.length() * _this.panSpeed );\n\n\t\t\t\tpan.copy( _eye ).cross( _this.object.up ).setLength( mouseChange.x );\n\t\t\t\tpan.add( objectUp.copy( _this.object.up ).setLength( mouseChange.y ) );\n\n\t\t\t\t_this.object.position.add( pan );\n\t\t\t\t_this.target.add( pan );\n\n\t\t\t\tif ( _this.staticMoving ) {\n\n\t\t\t\t\t_panStart.copy( _panEnd );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_panStart.add( mouseChange.subVectors( _panEnd, _panStart ).multiplyScalar( _this.dynamicDampingFactor ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t}());\n\n\tthis.checkDistances = function () {\n\n\t\tif ( !_this.noZoom || !_this.noPan ) {\n\n\t\t\tif ( _eye.lengthSq() > _this.maxDistance * _this.maxDistance ) {\n\n\t\t\t\t_this.object.position.addVectors( _this.target, _eye.setLength( _this.maxDistance ) );\n\n\t\t\t}\n\n\t\t\tif ( _eye.lengthSq() < _this.minDistance * _this.minDistance ) {\n\n\t\t\t\t_this.object.position.addVectors( _this.target, _eye.setLength( _this.minDistance ) );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.update = function () {\n\n\t\t_eye.subVectors( _this.object.position, _this.lastTarget );\n\n\t\tif ( !_this.noRotate ) {\n\n\t\t\t_this.rotateCamera();\n\n\t\t}\n\n\t\tif ( !_this.noZoom ) {\n\n\t\t\t_this.zoomCamera();\n\n\t\t}\n\n\t\tif ( !_this.noPan ) {\n\n\t\t\t_this.panCamera();\n\n\t\t}\n\n\t\t_this.object.position.addVectors( _this.target, _eye );\n\n\t\t_this.checkDistances();\n\n\t\t_this.object.lookAt( _this.target );\n\n\t\tif ( lastPosition.distanceToSquared( _this.object.position ) > 0 ) {\n\n\t\t\t_this.dispatchEvent( changeEvent );\n\n\t\t\tlastPosition.copy( _this.object.position );\n\n\t\t}\n\n\t\t_this.lastTarget = _this.target.clone();\n\t\t_this.updateCallback();\n\n\t};\n\n\tthis.reset = function () {\n\n\t\t_state = STATE.NONE;\n\t\t_prevState = STATE.NONE;\n\n\t\t_this.target.copy( _this.target0 );\n\t\t_this.object.position.copy( _this.position0 );\n\t\t_this.object.up.copy( _this.up0 );\n\n\t\t_eye.subVectors( _this.object.position, _this.target );\n\n\t\t_this.object.lookAt( _this.target );\n\n\t\t_this.dispatchEvent( changeEvent );\n\n\t\tlastPosition.copy( _this.object.position );\n\n\t};\n\n\t// listeners\n\n\tfunction keydown( event ) {\n\n\t\tif ( _this.enabled === false || _this.keyboardEnabled === false ) return;\n\n\t\twindow.removeEventListener( 'keydown', keydown );\n\n\t\t_prevState = _state;\n\n\t\tif ( _state !== STATE.NONE ) {\n\n\t\t\treturn;\n\n\t\t} else if ( event.keyCode === _this.keys[ STATE.ROTATE ] && !_this.noRotate ) {\n\n\t\t\t_state = STATE.ROTATE;\n\n\t\t} else if ( event.keyCode === _this.keys[ STATE.ZOOM ] && !_this.noZoom ) {\n\n\t\t\t_state = STATE.ZOOM;\n\n\t\t} else if ( event.keyCode === _this.keys[ STATE.PAN ] && !_this.noPan ) {\n\n\t\t\t_state = STATE.PAN;\n\n\t\t}\n\n\t}\n\n\tfunction keyup( event ) {\n\n\t\tif ( _this.enabled === false || _this.keyboardEnabled === false ) return;\n\n\t\t_state = _prevState;\n\n\t\twindow.addEventListener( 'keydown', keydown, false );\n\n\t}\n\n\tfunction mousedown( event ) {\n\n\t\tif ( _this.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tif ( _state === STATE.NONE ) {\n\n\t\t\t_state = event.button;\n\n\t\t}\n\n\t\tif ( _state === STATE.ROTATE && !_this.noRotate ) {\n\n\t\t\t_this.getMouseProjectionOnBall( event.pageX, event.pageY, _rotateStart );\n\t\t\t_rotateEnd.copy(_rotateStart)\n\n\t\t} else if ( _state === STATE.ZOOM && !_this.noZoom ) {\n\n\t\t\t_this.getMouseOnScreen( event.pageX, event.pageY, _zoomStart );\n\t\t\t_zoomEnd.copy(_zoomStart);\n\n\t\t} else if ( _state === STATE.PAN && !_this.noPan ) {\n\n\t\t\t_this.getMouseOnScreen( event.pageX, event.pageY, _panStart );\n\t\t\t_panEnd.copy(_panStart)\n\n\t\t}\n\n\t\tdocument.addEventListener( 'mousemove', mousemove, false );\n\t\tdocument.addEventListener( 'mouseup', mouseup, false );\n\t\t_this.dispatchEvent( startEvent );\n\n\n\t}\n\n\tfunction mousemove( event ) {\n\n\t\tif ( _this.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tif ( _state === STATE.ROTATE && !_this.noRotate ) {\n\n\t\t\t_this.getMouseProjectionOnBall( event.pageX, event.pageY, _rotateEnd );\n\t\t\t_this.update();\n\n\t\t} else if ( _state === STATE.ZOOM && !_this.noZoom ) {\n\n\t\t\t_this.getMouseOnScreen( event.pageX, event.pageY, _zoomEnd );\n\t\t\t_this.update();\n\n\t\t} else if ( _state === STATE.PAN && !_this.noPan ) {\n\n\t\t\t_this.getMouseOnScreen( event.pageX, event.pageY, _panEnd );\n\t\t\t_this.update();\n\n\t\t}\n\n\t}\n\n\tfunction mouseup( event ) {\n\n\t\tif ( _this.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\t_state = STATE.NONE;\n\n\t\tdocument.removeEventListener( 'mousemove', mousemove );\n\t\tdocument.removeEventListener( 'mouseup', mouseup );\n\t\t_this.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction mousewheel( event ) {\n\n\t\tif ( _this.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tvar delta = 0;\n\n\t\tif ( event.wheelDelta ) { // WebKit / Opera / Explorer 9\n\n\t\t\tdelta = event.wheelDelta / 40;\n\n\t\t} else if ( event.detail ) { // Firefox\n\n\t\t\tdelta = - event.detail / 3;\n\n\t\t}\n\n\t\t_zoomStart.y += delta * 0.01;\n\t\t_this.dispatchEvent( startEvent );\n\t\t_this.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction touchstart( event ) {\n\n\t\tif ( _this.enabled === false ) return;\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\n\t\t\t\t_state = STATE.TOUCH_ROTATE;\n\t\t\t\t_rotateEnd.copy( _this.getMouseProjectionOnBall( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY, _rotateStart ));\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\t_state = STATE.TOUCH_ZOOM;\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\t_touchZoomDistanceEnd = _touchZoomDistanceStart = Math.sqrt( dx * dx + dy * dy );\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\t_state = STATE.TOUCH_PAN;\n\t\t\t\t_panEnd.copy( _this.getMouseOnScreen( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY, _panStart ));\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\t_state = STATE.NONE;\n\n\t\t}\n\t\t_this.dispatchEvent( startEvent );\n\n\n\t}\n\n\tfunction touchmove( event ) {\n\n\t\tif ( _this.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\n\t\t\t\t_this.getMouseProjectionOnBall( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY, _rotateEnd );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\t_touchZoomDistanceEnd = Math.sqrt( dx * dx + dy * dy )\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\t_this.getMouseOnScreen( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY, _panEnd );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\t_state = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction touchend( event ) {\n\n\t\tif ( _this.enabled === false ) return;\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\n\t\t\t\t_rotateStart.copy( _this.getMouseProjectionOnBall( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY, _rotateEnd ));\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\t_touchZoomDistanceStart = _touchZoomDistanceEnd = 0;\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\t_panStart.copy( _this.getMouseOnScreen( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY, _panEnd ));\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\t_state = STATE.NONE;\n\t\t_this.dispatchEvent( endEvent );\n\n\t}\n\n\tthis.domElement.addEventListener( 'contextmenu', function ( event ) { event.preventDefault(); }, false );\n\n\tthis.domElement.addEventListener( 'mousedown', mousedown, false );\n\n\tthis.domElement.addEventListener( 'mousewheel', mousewheel, false );\n\tthis.domElement.addEventListener( 'DOMMouseScroll', mousewheel, false ); // firefox\n\n\tthis.domElement.addEventListener( 'touchstart', touchstart, false );\n\tthis.domElement.addEventListener( 'touchend', touchend, false );\n\tthis.domElement.addEventListener( 'touchmove', touchmove, false );\n\n\twindow.addEventListener( 'keydown', keydown, false );\n\twindow.addEventListener( 'keyup', keyup, false );\n\tthis.update();\n\n};\n\nTHREE.TrackballControls.prototype = Object.create( THREE.EventDispatcher.prototype );\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/three.js/examples/js/controls/TrackballControls.js\n ** module id = 264\n ** module chunks = 1\n **/","app        = require(\"app\")\nBackbone   = require(\"backbone\")\nModel      = require(\"../model\")\nView       = require(\"../view\")\nDimensions = require(\"../model/dimensions\")\nconstants  = require(\"../constants\")\nTHREE      = require(\"three\")\nTWEEN      = require(\"tween.js\")\n\nclass CameraController\n\n  # The Sceleton View Camera Controller handles the orthographic camera which is looking at the Skeleton\n  # View. It provides methods to set a certain View (animated).\n\n  cameras : null\n  flycam : null\n  model : null\n\n  constructor : (@cameras, @flycam, @model) ->\n\n    _.extend(this, Backbone.Events)\n\n    app.vent.on(\n      centerTDView : => @centerTDView()\n    )\n\n    @updateCamViewport()\n    for cam in @cameras\n      cam.near = -1000000\n      cam.far  =  1000000\n\n    @changeTDViewDiagonal(false)\n\n    @bindToEvents()\n\n  update : =>\n    gPos = @flycam.getPosition()\n    # camera porition's unit is nm, so convert it.\n    cPos = app.scaleInfo.voxelToNm(gPos)\n    @cameras[constants.PLANE_XY].position = new THREE.Vector3(cPos[0], cPos[1], cPos[2])\n    @cameras[constants.PLANE_YZ].position = new THREE.Vector3(cPos[0], cPos[1], cPos[2])\n    @cameras[constants.PLANE_XZ].position = new THREE.Vector3(cPos[0], cPos[1], cPos[2])\n\n\n  changeTDView : (id, animate = true) ->\n    camera = @cameras[constants.TDView]\n    b = app.scaleInfo.voxelToNm(@model.upperBoundary)\n\n    pos = app.scaleInfo.voxelToNm(@model.flycam.getPosition())\n    time = 800\n    to = {}\n    notify = => @trigger(\"cameraPositionChanged\")\n    getConvertedPosition = => return app.scaleInfo.voxelToNm(@model.flycam.getPosition())\n    from = {\n      notify: notify\n      getConvertedPosition: getConvertedPosition\n      upX: camera.up.x, upY: camera.up.y, upZ: camera.up.z\n      camera: camera\n      flycam: @flycam\n      dx:camera.position.x - pos[0]\n      dy:camera.position.y - pos[1]\n      dz:camera.position.z - pos[2]\n      l: camera.left, r: camera.right, t: camera.top, b: camera.bottom }\n    @tween = new TWEEN.Tween(from)\n\n    if id == constants.TDView\n      diagonal = Math.sqrt(b[0]*b[0]+b[1]*b[1])\n      padding = 0.05 * diagonal\n\n      # Calculate the distance from (0, b[1]) in order to center the view\n      a1 = b[0]; b1 = -b[1]; x1 = 0; y1 = b[1]\n      x2 = pos[0]; y2 = pos[1]\n\n      b2 = 1 / Math.sqrt(b1 * b1 / a1 / a1 + 1)\n      a2 = - b2 * b1 / a1\n      d2 = (a1 / b1 * (y1 - y2) - x1 + x2) / (- a2 + a1 * b2 / b1)\n\n      intersect = [x2 + d2 * a2, y2 + d2 * b2]\n      distance  = Dimensions.distance([x1, y1], intersect)\n\n      # Approximation to center the view vertically\n      yOffset = pos[2] - b[2] / 2\n\n      # Calulate the x coordinate so that the vector from the camera to the cube's middle point is\n      # perpendicular to the vector going from (0, b[1], 0) to (b[0], 0, 0).\n      to = {\n        dx: b[1] / diagonal\n        dy: b[0] / diagonal\n        dz:- 1 / 2\n        upX: 0, upY: 0, upZ: -1\n        l: -distance - padding\n        r: diagonal - distance + padding\n        t: diagonal / 2 + padding + yOffset\n        b: -diagonal / 2 - padding + yOffset }\n    else\n      ind = Dimensions.getIndices(id)\n      width = Math.max(b[ind[0]], b[ind[1]] * 1.12) * 1.1\n      paddingTop = width * 0.12\n      padding = width / 1.1 * 0.1 / 2\n      offsetX = pos[ind[0]] + padding + (width - b[ind[0]]) / 2\n      offsetY = pos[ind[1]] + paddingTop + padding\n\n      positionOffset = [[0, 0, -1], [1, 0, 0], [0, 1, 0]]\n      upVector       = [[0, -1, 0], [0, -1, 0], [0, 0, -1]]\n\n      to.dx = positionOffset[id][0]\n      to.dy = positionOffset[id][1]\n      to.dz = positionOffset[id][2]\n      to.upX = upVector[id][0]; to.upY = upVector[id][1]; to.upZ = upVector[id][2]\n      to.l = -offsetX; to.t = offsetY\n      to.r = to.l + width; to.b = to.t - width\n\n    if animate\n      @tween.to(to, time)\n      .onUpdate(@updateCameraTDView)\n      .start()\n    else\n      for prop of from\n        unless to[prop]?\n          to[prop] = from[prop]\n      @updateCameraTDView.call(to)\n\n  degToRad : (deg) -> deg/180*Math.PI\n\n  changeTDViewXY : => @changeTDView(constants.PLANE_XY)\n  changeTDViewYZ : => @changeTDView(constants.PLANE_YZ)\n  changeTDViewXZ : => @changeTDView(constants.PLANE_XZ)\n  changeTDViewDiagonal : (animate = true) => @changeTDView(constants.TDView, animate)\n\n  updateCameraTDView : ->\n\n    p = @getConvertedPosition()\n    @camera.position.set(@dx + p[0], @dy + p[1], @dz + p[2])\n    @camera.left = @l\n    @camera.right = @r\n    @camera.top = @t\n    @camera.bottom = @b\n    @camera.up = new THREE.Vector3(@upX, @upY, @upZ)\n\n    @flycam.setRayThreshold(@camera.right, @camera.left)\n    @camera.updateProjectionMatrix()\n    @notify()\n    app.vent.trigger(\"rerender\")\n\n\n  TDViewportSize : ->\n\n    (@cameras[constants.TDView].right - @cameras[constants.TDView].left)         # always quadratic\n\n\n  zoomTDView : (value, position, curWidth) =>\n\n    camera = @cameras[constants.TDView]\n    factor = Math.pow(0.9, value)\n    middleX = (camera.left + camera.right)/2\n    middleY = (camera.bottom + camera.top)/2\n    size = @TDViewportSize()\n\n    baseOffset = factor * size / 2\n    baseDiff = baseOffset - size / 2\n\n    if position?\n      offsetX = (position.x / curWidth * 2 - 1) * (-baseDiff)\n      offsetY = (position.y / curWidth * 2 - 1) * (+baseDiff)\n    else\n      offsetX = offsetY = 0\n\n    camera.left = middleX - baseOffset + offsetX\n    camera.right = middleX + baseOffset + offsetX\n    camera.top = middleY + baseOffset + offsetY\n    camera.bottom = middleY - baseOffset + offsetY\n    camera.updateProjectionMatrix()\n\n    @flycam.setRayThreshold(camera.right, camera.left)\n    app.vent.trigger(\"rerender\")\n\n\n  moveTDViewX : (x) =>\n\n    @moveTDViewRaw(\n      new THREE.Vector2( x * @TDViewportSize() / constants.VIEWPORT_WIDTH, 0 ))\n\n\n  moveTDViewY : (y) =>\n\n    @moveTDViewRaw(\n      new THREE.Vector2( 0, - y * @TDViewportSize() / constants.VIEWPORT_WIDTH ))\n\n\n  moveTDView : ( nmVector ) ->\n    # moves camera by the nm vector\n    camera = @cameras[constants.TDView]\n\n    rotation = THREE.Vector3.prototype.multiplyScalar.call(\n      camera.rotation.clone(), -1\n    )\n    # reverse euler order\n    rotation.order = rotation.order.split(\"\").reverse().join(\"\")\n\n    nmVector.applyEuler( rotation )\n    @moveTDViewRaw( nmVector )\n\n\n  moveTDViewRaw : (moveVector) ->\n\n    camera = @cameras[constants.TDView]\n    camera.left   += moveVector.x\n    camera.right  += moveVector.x\n    camera.top    += moveVector.y\n    camera.bottom += moveVector.y\n    camera.updateProjectionMatrix()\n    app.vent.trigger(\"rerender\")\n\n\n  centerTDView : ->\n\n    camera = @cameras[constants.TDView]\n    @moveTDViewRaw(\n      new THREE.Vector2(\n        -(camera.left + camera.right) / 2,\n        -(camera.top + camera.bottom) / 2)\n    )\n\n\n  setClippingDistance : (value) ->\n\n    @camDistance = value # Plane is shifted so it's <value> to the back and the front\n    @updateCamViewport()\n\n\n  getClippingDistance : (planeID) ->\n\n    @camDistance * app.scaleInfo.voxelPerNM[planeID]\n\n\n  updateCamViewport : ->\n\n    scaleFactor = app.scaleInfo.baseVoxel\n    boundary    = constants.VIEWPORT_WIDTH / 2 * @model.user.get(\"zoom\")\n    for i in [constants.PLANE_XY, constants.PLANE_YZ, constants.PLANE_XZ]\n      @cameras[i].near = -@camDistance\n      @cameras[i].left  = @cameras[i].bottom = -boundary * scaleFactor\n      @cameras[i].right = @cameras[i].top    =  boundary * scaleFactor\n      @cameras[i].updateProjectionMatrix()\n    app.vent.trigger(\"rerender\")\n\n\n  bindToEvents : ->\n\n    @listenTo(@model.user, \"change:clippingDistance\", (model, value) -> @setClippingDistance(value))\n    @listenTo(@model.user, \"change:zoom\", (model, value) -> @updateCamViewport())\n\n\nmodule.exports = CameraController\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/controller/camera_controller.coffee\n **/","Backbone             = require(\"backbone\")\n_                    = require(\"lodash\")\napp                  = require(\"../app\")\nBinary               = require(\"./model/binary\")\nSkeletonTracing      = require(\"./model/skeletontracing/skeletontracing\")\nUser                 = require(\"./model/user\")\nDatasetConfiguration = require(\"./model/dataset_configuration\")\nVolumeTracing        = require(\"./model/volumetracing/volumetracing\")\nConnectionInfo       = require(\"./model/binarydata_connection_info\")\nScaleInfo            = require(\"./model/scaleinfo\")\nFlycam2d             = require(\"./model/flycam2d\")\nFlycam3d             = require(\"./model/flycam3d\")\nconstants            = require(\"./constants\")\nRequest              = require(\"libs/request\")\nToast                = require(\"libs/toast\")\nErrorHandling        = require(\"libs/error_handling\")\n\n# This is THE model. It takes care of the data including the\n# communication with the server.\n\n# All public operations are **asynchronous**. We return a promise\n# which you can react on.\n\n\nclass Model extends Backbone.Model\n\n\n  constructor : ->\n\n    @initialized = false\n    super(arguments...)\n\n\n  fetch : (options) ->\n\n    if @get(\"controlMode\") == constants.CONTROL_MODE_TRACE\n      # Include /readOnly part whenever it is in the pathname\n      infoUrl = location.pathname + \"/info\"\n    else\n      infoUrl = \"/annotations/#{@get('tracingType')}/#{@get('tracingId')}/info\"\n\n    Request.receiveJSON(infoUrl).then( (tracing) =>\n\n      @set(\"datasetName\", tracing.content.dataSet.name)\n\n      if tracing.error\n        Toast.error(tracing.error)\n        return {\"error\" : true}\n\n      else unless tracing.content.dataSet\n        Toast.error(\"Selected dataset doesn't exist\")\n        return {\"error\" : true}\n\n      else unless tracing.content.dataSet.dataLayers\n        if @get(\"datasetName\")\n          Toast.error(\"Please, double check if you have the dataset '#{@get(\"datasetName\")}' imported.\")\n        else\n          Toast.error(\"Please, make sure you have a dataset imported.\")\n        return {\"error\" : true}\n\n      else\n\n        @user = new User()\n        @set(\"user\", @user)\n\n        @user.fetch().then( =>\n\n          @set(\"dataset\", new Backbone.Model(tracing.content.dataSet))\n          colorLayers = _.filter( @get(\"dataset\").get(\"dataLayers\"),\n                                  (layer) -> layer.category == \"color\")\n          @set(\"datasetConfiguration\", new DatasetConfiguration({\n            datasetName : @get(\"datasetName\")\n            dataLayerNames : _.pluck(colorLayers, \"name\")\n          }))\n          @get(\"datasetConfiguration\").fetch().then(\n            =>\n              layers = @getLayers(tracing.content.contentData.customLayers)\n\n              Promise.all(\n                @getDataTokens(layers)\n              ).then( =>\n                error = @initializeWithData(tracing, layers)\n                return error if error\n              )\n\n            -> Toast.error(\"Ooops. We couldn't communicate with our mother ship. Please try to reload this page.\")\n            )\n        )\n      )\n\n\n  determineAllowedModes : ->\n\n    allowedModes = []\n    settings = @get(\"settings\")\n    for allowedMode in settings.allowedModes\n\n      if @getColorBinaries()[0].cube.BIT_DEPTH == 8\n        switch allowedMode\n          when \"flight\" then allowedModes.push(constants.MODE_ARBITRARY)\n          when \"oblique\" then allowedModes.push(constants.MODE_ARBITRARY_PLANE)\n\n      if allowedMode in [\"orthogonal\", \"volume\"]\n        allowedModes.push(constants.MODE_NAME_TO_ID[allowedMode])\n\n    if settings.preferredMode\n      modeId = constants.MODE_NAME_TO_ID[settings.preferredMode]\n      if modeId in allowedModes\n        @set(\"preferredMode\", modeId)\n\n    allowedModes.sort()\n    return allowedModes\n\n\n  initializeWithData : (tracing, layers) ->\n\n    dataset = @get(\"dataset\")\n\n    ErrorHandling.assertExtendContext({\n      task: @get(\"tracingId\")\n      dataSet: dataset.get(\"name\")\n\n    })\n\n    console.log \"tracing\", tracing\n    console.log \"user\", @user\n\n    isVolumeTracing = \"volume\" in tracing.content.settings.allowedModes\n    app.scaleInfo = new ScaleInfo(dataset.get(\"scale\"))\n\n    if (bb = tracing.content.boundingBox)?\n        @boundingBox = {\n          min : bb.topLeft\n          max : [\n            bb.topLeft[0] + bb.width\n            bb.topLeft[1] + bb.height\n            bb.topLeft[2] + bb.depth\n          ]\n        }\n\n    @connectionInfo = new ConnectionInfo()\n    @binary = {}\n\n    maxZoomStep = -Infinity\n\n    for layer in layers\n      layer.bitDepth = parseInt(layer.elementClass.substring(4))\n      maxLayerZoomStep = Math.log(Math.max(layer.resolutions...)) / Math.LN2\n      @binary[layer.name] = new Binary(this, tracing, layer, maxLayerZoomStep, @connectionInfo)\n      maxZoomStep = Math.max(maxZoomStep, maxLayerZoomStep)\n\n    @buildMappingsObject(layers)\n\n    if @getColorBinaries().length == 0\n      Toast.error(\"No data available! Something seems to be wrong with the dataset.\")\n      return {\"error\" : true}\n\n    flycam = new Flycam2d(constants.PLANE_WIDTH, maxZoomStep + 1, @)\n    flycam3d = new Flycam3d(constants.DISTANCE_3D, dataset.get(\"scale\"))\n    @set(\"flycam\", flycam)\n    @set(\"flycam3d\", flycam3d)\n    @listenTo(flycam3d, \"changed\", (matrix, zoomStep) => flycam.setPosition(matrix[12..14]))\n    @listenTo(flycam, \"positionChanged\" : (position) => flycam3d.setPositionSilent(position))\n\n    if @get(\"controlMode\") == constants.CONTROL_MODE_TRACE\n\n      if isVolumeTracing\n        ErrorHandling.assert( @getSegmentationBinary()?,\n          \"Volume is allowed, but segmentation does not exist\" )\n        @set(\"volumeTracing\", new VolumeTracing(tracing, flycam, flycam3d, @getSegmentationBinary()))\n      else\n        @set(\"skeletonTracing\", new SkeletonTracing(tracing, flycam, flycam3d, @user))\n\n    @applyState(@get(\"state\"), tracing)\n    @computeBoundaries()\n\n    @set(\"tracing\", tracing)\n    @set(\"settings\", tracing.content.settings)\n    @set(\"allowedModes\", @determineAllowedModes())\n\n\n    # Initialize 'flight', 'oblique' or 'orthogonal'/'volume' mode\n    if @get(\"allowedModes\").length == 0\n      Toast.error(\"There was no valid allowed tracing mode specified.\")\n    else\n      mode = @get(\"preferredMode\") or @get(\"state\").mode or @get(\"allowedModes\")[0]\n      @setMode(mode)\n\n\n    @initSettersGetter()\n    @initialized = true\n    @trigger(\"sync\")\n\n    # no error\n    return\n\n\n  setMode : (mode) ->\n\n    @set(\"mode\", mode)\n    @trigger(\"change:mode\", mode)\n\n\n  # For now, since we have no UI for this\n  buildMappingsObject : (layers) ->\n\n    segmentationBinary = @getSegmentationBinary()\n\n    if segmentationBinary?\n      window.mappings = {\n        getAll : => segmentationBinary.mappings.getMappingNames()\n        getActive : => segmentationBinary.activeMapping\n        activate : (mapping) => segmentationBinary.setActiveMapping(mapping)\n      }\n\n\n  getDataTokens : (layers) ->\n\n    dataStoreUrl = @get(\"dataset\").get(\"dataStore\").url\n\n    for layer in layers\n      do (layer) =>\n        Request.receiveJSON(\"/dataToken/generate?dataSetName=#{@get(\"datasetName\")}&dataLayerName=#{layer.name}\").then( (dataStore) ->\n          layer.token = dataStore.token\n          layer.url   = dataStoreUrl\n        )\n\n\n  getColorBinaries : ->\n\n    return _.filter(@binary, (binary) ->\n      binary.category == \"color\"\n    )\n\n\n  getSegmentationBinary : ->\n\n    return _.find(@binary, (binary) ->\n      binary.category == \"segmentation\"\n    )\n\n\n  getLayers : (userLayers) ->\n    # Overwrite or extend layers with userLayers\n\n    layers = @get(\"dataset\").get(\"dataLayers\")\n    return layers unless userLayers?\n\n    for userLayer in userLayers\n\n      layer = _.find layers, (layer) ->\n        layer.name == userLayer.fallback?.layerName\n\n      if layer?\n        _.extend layer, userLayer\n      else\n        layers.push(userLayer)\n\n    return layers\n\n\n  canDisplaySegmentationData : ->\n\n    return not @flycam.getIntegerZoomStep() > 0 or not @getSegmentationBinary()\n\n\n  computeBoundaries : ->\n\n    @lowerBoundary = [ Infinity,  Infinity,  Infinity]\n    @upperBoundary = [-Infinity, -Infinity, -Infinity]\n\n    for key, binary of @binary\n      for i in [0..2]\n        @lowerBoundary[i] = Math.min @lowerBoundary[i], binary.lowerBoundary[i]\n        @upperBoundary[i] = Math.max @upperBoundary[i], binary.upperBoundary[i]\n\n  # delegate save request to all submodules\n  save : ->\n\n    submodels = []\n    promises = []\n\n    if @user?\n      submodels.push[@user]\n\n    if @get(\"dataset\")?\n      submodels.push[@get(\"dataset\")]\n\n    if @get(\"datasetConfiguration\")?\n      submodels.push[@get(\"datasetConfiguration\")]\n\n    if @get(\"volumeTracing\")?\n      submodels.push(@get(\"volumeTracing\").stateLogger)\n\n    if @get(\"skeletonTracing\")?\n      submodels.push(@get(\"skeletonTracing\").stateLogger)\n\n    _.each(submodels, (model) ->\n      promises.push( model.save() )\n    )\n\n    return Promise.all(promises).then(\n      ->\n        Toast.success(\"Saved!\")\n        return Promise.resolve(arguments)\n      ->\n        Toast.error(\"Couldn't save. Please try again.\")\n        return Promise.reject(arguments)\n    )\n\n\n  # Make the Model compatible between legacy Oxalis style and Backbone.Models/Views\n  initSettersGetter : ->\n\n    _.forEach(@attributes, (value, key, attribute) =>\n\n      Object.defineProperty(@, key,\n        set : (val) ->\n          this.set(key, val)\n        , get : ->\n          return @get(key)\n      )\n    )\n\n\n  applyState : (state, tracing) ->\n\n    @get(\"flycam\").setPosition(state.position || tracing.content.editPosition)\n    if state.zoomStep?\n      @get(\"user\").set(\"zoom\", Math.exp(Math.LN2 * state.zoomStep))\n      @get(\"flycam3d\").setZoomStep( state.zoomStep )\n\n    rotation = state.rotation || tracing.content.editRotation\n    if rotation?\n      @get(\"flycam3d\").setRotation(rotation)\n\n    if state.activeNode?\n      @get(\"skeletonTracing\")?.setActiveNode(state.activeNode)\n\n\nmodule.exports = Model\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model.coffee\n **/","Backbone               = require(\"backbone\")\nInterpolationCollector = require(\"./binary/interpolation_collector\")\nCube                   = require(\"./binary/cube\")\nPullQueue              = require(\"./binary/pullqueue\")\nPushQueue              = require(\"./binary/pushqueue\")\nPlane2D                = require(\"./binary/plane2d\")\nPingStrategy           = require(\"./binary/ping_strategy\")\nPingStrategy3d         = require(\"./binary/ping_strategy_3d\")\nBoundingBox            = require(\"./binary/bounding_box\")\nMappings               = require(\"./binary/mappings\")\nPipeline               = require(\"libs/pipeline\")\nconstants              = require(\"../constants\")\n\nclass Binary\n\n  # Constants\n  PING_THROTTLE_TIME : 50\n  DIRECTION_VECTOR_SMOOTHER : .125\n  TEXTURE_SIZE_P : 0\n\n  cube : null\n  pullQueue : null\n  planes : []\n\n  direction : [0, 0, 0]\n\n  constructor : (@model, @tracing, @layer, maxZoomStep, @connectionInfo) ->\n\n    _.extend(this, Backbone.Events)\n\n    @TEXTURE_SIZE_P = constants.TEXTURE_SIZE_P\n    { @category, @name } = @layer\n\n    @targetBitDepth = if @category == \"color\" then @layer.bitDepth else 8\n\n    {topLeft, width, height, depth} = @layer.maxCoordinates\n    @lowerBoundary  = topLeft\n    @upperBoundary  = [ topLeft[0] + width, topLeft[1] + height, topLeft[2] + depth ]\n\n    @cube = new Cube(@upperBoundary, maxZoomStep + 1, @layer.bitDepth)\n    @boundingBox = new BoundingBox(@model.boundingBox, @cube)\n\n    updatePipeline = new Pipeline([@tracing.version])\n\n    datasetName = @model.get(\"dataset\").get(\"name\")\n    @pullQueue = new PullQueue(datasetName, @cube, @layer, @boundingBox, @connectionInfo)\n    @pushQueue = new PushQueue(datasetName, @cube, @layer, @tracing.id, updatePipeline)\n    @cube.initializeWithQueues(@pullQueue, @pushQueue)\n    @mappings = new Mappings(@model.dataSetName, @layer)\n    @activeMapping = null\n\n    @pingStrategies = [\n      new PingStrategy.Skeleton(@cube, @TEXTURE_SIZE_P),\n      new PingStrategy.Volume(@cube, @TEXTURE_SIZE_P)\n    ]\n    @pingStrategies3d = [\n      new PingStrategy3d.DslSlow()\n    ]\n\n    @planes = []\n    for planeId in constants.ALL_PLANES\n      @planes.push( new Plane2D(planeId, @cube, @pullQueue, @TEXTURE_SIZE_P, @layer.bitDepth, @targetBitDepth, 32) )\n\n    @pullQueue.setFourBit(@model.get(\"datasetConfiguration\").get(\"fourBit\"))\n    @listenTo(@model.get(\"datasetConfiguration\"), \"change:fourBit\" , (model, fourBit) -> @pullQueue.setFourBit(fourBit) )\n\n    @cube.on(\n      newMapping : =>\n        @forcePlaneRedraw()\n    )\n\n    @ping = _.throttle(@pingImpl, @PING_THROTTLE_TIME)\n\n\n  forcePlaneRedraw : ->\n\n    for plane in @planes\n      plane.forceRedraw()\n\n\n  setActiveMapping : (mappingName) ->\n\n    @activeMapping = mappingName\n\n    setMapping = (mapping) =>\n      @cube.setMapping(mapping)\n      @model.flycam.update()\n\n    if mappingName?\n      @mappings.getMappingArrayAsync(mappingName).then(setMapping)\n    else\n      setMapping([])\n\n\n  setActiveMapping : (mappingName) ->\n\n    @activeMapping = mappingName\n\n    setMapping = (mapping) =>\n      @cube.setMapping(mapping)\n      @model.flycam.update()\n\n    if mappingName?\n      @mappings.getMappingArrayAsync(mappingName).then(setMapping)\n    else\n      setMapping([])\n\n\n  pingStop : ->\n\n    @pullQueue.clearNormalPriorities()\n\n\n  pingImpl : (position, {zoomStep, area, activePlane}) ->\n\n    if @lastPosition?\n\n      @direction = [\n        (1 - @DIRECTION_VECTOR_SMOOTHER) * @direction[0] + @DIRECTION_VECTOR_SMOOTHER * (position[0] - @lastPosition[0])\n        (1 - @DIRECTION_VECTOR_SMOOTHER) * @direction[1] + @DIRECTION_VECTOR_SMOOTHER * (position[1] - @lastPosition[1])\n        (1 - @DIRECTION_VECTOR_SMOOTHER) * @direction[2] + @DIRECTION_VECTOR_SMOOTHER * (position[2] - @lastPosition[2])\n      ]\n\n    unless _.isEqual(position, @lastPosition) and zoomStep == @lastZoomStep and _.isEqual(area, @lastArea)\n\n      @lastPosition = position.slice()\n      @lastZoomStep = zoomStep\n      @lastArea     = area.slice()\n\n      for strategy in @pingStrategies\n        if strategy.forContentType(@tracing.contentType) and strategy.inVelocityRange(@connectionInfo.bandwidth) and strategy.inRoundTripTimeRange(@connectionInfo.roundTripTime)\n          if zoomStep? and area? and activePlane?\n            @pullQueue.clearNormalPriorities()\n            @pullQueue.addAll(strategy.ping(position, @direction, zoomStep, area, activePlane))\n          break\n\n      @pullQueue.pull()\n\n\n  arbitraryPing : _.once (matrix) ->\n\n    @arbitraryPing = _.throttle(@arbitraryPingImpl, @PING_THROTTLE_TIME)\n    @arbitraryPing(matrix)\n\n\n  arbitraryPingImpl : (matrix) ->\n\n    for strategy in @pingStrategies3d\n      if strategy.forContentType(@tracing.contentType) and strategy.inVelocityRange(1) and strategy.inRoundTripTimeRange(@pullQueue.roundTripTime)\n        @pullQueue.clearNormalPriorities()\n        @pullQueue.addAll(strategy.ping(matrix))\n        break\n\n    @pullQueue.pull()\n\n\n  getByVerticesSync : (vertices) ->\n    # A synchronized implementation of `get`. Cuz its faster.\n\n    { buffer, missingBuckets } = InterpolationCollector.bulkCollect(\n      vertices\n      @cube.getArbitraryCube()\n    )\n\n    @pullQueue.addAll(missingBuckets.map(\n      (bucket) ->\n        bucket: bucket\n        priority: PullQueue::PRIORITY_HIGHEST\n    ))\n    @pullQueue.pull()\n\n    buffer\n\nmodule.exports = Binary\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/binary.coffee\n **/","_ = require(\"lodash\")\n\ntemplateFill = (str, params) ->\n\n  params.forEach( (param) ->\n    str = str.replace(new RegExp(\"([^a-zA-Z0-9_])#{param}([^a-zA-Z0-9_])\", \"gm\"), (match, pre, post) -> \"#{pre}<%= #{param} %>#{post}\")\n  )\n  str\n\n\n# This provides interpolation mechanics. It's a lot of code. But it\n# should run fast.\n\n# See model/binary/cube to find out how this works\n# Parameters: pointIndex, x, y, z, zoomStep\n# Locals: coordMask\npointIndexMacro = _.template(\n  templateFill(\n    \"\"\"\n    //-- pointIndexMacro(pointIndex, x, y, z, zoomStep)\n    coordMask = 31 << zoomStep;\n\n    pointIndex =\n      (\n        ((z & coordMask) << (10 - zoomStep)) +\n        ((y & coordMask) << (5 - zoomStep)) +\n        ((x & coordMask) >> (zoomStep))\n      ) >> 0;\n    \"\"\"\n    [\"pointIndex\", \"x\", \"y\", \"z\", \"zoomStep\"]\n  )\n)\n\n# Finding points adjacent to the already found one.\n# We make use of the bucket structure and index arithmetic to optimize\n# lookup time.\n# Returns a color value between 0 and 255.\n#\n# pointIndex = 111111 111111 111111\n#                 x      y      z\n#\n# Parameters: output, xd, yd, zd\n# Implicits: buckets, basePointIndex, baseBucketIndex, sizeZ, sizeZY, lastBucket, lastBucketIndex, lastBucketZoomStep, bucket\n# Locals: bucketIndex, sub_x, sub_y, sub_Z\nsubPointMacro = _.template(\n  \"\"\"\n  //-- subPointMacro(<%= output %>, <%= xd %>, <%= yd %>, <%= zd %>)\n  bucketIndex = baseBucketIndex;\n\n  sub_x = x0;\n  sub_y = y0;\n  sub_z = z0;\n\n  // We use bitmasks to handle x, y and z coordinates.\n  <% if (zd) { %>\n  // `31     = 00000 00000 11111`\n    sub_z++;\n    if ((basePointIndex & 31744) == 31744) {\n\n      // The point seems to be at the right border.\n      bucketIndex++;\n\n      // Bound checking.\n      if (bucketIndex % sizeZ == 0)\n        continue;\n    }\n  <% } %>\n\n  <% if (yd) { %>\n  // `992   = 00000 11111 00000`\n    sub_y++;\n    if ((basePointIndex & 992) == 992) {\n\n      // The point is to at the bottom border.\n      bucketIndex += sizeZ;\n\n      // Bound checking.\n      if (bucketIndex % sizeZY == 0)\n        continue;\n    }\n  <% } %>\n\n  <% if (xd) { %>\n  // `31744 = 11111 00000 00000`\n    sub_x++;\n    if ((basePointIndex & 31) == 31) {\n      // The point seems to be at the back border.\n      bucketIndex += sizeZY;\n    }\n  <% } %>\n\n\n  if (bucketIndex == lastBucketIndex) {\n\n    <%= pointIndexMacro({ pointIndex : \"pointIndex\", x : \"sub_x\", y : \"sub_y\", z : \"sub_z\", zoomStep : \"lastBucketZoomStep\" }) %>\n\n    <%= output %> = lastBucket[pointIndex];\n\n  } else if ((bucket = buckets.getBucket(bucketIndex)) != null) {\n\n    bucketZoomStep = bucket.zoomStep || 0;\n\n    <%= pointIndexMacro({ pointIndex : \"pointIndex\", x : \"sub_x\", y : \"sub_y\", z : \"sub_z\", zoomStep : \"bucketZoomStep\" }) %>\n\n    lastBucket = bucket;\n    lastBucketIndex = bucketIndex;\n    lastBucketZoomStep = bucketZoomStep;\n\n    <%= output %> = bucket[pointIndex];\n\n  } else {\n    if(buckets.isValidBucket(bucketIndex) && missingBuckets.length < 100) {\n\n      missingBuckets.push([\n        Math.floor(bucketIndex / sizeZY),\n        Math.floor((bucketIndex % sizeZY) / sizeZ),\n        bucketIndex % sizeZ,\n        0\n      ])\n    }\n    continue;\n  }\n  \"\"\"\n  { imports : { pointIndexMacro } }\n)\n\n# Trilinear interpolation (Point is in a cube)\n# Parameters: output, p000, p100, p010, p110, p001, p101, p011, p111, d0, d1, d2\ntrilinearMacro = _.template(\n  templateFill(\n    \"\"\"\n    //-- trilinearMacro(output, p000, p100, p010, p110, p001, p101, p011, p111, d0, d1, d2)\n\n    output =\n      p000 * (1 - d0) * (1 - d1) * (1 - d2) +\n      p100 * d0 * (1 - d1) * (1 - d2) +\n      p010 * (1 - d0) * d1 * (1 - d2) +\n      p110 * d0 * d1 * (1 - d2) +\n      p001 * (1 - d0) * (1 - d1) * d2 +\n      p101 * d0 * (1 - d1) * d2 +\n      p011 * (1 - d0) * d1 * d2 +\n      p111 * d0 * d1 * d2;\n\n    \"\"\"\n    [\"output\", \"p000\", \"p100\", \"p010\", \"p110\", \"p001\", \"p101\", \"p011\", \"p111\", \"d0\", \"d1\", \"d2\" ]\n  )\n)\n\n\n# This macro is used for collecting and interpolating the data.\n# It aims to be fast, therefore the code is ugly.\n# Parameters: x, y, z, buffer, j, buckets, min_x, min_y, min_z, max_x, max_y, max_z, sizeZ, sizeZY\n# Locals: output0, output1, output2, output3, output4, output5, output6, output7, x0, y0, z0, xd, yd, zd, baseBucketIndex, basePointIndex\ncollectLoopMacro = _.template(\n  templateFill(\n    \"\"\"\n    //-- collectLoopMacro(x, y, z, buffer, j, buckets, min_x, min_y, min_z, max_x, max_y, max_z, sizeZ, sizeZY)\n\n    output0 = output1 = output2 = output3 = output4 = output5 = output6 = output7 = 0;\n\n    // Cube bound checking is necessary.\n    if (x < min_x || y < min_y || z < min_z || x > max_x || y > max_y || z > max_z)\n      continue;\n\n    // Bitwise operations provide fast rounding of numbers.\n    x0 = x >> 0; xd = x - x0;\n    y0 = y >> 0; yd = y - y0;\n    z0 = z >> 0; zd = z - z0;\n\n    baseBucketIndex =\n      ((x0 - min_x) >> 5) * sizeZY +\n      ((y0 - min_y) >> 5) * sizeZ +\n      ((z0 - min_z) >> 5);\n\n    basePointIndex =\n      ((z0 & 31) << 10) +\n      ((y0 & 31) << 5) +\n      ((x0 & 31));\n\n    // trilinear x,y,z\n    <%= subPointMacro({ output : \"output0\", xd : 0,  yd : 0,  zd : 0 }) %>\n    <%= subPointMacro({ output : \"output1\", xd : 1,  yd : 0,  zd : 0 }) %>\n    <%= subPointMacro({ output : \"output2\", xd : 0,  yd : 1,  zd : 0 }) %>\n    <%= subPointMacro({ output : \"output3\", xd : 1,  yd : 1,  zd : 0 }) %>\n    <%= subPointMacro({ output : \"output4\", xd : 0,  yd : 0,  zd : 1 }) %>\n    <%= subPointMacro({ output : \"output5\", xd : 1,  yd : 0,  zd : 1 }) %>\n    <%= subPointMacro({ output : \"output6\", xd : 0,  yd : 1,  zd : 1 }) %>\n    <%= subPointMacro({ output : \"output7\", xd : 1,  yd : 1,  zd : 1 }) %>\n\n    <%= trilinearMacro({\n      output : \"trilinearOutput\",\n      p000 : \"output0\",\n      p100 : \"output1\",\n      p010 : \"output2\",\n      p110 : \"output3\",\n      p001 : \"output4\",\n      p101 : \"output5\",\n      p011 : \"output6\",\n      p111 : \"output7\",\n      d0 : \"xd\",\n      d1 : \"yd\",\n      d2 : \"zd\"\n    }) %>\n    buffer[j] = trilinearOutput;\n    \"\"\"\n    [\"x\", \"y\", \"z\", \"buffer\", \"j\", \"buckets\", \"min_x\", \"min_y\", \"min_z\", \"max_x\", \"max_y\", \"max_z\", \"sizeZ\", \"sizeZY\"]\n  )\n  { imports : { trilinearMacro, subPointMacro } }\n)\nInterpolationCollector =\n  bulkCollect : new Function(\n    \"vertices\", \"buckets\",\n    _.template(\n      \"\"\"\n      var buffer = new Uint8Array(vertices.length / 3);\n      var missingBuckets = [];\n      var x, y, z;\n      var sub_x, sub_y, sub_z;\n      var output0, output1, output2, output3, output4, output5, output6, output7, x0, y0, z0, xd, yd, zd, baseBucketIndex, basePointIndex;\n      var coordMask, boundary;\n      var bucketZoomStep, bucket;\n      var sizeZ, sizeZY, lastBucket, lastBucketIndex, lastBucketZoomStep;\n      var bucketIndex, sub_x, sub_y, sub_Z;\n      var min_x, min_y, min_z, max_x, max_y, max_z;\n      var i, j;\n\n      buckets.reset();\n\n      if (buckets) {\n\n        boundary = buckets.boundary;\n\n        sizeZ  = boundary[2];\n        sizeZY = boundary[2] * boundary[1];\n\n        min_x = 0; //cubeOffset[0] << 5;\n        min_y = 0; //cubeOffset[1] << 5;\n        min_z = 0; //cubeOffset[2] << 5;\n        max_x = min_x + (boundary[0] << 5) - 1;\n        max_y = min_y + (boundary[1] << 5) - 1;\n        max_z = min_z + (boundary[2] << 5) - 1;\n\n        lastBucket = null;\n        lastBucketIndex = -1;\n        lastBucketZoomStep = 0;\n\n        i = vertices.length;\n\n        j = -1;\n\n        while (i) {\n\n          z = vertices[--i];\n          y = vertices[--i];\n          x = vertices[--i];\n\n          j++;\n\n          <%= collectLoopMacro({\n            x : \"x\", y : \"y\", z : \"z\",\n            buffer : \"buffer\",\n            j : \"j\", buckets : \"buckets\",\n            min_x : \"min_x\", min_y : \"min_y\", min_z : \"min_z\",\n            max_x : \"max_x\", max_y : \"max_y\", max_z : \"max_z\",\n            sizeZ : \"sizeZ\", sizeZY : \"sizeZY\"\n          }) %>\n        }\n      }\n\n      return {\n        buffer : buffer,\n        missingBuckets : missingBuckets\n      };\n\n      //# sourceURL=/oxalis/model/binary/interpolation_collector/bulkCollect\n      \"\"\"\n    )({collectLoopMacro})\n  )\n\n\nmodule.exports = InterpolationCollector\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/binary/interpolation_collector.coffee\n **/","Backbone = require(\"backbone\")\n_ = require(\"lodash\")\nErrorHandling = require(\"../../../libs/error_handling\")\n{Bucket, NullBucket} = require(\"./bucket\")\nArbitraryCubeAdapter = require(\"./arbitrary_cube_adapter\")\nTemporalBucketManager = require(\"./temporal_bucket_manager\")\n\nclass Cube\n\n  # Constants\n  BUCKET_SIZE_P : 5\n  CUBE_SIZE_P   : 7\n  LOCAL_ID_SIZE_P : 16\n  BUCKET_LENGTH : 0\n  ZOOM_STEP_COUNT : 0\n  LOOKUP_DEPTH_UP : 0\n  LOOKUP_DEPTH_DOWN : 1\n  MAXIMUM_BUCKET_COUNT : 5000\n  ARBITRARY_MAX_ZOOMSTEP : 2\n\n  EMPTY_MAPPING : null\n\n  arbitraryCube : null\n  dataCubes : null\n  upperBoundary : null\n\n  buckets : null\n  bucketIterator : 0\n  bucketCount : 0\n\n\n  # The cube stores the buckets in a seperate array for each zoomStep. For each\n  # zoomStep the cube-array contains the boundaries and an array holding the buckets.\n  # The bucket-arrays are initialized large enough to hold the whole cube. Thus no\n  # expanding is necessary. bucketCount keeps track of how many buckets are currently\n  # in the cube.\n  #\n  # Each bucket consists of an access-value, the zoomStep and the actual data.\n  # The access-values are used for garbage collection. When a bucket is accessed, its\n  # access-flag is set to true.\n  # When buckets have to be collected, an iterator will loop through the the buckets at the beginning of the queue will be removed\n  # from the queue and the access-value will be decreased. If the access-value of a\n  # bucket becomes 0, itsis no longer in the access-queue and is least resently used.\n  # It is then removed from the cube.\n\n\n  constructor : (@upperBoundary, @ZOOM_STEP_COUNT, @BIT_DEPTH) ->\n\n    _.extend(this, Backbone.Events)\n\n    @NULL_BUCKET = new NullBucket()\n\n    @LOOKUP_DEPTH_UP = @ZOOM_STEP_COUNT - 1\n    @MAX_ZOOM_STEP   = @ZOOM_STEP_COUNT - 1\n    @BUCKET_LENGTH   = (1 << @BUCKET_SIZE_P * 3) * (@BIT_DEPTH >> 3)\n    @BYTE_OFFSET     = (@BIT_DEPTH >> 3)\n\n    @cubes = []\n    @buckets = new Array(@MAXIMUM_BUCKET_COUNT)\n\n    @mapping = @EMPTY_MAPPING\n    @currentMapping = @mapping\n\n    # Initializing the cube-arrays with boundaries\n    cubeBoundary = [\n      Math.ceil(@upperBoundary[0] / (1 << @BUCKET_SIZE_P))\n      Math.ceil(@upperBoundary[1] / (1 << @BUCKET_SIZE_P))\n      Math.ceil(@upperBoundary[2] / (1 << @BUCKET_SIZE_P))\n    ]\n\n    @arbitraryCube = new ArbitraryCubeAdapter(@, cubeBoundary.slice())\n\n    for i in [0...@ZOOM_STEP_COUNT]\n\n      @cubes[i] = {}\n      @cubes[i].data = new Array(cubeBoundary[0] * cubeBoundary[1] * cubeBoundary[2])\n      @cubes[i].boundary = cubeBoundary.slice()\n\n      cubeBoundary = [\n        (cubeBoundary[0] + 1) >> 1\n        (cubeBoundary[1] + 1) >> 1\n        (cubeBoundary[2] + 1) >> 1\n      ]\n\n\n  initializeWithQueues : (@pullQueue, @pushQueue) ->\n    # Due to cyclic references, this method has to be called before the cube is\n    # used with the instantiated queues\n\n    @temporalBucketManager = new TemporalBucketManager(@pullQueue, @pushQueue)\n\n\n  setMapping : (@mapping) ->\n\n    @trigger(\"mappingChanged\")\n\n\n  setMappingEnabled : (isEnabled) ->\n\n    @currentMapping = if isEnabled then @mapping else @EMPTY_MAPPING\n    @trigger(\"newMapping\")\n\n\n  hasMapping : ->\n\n    return @mapping?\n\n\n  setMapping : (newMapping) ->\n\n    # Generate fake mapping\n    #if not newMapping.length\n    #  newMapping = new newMapping.constructor(1 << @BIT_DEPTH)\n    #  for i in [0...(1 << @BIT_DEPTH)]\n    #    newMapping[i] = if i == 0 then 0 else i + 1\n\n    if @currentMapping == @mapping\n      @currentMapping = newMapping\n    @mapping = newMapping\n\n    @trigger(\"newMapping\")\n\n\n  mapId : (idToMap) ->\n\n    return if @currentMapping? and (mappedId = @currentMapping[idToMap])? then mappedId else idToMap\n\n\n  getArbitraryCube : ->\n\n    return @arbitraryCube\n\n\n  getVoxelIndexByVoxelOffset : ([x, y, z]) ->\n\n    return x + y * (1 << @BUCKET_SIZE_P) + z * (1 << @BUCKET_SIZE_P * 2)\n\n\n  getBucketIndexByZoomedAddress : ([x, y, z, zoomStep]) ->\n\n    ErrorHandling.assertExists(@cubes[zoomStep], \"Cube for given zoomStep does not exist\"\n      cubeCount: @cubes.length\n      zoomStep: zoomStep\n      zoomStepCount: @ZOOM_STEP_COUNT\n    )\n\n    boundary = @cubes[zoomStep].boundary\n\n    if  x >= 0 and x < boundary[0] and\n        y >= 0 and y < boundary[1] and\n        z >= 0 and z < boundary[2]\n\n      return x * boundary[2] * boundary[1] + y * boundary[2] + z\n\n    else\n\n      return undefined\n\n\n  getBucketByZoomedAddress : (address) ->\n\n    if address[3] >= @ZOOM_STEP_COUNT\n      return @NULL_BUCKET\n\n    bucketIndex = @getBucketIndexByZoomedAddress(address)\n    cube = @cubes[address[3]].data\n\n    if bucketIndex?\n      unless cube[bucketIndex]?\n        cube[bucketIndex] = @createBucket(address)\n      return cube[bucketIndex]\n\n    return @NULL_BUCKET\n\n\n  createBucket : (address) ->\n\n    bucket = new Bucket(@BIT_DEPTH, address, @temporalBucketManager)\n    bucket.on\n      bucketLoaded : => @trigger(\"bucketLoaded\", address)\n    @addBucketToGarbageCollection(bucket)\n    return bucket\n\n\n  addBucketToGarbageCollection : (bucket) ->\n\n    if @bucketCount >= @MAXIMUM_BUCKET_COUNT\n\n      for i in [0...(2 * @bucketCount)]\n\n        @bucketIterator = ++@bucketIterator % @MAXIMUM_BUCKET_COUNT\n        break if @buckets[@bucketIterator].shouldCollect()\n\n      if not @buckets[@bucketIterator].shouldCollect()\n        throw new Error(\"All buckets have shouldCollect == false permanently\")\n\n      @collectBucket(@buckets[@bucketIterator])\n      @bucketCount--\n\n    @bucketCount++\n    @buckets[@bucketIterator] = bucket\n    @bucketIterator = ++@bucketIterator % @MAXIMUM_BUCKET_COUNT\n\n\n  collectBucket : (bucket) ->\n\n    address = bucket.zoomedAddress\n    bucketIndex = @getBucketIndexByZoomedAddress(address)\n    cube = @cubes[address[3]].data\n    cube[bucketIndex] = null\n\n\n  labelTestShape : ->\n    # draw a sqhere, centered at (100, 100, 100) with radius 50\n\n    for x in [80..120]\n      for y in [80..120]\n        for z in [80..120]\n\n          if Math.sqrt((x-100) * (x-100) + (y-100) * (y-100) + (z-100) * (z-100)) <= 20\n            @labelVoxel([x, y, z], 5)\n\n    @trigger(\"volumeLabeled\")\n\n\n  labelVoxels : (iterator, label) ->\n\n    while iterator.hasNext\n      voxel = iterator.getNext()\n      @labelVoxel(voxel, label)\n\n    @pushQueue.push()\n    @trigger(\"volumeLabeled\")\n\n\n  labelVoxel : (voxel, label) ->\n\n    voxelInCube = true\n    for i in [0..2]\n      voxelInCube &= 0 <= voxel[i] < @upperBoundary[i]\n\n    if voxelInCube\n\n      { bucket, voxelIndex } = @getBucketAndVoxelIndex(voxel, 0, true)\n\n      labelFunc = (data) =>\n        # Write label in little endian order\n        for i in [0...@BYTE_OFFSET]\n          data[voxelIndex + i] = (label >> (i * 8) ) & 0xff\n\n      bucket.label(labelFunc)\n\n      # Push bucket if it's loaded, otherwise, TemporalBucketManager will push\n      # it once it is.\n      if bucket.isLoaded()\n        @pushQueue.insert(@positionToZoomedAddress(voxel))\n\n\n  getDataValue : ( voxel, mapping=@EMPTY_MAPPING ) ->\n\n    { bucket, voxelIndex} = @getBucketAndVoxelIndex( voxel, 0 )\n\n    if bucket.hasData()\n\n      data = bucket.getData()\n      result = 0\n      # Assuming little endian byte order\n      for i in [0...@BYTE_OFFSET]\n        result += (1 << (8 * i)) * data[ voxelIndex + i]\n\n      if mapping?[result]?\n        return mapping[result]\n\n      return result\n\n    return 0\n\n\n  getMappedDataValue : (voxel) ->\n\n    return @getDataValue(voxel, @currentMapping)\n\n\n  getBucketAndVoxelIndex : (voxel, zoomStep, createBucketIfUndefined = false ) ->\n\n    address = @positionToZoomedAddress( voxel, zoomStep )\n\n    [x, y, z] = voxel.map((v) -> v & 0b11111)\n    voxelIndex = x + y * (1 << @BUCKET_SIZE_P) + z * (1 << @BUCKET_SIZE_P * 2)\n\n    return {\n      bucket : @getBucketByZoomedAddress(address, createBucketIfUndefined)\n      voxelIndex : @BYTE_OFFSET * voxelIndex }\n\n\n  positionToZoomedAddress : ([x, y, z], zoomStep = 0) ->\n    # return the bucket a given voxel lies in\n\n    [\n      x >> @BUCKET_SIZE_P + zoomStep,\n      y >> @BUCKET_SIZE_P + zoomStep,\n      z >> @BUCKET_SIZE_P + zoomStep,\n      zoomStep\n    ]\n\nmodule.exports = Cube\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/binary/cube.coffee\n **/","Backbone = require(\"backbone\")\n_ = require(\"lodash\")\n\nclass Bucket\n\n\n  STATE_UNREQUESTED : 0\n  STATE_REQUESTED : 1\n  STATE_LOADED : 2\n\n  BUCKET_SIZE_P : 5\n\n\n  constructor : (@BIT_DEPTH, @zoomedAddress, @temporalBucketManager) ->\n\n    _.extend(this, Backbone.Events)\n\n    @BUCKET_LENGTH = (1 << @BUCKET_SIZE_P * 3) * (@BIT_DEPTH >> 3)\n    @BYTE_OFFSET   = (@BIT_DEPTH >> 3)\n\n    @state = @STATE_UNREQUESTED\n    @dirty = false\n    @accessed = true\n\n    @data = null\n\n\n  shouldCollect : ->\n\n    collect = not @accessed and not @dirty and @state != @STATE_REQUESTED\n    @accessed = false\n    return collect\n\n\n  needsRequest : ->\n\n    return @state == @STATE_UNREQUESTED\n\n\n  isLoaded : ->\n\n    return @state == @STATE_LOADED\n\n\n  label : (labelFunc) ->\n\n    labelFunc(@getOrCreateData())\n    @dirty = true\n\n\n  hasData : ->\n\n    return @data?\n\n\n  getData : ->\n\n    unless @data?\n      throw new Error(\"Bucket.getData() called, but data does not exist.\")\n\n    @accessed = true\n    return @data\n\n\n  getOrCreateData : ->\n\n    unless @data?\n      @data = new Uint8Array(@BUCKET_LENGTH)\n      @temporalBucketManager.addBucket(this)\n\n    return @getData()\n\n\n  pull : ->\n\n    @state = switch @state\n      when @STATE_UNREQUESTED then @STATE_REQUESTED\n      else @unexpectedState()\n\n\n  pullFailed : ->\n\n    @state = switch @state\n      when @STATE_REQUESTED then @STATE_UNREQUESTED\n      else @unexpectedState()\n\n\n  receiveData : (data) ->\n\n    @state = switch @state\n      when @STATE_REQUESTED\n        if @dirty\n          @merge(data)\n        else\n          @data = data\n        @trigger(\"bucketLoaded\")\n        @STATE_LOADED\n      else\n        @unexpectedState()\n\n\n  push : ->\n\n    switch @state\n      when @STATE_LOADED\n        @dirty = false\n      else\n        @unexpectedState()\n\n\n  unexpectedState : ->\n\n    throw new Error(\"Unexpected state: \" + @state)\n\n\n  merge : (newData) ->\n\n    voxelPerBucket = 1 << @BUCKET_SIZE_P * 3\n    for i in [0...voxelPerBucket]\n\n      oldVoxel = (@data[i * @BYTE_OFFSET + j] for j in [0...@BYTE_OFFSET])\n      oldVoxelEmpty = _.reduce(oldVoxel, ((memo, v) => memo and v == 0), true)\n\n      if oldVoxelEmpty\n        for j in [0...@BYTE_OFFSET]\n          @data[i * @BYTE_OFFSET + j] = newData[i * @BYTE_OFFSET + j]\n\n\nclass NullBucket extends Bucket\n\n  constructor : ->\n    super(0)\n    @state = @STATE_LOADED\n\n  label : (_) ->  # Do nothing\n\n\nmodule.exports = {Bucket, NullBucket}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/binary/bucket.coffee\n **/","_ = require(\"lodash\")\n\nclass ArbitraryCubeAdapter\n\n  ARBITRARY_MAX_ZOOMSTEP : 2\n\n\n  constructor : (@cube, @boundary) ->\n\n    @sizeZYX = @boundary[0] * @boundary[1] * @boundary[2]\n    @sizeZY  = @boundary[1] * @boundary[2]\n    @sizeZ   = @boundary[2]\n\n\n  getBucket : _.memoize((bucketIndex) ->\n\n    return null unless @isValidBucket(bucketIndex)\n\n    bucketAddress = [\n      Math.floor(bucketIndex / @sizeZY),\n      Math.floor((bucketIndex % @sizeZY) / @sizeZ),\n      bucketIndex % @sizeZ,\n      0\n    ]\n\n    for zoomStep in [0..@ARBITRARY_MAX_ZOOMSTEP]\n      if @cube.getBucketByZoomedAddress(bucketAddress).hasData()\n        bucketData = @cube.getBucketByZoomedAddress(bucketAddress).getData()\n        bucketData.zoomStep = zoomStep\n        return bucketData\n\n      bucketAddress = [\n        bucketAddress[0] >> 1\n        bucketAddress[1] >> 1\n        bucketAddress[2] >> 1\n        bucketAddress[3] + 1\n      ]\n\n    return null\n  )\n\n\n  isValidBucket : (bucketIndex) ->\n\n    return bucketIndex < @sizeZYX\n\n\n  reset : ->\n\n    @getBucket.cache.__data__ = {}\n\n\nmodule.exports = ArbitraryCubeAdapter\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/binary/arbitrary_cube_adapter.coffee\n **/","PullQueue = require(\"./pullqueue\")\n_ = require(\"lodash\")\n\n\nclass TemporalBucketManager\n  # Manages temporal buckets (i.e., buckets created for annotation where\n  # the original bucket has not arrived from the server yet) and handles\n  # their special treatment.\n\n\n  constructor : (@pullQueue, @pushQueue) ->\n\n    @loadedPromises = []\n\n\n  getCount : ->\n\n    return @loadedPromises.length\n\n\n  addBucket : (bucket) ->\n\n    @pullBucket(bucket)\n    @loadedPromises.push(@makeLoadedPromise(bucket))\n\n\n  pullBucket : (bucket) ->\n\n    @pullQueue.add(\n        bucket: bucket.zoomedAddress\n        priority: PullQueue::PRIORITY_HIGHEST\n    )\n    @pullQueue.pull()\n\n\n  makeLoadedPromise : (bucket) ->\n\n    loadedPromise = new Promise(\n      (resolve, reject) =>\n        bucket.on \"bucketLoaded\", =>\n\n          if bucket.dirty\n            @pushQueue.insert(bucket.zoomedAddress)\n\n          _.removeElement(@loadedPromises, loadedPromise)\n          resolve()\n    )\n    return loadedPromise\n\n\n  getAllLoadedPromise : ->\n\n    return Promise.all(@loadedPromises)\n\n\nmodule.exports = TemporalBucketManager\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/binary/temporal_bucket_manager.coffee\n **/","_             = require(\"lodash\")\nCube          = require(\"./cube\")\nRequest       = require(\"../../../libs/request\")\nMultipartData = require(\"../../../libs/multipart_data\")\n\nclass PullQueue\n\n  # Constants\n  BATCH_LIMIT : 6\n  BATCH_SIZE : 3\n  MESSAGE_TIMEOUT : 10000\n\n  # For buckets that should be loaded immediately and\n  # should never be removed from the queue\n  PRIORITY_HIGHEST : -1\n\n  cube : null\n  queue : null\n\n  dataSetName : \"\"\n\n  batchCount : 0\n  roundTripTime : 0\n\n\n  constructor : (@dataSetName, @cube, @layer, @boundingBox, @connectionInfo) ->\n\n    @queue = []\n    @url = \"#{@layer.url}/data/datasets/#{@dataSetName}/layers/#{@layer.name}/data?cubeSize=#{1 << @cube.BUCKET_SIZE_P}&token=#{@layer.token}\"\n\n\n  pull : ->\n    # Filter and sort queue, using negative priorities for sorting so .pop() can be used to get next bucket\n    @queue = _.filter(@queue, (item) =>\n      @boundingBox.containsBucket(item.bucket) and\n        @cube.getBucketByZoomedAddress(item.bucket).needsRequest()\n    )\n    @queue = _.sortBy(@queue, (item) -> item.priority)\n\n    # Starting to download some buckets\n    while @batchCount < @BATCH_LIMIT and @queue.length\n\n      batch = []\n      while batch.length < @BATCH_SIZE and @queue.length\n        address = @queue.shift().bucket\n        bucket = @cube.getBucketByZoomedAddress(address)\n\n        continue unless bucket.needsRequest()\n\n        batch.push(address)\n        bucket.pull()\n\n      if batch.length > 0\n        @pullBatch(batch)\n\n\n  pullBatch : (batch) ->\n    # Loading a bunch of buckets\n    @batchCount++\n\n    requestData = new MultipartData()\n\n    for bucket in batch\n      zoomStep = bucket[3]\n\n      requestData.addPart(\n        \"X-Bucket\": JSON.stringify(\n          position: [\n            bucket[0] << (zoomStep + @cube.BUCKET_SIZE_P)\n            bucket[1] << (zoomStep + @cube.BUCKET_SIZE_P)\n            bucket[2] << (zoomStep + @cube.BUCKET_SIZE_P)\n          ]\n          zoomStep: zoomStep\n          cubeSize: 1 << @cube.BUCKET_SIZE_P\n          fourBit: @shouldRequestFourBit()))\n\n    # Measuring the time until response arrives to select appropriate preloading strategy\n    roundTripBeginTime = new Date()\n\n    Request.always(\n      requestData.dataPromise().then((data) =>\n        Request.sendArraybufferReceiveArraybuffer(\"#{@layer.url}/data/datasets/#{@dataSetName}/layers/#{@layer.name}/data?token=#{@layer.token}\",\n          data : data\n          headers :\n            \"Content-Type\" : \"multipart/mixed; boundary=#{requestData.boundary}\"\n          timeout : @MESSAGE_TIMEOUT\n          compress : true\n        )\n      ).then((responseBuffer) =>\n        responseBuffer = new Uint8Array(responseBuffer)\n        @connectionInfo.log(@layer.name, roundTripBeginTime, batch.length, responseBuffer.length)\n\n        offset = 0\n\n        for bucket, i in batch\n          if bucket.fourBit\n            bucketData = @decode4bit(responseBuffer.subarray(offset, offset += (@cube.BUCKET_LENGTH >> 1)))\n          else\n            bucketData = responseBuffer.subarray(offset, offset += @cube.BUCKET_LENGTH)\n          @boundingBox.removeOutsideArea(bucket, bucketData)\n          @cube.getBucketByZoomedAddress(bucket).receiveData(bucketData)\n      ).catch(=>\n        for bucketAddress in batch\n          bucket = @cube.getBucketByZoomedAddress(bucketAddress)\n          bucket.pullFailed()\n          if bucket.dirty\n            @add({bucket : bucketAddress, priority : @PRIORITY_HIGHEST})\n      )\n      =>\n        @batchCount--\n        @pull()\n    )\n\n\n  clearNormalPriorities : ->\n\n    @queue = _.filter(@queue, (e) => e.priority == @PRIORITY_HIGHEST)\n\n\n  add : (item) ->\n\n    @queue.push(item)\n\n\n  addAll : (items) ->\n\n    @queue = @queue.concat(items)\n\n\n  decode4Bit : (colors) ->\n\n    # Expand 4-bit data\n    newColors = new Uint8Array(colors.length << 1)\n\n    index = 0\n    while index < newColors.length\n      value = colors[index >> 1]\n      newColors[index] = value & 0b11110000\n      index++\n      newColors[index] = value << 4\n      index++\n\n    newColors\n\n\n  setFourBit : (@fourBit) ->\n\n\n  shouldRequestFourBit : ->\n\n    return @fourBit and @layer.category == \"color\"\n\n\nmodule.exports = PullQueue\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/binary/pullqueue.coffee\n **/","\nclass MultipartData\n\n  randomBoundary : ->\n\n    '--multipart-boundary--xxxxxxxxxxxxxxxxxxxxxxxx--'.replace(/[x]/g,\n      ->\n        (Math.random() * 16 | 0).toString(16))\n\n\n  constructor : (@boundary) ->\n\n    @boundary = @boundary || @randomBoundary()\n    @data = ['--' + @boundary + '\\r\\n']\n\n\n  addPart : (headers, body) ->\n\n    for name, value of headers\n      @data.push(name + ': ' + value + '\\r\\n')\n\n    @data.push('\\r\\n')\n    @data.push(body) if body?\n    @data.push('\\r\\n--' + @boundary + '\\r\\n')\n\n\n  dataPromise : ->\n\n    return new Promise((resolve) =>\n      reader = new FileReader()\n      reader.onload = (e) =>\n        resolve(e.target.result)\n      reader.readAsArrayBuffer(new Blob(@data))\n    )\n\n\nmodule.exports = MultipartData\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/libs/multipart_data.coffee\n **/","Cube              = require(\"./cube\")\nRequest           = require(\"../../../libs/request\")\nMultipartData     = require(\"../../../libs/multipart_data\")\n\nclass PushQueue\n\n  BATCH_LIMIT : 1\n  BATCH_SIZE : 32\n  DEBOUNCE_TIME : 1000\n  MESSAGE_TIMEOUT : 10000\n\n\n  constructor : (@dataSetName, @cube, @layer, @tracingId, @updatePipeline, @sendData = true) ->\n\n    @url = \"#{@layer.url}/data/datasets/#{@dataSetName}/layers/#{@layer.name}/data?cubeSize=#{1 << @cube.BUCKET_SIZE_P}&annotationId=#{@tracingId}&token=#{@layer.token}\"\n    @queue = []\n\n    @push = _.debounce @pushImpl, @DEBOUNCE_TIME\n\n\n  insert : (bucket) ->\n\n    @queue.push( bucket )\n    @removeDuplicates()\n    @push()\n\n\n  insertFront : (bucket) ->\n\n    @queue.unshift( bucket )\n    @removeDuplicates()\n    @push()\n\n\n  clear : ->\n\n    @queue = []\n\n\n  removeDuplicates : ->\n\n    @queue.sort( @comparePositions )\n\n    i = 0\n    while i < @queue.length - 1\n      if @comparePositions( @queue[i], @queue[i+1] ) == 0\n        @queue.splice( i, 1 )\n      else\n        i++\n\n\n  comparePositions : ([x1, y1, z1], [x2, y2, z2]) ->\n\n      return (x1 - x2) || (y1 - y2) || (z1 - z2)\n\n\n  print : ->\n\n    for e in @queue\n      console.log(e)\n\n\n  pushImpl : =>\n\n    return @cube.temporalBucketManager.getAllLoadedPromise().then =>\n\n      unless @sendData\n        return Promise.resolve()\n\n      while @queue.length\n\n        batchSize = Math.min(@BATCH_SIZE, @queue.length)\n        batch = @queue.splice(0, batchSize)\n        @pushBatch(batch)\n\n      return @updatePipeline.getLastActionPromise()\n\n\n  pushBatch : (batch) ->\n\n    transmitData = new MultipartData()\n\n    for bucket in batch\n      zoomStep = bucket[3]\n\n      transmitData.addPart(\n          \"X-Bucket\": JSON.stringify(\n            position: [\n              bucket[0] << (zoomStep + @cube.BUCKET_SIZE_P)\n              bucket[1] << (zoomStep + @cube.BUCKET_SIZE_P)\n              bucket[2] << (zoomStep + @cube.BUCKET_SIZE_P)\n            ]\n            zoomStep: zoomStep\n            cubeSize: 1 << @cube.BUCKET_SIZE_P),\n          @cube.getBucketByZoomedAddress(bucket).getData())\n\n    return @updatePipeline.executePassAlongAction( =>\n\n      return transmitData.dataPromise().then((data) =>\n        return Request.sendArraybufferReceiveArraybuffer(\n          \"#{@layer.url}/data/datasets/#{@dataSetName}/layers/#{@layer.name}/data?token=#{@layer.token}\", {\n            method : \"PUT\"\n            data : data\n            headers :\n              \"Content-Type\" : \"multipart/mixed; boundary=#{transmitData.boundary}\"\n            timeout : @MESSAGE_TIMEOUT\n            compress : true\n          }\n        )\n      )\n    ).then(\n      undefined\n      (err) ->\n        throw new Error(\"Uploading data failed.\", err)\n        Promise.reject(err)\n    )\n\n\nmodule.exports = PushQueue\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/binary/pushqueue.coffee\n **/","Backbone   = require(\"backbone\")\nCube       = require(\"./cube\")\nQueue      = require(\"./pullqueue\")\nDimensions = require(\"../dimensions\")\n\n# Macros\n# should work as normal functions, as well\ntileIndexByTileMacro = (_this, tile) ->\n\n  tile[0] * (1 << _this.TEXTURE_SIZE_P - _this.cube.BUCKET_SIZE_P) + tile[1]\n\n\nsubTileMacro = (tile, index) ->\n\n  [(tile[0] << 1) + (index % 2), (tile[1] << 1) + (index >> 1)]\n\n\nbufferOffsetByTileMacro = (_this, tile, tileSize) ->\n\n  tile[0] * (1 << tileSize) + tile[1] * (1 << tileSize) * (1 << _this.TEXTURE_SIZE_P)\n\n\nclass Plane2D\n\n  # Constants\n  TEXTURE_SIZE_P : 0\n  BUCKETS_PER_ROW : 0\n  MAP_SIZE : 0\n  RECURSION_PLACEHOLDER : {}\n  DELTA : [0, 5, 10]\n  U : 0\n  V : 0\n  W : 0\n\n  cube : null\n  queue : null\n\n  dataTexture : null\n\n\n  constructor : (index, @cube, @queue, @TEXTURE_SIZE_P, @DATA_BIT_DEPTH, @TEXTURE_BIT_DEPTH, @MAPPED_DATA_BIT_DEPTH) ->\n\n    _.extend(this, Backbone.Events)\n\n    @BUCKETS_PER_ROW = 1 << (@TEXTURE_SIZE_P - @cube.BUCKET_SIZE_P)\n    @TEXTURE_SIZE = (1 << (@TEXTURE_SIZE_P << 1)) * (@TEXTURE_BIT_DEPTH >> 3)\n\n    @_forceRedraw = false\n\n    for i in [0..@cube.LOOKUP_DEPTH_DOWN]\n      @MAP_SIZE += 1 << (i << 1)\n\n    [@U, @V, @W] = Dimensions.getIndices(index)\n\n    @dataTexture = { renderTile: @renderDataTile }\n\n    @listenTo(@cube, \"bucketLoaded\", (bucket) ->\n\n      zoomStepDiff = @dataTexture.zoomStep - bucket[3]\n      if zoomStepDiff > 0\n        bucket = [\n          bucket[0] >> zoomStepDiff\n          bucket[1] >> zoomStepDiff\n          bucket[2] >> zoomStepDiff\n          @dataTexture.zoomStep\n        ]\n\n      # Checking, whether the new bucket intersects with the current layer\n      if @dataTexture.layer >> (@cube.BUCKET_SIZE_P + bucket[3]) == bucket[@W] and @dataTexture.topLeftBucket?\n\n        # Get the tile, the bucket would be drawn to\n        u = bucket[@U] - @dataTexture.topLeftBucket[@U]\n        v = bucket[@V] - @dataTexture.topLeftBucket[@V]\n\n        # If the tile is part of the texture, mark it as changed\n        if u in [0...@BUCKETS_PER_ROW] and v in [0...@BUCKETS_PER_ROW]\n          tile = [u, v]\n          @dataTexture.tiles[tileIndexByTileMacro(@, tile)] = false\n          @dataTexture.ready &= not (u in [@dataTexture.area[0]..@dataTexture.area[2]] and v in [@dataTexture.area[1]..@dataTexture.area[3]])\n    )\n\n    @cube.on \"volumeLabeled\", => @reset()\n    @cube.on \"mappingChanged\", => @reset()\n\n\n  reset : ->\n\n    @dataTexture.tiles = new Array(@BUCKETS_PER_ROW * @BUCKETS_PER_ROW)\n    @dataTexture.ready = false\n\n\n  forceRedraw : ->\n\n    @_forceRedraw = true\n\n\n  hasChanged : ->\n\n    not @dataTexture.ready\n\n\n  get : ({position, zoomStep, area}) ->\n\n    @getTexture(@dataTexture, position, zoomStep, area)\n\n\n  getTexture : (texture, position, zoomStep, area) ->\n\n    if not texture.counter?\n      texture.counter = 0\n    texture.counter++\n\n    # Saving the layer, we'll have to render\n    layer = position[@W]\n\n    # Making sure, position is top-left corner of some bucket\n    position = [\n      position[0] & ~0b11111\n      position[1] & ~0b11111\n      position[2] & ~0b11111\n    ]\n\n    # Calculating the coordinates of the textures top-left corner\n    topLeftPosition = position.slice(0)\n    topLeftPosition[@U] -= 1 << @TEXTURE_SIZE_P - 1 + zoomStep\n    topLeftPosition[@V] -= 1 << @TEXTURE_SIZE_P - 1 + zoomStep\n\n    topLeftBucket = @cube.positionToZoomedAddress(topLeftPosition, zoomStep)\n\n    # Converting area from voxels to buckets\n    area = [\n      area[0] >> @cube.BUCKET_SIZE_P\n      area[1] >> @cube.BUCKET_SIZE_P\n      area[2] - 1 >> @cube.BUCKET_SIZE_P\n      area[3] - 1 >> @cube.BUCKET_SIZE_P\n    ]\n\n    # If layer or zoomStep have changed, everything needs to be redrawn\n    if @_forceRedraw or not _.isEqual(texture.layer, layer) or not _.isEqual(texture.zoomStep, zoomStep)\n      texture.layer = layer\n      texture.zoomStep = zoomStep\n      texture.topLeftBucket = topLeftBucket\n      texture.area = area\n\n      texture.tiles = new Array(@BUCKETS_PER_ROW * @BUCKETS_PER_ROW)\n      texture.buffer = new Uint8Array(@TEXTURE_SIZE)\n      texture.ready = false\n\n      @_forceRedraw = false\n\n    # If the top-left-bucket has changed, still visible tiles are copied to their new location\n    unless _.isEqual(texture.topLeftBucket, topLeftBucket)\n      oldTopLeftBucket = texture.topLeftBucket\n      texture.topLeftBucket = topLeftBucket\n\n      oldTiles = texture.tiles\n      oldBuffer = texture.buffer\n      texture.tiles = new Array(@BUCKETS_PER_ROW * @BUCKETS_PER_ROW)\n      texture.buffer = new Uint8Array(@TEXTURE_SIZE)\n      texture.ready = false\n\n      # Calculating boundaries for copying\n      width = (1 << @TEXTURE_SIZE_P - @cube.BUCKET_SIZE_P) - Math.abs(texture.topLeftBucket[@U] - oldTopLeftBucket[@U])\n      height = (1 << @TEXTURE_SIZE_P - @cube.BUCKET_SIZE_P) - Math.abs(texture.topLeftBucket[@V] - oldTopLeftBucket[@V])\n      oldOffset = [\n        Math.max(texture.topLeftBucket[@U] - oldTopLeftBucket[@U], 0)\n        Math.max(texture.topLeftBucket[@V] - oldTopLeftBucket[@V], 0)\n      ]\n      newOffset = [\n        Math.max(oldTopLeftBucket[@U] - texture.topLeftBucket[@U], 0)\n        Math.max(oldTopLeftBucket[@V] - texture.topLeftBucket[@V], 0)\n      ]\n\n      # Copying tiles\n      for du in [1...width] by 1\n        for dv in [1...height] by 1\n\n          oldTile = [oldOffset[0] + du, oldOffset[1] + dv]\n          newTile = [newOffset[0] + du, newOffset[1] + dv]\n\n          oldTileIndex = tileIndexByTileMacro(@, oldTile)\n          newTileIndex = tileIndexByTileMacro(@, newTile)\n\n          #if oldTiles[oldTileIndex]\n          #  @copyTile(newTile, oldTile, texture.buffer, oldBuffer)\n          #  texture.tiles[newTileIndex] = true\n\n    # If something has changed, only changed tiles are drawn\n    unless texture.ready and _.isEqual(texture.area, area)\n      texture.ready = true\n      texture.area = area\n\n      # Tiles are rendered from the bottom-right to the top-left corner\n      # to make linear interpolation possible in the future\n      for u in [area[2]..area[0]] by -1\n        for v in [area[3]..area[1]] by -1\n\n          tile = [u, v]\n          tileIndex = tileIndexByTileMacro(@, tile)\n\n          # Render tile if necessary and mark it as rendered\n          unless texture.tiles[tileIndex]\n            texture.renderTile.call(@, tile)\n            texture.tiles[tileIndex] = true\n\n      texture.buffer\n\n    else\n\n      # If the texture didn't need to be changed...\n      null\n\n\n   copyTile : (destTile, sourceTile, destBuffer, sourceBuffer) ->\n\n    destOffset = bufferOffsetByTileMacro(@, destTile, @cube.BUCKET_SIZE_P)\n    sourceOffset = bufferOffsetByTileMacro(@, sourceTile, @cube.BUCKET_SIZE_P)\n\n    @renderToBuffer(\n      {\n        buffer: destBuffer\n        offset: destOffset\n        widthP: @cube.BUCKET_SIZE_P\n        rowDelta: 1 << @TEXTURE_SIZE_P\n      }\n      {\n        buffer: sourceBuffer\n        offset: sourceOffset\n        pixelDelta: 1\n        rowDelta: 1 << @TEXTURE_SIZE_P\n        pixelRepeatP: 0\n        rowRepeatP: 0\n      }\n      null\n    )\n\n\n  renderDataTile : (tile) ->\n\n    bucket = @dataTexture.topLeftBucket.slice(0)\n    bucket[@U] += tile[0]\n    bucket[@V] += tile[1]\n\n    map = @generateRenderMap(bucket)\n    @renderSubTile(map, 0, tile, @dataTexture.zoomStep)\n\n\n  renderSubTile : (map, mapIndex, tile, tileZoomStep) ->\n\n    return unless map[mapIndex]\n\n    if map[mapIndex] == @RECURSION_PLACEHOLDER\n\n      for i in [0..3] by 1\n        subTile = subTileMacro(tile, i)\n        @renderSubTile(map, (mapIndex << 2) + 1 + i, subTile, tileZoomStep - 1)\n\n    else\n\n      bucket = map[mapIndex]\n      bucketZoomStep = bucket[3]\n      tileSizeP = @cube.BUCKET_SIZE_P - (@dataTexture.zoomStep - tileZoomStep)\n      skipP = Math.max(@dataTexture.zoomStep - bucketZoomStep, 0)\n      repeatP = Math.max(bucketZoomStep - @dataTexture.zoomStep, 0)\n      destOffset = bufferOffsetByTileMacro(@, tile, tileSizeP)\n\n      offsetMask = (1 << bucketZoomStep - tileZoomStep) - 1;\n      scaleFactorP = @cube.BUCKET_SIZE_P - (bucketZoomStep - tileZoomStep)\n\n      sourceOffsets = [\n        (((@dataTexture.topLeftBucket[@U] << @dataTexture.zoomStep - tileZoomStep) + tile[0]) & offsetMask) << scaleFactorP\n        (((@dataTexture.topLeftBucket[@V] << @dataTexture.zoomStep - tileZoomStep) + tile[1]) & offsetMask) << scaleFactorP\n        (@dataTexture.layer >> bucketZoomStep) & (1 << @cube.BUCKET_SIZE_P) - 1\n      ]\n\n      sourceOffset = (sourceOffsets[0] << @DELTA[@U]) + (sourceOffsets[1] << @DELTA[@V]) + (sourceOffsets[2] << @DELTA[@W])\n\n      bucketData = @cube.getBucketByZoomedAddress(bucket).getData()\n      mapping    = @cube.currentMapping\n\n      @renderToBuffer(\n        {\n          buffer: @dataTexture.buffer\n          offset: destOffset\n          widthP: tileSizeP\n          rowDelta: 1 << @TEXTURE_SIZE_P\n        }\n        {\n          buffer: bucketData\n          mapping: mapping\n          offset: sourceOffset\n          pixelDelta: 1 << (@DELTA[@U] + skipP)\n          rowDelta: 1 << (@DELTA[@V] + skipP)\n          pixelRepeatP: repeatP\n          rowRepeatP: repeatP\n        }\n      )\n\n\n  generateRenderMap : ([bucket_x, bucket_y, bucket_z, zoomStep]) ->\n\n    return [[bucket_x, bucket_y, bucket_z, zoomStep]] if @cube.getBucketByZoomedAddress([bucket_x, bucket_y, bucket_z, zoomStep]).hasData()\n\n    map = new Array(@MAP_SIZE)\n    map[0] = undefined\n\n    maxZoomStepOffset = Math.max(0, Math.min(@cube.LOOKUP_DEPTH_UP,\n      @cube.ZOOM_STEP_COUNT - zoomStep - 1\n    ))\n\n    if zoomStep < @cube.ZOOM_STEP_COUNT\n      for i in [maxZoomStepOffset...0]\n\n        bucket = [\n          bucket_x >> i\n          bucket_y >> i\n          bucket_z >> i\n          zoomStep + i\n        ]\n\n        map[0] = bucket if @cube.getBucketByZoomedAddress(bucket).hasData()\n\n    if zoomStep != 0 and @enhanceRenderMap(map, 0, [bucket_x, bucket_y, bucket_z, zoomStep], map[0], @cube.LOOKUP_DEPTH_DOWN)\n\n      map[0] = @RECURSION_PLACEHOLDER\n\n    map\n\n\n  enhanceRenderMap : (map, mapIndex, [bucket_x, bucket_y, bucket_z, zoomStep], fallback, level) ->\n\n    enhanced = false\n\n    if @cube.getBucketByZoomedAddress([bucket_x, bucket_y, bucket_z, zoomStep]).hasData()\n\n      map[mapIndex] = [bucket_x, bucket_y, bucket_z, zoomStep]\n      enhanced = true\n\n    else\n\n      map[mapIndex] = fallback\n\n    dw = @dataTexture.layer >> (@cube.BUCKET_SIZE_P + zoomStep - 1) & 0b1\n\n    recursive = false\n\n    if level and zoomStep\n\n      for du in [0..1]\n        for dv in [0..1]\n          subBucket = [bucket_x << 1, bucket_y << 1, bucket_z << 1, zoomStep - 1]\n          subBucket[@U] += du\n          subBucket[@V] += dv\n          subBucket[@W] += dw\n\n          recursive |= @enhanceRenderMap(map, (mapIndex << 2) + 2 * dv + du + 1, subBucket, map[mapIndex], level - 1)\n\n    if recursive\n\n      map[mapIndex] = @RECURSION_PLACEHOLDER\n      enhanced = true\n\n    return enhanced\n\n\n  renderVolumeTile : (tile) ->\n\n    bucket = @volumeTexture.topLeftBucket.slice(0)\n    bucket[@U] += tile[0]\n    bucket[@V] += tile[1]\n\n    destOffset = bufferOffsetByTileMacro(@, tile, @cube.BUCKET_SIZE_P)\n    sourceOffset = ((@volumeTexture.layer >> @volumeTexture.zoomStep) & (1 << @cube.BUCKET_SIZE_P) - 1)  << @DELTA[@W]\n\n    bucketData = @cube.getVolumeBucketByZoomedAddress(bucket)\n\n    return unless bucketData?\n\n    @renderToBuffer(\n      {\n        buffer: @volumeTexture.buffer\n        offset: destOffset\n        widthP: @cube.BUCKET_SIZE_P\n        rowDelta: 1 << @TEXTURE_SIZE_P\n      }\n      {\n        buffer: bucketData\n        offset: sourceOffset\n        pixelDelta: 1 << @DELTA[@U]\n        rowDelta: 1 << @DELTA[@V]\n        pixelRepeatP: 0\n        rowRepeatP: 0\n      }\n      null\n    )\n\n\n  renderToBuffer : (destination, source) ->\n\n    i = 1 << (destination.widthP << 1)\n    destination.nextRowMask = (1 << destination.widthP) - 1\n    source.nextPixelMask = (1 << source.pixelRepeatP) - 1\n    source.nextRowMask = (1 << destination.widthP + source.rowRepeatP) - 1\n\n    mapping = source.mapping\n\n    bytesSrc       = @DATA_BIT_DEPTH >> 3\n    bytesSrcMapped = if mapping? and mapping.length then @MAPPED_DATA_BIT_DEPTH >> 3 else bytesSrc\n    bytesDest      = @TEXTURE_BIT_DEPTH >> 3\n    shorten        = bytesDest < bytesSrcMapped\n\n    while i--\n      dest = destination.offset++ * bytesDest\n      src = source.offset * bytesSrc\n\n      sourceValue = 0\n      for b in [0...bytesSrc]\n        sourceValue += (1 << (b * 8)) * source.buffer[ src + b ]\n      sourceValue = if mapping? and mapping[ sourceValue ]? then mapping[ sourceValue ] else sourceValue\n\n      # If you have to shorten the data,\n      # use the first none-zero byte unless all are zero\n      # assuming little endian order\n      for b in [0...bytesSrcMapped]\n        if (value = (sourceValue >> (b*8)) % 256 ) or b == bytesSrcMapped - 1 or (not shorten)\n          destination.buffer[dest++] = value\n          if shorten\n            break\n\n      if (i & source.nextPixelMask) == 0\n        source.offset += source.pixelDelta\n\n      if (i & destination.nextRowMask) == 0\n        destination.offset += destination.rowDelta - (1 << destination.widthP)\n        source.offset -= source.pixelDelta << (destination.widthP - source.pixelRepeatP)\n\n      if (i & source.nextRowMask) == 0\n        source.offset += source.rowDelta\n\n    return\n\nmodule.exports = Plane2D\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/binary/plane2d.coffee\n **/","constants = require(\"../constants\")\n\n# This is a class with static methods dealing with dimensions and\n# conversions between them.\n\nDimensions =\n\n  PLANE_XY : constants.PLANE_XY\n  PLANE_YZ : constants.PLANE_YZ\n  PLANE_XZ : constants.PLANE_XZ\n  TDView  : constants.TDView\n\n  getIndices : (planeID) ->\n    # Returns a ordered 3-tuple [x, y, z] which represents the dimensions from the viewpoint\n\n    switch planeID\n      when constants.PLANE_XY then [0, 1, 2]  # of each plane. For example, moving along the\n      when constants.PLANE_YZ then [2, 1, 0]  # X-Axis of the YZ-Plane is equivalent to moving\n      when constants.PLANE_XZ then [0, 2, 1]  # along the Z axis in the cube -> ind[0]=2\n\n\n  transDim : (array, planeID) ->\n    # Translate Dimension: Helper method to translate arrays with three elements\n\n    ind = @getIndices(planeID)\n    return [array[ind[0]], array[ind[1]], array[ind[2]]]\n\n\n  planeForThirdDimension : (dim) ->\n    # Return the plane in which dim is always the same\n\n    switch dim\n      when 2 then @PLANE_XY\n      when 0 then @PLANE_YZ\n      when 1 then @PLANE_XZ\n\n\n  thirdDimensionForPlane : (planeID) ->\n    # Opposite of planeForThirdDimension\n\n    switch planeID\n      when @PLANE_XY then 2\n      when @PLANE_YZ then 0\n      when @PLANE_XZ then 1\n\n\n  round : (number) ->\n    # Floor number, as done at texture rendering\n\n    return ~~number\n\n\n  roundCoordinate : (coordinate) ->\n\n    res = coordinate.slice()\n    for i in [0...res.length]\n      res[i] = @round(res[i])\n    return res\n\n\n  distance : (pos1, pos2) ->\n\n    sumOfSquares = 0\n    for i in [0...pos1.length]\n      diff = pos1[i] - pos2[i]\n      sumOfSquares += diff * diff\n    return Math.sqrt(sumOfSquares)\n\nmodule.exports = Dimensions\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/dimensions.coffee\n **/","Dimensions = require(\"../dimensions\")\n\nclass PingStrategy\n\n  # Constants\n  TEXTURE_SIZE_P : 0\n  MAX_ZOOM_STEP_DIFF : 1\n\n  velocityRangeStart : 0\n  velocityRangeEnd : 0\n\n  roundTripTimeRangeStart : 0\n  roundTripTimeRangeEnd : 0\n\n  contentTypes : []\n\n  cube : null\n\n  name : 'ABSTRACT'\n\n\n  constructor : (@cube, @TEXTURE_SIZE_P) ->\n\n\n  forContentType : (contentType) ->\n\n    _.isEmpty(@contentTypes) or ~@contentTypes.indexOf(contentType)\n\n\n  inVelocityRange : (value) ->\n\n    @velocityRangeStart <= value <= @velocityRangeEnd\n\n\n  inRoundTripTimeRange : (value) ->\n\n    @roundTripTimeRangeStart <= value <= @roundTripTimeRangeEnd\n\n\n  ping : ->\n\n    throw \"Needs to be implemented in subclass\"\n    {\n      pullQueue : [ x0, y0, z0, zoomStep0, x1, y1, z1, zoomStep1 ]\n      extent : { min_x, min_y, min_z, max_x, max_y, max_z }\n    }\n\n\n  getBucketArray : (center, width, height) ->\n\n    buckets = []\n    uOffset = Math.ceil(width / 2)\n    vOffset = Math.ceil(height / 2)\n\n    for u in [-uOffset..uOffset]\n      for v in [-vOffset..vOffset]\n        bucket = center.slice(0)\n        bucket[@u] += u\n        bucket[@v] += v\n        buckets.push if _.min(bucket) >= 0 then bucket else null\n\n    buckets\n\n\nclass PingStrategy.BaseStrategy extends PingStrategy\n\n  velocityRangeStart : 0\n  velocityRangeEnd : Infinity\n\n  roundTripTimeRangeStart : 0\n  roundTripTimeRangeEnd : Infinity\n\n  preloadingSlides : 0\n  preloadingPriorityOffset : 0\n\n\n  ping : (position, direction, requestedZoomStep, areas, activePlane) ->\n\n    zoomStep = Math.min(requestedZoomStep, @cube.MAX_ZOOM_STEP)\n    zoomStepDiff = requestedZoomStep - zoomStep\n    pullQueue = []\n\n    return pullQueue unless zoomStepDiff <= @MAX_ZOOM_STEP_DIFF\n\n    for plane in [0..2]\n      [@u, @v, @w] = Dimensions.getIndices(plane)\n\n      # Converting area from voxels to buckets\n      bucketArea = [\n        areas[plane][0] >> @cube.BUCKET_SIZE_P\n        areas[plane][1] >> @cube.BUCKET_SIZE_P\n        areas[plane][2] - 1 >> @cube.BUCKET_SIZE_P\n        areas[plane][3] - 1 >> @cube.BUCKET_SIZE_P\n      ]\n      width = (bucketArea[2] - bucketArea[0]) << zoomStepDiff\n      height = (bucketArea[3] - bucketArea[1]) << zoomStepDiff\n\n      centerBucket = @cube.positionToZoomedAddress(position, zoomStep)\n      buckets = @getBucketArray(centerBucket, width, height)\n\n      for bucket in buckets\n        if bucket?\n          priority = Math.abs(bucket[0] - centerBucket[0]) + Math.abs(bucket[1] - centerBucket[1]) + Math.abs(bucket[2] - centerBucket[2])\n          pullQueue.push({bucket: [bucket[0], bucket[1], bucket[2], zoomStep], priority: priority})\n          if plane == activePlane\n            # preload only for active plane\n            for slide in [0...@preloadingSlides]\n              if direction[@w] >= 0 then bucket[@w]++ else bucket[@w]--\n              preloadingPriority = (priority << (slide + 1)) + @preloadingPriorityOffset\n              pullQueue.push({bucket: [bucket[0], bucket[1], bucket[2], zoomStep], priority: preloadingPriority})\n\n    pullQueue\n\n\nclass PingStrategy.Skeleton extends PingStrategy.BaseStrategy\n\n  contentTypes : [\"skeletonTracing\"]\n\n  name : 'SKELETON'\n  preloadingSlides : 2\n\n\nclass PingStrategy.Volume extends PingStrategy.BaseStrategy\n\n  contentTypes : [\"volumeTracing\"]\n\n  name : 'VOLUME'\n  preloadingSlides : 1\n  preloadingPriorityOffset : 80\n\n\nmodule.exports = PingStrategy\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/binary/ping_strategy.coffee\n **/","PolyhedronRasterizer = require(\"./polyhedron_rasterizer\")\n{M4x4, V3}           = require(\"libs/mjs\")\n\nclass PingStrategy3d\n\n  velocityRangeStart : 0\n  velocityRangeEnd : 0\n\n  roundTripTimeRangeStart : 0\n  roundTripTimeRangeEnd : 0\n\n  contentTypes : []\n\n  name : 'Abstract'\n\n\n  forContentType : (contentType) ->\n\n    _.isEmpty(@contentTypes) or _.contains(@contentTypes, contentType)\n\n\n  inVelocityRange : (value) ->\n\n    @velocityRangeStart <= value <= @velocityRangeEnd\n\n\n  inRoundTripTimeRange : (value) ->\n\n    @roundTripTimeRangeStart <= value <= @roundTripTimeRangeEnd\n\n\n  ping : ->\n\n    throw \"Needs to be implemented in subclass\"\n\n\n  getExtentObject : (poly0, poly1, zoom0, zoom1) ->\n\n    min_x : Math.min(poly0.min_x << zoom0, poly1.min_x << zoom1)\n    min_y : Math.min(poly0.min_y << zoom0, poly1.min_y << zoom1)\n    min_z : Math.min(poly0.min_z << zoom0, poly1.min_z << zoom1)\n    max_x : Math.max(poly0.max_x << zoom0, poly1.max_x << zoom1)\n    max_y : Math.max(poly0.max_y << zoom0, poly1.max_y << zoom1)\n    max_z : Math.max(poly0.max_z << zoom0, poly1.max_z << zoom1)\n\n\n  modifyMatrixForPoly : (matrix, zoomStep) ->\n\n    matrix[12] >>= (5 + zoomStep)\n    matrix[13] >>= (5 + zoomStep)\n    matrix[14] >>= (5 + zoomStep)\n    matrix[12] += 1\n    matrix[13] += 1\n    matrix[14] += 1\n\n\nclass PingStrategy3d.DslSlow extends PingStrategy3d\n\n  velocityRangeStart : 0\n  velocityRangeEnd : Infinity\n\n  roundTripTimeRangeStart : 0\n  roundTripTimeRangeEnd : Infinity\n\n  name : 'DSL_SLOW'\n\n  pingPolyhedron0 : PolyhedronRasterizer.Master.squareFrustum(\n    5, 5, -0.5\n    4, 4, 2\n  )\n\n  pingPolyhedron1 : PolyhedronRasterizer.Master.squareFrustum(\n    3,  3, -0.0\n    3, 3, -3\n  )\n\n  ping : (matrix) ->\n\n    pullQueue = []\n\n    #-----------\n    matrix1 = M4x4.clone(matrix)\n    @modifyMatrixForPoly matrix1, 1\n\n    polyhedron1 = @pingPolyhedron1.transformAffine(matrix1)\n\n    testAddresses = polyhedron1.collectPointsOnion(matrix1[12], matrix1[13], matrix1[14])\n\n    i = 0\n    while i < testAddresses.length\n      bucket_x = testAddresses[i++]\n      bucket_y = testAddresses[i++]\n      bucket_z = testAddresses[i++]\n\n      pullQueue.push(bucket: [bucket_x, bucket_y, bucket_z, 1], priority: 0)\n\n    #-----------\n    matrix0 = M4x4.clone(matrix)\n    @modifyMatrixForPoly matrix0, 0\n\n    polyhedron0 = @pingPolyhedron0.transformAffine(matrix0)\n\n    testAddresses = polyhedron0.collectPointsOnion(matrix0[12], matrix0[13], matrix0[14])\n\n    i = 0\n    while i < testAddresses.length\n      bucket_x = testAddresses[i++]\n      bucket_y = testAddresses[i++]\n      bucket_z = testAddresses[i++]\n\n      pullQueue.push(bucket: [bucket_x, bucket_y, bucket_z, 0], priority: 0)\n    #-----------\n\n    pullQueue\n    #priority 0 is highests\n\n\nmodule.exports = PingStrategy3d\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/binary/ping_strategy_3d.coffee\n **/","{M4x4, V3}  = require(\"libs/mjs\")\n\n# Constants\nHEAP_SIZE = 1 << 25\nHEAP = new ArrayBuffer(HEAP_SIZE)\nInt32_MIN = -2147483648\nInt32_MAX = 2147483647\n\n# Macros\n\n# unused?\n# crossMacro = (o0, o1, a0, a1, b0, b1) ->\n#   (a0 - o0) * (b1 - o1) - (a1 - o1) * (b0 - o0)\n\n\ndrawFunction = (x, y, z, buffer, shift_z) ->\n\n  __index_y = (z << shift_z) + (y << 1)\n\n  buffer[__index_y]     = x if x < buffer[__index_y]\n  buffer[__index_y + 1] = x if x > buffer[__index_y + 1]\n\n\n# Returns the index of the next free bit.\n# Example: 5 = 0000 0101 => 3\nnextFreeBit = (x) ->\n  n = 1\n  if (x >> 16) == 0\n    n = n + 16\n    x <<= 16\n  if (x >> 24) == 0\n    n = n + 8\n    x <<= 8\n  if (x >> 28) == 0\n    n = n + 4\n    x <<= 4\n  if (x >> 30) == 0\n    n = n + 2\n    x <<= 2\n  32 - n - (x >> 31)\n\n\n# Represents a convex polyhedron, which can be voxelized.\n# Use it like this:\n#     masterPolyhredon = new PolyhedronRasterizer.Master([...], [...])\n#     polyhedron = masterPolyhedron.transformAffine(matrix)\n#     output = polyhedron.collectPointsOnion(0, 0, 0)\n#\n# ##A word of caution:##\n# The code is a bit verbose to keep it speedy. Also notice\n# that using this class is nowhere near thread-safe. Each instance\n# will use the same `HEAP`. Therefore two existing instances will\n# definitely collide.\n#\n# ##How the algorithm works:##\n# First, we use a buffer which holds all line segments orthogonal\n# to the yz-plane belonging to the polyhedron, i.e. the smallest\n# and highest x-coordinate for all y- and z-coordinates currently\n# known.\n# We start by drawing the edges of the polyhedron into the buffer.\n# This results in having at least one point in each orthogonal plane.\n# Knowing this, we slice polyhedron at each xy-plane (i.e. same\n# z-coordinate). We collect all points in this plane and run a convex\n# hull algorithm over them, resulting in a convex polygon. We then draw\n# edges of that polygon into our buffer.\n# Finally, we know all relevant line segments and can collect the points\n# There are some algorithms available to determine the order of the\n# collected points.\n#\nclass PolyhedronRasterizer\n\n  # Orientation of transformed polyhedron 1 if z orientation is positive else -1\n  orientation : 1\n\n\n  constructor : (@vertices, @indices) ->\n\n    @calcExtent()\n    { min_x, min_y, min_z, delta_z, delta_y, shift_z, vertices } = @\n\n    @bufferLength = bufferLength = delta_z << shift_z\n    @buffer = buffer = new Int32Array(HEAP, 0, bufferLength)\n\n    # initialize buffer values\n    for z in [0...delta_z] by 1\n      index = z << shift_z\n      for index_y in [0...delta_y] by 1\n        buffer[index++] = Int32_MAX\n        buffer[index++] = Int32_MIN\n\n    # translate to 0 based coordinate system\n    i = vertices.length\n    while i\n      vertices[--i] -= min_z\n      vertices[--i] -= min_y\n      vertices[--i] -= min_x\n\n    # create convex hull buffers\n    @pointsBuffer = new Int32Array(delta_y << 2)\n\n    # draw edges of the polyhedron into the buffer\n    @drawEdges()\n    # fill each xy-plane with points\n    @drawPolygons()\n\n\n  calcExtent : ->\n\n    min_x = min_y = min_z = Int32_MAX\n    max_x = max_y = max_z = Int32_MIN\n\n    vertices = @vertices\n\n    i = 0\n    while i < vertices.length\n      x = vertices[i++]\n      y = vertices[i++]\n      z = vertices[i++]\n\n      min_x = x if x < min_x\n      min_y = y if y < min_y\n      min_z = z if z < min_z\n      max_x = x if x > max_x\n      max_y = y if y > max_y\n      max_z = z if z > max_z\n\n    @min_x = min_x\n    @min_y = min_y\n    @min_z = min_z\n    @max_x = max_x\n    @max_y = max_y\n    @max_z = max_z\n    @delta_x = max_x - min_x + 1\n    @delta_y = max_y - min_y + 1\n    @delta_z = max_z - min_z + 1\n    @shift_z = nextFreeBit((@delta_y << 1) - 1)\n\n    return\n\n\n  #transformAffine : (matrix) ->\n  #\n  #  { min_x, min_y, min_z, vertices } = @\n  #\n  #  vertices1 = new Int32Array(vertices.length)\n  #  i = vertices.length\n  #  while i\n  #    vertices1[--i] = vertices[i] + min_z\n  #    vertices1[--i] = vertices[i] + min_y\n  #    vertices1[--i] = vertices[i] + min_x\n  #\n  #  new PolyhedronRasterizer(\n  #    M4x4.transformPointsAffine(matrix, vertices1, vertices1),\n  #    @indices\n  #  )\n\n\n  draw : (x, y, z) ->\n\n    { buffer, shift_z } = @\n    drawFunction(x, y, z, buffer, shift_z)\n\n    return\n\n  drawEdges : ->\n    # Draws the edges into the buffer.\n\n    { indices, vertices } = @\n\n    # rasterize edges with 3d bresenham\n    i = indices.length\n    while i\n\n      i0 = indices[--i]\n      i1 = indices[--i]\n\n      @drawLine3d(\n        vertices[i0++],\n        vertices[i0++],\n        vertices[i0],\n        vertices[i1++],\n        vertices[i1++],\n        vertices[i1]\n      )\n\n    return\n\n\n  drawLine3d : (x, y, z, x1, y1, z1) ->\n    # Source: https://sites.google.com/site/proyectosroboticos/bresenham-3d\n\n    { shift_z, buffer } = @\n\n    x_inc = if (dx = x1 - x) < 0 then -1 else 1\n    y_inc = if (dy = y1 - y) < 0 then -1 else 1\n    z_inc = if (dz = z1 - z) < 0 then -1 else 1\n\n    drawFunction(x, y, z, buffer, shift_z)\n\n    dx = if dx < 0 then -dx else dx\n    dy = if dy < 0 then -dy else dy\n    dz = if dz < 0 then -dz else dz\n\n    dx2 = dx << 1\n    dy2 = dy << 1\n    dz2 = dz << 1\n\n\n    if dx >= dy and dx >= dz\n\n      d = dx\n      mode = 0\n\n    else if dy >= dz\n\n      #swapMacro(y, x)\n      __tmp = y\n      y = x\n      x = __tmp\n\n      #swapMacro(y_inc, x_inc)\n      __tmp = y_inc\n      y_inc = x_inc\n      x_inc = __tmp\n\n      #swapMacro(dy2, dx2)\n      __tmp = dy2\n      dy2 = dx2\n      dx2 = __tmp\n\n      d = dy\n      mode = 1\n\n    else\n      #swapMacro(z, x)\n      __tmp = z\n      z = x\n      x = __tmp\n\n      #swapMacro(z_inc, x_inc)\n      __tmp = z_inc\n      z_inc = x_inc\n      x_inc = __tmp\n\n      #swapMacro(dz2, dx2)\n      __tmp = dz2\n      dz2 = dx2\n      dx2 = __tmp\n\n      d = dz\n      mode = 2\n\n    err_1 = dy2 - d\n    err_2 = dz2 - d\n\n    for i in [0...d] by 1\n\n      if err_1 > 0\n        y += y_inc\n        err_1 -= dx2\n      if err_2 > 0\n        z += z_inc\n        err_2 -= dx2\n\n      err_1 += dy2\n      err_2 += dz2\n      x     += x_inc\n\n      switch mode\n        when 0\n          drawFunction(x, y, z, buffer, shift_z)\n        when 1\n          drawFunction(y, x, z, buffer, shift_z)\n        else\n          drawFunction(z, y, x, buffer, shift_z)\n\n    return\n\n  drawLine2d : (x, y, x1, y1, z) ->\n    # Source: http://en.wikipedia.org/wiki/Bresenham's_line_algorithm#Simplification\n\n    { shift_z, buffer } = @\n\n    x_inc = if (dx = x1 - x) < 0 then -1 else 1\n    y_inc = if (dy = y1 - y) < 0 then -1 else 1\n\n    dx = if dx < 0 then -dx else dx\n    dy = if dy < 0 then -dy else dy\n\n    dx2 = dx << 1\n    dy2 = dy << 1\n\n    drawFunction(x, y, z, buffer, shift_z)\n\n    if dx >= dy\n\n      d = dx\n      mode = 0\n\n    else\n\n      #swapMacro(y, x)\n      __tmp = y\n      y = x\n      x = __tmp\n\n      #swapMacro(y_inc, x_inc)\n      __tmp = y_inc\n      y_inc = x_inc\n      x_inc = __tmp\n\n      #swapMacro(dy2, dx2)\n      __tmp = dy2\n      dy2 = dx2\n      dx2 = __tmp\n\n      d = dy\n      mode = 1\n\n    err = dy2 - d\n\n    for i in [0...d] by 1\n\n      if err > 0\n        y += y_inc\n        err -= dx2\n\n      err += dy2\n      x   += x_inc\n\n      if mode\n        drawFunction(y, x, z, buffer, shift_z)\n      else\n        drawFunction(x, y, z, buffer, shift_z)\n\n    return\n\n  drawPolygons : ->\n    # Iterates over all relevant xy-planes. The points in\n    # each plane are used to build a convex polygon. The\n    # edges of that polygon is then drawn into the buffer.\n    # After that, we know all line segments that belong to\n    # the polyhedron.\n\n    { delta_x, delta_y, delta_z, shift_z, buffer, pointsBuffer } = @\n\n    # build and rasterize convex hull of all xy-planes\n\n    for z in [0...delta_z] by 1\n\n      # put found end points into an ordered collection\n      # ordered by (y,x)\n      pointsPointer = 0\n      index_y = z << shift_z\n      for y in [0...delta_y] by 1\n\n        if (x0 = buffer[index_y++]) != Int32_MAX\n          pointsBuffer[pointsPointer++] = y\n          pointsBuffer[pointsPointer++] = x0\n          if (x1 = buffer[index_y++]) != x0\n            pointsBuffer[pointsPointer++] = y\n            pointsBuffer[pointsPointer++] = x1\n        else\n          index_y++\n\n\n      # Generating convex hull by brute force. O(n)\n      i = 0\n      while i < pointsPointer\n\n        y0 = pointsBuffer[i++]\n        x0 = pointsBuffer[i++]\n\n        j = i\n        while j < pointsPointer\n\n          y1 = pointsBuffer[j++]\n          x1 = pointsBuffer[j++]\n\n          @drawLine2d(x0, y0, x1, y1, z)\n\n\n    return\n\n\n  collectPoints : ->\n\n    { buffer, min_x, min_y, min_z, shift_z, delta_y, delta_z } = @\n\n    output = []\n\n    for z in [0...delta_z] by 1\n      index = z << shift_z\n      for y in [0...delta_y] by 1\n        x0 = buffer[index++]\n        x1 = buffer[index++]\n        if x0 != Int32_MAX\n          output.push x + min_x, y + min_y, z + min_z for x in [x0..x1]\n\n    output\n\n\n  collectPointsOnion : (xs, ys, zs) ->\n\n    { buffer, min_x, max_x, min_y, max_y, min_z, max_z, delta_x, delta_y, delta_z, shift_z } = @\n\n    maxRadius = Math.max(\n      Math.abs(xs - min_x)\n      Math.abs(xs - max_x)\n      Math.abs(ys - min_y)\n      Math.abs(ys - max_y)\n      Math.abs(zs - min_z)\n      Math.abs(zs - max_z)\n    )\n\n    outputBuffer = new Int32Array(HEAP, @bufferLength * Int32Array.BYTES_PER_ELEMENT, delta_x * delta_y * delta_z * 3)\n    outputLength = 0\n\n    for radius in [0..maxRadius] by 1\n\n      radius_min_z = Math.max(zs - radius, min_z)\n      radius_max_z = Math.min(zs + radius, max_z)\n      radius_min_y = Math.max(ys - radius, min_y)\n      radius_max_y = Math.min(ys + radius, max_y)\n\n      if @orientation is 1\n        radius_start_z = radius_max_z\n        radius_end_z = radius_min_z\n      else\n        radius_end_z = radius_max_z\n        radius_start_z = radius_min_z\n\n      for z in [radius_start_z..radius_end_z]\n        for y in [radius_min_y..radius_max_y] by 1\n          index = ((z - min_z) << shift_z) + ((y - min_y) << 1)\n          x0 = buffer[index++]\n          x1 = buffer[index++]\n          if x0 != Int32_MAX\n            x0 += min_x\n            x1 += min_x\n            for x in [Math.max(xs - radius, x0)..Math.min(xs + radius, x1)]\n              if x == xs - radius or x == xs + radius or\n              y == ys - radius or y == ys + radius or\n              z == zs - radius or z == zs + radius\n                outputBuffer[outputLength++] = x\n                outputBuffer[outputLength++] = y\n                outputBuffer[outputLength++] = z\n\n    outputBuffer.subarray(0, outputLength)\n\nclass PolyhedronRasterizer.Master\n\n  # Works just like a regular mesh in WebGL.\n  constructor : (@vertices, @indices) ->\n\n  transformAffine : (matrix) ->\n\n    { vertices, indices } = @\n\n    transformedPolyhdron = new PolyhedronRasterizer(\n      M4x4.transformPointsAffine(matrix, vertices, new Int32Array(vertices.length)),\n      indices\n    )\n\n    orientationVector = M4x4.transformLineAffine(matrix, [0, 0, 1], [0, 0, 0])\n\n    transformedPolyhdron.orientation = if orientationVector[2] < 0 then -1 else 1\n\n    transformedPolyhdron\n\n\n  @squareFrustum : (nearFaceXWidth, nearFaceYWidth, nearFaceZ, farFaceXWidth, farFaceYWidth, farFaceZ) ->\n\n    vertices = [\n      -nearFaceXWidth / 2, -nearFaceYWidth / 2, nearFaceZ #0\n      -farFaceXWidth  / 2, -farFaceYWidth  / 2, farFaceZ #3\n      -nearFaceXWidth / 2,  nearFaceYWidth / 2, nearFaceZ #6\n      -farFaceXWidth  / 2,  farFaceYWidth  / 2, farFaceZ #9\n       nearFaceXWidth / 2, -nearFaceYWidth / 2, nearFaceZ #12\n       farFaceXWidth  / 2, -farFaceYWidth  / 2, farFaceZ #15\n       nearFaceXWidth / 2,  nearFaceYWidth / 2, nearFaceZ #18\n       farFaceXWidth  / 2,  farFaceYWidth  / 2, farFaceZ #21\n    ]\n    indices = [\n      0,3\n      0,6\n      0,12\n      3,9\n      3,15\n      6,9\n      6,18\n      9,21\n      12,15\n      12,18\n      15,21\n      18,21\n    ]\n    new PolyhedronRasterizer.Master(vertices, indices)\n\n\n  @cuboid : (width_x, width_y, width_z) ->\n\n    @squareFrustum(width_x, width_y, 0, width_x, width_y, width_z)\n\n\n  @cube : (width) ->\n\n    @cuboid(width, width, width)\n\n\n\nmodule.exports = PolyhedronRasterizer\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/binary/polyhedron_rasterizer.coffee\n **/","_ = require(\"lodash\")\n\nclass BoundingBox\n\n\n  constructor : ( @boundingBox, @cube ) ->\n\n    @BUCKET_SIZE_P = @cube.BUCKET_SIZE_P\n    @BYTE_OFFSET   = @cube.BYTE_OFFSET\n\n    if @boundingBox?\n      { @min, @max } = @boundingBox\n\n\n  getBoxForZoomStep : ( zoomStep ) ->\n\n    return {\n      min : _.map @min, (e) => e >> ( @BUCKET_SIZE_P + zoomStep )\n      max : _.map @max, (e) => e >> ( @BUCKET_SIZE_P + zoomStep )\n    }\n\n\n  containsBucket : ( [x, y, z, zoomStep] ) ->\n\n    return true unless @boundingBox?\n\n    { min, max } = @getBoxForZoomStep zoomStep\n\n    return (\n      min[0] <= x <= max[0] and\n      min[1] <= y <= max[1] and\n      min[2] <= z <= max[2]\n    )\n\n\n  containsFullBucket : ( [x, y, z, zoomStep] ) ->\n\n    return true unless @boundingBox?\n\n    { min, max } = @getBoxForZoomStep zoomStep\n\n    return (\n      min[0] < x < max[0] and\n      min[1] < y < max[1] and\n      min[2] < z < max[2]\n    )\n\n\n  removeOutsideArea : ( bucket, bucketData ) ->\n\n    return if @containsFullBucket bucket\n\n    baseVoxel = _.map bucket[0..2], (e) => e << ( @BUCKET_SIZE_P + bucket[3] )\n\n    for dx in [0...(1 << @BUCKET_SIZE_P)]\n      for dy in [0...(1 << @BUCKET_SIZE_P)]\n        for dz in [0...(1 << @BUCKET_SIZE_P)]\n\n          x = baseVoxel[0] + ( dx << bucket[3] )\n          y = baseVoxel[1] + ( dy << bucket[3] )\n          z = baseVoxel[2] + ( dz << bucket[3] )\n\n          if (\n            @min[0] <= x <= @max[0] and\n            @min[1] <= y <= @max[1] and\n            @min[2] <= z <= @max[2]\n          )\n            continue\n\n          index = @cube.getVoxelIndexByVoxelOffset [dx, dy, dz]\n          for b in [0...@BYTE_OFFSET]\n            bucketData[index + b] = 0\n\n    return\n\nmodule.exports = BoundingBox\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/binary/bounding_box.coffee\n **/","_             = require(\"lodash\")\nRequest       = require(\"libs/request\")\nErrorHandling = require(\"libs/error_handling\")\n\nclass Mappings\n\n\n  constructor : (datasetName, layer) ->\n\n    @mappings = _.indexBy(layer.mappings, \"name\")\n    @baseUrl = \"/data/datasets/#{datasetName}/layers/#{layer.name}/mappings/\"\n    @getParams = \"?token=#{layer.token}\"\n\n\n  getMappingNames : ->\n\n    return _.keys(@mappings)\n\n\n  getMappingArrayAsync : (mappingName) ->\n\n    @fetchMappings(mappingName).then( =>\n      @getMappingArray(mappingName)\n    )\n\n\n  fetchMappings : (mappingName) ->\n\n    mappingChain = @getMappingChain(mappingName)\n    promises = _.map(mappingChain, (mappingName) => @fetchMapping(mappingName))\n    return Promise.all(promises)\n\n\n  fetchMapping : (mappingName) ->\n\n    if @mappings[mappingName].mappingObject?\n      return Promise.resolve()\n\n    Request.receiveJSON(\n      @baseUrl + mappingName + @getParams\n    ).then(\n      (mapping) =>\n        @mappings[mappingName].mappingObject = mapping\n        console.log(\"Done downloading:\", mappingName)\n      (error) ->\n        console.error(\"Error downloading:\", mappingName, error)\n    )\n\n\n  getMappingArray : (mappingName) ->\n\n    mapping = @mappings[mappingName]\n    if mapping.mappingArray?\n      return mapping.mappingArray\n\n    return mapping.mappingArray = @buildMappingArray(mappingName)\n\n\n  buildMappingArray : (mappingName) ->\n\n    mappingArray = []\n\n    for currentMappingName in @getMappingChain(mappingName)\n\n      mappingObject = @mappings[currentMappingName].mappingObject\n      ErrorHandling.assert(mappingObject,\n          \"mappingObject must have been fetched at this point\")\n\n      for mappingClass in mappingObject.classes\n\n        minId = @min(mappingClass)\n        mappedId = mappingArray[minId] || minId\n\n        for id in mappingClass\n          mappingArray[id] = mappedId\n\n    return mappingArray\n\n\n  getMappingChain : (mappingName) ->\n\n    chain = [mappingName]\n    mapping = @mappings[mappingName]\n\n    while mapping.parent?\n      chain.push(mapping.parent)\n      mapping = @mappings[mapping.parent]\n\n    return chain\n\n\n  # Since Math.min(array...) does not scale\n  min : (array) ->\n\n    min = Infinity\n    for entry in array\n      min = Math.min(min, entry)\n    return min\n\nmodule.exports = Mappings\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/binary/mappings.coffee\n **/","_ = require(\"lodash\")\nDeferred = require(\"./deferred\")\n\n\nclass Pipeline\n\n  # Executes asnychronous actions in order.\n  #\n  # Each action is executed after the previous action\n  # is finished. Any output of the previous action is\n  # passed to the current action.\n\n\n  constructor : (firstArguments, @options = {}) ->\n\n    @actions       = []\n    @nextArguments = firstArguments\n    @retryCount    = 0\n    @running       = false\n    @failed        = false\n\n    _.defaults @options,\n      maxRetry : 3\n      retryTimeMs : 1000\n\n\n  getLastActionPromise : ->\n\n    if @actions.length == 0\n      return Promise.resolve()\n\n    return @actions[@actions.length - 1]._deferred.promise()\n\n\n  executeAction : (action) ->\n    # action : function that returns a `Promise`\n\n    action._deferred = new Deferred()\n    @actions.push( action )\n\n    if not @running\n      @executeNext()\n\n    return action._deferred.promise()\n\n\n  executePassAlongAction : (action) ->\n    # For actions that don't return anything\n\n    newAction = ->\n      args = arguments\n      action(args...).then ->\n        # TODO: Figure out how to pass along all arguments\n        return args[0]\n\n    return @executeAction(newAction)\n\n\n  executeActions : (actionList) ->\n\n    for action in actionList\n      promise = @executeAction(action)\n    return promise\n\n\n  restart : ->\n    # To restart the pipeline after it failed.\n    # Returns a new Promise for the first item.\n\n    if @failed and @actions.length > 0\n      @failed = false\n      @retryCount = 0\n      @running = false\n\n      # Reinsert first action\n      return @executeAction(@actions.shift())\n\n    return Promise.resolve()\n\n\n  executeNext : =>\n\n    currentAction = @actions.shift()\n\n    if currentAction?\n\n      @running = true\n\n      currentAction(@nextArguments...).then(\n        (response) =>\n\n          currentAction._deferred.resolve(response)\n\n          @nextArguments = arguments\n          @retryCount = 0\n          @executeNext()\n\n        (response) =>\n\n          @retryCount++\n          @actions.unshift(currentAction)\n\n          if @retryCount >= @options.maxRetry\n            @failed = true\n            currentAction._deferred.reject(response)\n          else\n            setTimeout(@executeNext, @options.retryTimeMs)\n      )\n\n    else\n\n      @running = false\n\nmodule.exports = Pipeline\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/libs/pipeline.coffee\n **/","class Deferred\n  # Wrapper around `Promise` that keeps a reference to `resolve` and `reject`\n  # methods.\n  #\n  # Sample Usage:\n  # ```\n  # d = new Deferred()\n  # setTimeout(\n  #   -> d.resolve()\n  #   1000\n  # )\n  # return d.promise()\n  # ```\n\n\n  constructor : ->\n\n    @_resolve = null\n    @_reject = null\n    @_promise = new Promise((resolve, reject) =>\n      @_resolve = resolve\n      @_reject = reject\n    )\n\n\n  resolve : (arg) ->\n\n    @_resolve(arg)\n\n\n  reject : (arg) ->\n\n    @_reject(arg)\n\n\n  promise : ->\n\n    return @_promise\n\n\nmodule.exports = Deferred\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/libs/deferred.coffee\n **/","app                        = require(\"app\")\nBackbone                   = require(\"backbone\")\n_                          = require(\"lodash\")\nbackbone                   = require(\"backbone\")\nRequest                    = require(\"libs/request\")\nColorGenerator             = require(\"libs/color_generator\")\nTracePoint                 = require(\"./tracepoint\")\nTraceTree                  = require(\"./tracetree\")\nSkeletonTracingStateLogger = require(\"./skeletontracing_statelogger\")\nconstants                  = require(\"../../constants\")\nRestrictionHandler         = require(\"../helpers/restriction_handler\")\nTracingParser              = require(\"./tracingparser\")\nCommentsCollection         = require(\"oxalis/model/right-menu/comments_collection\")\n\nclass SkeletonTracing\n\n  TYPE_USUAL   : constants.TYPE_USUAL\n  TYPE_BRANCH  : constants.TYPE_BRANCH\n  # Max and min radius in base voxels (see scaleInfo.baseVoxel)\n  MIN_RADIUS        : 1\n  MAX_RADIUS        : 5000\n\n  branchStack : []\n  trees : []\n  comments : new CommentsCollection()\n  activeNode : null\n  activeTree : null\n  firstEdgeDirection : null\n\n  constructor : (tracing, @flycam, @flycam3d, @user) ->\n\n    _.extend(this, Backbone.Events)\n\n    @doubleBranchPop = false\n\n    @data = tracing.content.contentData\n    @restrictionHandler = new RestrictionHandler(tracing.restrictions)\n\n\n    ############ Load Tree from @data ##############\n\n    @stateLogger = new SkeletonTracingStateLogger(\n      @flycam, @flycam3d, tracing.version, tracing.id, tracing.typ,\n      tracing.restrictions.allowUpdate, this)\n\n    tracingParser = new TracingParser(@, @data)\n    {\n      @idCount\n      @treeIdCount\n      @trees\n      @comments\n      @activeNode\n      @activeTree\n    } = tracingParser.parse()\n\n    # Initialize tree colors\n    @colorIdCounter = @treeIdCount\n\n    for tree in @trees\n      unless tree.color?\n        @shuffleTreeColor(tree)\n\n    # ensure a tree is active\n    unless @activeTree\n      if @trees.length > 0\n        @activeTree = @trees[0]\n      else\n        @createNewTree()\n\n    tracingType = tracing.typ\n    if (tracingType == \"Task\") and @getNodeListOfAllTrees().length == 0\n      @addNode(tracing.content.editPosition, tracing.content.editRotation, @TYPE_USUAL, 0, 0, 4, false)\n\n    @branchPointsAllowed = tracing.content.settings.branchPointsAllowed\n    if not @branchPointsAllowed\n      # dirty but this actually is what needs to be done\n      @TYPE_BRANCH = @TYPE_USUAL\n\n      #calculate direction of first edge in nm\n      if @data.trees[0]?.edges?\n        for edge in @data.trees[0].edges\n          sourceNode = @findNodeInList(@trees[0].nodes, edge.source).pos\n          targetNode = @findNodeInList(@trees[0].nodes, edge.target).pos\n          if sourceNode[0] != targetNode[0] or sourceNode[1] != targetNode[1] or sourceNode[2] != targetNode[2]\n            @firstEdgeDirection = [targetNode[0] - sourceNode[0],\n                                   targetNode[1] - sourceNode[1],\n                                   targetNode[2] - sourceNode[2]]\n            break\n\n      if @firstEdgeDirection\n        @flycam.setSpaceDirection(@firstEdgeDirection)\n\n\n    app.router.on(\"beforeunload\", =>\n      if !@stateLogger.stateSaved() and @stateLogger.allowUpdate\n        @stateLogger.pushNow(false)\n        return \"You haven't saved your progress, please give us 2 seconds to do so and and then leave this site.\"\n      else\n        return\n    )\n\n\n  benchmark : (numberOfTrees = 1, numberOfNodesPerTree = 10000) ->\n\n    console.log \"[benchmark] start inserting #{numberOfNodesPerTree} nodes\"\n    startTime = (new Date()).getTime()\n    offset = 0\n    size = numberOfNodesPerTree / 10\n    for i in [0...numberOfTrees]\n      @createNewTree()\n      for i in [0...numberOfNodesPerTree]\n        pos = [Math.random() * size + offset, Math.random() * size + offset, Math.random() * size + offset]\n        point = new TracePoint(@TYPE_USUAL, @idCount++, pos, Math.random() * 200, @activeTree.treeId, null, [0, 0, 0])\n        @activeTree.nodes.push(point)\n        if @activeNode\n          @activeNode.appendNext(point)\n          point.appendNext(@activeNode)\n          @activeNode = point\n        else\n          @activeNode = point\n          point.type = @TYPE_BRANCH\n          if @branchPointsAllowed\n            centered = true\n            @pushBranch()\n        @doubleBranchPop = false\n      offset += size\n    @trigger(\"reloadTrees\")\n    console.log \"[benchmark] done. Took me #{((new Date()).getTime() - startTime) / 1000} seconds.\"\n\n\n  pushBranch : ->\n\n    return if @restrictionHandler.handleUpdate()\n\n    if @branchPointsAllowed\n      if @activeNode\n        @branchStack.push(@activeNode)\n        @activeNode.type = @TYPE_BRANCH\n        @stateLogger.push()\n\n        @trigger(\"setBranch\", true, @activeNode)\n    else\n      @trigger(\"noBranchPoints\")\n\n\n  popBranch : ->\n\n    return if @restrictionHandler.handleUpdate()\n\n    return new Promise (resolve, reject) =>\n      if @branchPointsAllowed\n        if @branchStack.length and @doubleBranchPop\n          @trigger(\"doubleBranch\", =>\n            point = @branchStack.pop()\n            @stateLogger.push()\n            @setActiveNode(point.id)\n            @activeNode.type = @TYPE_USUAL\n\n            @trigger(\"setBranch\", false, @activeNode)\n            @doubleBranchPop = true\n            resolve(@activeNode.id))\n        else\n          point = @branchStack.pop()\n          @stateLogger.push()\n          if point\n            @setActiveNode(point.id)\n            @activeNode.type = @TYPE_USUAL\n\n            @trigger(\"setBranch\", false, @activeNode)\n            @doubleBranchPop = true\n            resolve(@activeNode.id)\n          else\n            @trigger(\"emptyBranchStack\")\n            reject()\n      else\n        @trigger(\"noBranchPoints\")\n        reject()\n\n\n  deleteBranch : (node) ->\n\n    return if @restrictionHandler.handleUpdate()\n\n    if node.type != @TYPE_BRANCH then return\n\n    i = 0\n    while i < @branchStack.length\n      if @branchStack[i].id == node.id\n        @branchStack.splice(i, 1)\n      else\n        i++\n\n\n  isBranchPoint : (id) ->\n\n    return id in (node.id for node in @branchStack)\n\n\n  addNode : (position, rotation, type, viewport, resolution, bitDepth, interpolation) ->\n\n    return if @restrictionHandler.handleUpdate()\n\n    if @ensureDirection(position)\n\n      radius = 10 * app.scaleInfo.baseVoxel\n      if @activeNode then radius = @activeNode.radius\n\n      metaInfo =\n        timestamp : (new Date()).getTime()\n        viewport : viewport\n        resolution : resolution\n        bitDepth : bitDepth\n        interpolation : interpolation\n\n      point = new TracePoint(type, @idCount++, position, radius, @activeTree.treeId, metaInfo, rotation)\n      @activeTree.nodes.push(point)\n\n      if @activeNode\n\n        @activeNode.appendNext(point)\n        point.appendNext(@activeNode)\n        @activeNode = point\n\n      else\n\n        @activeNode = point\n        point.type = @TYPE_BRANCH\n        if @branchPointsAllowed\n          @pushBranch()\n\n      @doubleBranchPop = false\n\n      @stateLogger.createNode(point, @activeTree.treeId)\n\n      @trigger(\"newNode\", @activeNode.id, @activeTree.treeId)\n      @trigger(\"newActiveNode\", @activeNode.id)\n    else\n      @trigger(\"wrongDirection\")\n\n\n  ensureDirection : (position) ->\n\n    if (!@branchPointsAllowed and @activeTree.nodes.length == 2 and\n        @firstEdgeDirection and @activeTree.treeId == @trees[0].treeId)\n      sourceNodeNm = app.scaleInfo.voxelToNm(@activeTree.nodes[1].pos)\n      targetNodeNm = app.scaleInfo.voxelToNm(position)\n      secondEdgeDirection = [targetNodeNm[0] - sourceNodeNm[0],\n                             targetNodeNm[1] - sourceNodeNm[1],\n                             targetNodeNm[2] - sourceNodeNm[2]]\n\n      return (@firstEdgeDirection[0] * secondEdgeDirection[0] +\n              @firstEdgeDirection[1] * secondEdgeDirection[1] +\n              @firstEdgeDirection[2] * secondEdgeDirection[2] > 0)\n    else\n      true\n\n\n  getActiveNode : -> @activeNode\n\n\n  getActiveNodeId : ->\n\n    if @activeNode then @activeNode.id else null\n\n\n  getActiveNodePos : ->\n\n    if @activeNode then @activeNode.pos else null\n\n\n  getActiveNodeType : ->\n\n    if @activeNode then @activeNode.type else null\n\n\n  getActiveNodeRadius : ->\n\n    if @activeNode then @activeNode.radius else 10 * app.scaleInfo.baseVoxel\n\n\n  getActiveNodeRotation : ->\n\n    if @activeNode then @activeNode.rotation else null\n\n\n  getActiveTreeId : ->\n\n    if @activeTree then @activeTree.treeId else null\n\n\n  getActiveTreeName : ->\n\n    if @activeTree then @activeTree.name else null\n\n\n  setTreeName : (name) ->\n\n    if @activeTree\n      if name\n        @activeTree.name = name\n      else\n        @activeTree.name = \"Tree#{('00'+@activeTree.treeId).slice(-3)}\"\n      @stateLogger.updateTree(@activeTree)\n\n      @trigger(\"newTreeName\", @activeTree.treeId)\n\n\n  getNode : (id) ->\n\n    for tree in @trees\n      for node in tree.nodes\n        if node.id == id then return node\n    return null\n\n\n  setActiveNode : (nodeID, mergeTree = false) ->\n\n    lastActiveNode = @activeNode\n    lastActiveTree = @activeTree\n    for tree in @trees\n      for node in tree.nodes\n        if node.id == nodeID\n          @activeNode = node\n          @activeTree = tree\n          break\n\n    @stateLogger.push()\n    @trigger(\"newActiveNode\", @activeNode.id)\n\n    if mergeTree\n      @mergeTree(lastActiveNode, lastActiveTree)\n\n\n  setActiveNodeRadius : (radius) ->\n\n    return if @restrictionHandler.handleUpdate()\n\n    if @activeNode?\n      @activeNode.radius = Math.min( @MAX_RADIUS,\n                            Math.max( @MIN_RADIUS, radius ) )\n      @stateLogger.updateNode( @activeNode, @activeNode.treeId )\n      @trigger(\"newActiveNodeRadius\", radius)\n\n\n  setComment : (commentText) ->\n\n    return if @restrictionHandler.handleUpdate()\n\n    if @activeNode\n      # remove any existing comments for that node\n      for i in [0...@comments.length]\n        if(@comments[i].node.id == @activeNode.id)\n          @comments.splice(i, 1)\n          @deletedCommentIndex = i\n          break\n      if commentText != \"\"\n        @comments.push({node: @activeNode, content: commentText})\n      @stateLogger.push()\n      @trigger(\"updateComments\")\n\n\n  getComment : (nodeID) ->\n\n    unless nodeID? then nodeID = @activeNode.id if @activeNode\n    for comment in @comments\n      if comment.node.id == nodeID then return comment.content\n    return \"\"\n\n\n  deleteComment : (nodeID) ->\n\n    return if @restrictionHandler.handleUpdate()\n\n    for i in [0...@comments.length]\n      if(@comments[i].node.id == nodeID)\n        @comments.splice(i, 1)\n        @stateLogger.push()\n        @trigger(\"updateComments\")\n        break\n\n\n  nextCommentNodeID : (forward) ->\n\n    length = @comments.length\n    offset = if forward then 1 else -1\n\n    unless @activeNode\n      if length > 0 then return @comments[0].node.id\n\n    if length == 0\n      return null\n\n    for i in [0...@comments.length]\n      if @comments[i].node.id == @activeNode.id\n        return @comments[(length + i + offset) % length].node.id\n\n    if @deletedCommentIndex?\n      offset = if forward then 0 else -1\n      return @comments[(length + @deletedCommentIndex + offset) % length].node.id\n\n    return @comments[0].node.id\n\n\n  getComments : (ascendingOrder = true) =>\n\n    @comments.sort(@compareNodes)\n    if not ascendingOrder\n      return @comments.reverse()\n    return @comments\n\n\n  getPlainComments : =>\n\n    plainComments = []\n    for comment in @comments\n      plainComments.push({node: comment.node.id, content: comment.content})\n    plainComments\n\n\n  selectNextTree : (forward) ->\n\n    trees = @getTreesSorted(@user.get(\"sortTreesByName\"))\n    for i in [0...trees.length]\n      if @activeTree.treeId == trees[i].treeId\n        break\n\n    diff = (if forward then 1 else -1) + trees.length\n    @setActiveTree(trees[ (i + diff) % trees.length ].treeId)\n\n\n  centerActiveNode : ->\n\n    position = @getActiveNodePos()\n    if position\n      @flycam.setPosition(position)\n\n\n  setActiveTree : (id) ->\n\n    for tree in @trees\n      if tree.treeId == id\n        @activeTree = tree\n        break\n    if @activeTree.nodes.length == 0\n      @activeNode = null\n    else\n      @activeNode = @activeTree.nodes[0]\n      @trigger(\"newActiveNode\", @activeNode.id)\n    @stateLogger.push()\n\n    @trigger(\"newActiveTree\", @activeTree.treeId)\n\n\n  getNewTreeColor : ->\n\n    return ColorGenerator.distinctColorForId( @colorIdCounter++ )\n\n\n  shuffleTreeColor : (tree) ->\n\n    tree = @activeTree unless tree\n    tree.color = @getNewTreeColor()\n\n    if @restrictionHandler.handleUpdate()\n      @stateLogger.updateTree(tree)\n\n    @trigger(\"newTreeColor\", tree.treeId)\n\n\n  shuffleAllTreeColors : ->\n\n    for tree in @trees\n      @shuffleTreeColor(tree)\n\n\n  createNewTree : ->\n\n    return if @restrictionHandler.handleUpdate()\n\n    tree = new TraceTree(\n      @treeIdCount++,\n      @getNewTreeColor(),\n      \"Tree#{('00'+(@treeIdCount-1)).slice(-3)}\",\n      (new Date()).getTime())\n    @trees.push(tree)\n    @activeTree = tree\n    @activeNode = null\n\n    @stateLogger.createTree(tree)\n\n    @trigger(\"newTree\", tree.treeId, tree.color)\n\n\n  deleteActiveNode : ->\n\n    return if @restrictionHandler.handleUpdate()\n\n    unless @activeNode\n      return\n\n    @trigger(\"deleteComment\", @activeNode.id)\n    for neighbor in @activeNode.neighbors\n      neighbor.removeNeighbor(@activeNode.id)\n    @activeTree.removeNode(@activeNode.id)\n\n    deletedNode = @activeNode\n    @stateLogger.deleteNode(deletedNode, @activeTree.treeId)\n\n    @deleteBranch(deletedNode)\n\n    if deletedNode.neighbors.length > 1\n      # Need to split tree\n      newTrees = []\n      oldActiveTreeId = @activeTree.treeId\n\n      for i in [0...@activeNode.neighbors.length]\n        unless i == 0\n          # create new tree for all neighbors, except the first\n          @createNewTree()\n\n        @activeTree.nodes = []\n        @getNodeListForRoot(@activeTree.nodes, deletedNode.neighbors[i])\n        # update tree ids\n        unless i == 0\n          for node in @activeTree.nodes\n            node.treeId = @activeTree.treeId\n        @setActiveNode(deletedNode.neighbors[i].id)\n        newTrees.push(@activeTree)\n\n        if @activeTree.treeId != oldActiveTreeId\n          nodeIds = []\n          for node in @activeTree.nodes\n            nodeIds.push(node.id)\n          @stateLogger.moveTreeComponent(oldActiveTreeId, @activeTree.treeId, nodeIds)\n\n      @trigger(\"reloadTrees\", newTrees)\n\n    else if @activeNode.neighbors.length == 1\n      # no children, so just remove it.\n      @setActiveNode(deletedNode.neighbors[0].id)\n      @trigger(\"deleteActiveNode\", deletedNode, @activeTree.treeId)\n    else\n      @deleteTree(false)\n\n\n  deleteTree : (notify, id, deleteBranchesAndComments, notifyServer) ->\n\n    return if @restrictionHandler.handleUpdate()\n\n    if notify\n      if confirm(\"Do you really want to delete the whole tree?\")\n        @reallyDeleteTree(id, deleteBranchesAndComments, notifyServer)\n      else\n        return\n    else\n      @reallyDeleteTree(id, deleteBranchesAndComments, notifyServer)\n\n\n  reallyDeleteTree : (id, deleteBranchesAndComments = true, notifyServer = true) ->\n\n    return if @restrictionHandler.handleUpdate()\n\n    unless id\n      id = @activeTree.treeId\n    tree = @getTree(id)\n\n    for i in [0..@trees.length]\n      if @trees[i].treeId == tree.treeId\n        index = i\n        break\n    @trees.splice(index, 1)\n    # remove branchpoints and comments, NOT when merging trees\n    for node in tree.nodes\n      if deleteBranchesAndComments\n        @trigger(\"deleteComment\", node.id)\n        @deleteBranch(node)\n\n    if notifyServer\n      @stateLogger.deleteTree(tree)\n    @trigger(\"deleteTree\", index)\n\n    # Because we always want an active tree, check if we need\n    # to create one.\n    if @trees.length == 0\n      @createNewTree()\n    else\n      # just set the last tree to be the active one\n      @setActiveTree(@trees[@trees.length - 1].treeId)\n\n\n  mergeTree : (lastNode, lastTree) ->\n\n    return if @restrictionHandler.handleUpdate()\n\n    unless lastNode\n      return\n\n    activeNodeID = @activeNode.id\n    if lastNode.id != activeNodeID\n      if lastTree.treeId != @activeTree.treeId\n        @activeTree.nodes = @activeTree.nodes.concat(lastTree.nodes)\n        @activeNode.appendNext(lastNode)\n        lastNode.appendNext(@activeNode)\n\n        # update tree ids\n        for node in @activeTree.nodes\n          node.treeId = @activeTree.treeId\n\n        @stateLogger.mergeTree(lastTree, @activeTree, lastNode.id, activeNodeID)\n\n        @trigger(\"mergeTree\", lastTree.treeId, lastNode, @activeNode)\n\n        @deleteTree(false, lastTree.treeId, false, false)\n\n        @setActiveNode(activeNodeID)\n      else\n        @trigger(\"mergeDifferentTrees\")\n\n\n  getTree : (id) ->\n\n    unless id\n      return @activeTree\n    for tree in @trees\n      if tree.treeId == id\n        return tree\n    return null\n\n\n  getTrees : -> @trees\n\n\n  getTreesSorted : ->\n\n    if @user.get(\"sortTreesByName\")\n      return (@trees.slice(0)).sort(@compareNames)\n    else\n      return (@trees.slice(0)).sort(@compareTimestamps)\n\n\n  getNodeListForRoot : (result, root, previous) ->\n    # returns a list of nodes that are connected to the parent\n    #\n    # ASSUMPTION:    we are dealing with a tree, circles would\n    #                break this algorithm\n\n    result.push(root)\n    next = root.getNext(previous)\n    while next?\n      if _.isArray(next)\n        for neighbor in next\n          @getNodeListForRoot(result, neighbor, root)\n        return\n      else\n        result.push(next)\n        newNext = next.getNext(root)\n        root = next\n        next = newNext\n\n\n  getNodeListOfAllTrees : ->\n\n    result = []\n    for tree in @trees\n      result = result.concat(tree.nodes)\n    return result\n\n\n  findNodeInList : (list, id) ->\n    # Helper method used in initialization\n\n    for node in list\n      if node.id == id\n        return node\n    return null\n\n\n  compareNames : (a, b) ->\n\n    if a.name < b.name\n      return -1\n    if a.name > b.name\n      return 1\n    return 0\n\n\n  compareTimestamps : (a,b) ->\n\n    if a.timestamp < b.timestamp\n      return -1\n    if a.timestamp > b.timestamp\n      return 1\n    return 0\n\n\n  compareNodes : (a, b) ->\n\n    if a.node.treeId < b.node.treeId\n      return -1\n    if a.node.treeId > b.node.treeId\n      return 1\n    return a.node.id - b.node.id\n\n  getPlainComments : =>\n\n    return @comments.toJSON()\n\n\nmodule.exports = SkeletonTracing\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/skeletontracing/skeletontracing.coffee\n **/","THREE          = require(\"three\")\nColorConverter = require(\"three.color\")\n\nGOLDEN_RATIO = 0.618033988749895\n\nColorGenerator = {\n  distinctColorForId : (id) ->\n\n    hue = id * GOLDEN_RATIO\n    hue %= 1\n    return ColorConverter.setHSV(\n      new THREE.Color(), hue, 1, 1\n    ).getHex()\n}\n\nmodule.exports = ColorGenerator\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/libs/color_generator.coffee\n **/","\n\nclass TracePoint\n\n  constructor : (@type, @id, @pos, @radius, @treeId, @metaInfo, @rotation) ->\n\n    @neighbors = []\n\n\n  appendNext : (next) ->\n\n    @neighbors.push(next)\n\n\n  getNext : (parent) ->\n\n    if parent? then minN = 2 else minN = 1\n\n    if @neighbors.length < minN\n      return null\n\n    if @neighbors.length == minN\n      for neighbor in @neighbors\n        if neighbor != parent\n          return neighbor\n\n    res = []\n    for neighbor in @neighbors\n      if neighbor != parent\n        res.push(neighbor)\n    return res\n\n\n  buildTree : (parent = null) ->\n\n    @setChildRelation(parent)\n\n    childrenIterator = @children\n    parentIterator   = @\n\n    while childrenIterator.length == 1\n      childrenIterator[0].setChildRelation(parentIterator)\n      parentIterator = childrenIterator[0]\n      childrenIterator = parentIterator.children\n\n    for child in childrenIterator\n      child.buildTree(parentIterator)\n\n\n  setChildRelation : (@parent) =>\n\n    # Make sure you only look once at every node. Assumes\n    # that @_seen does not exist or has been initialized\n    # to false for all nodes\n    if @_seen\n      throw \"CyclicTree\"\n    @_seen = true\n\n    @children = @getNext(@parent)\n    unless @children?\n      @children = []\n    unless _.isArray(@children)\n      @children = [@children]\n\n\n  removeNeighbor : (id) ->\n\n    for i in [0...@neighbors.length]\n      if @neighbors[i].id == id\n        # Remove neighbor\n        @neighbors.splice(i, 1)\n        return\n\nmodule.exports = TracePoint\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/skeletontracing/tracepoint.coffee\n **/","class TraceTree\n\n  constructor : (@treeId, @color, @name, @timestamp) ->\n\n    @nodes = []\n\n\n  removeNode : (id) ->\n\n    for i in [0...@nodes.length]\n      if @nodes[i].id == id\n        @nodes.splice(i, 1)\n        return\n\n\n  buildTree : ->\n\n    # Use node with minimal ID as root\n    for node in @nodes\n\n      # Initialize Cyclic tree detection\n      node._seen = false\n\n      # define root as the node with smallest id\n      if root?\n        if root.id > node.id then root = node\n      else\n        root = node\n\n    if root?\n      root.buildTree()\n\n    return root\n\nmodule.exports = TraceTree\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/skeletontracing/tracetree.coffee\n **/","StateLogger    = require(\"../statelogger\")\nTHREE          = require(\"three\")\n{V3}           = require(\"libs/mjs\")\nErrorHandling  = require(\"libs/error_handling\")\n\nclass SkeletonTracingStateLogger extends StateLogger\n\n\n  constructor : (flycam, @flycam3d, version, tracingId, tracingType, allowUpdate, @skeletonTracing) ->\n\n    super(flycam, version, tracingId, tracingType, allowUpdate)\n\n\n  #### TREES\n\n  treeObject : (tree, oldId) ->\n\n    treeColor = new THREE.Color(tree.color)\n    return {\n      id: if oldId then oldId else tree.treeId\n      updatedId: if oldId then tree.treeId\n      color: [treeColor.r, treeColor.g, treeColor.b, 1]\n      name: tree.name\n      timestamp: tree.timestamp\n      }\n\n\n  createTree : (tree) ->\n\n    @pushDiff(\"createTree\", @treeObject(tree))\n\n\n  updateTree : (tree, oldId = false) ->\n\n    @pushDiff(\"updateTree\", @treeObject(tree, oldId))\n\n\n  deleteTree : (tree) ->\n\n    @pushDiff(\"deleteTree\", {\n      id: tree.treeId\n      })\n\n\n  mergeTree : (sourceTree, targetTree, lastNodeId, activeNodeId) ->\n\n    # Make sure that those nodes exist\n    found = false; treeIds = []\n    for node in sourceTree.nodes\n      found |= (node.id == lastNodeId)\n      treeIds.push(node.id)\n    ErrorHandling.assert(found, \"lastNodeId not in sourceTree\",\n      {sourceTreeNodeIds : treeIds, lastNodeId : lastNodeId})\n\n    found = false; treeIds = []\n    for node in targetTree.nodes\n      found |= (node.id == activeNodeId)\n      treeIds.push(node.id)\n    ErrorHandling.assert(found, \"activeNodeId not in targetTree\",\n      {targetTreeNodeIds : treeIds, activeNodeId : activeNodeId})\n\n    # Copy all edges and nodes from sourceTree to\n    # targetTree, while leaving targetTree's properties\n    # unchanged. Then, delete sourceTree.\n    @pushDiff(\"mergeTree\", {\n        sourceId : sourceTree.treeId\n        targetId : targetTree.treeId\n      }, false)\n    @createEdge(lastNodeId, activeNodeId, targetTree.treeId)\n\n\n  #### NODES and EDGED\n\n  nodeObject : (node, treeId) ->\n\n    return _.extend node.metaInfo,\n      treeId : treeId,\n      id: node.id,\n      radius: node.radius,\n      position : V3.floor(node.pos),\n      rotation : node.rotation\n\n\n  edgeObject : (node, treeId) ->\n\n    ErrorHandling.assert(node.neighbors.length == 1,\n      \"Node has to have exactly one neighbor\", node.neighbors.length)\n\n    return {\n      treeId : treeId\n      source : node.neighbors[0].id\n      target : node.id\n    }\n\n\n  createNode : (node, treeId) ->\n\n    ErrorHandling.assert(node.neighbors.length <= 1,\n      \"New node can't have more than one neighbor\", node.neighbors.length)\n    if node.neighbors[0]\n      ErrorHandling.assert(node.treeId == node.neighbors[0].treeId,\n        \"Neighbor has different treeId\",\n        {treeId1 : node.treeId, treeId2 : node.neighbors[0].treeId})\n\n    needsEdge = node.neighbors.length == 1\n    @pushDiff(\"createNode\", @nodeObject(node, treeId), !needsEdge)\n    if needsEdge\n      @pushDiff(\"createEdge\", @edgeObject(node, treeId))\n\n\n  updateNode : (node, treeId) ->\n\n    @pushDiff(\"updateNode\", @nodeObject(node, treeId))\n\n\n  deleteNode : (node, treeId) ->\n\n    # Edges will be deleted implicitly\n    @pushDiff(\"deleteNode\", {\n      treeId : treeId\n      id: node.id\n      })\n\n\n  moveTreeComponent : (sourceId, targetId, nodeIds) ->\n\n    @pushDiff(\"moveTreeComponent\", {\n      sourceId : sourceId\n      targetId : targetId\n      nodeIds : nodeIds\n      })\n\n\n  createEdge : (source, target, treeId) ->\n\n    # used when edges are set manually, e.g. for merging trees\n    @pushDiff(\"createEdge\", {\n      treeId : treeId\n      source : source\n      target : target\n      })\n\n\n  concatUpdateTracing : ->\n\n    branchPoints = []\n    for branchPoint in @skeletonTracing.branchStack\n      branchPoints.push({id : branchPoint.id})\n    @pushDiff(\n      \"updateTracing\"\n      {\n        branchPoints : branchPoints\n        comments : @skeletonTracing.getPlainComments()\n        activeNode : @skeletonTracing.getActiveNodeId()\n        editPosition : V3.floor(@flycam.getPosition())\n        editRotation : @flycam3d.getRotation()\n        zoomLevel : @flycam.getZoomStep()\n      }\n      false\n    )\n    ErrorHandling.assert(@newDiffs.length > 0, \"newDiffs empty after concatUpdateTracing\", {\n      @newDiffs\n    })\n\n\nmodule.exports = SkeletonTracingStateLogger\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/skeletontracing/skeletontracing_statelogger.coffee\n **/","Backbone      = require(\"backbone\")\n_             = require(\"lodash\")\n$             = require(\"jquery\")\napp           = require(\"app\")\nRequest       = require(\"libs/request\")\nToast         = require(\"libs/toast\")\nErrorHandling = require(\"libs/error_handling\")\n\nclass StateLogger\n\n  PUSH_THROTTLE_TIME : 30000 #30s\n  SAVE_RETRY_WAITING_TIME : 5000\n\n  constructor : (@flycam, @version, @tracingId, @tracingType, @allowUpdate) ->\n\n    _.extend(this, Backbone.Events)\n    @mutexedPush = _.mutexPromise(@pushImpl, -1)\n\n    @newDiffs = []\n\n    # Push state to server whenever a user moves\n    @listenTo(@flycam, \"positionChanged\", @push)\n\n\n  pushDiff : (action, value, push = true) ->\n\n    @newDiffs.push({\n      action : action\n      value : value\n    })\n    # In order to assure that certain actions are atomic,\n    # it is sometimes necessary not to push.\n    if push\n      @push()\n\n\n  concatUpdateTracing : ->\n\n    throw new Error(\"concatUpdateTracing has to be overwritten by subclass!\")\n\n\n  #### SERVER COMMUNICATION\n\n  stateSaved : ->\n\n    return @newDiffs.length == 0\n\n\n  push : ->\n\n    if @allowUpdate\n      @pushThrottled()\n\n\n  pushThrottled : ->\n    # Pushes the buffered tracing to the server. Pushing happens at most\n    # every 30 seconds.\n\n    @pushThrottled = _.throttle(@mutexedPush, @PUSH_THROTTLE_TIME)\n    @pushThrottled()\n\n\n  pushNow : ->   # Interface for view & controller\n\n    return @mutexedPush(false)\n\n  # alias for `pushNow`\n  # needed for save delegation by `Model`\n  # see `model.coffee`\n  save : ->\n\n      return @pushNow()\n\n\n  pushImpl : (notifyOnFailure) ->\n\n    if not @allowUpdate\n      return Promise.resolve()\n\n    # TODO: remove existing updateTracing\n    @concatUpdateTracing()\n\n    diffsCurrentLength = @newDiffs.length\n    console.log \"Sending data: \", @newDiffs\n    ErrorHandling.assert(@newDiffs.length > 0, \"Empty update sent to server!\", {\n      @newDiffs\n    })\n\n    return Request.sendJSONReceiveJSON(\n      \"/annotations/#{@tracingType}/#{@tracingId}?version=#{(@version + 1)}\"\n      method : \"PUT\"\n      data : @newDiffs\n    ).then(\n      (response) =>\n        @newDiffs = @newDiffs.slice(diffsCurrentLength)\n        @version = response.version\n        @pushDoneCallback()\n      (responseObject) =>\n        @pushFailCallback(responseObject, notifyOnFailure)\n    )\n\n\n  pushFailCallback : (response, notifyOnFailure) ->\n\n    $('body').addClass('save-error')\n\n    # HTTP Code 409 'conflict' for dirty state\n    if response.status == 409\n      app.router.off(\"beforeunload\")\n      alert(\"\"\"\n        It seems that you edited the tracing simultaneously in different windows.\n        Editing should be done in a single window only.\n\n        In order to restore the current window, a reload is necessary.\n      \"\"\")\n      app.router.reload()\n\n\n    setTimeout((=> @pushNow()), @SAVE_RETRY_WAITING_TIME)\n    if notifyOnFailure\n      @trigger(\"pushFailed\")\n\n\n  pushDoneCallback : ->\n\n    @trigger(\"pushDone\")\n    $('body').removeClass('save-error')\n\n\nmodule.exports = StateLogger\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/statelogger.coffee\n **/","Toast = require(\"libs/toast\")\n\nclass RestrictionHandler\n\n\n  UPDATE_ERROR : \"You cannot update this tracing, because you are in Read-only mode!\"\n\n\n  constructor : (@restrictions) ->\n    @issuedUpdateError = false\n\n\n  # Should be called whenever the model is modified\n  # Returns whether the modification should be aborted\n  # ==> return if @restrictionHandler.handleUpdate()\n  handleUpdate : ->\n\n    if @restrictions.allowUpdate\n      return false\n\n    else\n      if not @issuedUpdateError\n        Toast.error(@UPDATE_ERROR)\n        @issuedUpdateError = true\n      return true\n\nmodule.exports = RestrictionHandler\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/helpers/restriction_handler.coffee\n **/","_                  = require(\"lodash\")\nTHREE              = require(\"three\")\nTracePoint         = require(\"./tracepoint\")\nTraceTree          = require(\"./tracetree\")\nToast              = require(\"libs/toast\")\nCommentsCollection = require(\"oxalis/model/right-menu/comments_collection\")\n\nclass TracingParser\n\n\n  constructor : (@skeletonTracing, @data) ->\n\n    @idCount = 1\n    @treeIdCount = 1\n    @trees = []\n    @comments = new CommentsCollection()\n    @activeNode = null\n    @activeTree = null\n\n\n  buildTrees : ->\n\n    for treeData in @data.trees\n      # Create new tree\n      tree = new TraceTree(\n        treeData.id,\n        @convertColor(treeData.color),\n        if treeData.name then treeData.name else \"Tree#{('00'+treeData.id).slice(-3)}\",\n        treeData.timestamp)\n\n      # Initialize nodes\n      for node in treeData.nodes\n\n        metaInfo = _.pick( node,\n          'timestamp', 'viewport', 'resolution', 'bitDepth', 'interpolation' )\n\n        tree.nodes.push(\n          new TracePoint(\n            @skeletonTracing.TYPE_USUAL,\n            node.id, node.position, node.radius, treeData.id,\n            metaInfo, node.rotation))\n\n        # idCount should be bigger than any other id\n        @idCount = Math.max(node.id + 1, @idCount);\n\n      # Initialize edges\n      for edge in treeData.edges\n        sourceNode = @skeletonTracing.findNodeInList(tree.nodes, edge.source)\n        targetNode = @skeletonTracing.findNodeInList(tree.nodes, edge.target)\n        if sourceNode and targetNode\n          sourceNode.appendNext(targetNode)\n          targetNode.appendNext(sourceNode)\n        else\n          Toast.error(\"Node with id #{edge.source} doesn't exist. Ignored edge due to missing source node.\") if not sourceNode\n          Toast.error(\"Node with id #{edge.target} doesn't exist. Ignored edge due to missing target node.\") if not targetNode\n\n      # Set active Node\n      activeNodeT = @skeletonTracing.findNodeInList(tree.nodes, @data.activeNode)\n      if activeNodeT\n        @activeNode = activeNodeT\n        # Active Tree is the one last added\n        @activeTree = tree\n\n      @treeIdCount = Math.max(tree.treeId + 1, @treeIdCount)\n      @trees.push(tree)\n\n    if @data.activeNode and not @activeNode\n      Toast.error(\"Node with id #{@data.activeNode} doesn't exist. Ignored active node.\")\n\n\n  convertColor : (colorArray) ->\n\n    if colorArray?\n      return new THREE.Color().setRGB(colorArray...).getHex()\n\n    return null\n\n\n  setBranchpoints : (nodeList) ->\n\n    for branchpoint in @data.branchPoints\n      node = @skeletonTracing.findNodeInList(nodeList, branchpoint.id)\n      if node\n        node.type = @skeletonTracing.TYPE_BRANCH\n        @skeletonTracing.branchStack.push(node)\n      else\n        Toast.error(\"Node with id #{branchpoint.id} doesn't exist. Ignored branchpoint.\")\n\n\n  setComments : (nodeList) ->\n\n    filteredComments = _.filter(@data.comments, (comment) ->\n      _.some(nodeList, (node) -> node.id == comment.node)\n    )\n    @comments.add(filteredComments)\n\n\n  parse : ->\n\n    unless @data?\n      return {\n        idCount : 0\n        treeIdCount : 0\n        trees : []\n        comments : new CommentsCollection()\n        activeNode : null\n        activeTree : null\n      }\n\n    @buildTrees()\n\n    nodeList = []\n    for tree in @trees\n      nodeList = nodeList.concat(tree.nodes)\n\n    @setBranchpoints(nodeList)\n    @setComments(nodeList)\n\n    return {\n      @idCount\n      @treeIdCount\n      @trees\n      @comments\n      @activeNode\n      @activeTree\n    }\n\nmodule.exports = TracingParser\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/skeletontracing/tracingparser.coffee\n **/","_        = require(\"lodash\")\nbackbone = require(\"backbone\")\n\nclass CommentsCollection extends Backbone.Collection\n\n\n  intitalize : ->\n\n    @coefficient = 1\n\n\n  comparator : (model) ->\n\n    return model.get(\"node\") * @coefficient\n\n\n  sort : (isAscending) ->\n\n    @coefficient = if isAscending then 1 else -1\n    super()\n\n\n  findCommentByNodeId : (id) ->\n\n    return @findWhere({ node: id })\n\n\n  hasCommentWithNodeId : (id) ->\n\n    return @findCommentByNodeId(id) != undefined\n\nmodule.exports = CommentsCollection\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/right-menu/comments_collection.coffee\n **/","_        = require(\"lodash\")\nBackbone = require(\"backbone\")\napp      = require(\"app\")\n\nclass User extends Backbone.Model\n\n  url : \"/api/user/userConfiguration\"\n  # To add any user setting, you must define default values in\n  # UserSettings.scala\n\n\n  initialize : ->\n\n    @listenTo(@, \"change\", _.debounce((=> @save()), 500))\n\n\n  getMouseInversionX : ->\n\n    return if @get(\"inverseX\") then 1 else -1\n\n\n  getMouseInversionY : ->\n\n    return if @get(\"inverseY\") then 1 else -1\n\n\n  getOrCreateBrightnessContrastColorSettings : (model) ->\n\n    settings = @get(\"brightnessContrastColorSettings\")\n    datasetSettings = settings[model.datasetPostfix] || {}\n\n    for binary in model.getColorBinaries()\n      datasetSettings[binary.name] = datasetSettings[binary.name] || {}\n      _.defaults(datasetSettings[binary.name], settings.default)\n\n    settings[model.datasetPostfix] = datasetSettings\n\n\n  resetBrightnessContrastColorSettings : (model) ->\n\n    Request.receiveJSON(\"/user/configuration/default\").then( (defaultData) =>\n      @get(\"brightnessContrastColorSettings\")[model.datasetPostfix] =\n        defaultData.brightnessContrastColorSettings[model.datasetPostfix]\n\n      @getOrCreateBrightnessContrastColorSettings(model)\n    )\n\n  triggerAll : ->\n\n    for property of @attributes\n      @trigger(\"change:#{property}\", @, @get(property))\n\nmodule.exports = User\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/user.coffee\n **/","Request        = require(\"libs/request\")\n_              = require(\"lodash\")\nBackbone       = require(\"backbone\")\nNestedObjModel = require(\"libs/nested_obj_model\")\n\n\nclass DatasetConfiguration extends NestedObjModel\n\n  initialize : ({datasetName, @dataLayerNames}) ->\n\n    @url = \"/api/dataSetConfigurations/#{datasetName}\"\n    @listenTo(@, \"change\", _.debounce((=> @save()), 500))\n    @listenTo(@, \"sync\", => @setDefaultBinaryColors())\n\n\n  reset : =>\n\n    @setDefaultBinaryColors(true)\n\n\n  triggerAll : ->\n\n    for property of @attributes\n      @trigger(\"change:#{property}\", @, @get(property))\n\n\n  setDefaultBinaryColors : (forceDefault = false) ->\n\n    layers = @get(\"layers\")\n\n    if @dataLayerNames.length == 1\n      defaultColors = [[255, 255, 255]]\n    else\n      defaultColors = [[255, 0, 0], [0, 255, 0], [0, 0, 255],\n                        [255, 255, 0], [0, 255, 255], [255, 0, 255]]\n\n    for layerName, i in @dataLayerNames\n      defaults =\n        color: defaultColors[i % defaultColors.length]\n        brightness: 0\n        contrast: 1\n\n      if forceDefault or not layers[layerName]\n        layer = defaults\n      else\n        layer = _.defaults(layers[layerName], defaults)\n\n      @set(\"layers.#{layerName}\", layer)\n\nmodule.exports = DatasetConfiguration\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/dataset_configuration.coffee\n **/","_        = require(\"lodash\")\nBackbone = require(\"backbone\")\n\nclass NestedObjModel extends Backbone.Model\n  get: (attributeString) ->\n    attributes = attributeString.split(\".\")\n    valueObj = this.attributes\n    _.reduce(\n      attributes\n      (value, attribute) ->\n        return value?[attribute]\n      valueObj)\n\n\n  set: (attributeString, val, options={}) =>\n\n    # We don't handle objects for now\n    if _.isObject(attributeString)\n      return super(attributeString, val, options)\n\n    @changed = {}\n    @deepSet(@attributes, attributeString, val, options.silent)\n\n\n  deepSet: (obj, attributeString, val, silent=false) =>\n\n    attributes = attributeString.split(\".\")\n    _.reduce(\n      attributes\n      (value, attribute, ind) =>\n        if ind < attributes.length - 1\n          if not value[attribute]?\n            value[attribute] = {}\n          return value[attribute]\n        else\n          # Set the value if attribute is the last key in the attributeString\n          if value[attribute] != val\n            oldVal = value[attribute]\n            value[attribute] = val\n\n            if not silent\n              # Trigger the change in the model\n              @triggerDeepChange(oldVal, val, attributeString)\n              @trigger(\"change\", @)\n      obj)\n\n\n  triggerDeepChange: (oldObj, newObj, deepKey) =>\n\n    # This method only triggers the change for those parts of the object\n    # that actually changed (e.g. layers.color.brightness)\n    if _.isPlainObject(newObj)\n      # Recursively call triggerDeepChange for each key\n      _.forOwn(newObj, (value, key) =>\n        @triggerDeepChange((if oldObj? then oldObj[key] else oldObj), newObj[key], \"#{deepKey}.#{key}\")\n      )\n    else if oldObj != newObj\n      # Add the change to the changed object\n      @deepSet(@changed, deepKey, newObj, true)\n      # Trigger the change\n      @trigger(\"change:#{deepKey}\", @, newObj)\n\nmodule.exports = NestedObjModel\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/libs/nested_obj_model.coffee\n **/","Backbone                 = require(\"backbone\")\nVolumeCell               = require(\"./volumecell\")\nVolumeLayer              = require(\"./volumelayer\")\nDimensions               = require(\"../dimensions\")\nRestrictionHandler       = require(\"../helpers/restriction_handler\")\nDrawing                  = require(\"libs/drawing\")\nVolumeTracingStateLogger = require(\"./volumetracing_statelogger\")\nConstants                = require(\"../../constants\")\n\nclass VolumeTracing\n\n  constructor : (tracing, @flycam, @flycam3d, @binary) ->\n\n    _.extend(this, Backbone.Events)\n\n    @contentData  = tracing.content.contentData\n    @restrictionHandler = new RestrictionHandler(tracing.restrictions)\n    @mode = Constants.VOLUME_MODE_MOVE\n\n    @cells        = []\n    @activeCell   = null\n    @currentLayer = null        # Layer currently edited\n    @idCount      = @contentData.nextCell || 1\n    @lastCentroid = null\n\n    @stateLogger  = new VolumeTracingStateLogger(\n      @flycam, tracing.version, tracing.id, tracing.typ,\n      tracing.restrictions.allowUpdate,\n      this, @binary.pushQueue\n    )\n\n    @createCell(@contentData.activeCell)\n\n    @listenTo(@binary.cube, \"newMapping\", ->\n      @trigger(\"newActiveCell\", @getActiveCellId())\n    )\n\n    # For testing\n    window.setAlpha = (v) -> Drawing.setAlpha(v)\n    window.setSmoothLength = (v) -> Drawing.setSmoothLength(v)\n\n\n  setMode : (@mode) ->\n\n    @trigger(\"change:mode\", @mode)\n\n\n  toggleMode : ->\n\n    @setMode(\n      if @mode == Constants.VOLUME_MODE_TRACE\n        Constants.VOLUME_MODE_MOVE\n      else\n        Constants.VOLUME_MODE_TRACE\n    )\n\n\n  createCell : (id) ->\n\n    unless id?\n      id = @idCount++\n\n    @cells.push( newCell = new VolumeCell(id) )\n    @setActiveCell( newCell.id )\n    @currentLayer = null\n\n\n  startEditing : (planeId) ->\n    # Return, if layer was actually started\n\n    return false if @restrictionHandler.handleUpdate()\n\n    if currentLayer? or @flycam.getIntegerZoomStep() > 0\n      return false\n\n    pos = Dimensions.roundCoordinate(@flycam.getPosition())\n    thirdDimValue = pos[Dimensions.thirdDimensionForPlane(planeId)]\n    @currentLayer = new VolumeLayer(planeId, thirdDimValue)\n    return true\n\n\n  addToLayer : (pos) ->\n\n    return if @restrictionHandler.handleUpdate()\n\n    unless @currentLayer?\n      return\n\n    @currentLayer.addContour(pos)\n    @trigger \"updateLayer\", @getActiveCellId(), @currentLayer.getSmoothedContourList()\n\n\n  finishLayer : ->\n\n    return if @restrictionHandler.handleUpdate()\n\n    if not @currentLayer? or @currentLayer.isEmpty()\n      return\n\n    start = (new Date()).getTime()\n    @currentLayer.finish()\n    iterator = @currentLayer.getVoxelIterator()\n    labelValue = if @activeCell then @activeCell.id else 0\n    @binary.cube.labelVoxels(iterator, labelValue)\n    console.log \"Labeling time:\", ((new Date()).getTime() - start)\n\n    @updateDirection(@currentLayer.getCentroid())\n    @currentLayer = null\n\n    @trigger \"volumeAnnotated\"\n\n\n  updateDirection : (centroid) ->\n    if @lastCentroid?\n      @flycam.setDirection([\n        centroid[0] - @lastCentroid[0]\n        centroid[1] - @lastCentroid[1]\n        centroid[2] - @lastCentroid[2]\n      ])\n    @lastCentroid = centroid\n\n\n  getActiveCellId : ->\n\n    if @activeCell?\n      return @activeCell.id\n    else\n      return 0\n\n\n  getMappedActiveCellId : ->\n\n    return @binary.cube.mapId(@getActiveCellId())\n\n\n  setActiveCell : (id) ->\n\n    @activeCell = null\n    for cell in @cells\n      if cell.id == id then @activeCell = cell\n\n    if not @activeCell? and id > 0\n      @createCell(id)\n\n    @trigger \"newActiveCell\", id\n\nmodule.exports = VolumeTracing\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/volumetracing/volumetracing.coffee\n **/","class VolumeCell\n\n  constructor : (id) ->\n\n    @id = id\n\n\nmodule.exports = VolumeCell\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/volumetracing/volumecell.coffee\n **/","Dimensions = require(\"../dimensions\")\nDrawing    = require(\"libs/drawing\")\n\n\nclass VolumeLayer\n\n\n  constructor : (@plane, @thirdDimensionValue) ->\n\n    @contourList = []\n    @maxCoord    = null\n    @minCoord    = null\n\n\n  addContour : (pos) ->\n\n    @contourList.push(pos)\n    @updateArea(pos)\n\n\n  updateArea : (pos) ->\n\n    unless @maxCoord?\n      @maxCoord = pos.slice()\n      @minCoord = pos.slice()\n\n    for i in [0..2]\n      @minCoord[i] = Math.min(@minCoord[i], Math.floor(pos[i]) - 2)\n      @maxCoord[i] = Math.max(@maxCoord[i], Math.ceil(pos[i]) + 2)\n\n\n  getSmoothedContourList : ->\n\n    return Drawing.smoothLine(@contourList, ( (pos) => @updateArea(pos) ) )\n\n\n  finish : ->\n\n    unless @isEmpty()\n      @addContour(@contourList[0])\n\n\n  isEmpty : ->\n\n    return @contourList.length == 0\n\n\n  getVoxelIterator : ->\n\n    if @isEmpty()\n      return { hasNext : false }\n\n    minCoord2d = @get2DCoordinate(@minCoord)\n    maxCoord2d = @get2DCoordinate(@maxCoord)\n\n    width      = maxCoord2d[0] - minCoord2d[0] + 1\n    height     = maxCoord2d[1] - minCoord2d[1] + 1\n\n    map = new Array(width)\n    for x in [0...width]\n      map[x] = new Array(height)\n      for y in [0...height]\n        map[x][y] = true\n\n    setMap = (x, y, value = true) ->\n\n      x = Math.floor(x); y = Math.floor(y)\n      map[x - minCoord2d[0]][y - minCoord2d[1]] = value\n\n\n    # The approach is to initialize the map to true, then\n    # draw the outline with false, then fill everything\n    # outside the cell with false and then repaint the outline\n    # with true.\n    #\n    # Reason:\n    # Unless the shape is something like a ring, the area\n    # outside the cell will be in one piece, unlike the inner\n    # area if you consider narrow shapes.\n    # Also, it will be very clear where to start the filling\n    # algorithm.\n    @drawOutlineVoxels( (x, y) -> setMap(x, y, false) )\n    @fillOutsideArea(map, width, height)\n    @drawOutlineVoxels(setMap)\n\n    iterator = {\n      hasNext : true\n      x : 0\n      y : 0\n      getNext : ->\n        res = @get3DCoordinate([@x + minCoord2d[0], @y + minCoord2d[1]])\n        while true\n          @x = (@x + 1) % width\n          if @x == 0 then @y++\n          if map[@x][@y] or @y == height\n            @hasNext = @y != height\n            break\n        return res\n      initialize : ->\n        if not map[0][0]\n          @getNext()\n      get3DCoordinate : (arg) => return @get3DCoordinate(arg)\n    }\n    iterator.initialize()\n\n    return iterator\n\n\n  drawOutlineVoxels : (setMap) ->\n\n    for i in [0...@contourList.length]\n\n      p1 = @get2DCoordinate(  @contourList[i]  )\n      p2 = @get2DCoordinate(  @contourList[(i+1) % @contourList.length]  )\n\n      Drawing.drawLine2d(p1[0], p1[1], p2[0], p2[1], setMap)\n\n\n  fillOutsideArea : (map, width, height) ->\n\n    setMap = (x, y) ->\n      map[x][y] = false\n    isEmpty = (x, y) ->\n      return map[x][y] == true\n\n    # Fill everything BUT the cell\n    Drawing.fillArea(0, 0, width, height, false, isEmpty, setMap)\n\n\n  get2DCoordinate : (coord3d) ->\n    # Throw out 'thirdCoordinate' which is equal anyways\n\n    result = []\n    for i in [0..2]\n      if i != Dimensions.thirdDimensionForPlane(@plane)\n        result.push(coord3d[i])\n    return result\n\n\n  get3DCoordinate : (coord2d) ->\n    # Put thirdCoordinate back in\n    index   = Dimensions.thirdDimensionForPlane(@plane)\n    index2d = 0\n    res     = [0, 0, 0]\n\n    for i in [0..2]\n      if i != index\n        res[i] = coord2d[index2d++]\n      else\n        res[i] = @thirdDimensionValue\n\n    return res\n\n\n  contains2dCoordinate : (point, list = @contourList) ->\n\n    # Algorithm described in OX-322\n    totalDiff = 0\n\n    for contour in list\n\n      contour2d = @get2DCoordinate(contour)\n      newQuadrant = @getQuadrantWithRespectToPoint(contour2d, point)\n      prevQuadrant = if quadrant? then quadrant else newQuadrant\n      quadrant = newQuadrant\n\n      if Math.abs(prevQuadrant - quadrant) == 2 or quadrant == 0\n        # point is on the edge, considered within the polygon\n        #console.log \"Point is ON the edge\", prevQuadrant, quadrant\n        return true\n      diff = quadrant - prevQuadrant\n      # special cases if quadrants are 4 and 1\n      if diff ==  3 then diff = -1\n      if diff == -3 then diff =  1\n      totalDiff -= diff\n\n    return totalDiff != 0\n\n\n  getQuadrantWithRespectToPoint : (vertex, point) ->\n    xDiff = vertex[0] - point[0]\n    yDiff = vertex[1] - point[1]\n\n    if xDiff == 0 and yDiff == 0\n      # Vertex and point have the same coordinates\n      return 0\n\n    switch\n      when xDiff <= 0 and yDiff >  0 then return 1\n      when xDiff <= 0 and yDiff <= 0 then return 2\n      when xDiff >  0 and yDiff <= 0 then return 3\n      when xDiff >  0 and yDiff >  0 then return 4\n\n\n  calculateDistance : (p1, p2) ->\n\n    diff = [p1[0] - p2[0], p1[1] - p2[1], p1[2] - p2[2]]\n    return Math.sqrt( diff[0] * diff[0] + diff[1] * diff[1] + diff[2] * diff[2])\n\n\n  interpolatePositions : (pos1, pos2, f) ->\n\n    sPos1 = [pos1[0] * (1 - f), pos1[1] * (1 - f), pos1[2] * (1 - f)]\n    sPos2 = [pos2[0] * f, pos2[1] * f, pos2[2] * f]\n    return [sPos1[0] + sPos2[0], sPos1[1] + sPos2[1], sPos1[2] + sPos2[2]]\n\n\n  getCentroid : ->\n    # Formula:\n    # https://en.wikipedia.org/wiki/Centroid#Centroid_of_polygon\n\n    sumArea = 0\n    sumCx = 0\n    sumCy = 0\n    for i in [0...(@contourList.length - 1)]\n      [x_i, y_i] = @get2DCoordinate(@contourList[i])\n      [x_i_1, y_i_1] = @get2DCoordinate(@contourList[i+1])\n      sumArea += x_i * y_i_1 - x_i_1 * y_i\n      sumCx += (x_i + x_i_1) * (x_i * y_i_1 - x_i_1 * y_i)\n      sumCy += (y_i + y_i_1) * (x_i * y_i_1 - x_i_1 * y_i)\n\n    area = sumArea / 2\n    cx = sumCx / 6 / area\n    cy = sumCy / 6 / area\n\n    return @get3DCoordinate([cx, cy])\n\nmodule.exports = VolumeLayer\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/volumetracing/volumelayer.coffee\n **/","# This is a class with static methods and constants dealing with drawing\n# lines and filling polygons\n\n# Macros\n# Constants\nSMOOTH_LENGTH = 4\nSMOOTH_ALPHA  = 0.2\n\nDrawing = {\n\n  # Source: http://en.wikipedia.org/wiki/Bresenham's_line_algorithm#Simplification\n  drawLine2d : (x, y, x1, y1, draw) ->\n\n    x_inc = if (dx = x1 - x) < 0 then -1 else 1\n    y_inc = if (dy = y1 - y) < 0 then -1 else 1\n\n    dx = Math.abs(dx)\n    dy = Math.abs(dy)\n\n    dx2 = dx << 1\n    dy2 = dy << 1\n\n    draw(x, y)\n\n    if dx >= dy\n\n      d = dx\n      mode = 0\n\n    else\n\n      #swapMacro(y, x)\n      __tmp = y\n      y = x\n      x = __tmp\n\n      #swapMacro(y_inc, x_inc)\n      __tmp = y_inc\n      y_inc = x_inc\n      x_inc = __tmp\n\n      #swapMacro(dy2, dx2)\n      __tmp = dy2\n      dy2 = dx2\n      dx2 = __tmp\n\n      d = dy\n      mode = 1\n\n    err = dy2 - d\n\n    for i in [0...d]\n\n      if err > 0\n        y += y_inc\n        err -= dx2\n\n      err += dy2\n      x   += x_inc\n\n      if mode\n        draw(y, x)\n      else\n        draw(x, y)\n\n    return\n\n\n  # Source: http://will.thimbleby.net/scanline-flood-fill/\n  fillArea : (x, y, width, height, diagonal, test, paint) ->\n\n    # xMin, xMax, y, down[true] / up[false], extendLeft, extendRight\n    ranges = [[x, x, y, null, true, true]]\n    paint(x, y)\n    while ranges.length\n\n      addNextLine = (newY, isNext, downwards) ->\n\n        rMinX = minX\n        inRange = false\n        x = minX\n\n        while x <= maxX\n\n          # skip testing, if testing previous line within previous range\n          empty = (isNext or (x < r[0] or x > r[1])) and test(x, newY)\n          if not inRange and empty\n            rMinX = x\n            inRange = true\n          else if inRange and not empty\n            ranges.push [rMinX, x - 1, newY, downwards, rMinX is minX, false]\n            inRange = false\n          paint(x, newY)  if inRange\n\n          # skip\n          x = r[1]  if not isNext and x is r[0]\n          x++\n        ranges.push [rMinX, x - 1, newY, downwards, rMinX is minX, true]  if inRange\n\n\n      r = ranges.pop()\n      minX = r[0]\n      maxX = r[1]\n      y = r[2]\n      down = r[3] is true\n      up = r[3] is false\n      extendLeft = r[4]\n      extendRight = r[5]\n      if extendLeft\n        while minX > 0 and test(minX - 1, y)\n          minX--\n          paint(minX, y)\n      if extendRight\n        while maxX < width - 1 and test(maxX + 1, y)\n          maxX++\n          paint(maxX, y)\n      if diagonal\n        minX--  if minX > 0\n        maxX++  if maxX < width - 1\n      else\n        r[0]--\n        r[1]++\n      addNextLine y + 1, not up, true  if y < height\n      addNextLine y - 1, not down, false  if y > 0\n\n\n  # Source : http://twistedoakstudios.com/blog/Post3138_mouse-path-smoothing-for-jack-lumber\n  smoothLine : (points, callback) ->\n\n    smoothLength = @smoothLength || SMOOTH_LENGTH\n    a            = @alpha || SMOOTH_ALPHA\n\n    if points.length > 2 + smoothLength\n\n      for i in [0...smoothLength]\n\n        j = points.length-i-2\n        p0 = points[j]\n        p1 = points[j+1]\n\n        p = []\n        for k in [0...p0.length]\n          p.push(p0[k] * (1-a) + p1[k] * a)\n\n        callback(p)\n        points[j] = p\n\n    return points\n\n\n  setSmoothLength : (v) -> @smoothLength = v\n  setAlpha : (v) -> @alpha = v\n\n}\n\nmodule.exports = Drawing\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/libs/drawing.coffee\n **/","StateLogger = require(\"../statelogger\")\n\nclass VolumeTracingStateLogger extends StateLogger\n\n\n  constructor : (flycam, version, tracingId, tracingType, allowUpdate, @volumeTracing, @pushQueue) ->\n\n    super(flycam, version, tracingId, tracingType, allowUpdate)\n\n\n  pushDiff : (action, value, push = true) ->\n\n    @pushQueue.pushImpl()\n    super(arguments...)\n\n    if push\n      @pushImpl()\n\n\n  pushNow : ->\n\n    pushQueuePromise = @pushQueue.pushImpl()\n    stateLoggerPromise = super(arguments...)\n    return Promise.all([pushQueuePromise, stateLoggerPromise])\n\n\n  concatUpdateTracing : ->\n\n    @pushDiff(\n      \"updateTracing\"\n      {\n        activeCell : @volumeTracing.getActiveCellId()\n        editPosition : @flycam.getPosition()\n        nextCell : @volumeTracing.idCount\n      }\n      false\n    )\n\nmodule.exports = VolumeTracingStateLogger\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/volumetracing/volumetracing_statelogger.coffee\n **/","class BinaryDataConnectionInfo\n\n  ROUND_TRIP_TIME_SMOOTHER : .125\n  BANDWIDTH_SMOOTHER : .125\n\n  #Give some typical initial values here to allow selection of initial loading strategy\n  roundTripTime : 200\n  bandwidth : 100000\n\n  loggedData : []\n  totalBuckets : 0\n  totalBytes : 0\n\n  log : (dataLayerName, startTime, loadedBuckets, loadedBytes) ->\n\n    endTime = new Date().getTime()\n    roundTripTime = endTime - startTime\n    bandwidth = loadedBytes / roundTripTime * 1000\n\n    @loggedData.push({\n      timestamp: endTime,\n      duration: roundTripTime,\n      dataLayer: dataLayerName,\n      bytes: loadedBytes,\n      buckets: loadedBuckets\n    })\n\n    @totalBuckets += loadedBuckets\n    @totalBytes += loadedBytes\n\n    @roundTripTime = (1 - @ROUND_TRIP_TIME_SMOOTHER) * @roundTripTime + @ROUND_TRIP_TIME_SMOOTHER * roundTripTime\n    @bandwidth = (1 - @BANDWIDTH_SMOOTHER) * @bandwidth + @BANDWIDTH_SMOOTHER * bandwidth\n\nmodule.exports = BinaryDataConnectionInfo\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/binarydata_connection_info.coffee\n **/","THREE = require(\"three\")\n# This class encapsulates any conversions between the nm and voxel\n# coordinate system.\n\nclass ScaleInfo\n\n  constructor : (scale) ->\n\n    @nmPerVoxel = scale\n\n    @voxelPerNM = [0, 0, 0]\n    for i in [0..(@nmPerVoxel.length - 1)]\n      @voxelPerNM[i] = 1 / @nmPerVoxel[i]\n\n    # base voxel should be a cube with highest resolution\n    @baseVoxel = Math.min.apply(null, @nmPerVoxel)\n\n    # scale factor to calculate the voxels in a certain\n    # dimension from baseVoxels\n    @baseVoxelFactors = [@baseVoxel / @nmPerVoxel[0],\n                          @baseVoxel / @nmPerVoxel[1],\n                          @baseVoxel / @nmPerVoxel[2]]\n\n  getNmPerVoxelVector : ->\n\n    return new THREE.Vector3(@nmPerVoxel...)\n\n\n  getVoxelPerNMVector : ->\n\n    return new THREE.Vector3(@voxelPerNM...)\n\n\n  voxelToNm : (posArray) ->\n\n    nmPos = posArray.slice()\n    for i in [0..2]\n      nmPos[i] *= @nmPerVoxel[i]\n\n\n  baseVoxelToVoxel : (baseVoxel) ->\n\n    res = @baseVoxelFactors.slice();\n    for i in [0..2]\n      res *= baseVoxel\n    return res\n\nmodule.exports = ScaleInfo\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/scaleinfo.coffee\n **/","app        = require(\"app\")\nDimensions = require(\"./dimensions\")\nconstants  = require(\"../constants\")\n\nclass Flycam2d\n\n  TEXTURE_WIDTH       : 512\n  MAX_TEXTURE_OFFSET  : 31     # maximum difference between requested coordinate and actual texture position\n  MAX_ZOOM_THRESHOLD  : 2\n\n  viewportWidth : 0\n\n  constructor : (@viewportWidth, @zoomStepCount, @model) ->\n\n    _.extend(this, Backbone.Events)\n\n    console.log \"ZoomStepCount: \", @zoomStepCount\n\n    @user = @model.user\n\n    @maxZoomStepDiff = @calculateMaxZoomStepDiff()\n    @zoomStep = 0.0\n    @integerZoomStep = 0\n    # buffer: how many pixels is the texture larger than the canvas on each dimension?\n    # --> two dimensional array with buffer[planeID][dimension], dimension: x->0, y->1\n    @buffer = [[0, 0], [0, 0], [0, 0]]\n    @position = [0, 0, 0]\n    @direction = [0, 0, 1]\n    @rayThreshold = [10, 10, 10, 100]\n    @spaceDirection = [1, 1, 1]\n    @quality = 0 # offset of integer zoom step to the best-quality zoom level\n\n    @updateStoredValues()\n\n    # correct zoom values that are too high or too low\n    @user.set(\"zoom\", Math.max(0.01, Math.min(@user.get(\"zoom\"), Math.floor(@getMaxZoomStep()))))\n\n    @listenTo(@model.get(\"datasetConfiguration\"), \"change:quality\", (model, quality) -> @setQuality(quality))\n    # TODO move zoom into tracing settings\n    @listenTo(@user, \"change:zoom\", (model, zoomFactor) -> @zoom(Math.log(zoomFactor) / Math.LN2))\n\n    # Fire changed event every time\n    _trigger = @trigger\n    @trigger = =>\n      _trigger.apply(this, arguments)\n      _trigger.call(this, \"changed\")\n\n\n  calculateMaxZoomStepDiff : ->\n    # Invariant: 2^zoomStep / 2^integerZoomStep <= 2^maxZoomDiff\n\n    zoomThreshold = Math.min(\n      @MAX_ZOOM_THRESHOLD,\n      (@TEXTURE_WIDTH - @MAX_TEXTURE_OFFSET) / @viewportWidth\n    )\n    return Math.log(zoomThreshold) / Math.LN2\n\n\n  zoomByDelta : (delta) ->\n\n    @zoom(@zoomStep - delta * constants.ZOOM_DIFF)\n\n\n  zoom : (zoom) ->\n\n    # Make sure the max. zoom Step will not be exceded\n    if zoom < @zoomStepCount + @maxZoomStepDiff\n      @setZoomStep(zoom)\n\n\n  setQuality : (value) ->\n    # Set offset to the best-possible zoom step\n\n    @quality = value\n    for i in [0..2]\n      @updateStoredValues()\n    @update()\n\n\n  calculateIntegerZoomStep : ->\n\n    # round, because Model expects Integer\n    @integerZoomStep = Math.ceil(@zoomStep - @maxZoomStepDiff + @quality)\n    @integerZoomStep = Math.min(@integerZoomStep, @zoomStepCount)\n    @integerZoomStep = Math.max(@integerZoomStep, 0)\n\n\n  getZoomStep : ->\n\n    @zoomStep\n\n\n  setZoomStep : (zoomStep) ->\n\n    @zoomStep = zoomStep\n    @update()\n    @updateStoredValues()\n    @trigger(\"zoomStepChanged\", zoomStep)\n\n\n  getMaxZoomStep : ->\n\n    maxZoomStep = @zoomStepCount - 1\n    Math.pow(2, maxZoomStep + @maxZoomStepDiff)\n\n\n  calculateBuffer : ->\n\n    for planeID in [0..2]\n      scaleArray = Dimensions.transDim(app.scaleInfo.baseVoxelFactors, planeID)\n      pixelNeeded = @viewportWidth * @getTextureScalingFactor()\n      @buffer[planeID] = [@TEXTURE_WIDTH - pixelNeeded * scaleArray[0],\n                          @TEXTURE_WIDTH - pixelNeeded * scaleArray[1]]\n\n\n  updateStoredValues : ->\n\n    @calculateIntegerZoomStep()\n    @calculateBuffer()\n\n\n  getIntegerZoomStep : ->\n\n    unless @integerZoomStep\n      @calculateIntegerZoomStep()\n\n    return @integerZoomStep\n\n\n  getTextureScalingFactor : ->\n\n    Math.pow(2, @zoomStep)/Math.pow(2, @integerZoomStep)\n\n\n  getPlaneScalingFactor : ->\n\n    Math.pow(2, @zoomStep)\n\n\n  getDirection : ->\n\n    @direction\n\n\n  setDirection : (direction) ->\n\n    @direction = direction\n    if @user.get(\"dynamicSpaceDirection\")\n      @setSpaceDirection(direction)\n\n\n  setSpaceDirection : (direction) ->\n\n    for index in [0..2]\n      if direction[index] <= 0 then @spaceDirection[index] = -1 else @spaceDirection[index] = 1\n\n\n  getSpaceDirection : ->\n\n    @spaceDirection\n\n\n  getRotation : (planeID) ->\n\n    return switch planeID\n      when constants.PLANE_XY then [0, 0, 0]\n      when constants.PLANE_YZ then [0, 270, 0]\n      when constants.PLANE_XZ then [90, 0, 0]\n\n\n  move : (p, planeID) ->  #move by whatever is stored in this vector\n\n    if(planeID?)          # if planeID is given, use it to manipulate z\n      # change direction of the value connected to space, based on the last direction\n      p[Dimensions.getIndices(planeID)[2]] *= @spaceDirection[Dimensions.getIndices(planeID)[2]]\n    @setPosition([@position[0]+p[0], @position[1]+p[1], @position[2]+p[2]])\n\n\n  movePlane : (vector, planeID, increaseSpeedWithZoom = true) -> # vector of voxels in BaseVoxels\n\n    vector = Dimensions.transDim(vector, planeID)\n    ind = Dimensions.getIndices(planeID)\n    zoomFactor = if increaseSpeedWithZoom then Math.pow(2, @zoomStep) else 1\n    scaleFactor = app.scaleInfo.baseVoxelFactors\n    delta = [ vector[0] * zoomFactor * scaleFactor[0],\n              vector[1] * zoomFactor * scaleFactor[1],\n              vector[2] * zoomFactor * scaleFactor[2]]\n    @move(delta, planeID)\n\n\n  toString : ->\n\n    position = @position\n    \"(x, y, z) = (\"+position[0]+\", \"+position[1]+\", \"+position[2]+\")\"\n\n\n  getPosition : ->\n\n    return @position\n\n\n  getViewportBoundingBox : ->\n\n    position = @getPosition()\n    offset   = @getPlaneScalingFactor() * @viewportWidth / 2\n    min      = []\n    max      = []\n\n    for i in [0..2]\n      min.push( position[i] - offset * app.scaleInfo.baseVoxelFactors[i] )\n      max.push( position[i] + offset * app.scaleInfo.baseVoxelFactors[i] )\n\n    return { min, max }\n\n\n  getTexturePosition : (planeID) ->\n\n    texturePosition = @position.slice()    #copy that position\n    # As the Model does not render textures for exact positions, the last 5 bits of\n    # the X and Y coordinates for each texture have to be set to 0\n    for i in [0..2]\n      if i != Dimensions.getIndices(planeID)[2]\n        texturePosition[i] &= -1 << (5 + @integerZoomStep)\n\n    return texturePosition\n\n\n  setPositionSilent : (position) ->\n\n    for i in [0..2]\n      if not position[i]?\n        position[i] = @position[i]\n\n    @position = position\n    @update()\n\n\n  setPosition : (position) ->\n\n    @setPositionSilent(position)\n    @trigger(\"positionChanged\", position)\n\n\n  needsUpdate : (planeID) ->\n\n    area = @getArea planeID\n    ind  = Dimensions.getIndices planeID\n    res = ((area[0] < 0) or (area[1] < 0) or (area[2] > @TEXTURE_WIDTH) or (area[3] > @TEXTURE_WIDTH) or\n    #(@position[ind[2]] != @getTexturePosition(planeID)[ind[2]]) or # TODO: always false\n    (@zoomStep - (@integerZoomStep-1)) < @maxZoomStepDiff) or\n    (@zoomStep -  @integerZoomStep     > @maxZoomStepDiff)\n    return res\n\n\n  getOffsets : (planeID) ->\n    # return the coordinate of the upper left corner of the viewport as texture-relative coordinate\n\n    ind = Dimensions.getIndices planeID\n    [ @buffer[planeID][0]/2 + (@position[ind[0]] - @getTexturePosition(planeID)[ind[0]])/Math.pow(2, @integerZoomStep),\n      @buffer[planeID][1]/2 + (@position[ind[1]] - @getTexturePosition(planeID)[ind[1]])/Math.pow(2, @integerZoomStep)]\n\n\n  getArea : (planeID) ->\n    # returns [left, top, right, bottom] array\n\n    # convert scale vector to array in order to be able to use getIndices()\n    scaleArray = Dimensions.transDim( app.scaleInfo.baseVoxelFactors, planeID )\n    offsets    = @getOffsets(planeID)\n    size       = @getTextureScalingFactor() * @viewportWidth\n    # two pixels larger, just to fight rounding mistakes (important for mouse click conversion)\n    #[offsets[0] - 1, offsets[1] - 1, offsets[0] + size * scaleArray[ind[0]] + 1, offsets[1] + size * scaleArray[ind[1]] + 1]\n    [offsets[0], offsets[1], offsets[0] + size * scaleArray[0], offsets[1] + size * scaleArray[1]]\n\n\n  getAreas : ->\n\n    result = []\n    for i in [0..2]\n      result.push( @getArea(i) )\n    return result\n\n\n  setRayThreshold : (cameraRight, cameraLeft) ->\n\n    # in nm\n    @rayThreshold[constants.TDView] = 8 * (cameraRight - cameraLeft) / 384\n\n\n  getRayThreshold : (planeID) ->\n\n    if planeID < 3\n      return @rayThreshold[planeID] * Math.pow(2, @zoomStep) * app.scaleInfo.baseVoxel\n    else\n      return @rayThreshold[planeID]\n\n\n  update : ->\n\n    app.vent.trigger(\"rerender\")\n\nmodule.exports = Flycam2d\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/flycam2d.coffee\n **/","_           = require(\"lodash\")\nTHREE       = require(\"three\")\n{M4x4, V3}  = require(\"libs/mjs\")\n\nupdateMacro = (_this) ->\n\n  _this.trigger(\"changed\", _this.currentMatrix, _this.zoomStep)\n  _this.hasChanged = true\n\n\ntransformationWithDistanceMacro = (_this, transformationFn, transformationArg1, transformationArg2) ->\n\n  { currentMatrix } = _this\n  M4x4.translate(_this.distanceVecNegative, currentMatrix, currentMatrix)\n  transformationFn.call(_this, transformationArg1, transformationArg2)\n  M4x4.translate(_this.distanceVecPositive, currentMatrix, currentMatrix)\n  updateMacro(_this)\n\n\nclass Flycam3d\n\n  ZOOM_STEP_INTERVAL : 1.1\n  ZOOM_STEP_MIN : 0.5\n  ZOOM_STEP_MAX : 5\n\n  zoomStep : 1.3\n  hasChanged : true\n  scale : null\n  currentMatrix : null\n\n  constructor : (@distance, scale) ->\n\n    _.extend(this, Backbone.Events)\n\n    @scale = @calculateScaleValues(scale)\n\n    @reset()\n    @distanceVecNegative = [0, 0, -@distance]\n    @distanceVecPositive = [0, 0, @distance]\n\n\n  calculateScaleValues : (scale) ->\n\n    scale = [1/scale[0], 1/scale[1], 1/scale[2]]\n    maxScale = Math.max(scale[0], scale[1], scale[2])\n    multi = 1/maxScale\n    scale = [multi * scale[0], multi * scale[1], multi * scale[2]]\n    scale\n\n\n  reset : (resetPosition = true) ->\n\n    { scale } = @\n    if @currentMatrix?\n      position = @currentMatrix[12..14]\n\n    m = [\n      1, 0, 0, 0,\n      0, 1, 0, 0,\n      0, 0, 1, 0,\n      0, 0, 0, 1\n    ]\n    M4x4.scale(scale, m, m)\n    @currentMatrix = m\n\n    if position? and not resetPosition\n      @setPosition(position)\n\n    # Apply 180 Rotation to keep it consistent with plane view\n    @roll Math.PI\n\n    updateMacro(@)\n\n\n  update : ->\n\n    updateMacro(@)\n\n\n  flush : ->\n\n    if @hasChanged\n      @hasChanged = false\n      true\n    else\n      false\n\n\n  zoomIn : ->\n\n    @zoomStep = Math.max(@zoomStep / @ZOOM_STEP_INTERVAL, @ZOOM_STEP_MIN)\n    updateMacro(@)\n\n\n  zoomOut : ->\n\n    @zoomStep = Math.min(@zoomStep * @ZOOM_STEP_INTERVAL, @ZOOM_STEP_MAX)\n    updateMacro(@)\n\n\n  getZoomStep : ->\n\n    @zoomStep\n\n\n  setZoomStep : (zoomStep) ->\n\n    @zoomStep = Math.min @ZOOM_STEP_MAX,\n                  Math.max @ZOOM_STEP_MIN, zoomStep\n\n\n  getMatrix : ->\n\n    M4x4.clone @currentMatrix\n\n\n  getZoomedMatrix : ->\n\n    matrix = @getMatrix()\n    M4x4.scale1(@zoomStep, matrix, matrix)\n\n\n  setMatrix : (matrix) ->\n\n    @currentMatrix = M4x4.clone(matrix)\n    updateMacro(@)\n\n\n  move : (vector) ->\n\n    M4x4.translate(vector, @currentMatrix, @currentMatrix)\n    updateMacro(@)\n\n\n  yaw : (angle, regardDistance = false) ->\n\n    if regardDistance\n      transformationWithDistanceMacro(@, @yawSilent, angle)\n    else\n      @yawSilent(angle)\n    updateMacro(@)\n\n\n  yawSilent : (angle) ->\n\n    @rotateOnAxisSilent(angle, [ 0, 1, 0 ])\n\n\n  roll : (angle, regardDistance = false) ->\n\n    if regardDistance\n      transformationWithDistanceMacro(@, @rollSilent, angle)\n    else\n      @rollSilent(angle)\n    updateMacro(@)\n\n\n  rollSilent : (angle) ->\n\n    @rotateOnAxisSilent(angle, [ 0, 0, 1 ])\n\n\n  pitch : (angle, regardDistance = false) ->\n\n    if regardDistance\n      transformationWithDistanceMacro(@, @pitchSilent, angle)\n    else\n      @pitchSilent(angle)\n    updateMacro(@)\n\n\n  pitchSilent : (angle) ->\n\n    @rotateOnAxisSilent(angle, [ 1, 0, 0 ])\n\n\n  rotateOnAxis : (angle, axis) ->\n\n    @rotateOnAxisSilent(angle, axis)\n    updateMacro(@)\n\n\n  rotateOnAxisSilent : (angle, axis) ->\n\n    M4x4.rotate(angle, axis, @currentMatrix, @currentMatrix)\n\n\n  rotateOnAxisDistance : (angle, axis) ->\n\n    transformationWithDistanceMacro(@, @rotateOnAxisSilent, angle, axis)\n\n\n  toString : ->\n\n    matrix = @currentMatrix\n    \"[\" + matrix[ 0] + \", \" + matrix[ 1] + \", \" + matrix[ 2] + \", \" + matrix[ 3] + \", \" +\n    matrix[ 4] + \", \" + matrix[ 5] + \", \" + matrix[ 6] + \", \" + matrix[ 7] + \", \" +\n    matrix[ 8] + \", \" + matrix[ 9] + \", \" + matrix[10] + \", \" + matrix[11] + \", \" +\n    matrix[12] + \", \" + matrix[13] + \", \" + matrix[14] + \", \" + matrix[15] + \"]\"\n\n\n  getPosition : ->\n\n    matrix = @currentMatrix\n    [ matrix[12], matrix[13], matrix[14] ]\n\n\n  getRotation : ->\n\n    object = new THREE.Object3D()\n    matrix = (new THREE.Matrix4()).fromArray( @currentMatrix ).transpose()\n    object.applyMatrix( matrix )\n\n    # Fix JS modulo bug\n    # http://javascript.about.com/od/problemsolving/a/modulobug.htm\n    mod = (x, n) ->\n      return ((x % n) + n) % n\n\n    return _.map [\n      object.rotation.x\n      object.rotation.y\n      object.rotation.z - Math.PI\n      ], (e) -> mod(180 / Math.PI * e, 360)\n\n\n\n  setPositionSilent : (p) ->\n\n    matrix = @currentMatrix\n    matrix[12] = p[0]\n    matrix[13] = p[1]\n    matrix[14] = p[2]\n\n\n  setPosition : (p) ->\n\n    @setPositionSilent(p)\n    updateMacro(@)\n\n\n  setRotation : ([x, y, z]) ->\n\n    @reset(false)\n    @roll  -z * Math.PI / 180\n    @yaw   -y * Math.PI / 180\n    @pitch -x * Math.PI / 180\n\n\n  getCurrentUpVector : ->\n\n    currentRotation = new THREE.Matrix4()\n    currentRotation.extractRotation(new THREE.Matrix4(@currentMatrix...))\n    up = new THREE.Vector3(0, 1, 0)\n    up.applyMatrix4(currentRotation)\n\n    return up\n\n\n  convertToJsArray : (floatXArray) ->\n\n    return Array.prototype.slice.call(floatXArray)\n\n\n  getUp : ->\n\n    matrix = @currentMatrix\n    [ matrix[4], matrix[5], matrix[6] ]\n\n\n  getLeft : ->\n\n    matrix = @currentMatrix\n    [ matrix[0], matrix[1], matrix[2] ]\n\nmodule.exports = Flycam3d\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/model/flycam3d.coffee\n **/","$         = require(\"jquery\")\napp       = require(\"../app\")\nToast     = require(\"../libs/toast\")\nTHREE     = require(\"three\")\nconstants = require(\"./constants\")\nmodal     = require(\"./view/modal\")\n\nclass View\n\n  constructor : (@model) ->\n\n    unless @isWebGlSupported()\n      Toast.error(\"Couldn't initialise WebGL, please make sure you are using Google Chrome and WebGL is enabled.<br>\"+\n        \"<a href='http://get.webgl.org/'>http://get.webgl.org/</a>\")\n\n    @renderer = new THREE.WebGLRenderer( clearColor: 0x000000, clearAlpha: 1.0, antialias: false )\n    @scene = new THREE.Scene()\n\n    @setTheme(constants.THEME_BRIGHT)\n\n    # disable loader\n    $(\"#loader\").addClass(\"hidden\")\n\n\n  toggleTheme : ->\n\n    if @theme is constants.THEME_BRIGHT\n      @setTheme(constants.THEME_DARK)\n    else\n      @setTheme(constants.THEME_BRIGHT)\n\n\n  setTheme : (theme) ->\n\n    @theme = theme\n    app.vent.trigger(\"view:setTheme\", theme)\n\n    if theme is constants.THEME_BRIGHT\n      $(\"body\").attr('class', 'bright')\n    else\n      $(\"body\").attr('class', 'dark')\n\n\n\n  isWebGlSupported : ->\n\n    return window.WebGLRenderingContext and document.createElement('canvas').getContext('experimental-webgl')\n\nmodule.exports = View\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view.coffee\n **/","$ = require(\"jquery\")\n\nModal =\n\n  callbacks : {}\n\n  show : (text, title=\"Ups...\", buttons=[{id: \"ok-button\", label: \"OK\"}]) ->\n    # buttons: [{id:..., label:..., callback:...}, ...]\n\n    html =  \"\"\"\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\n          <h4 class=\"modal-title\" id=\"myModalLabel\">#{title}</h4>\n        </div>\n        <div class=\\\"modal-body\\\">\n          <p>#{text}</p>\n        </div>\"\"\"\n\n    html += \"<div class=\\\"modal-footer\\\">\"\n    for button in buttons\n      html += \"<a href=\\\"#\\\" id=\\\"\" + button.id + \"\\\" class=\\\"btn btn-default\\\">\" +\n                    button.label + \"</a>\"\n    html += \"</div></div></div>\"\n\n    $(\"#modal\").html(html)\n\n    for button in buttons\n\n      @callbacks[button.id] = button.callback\n\n      $(\"#\" + button.id).on(\"click\", (evt) =>\n\n        callback = @callbacks[evt.target.id]\n        if callback?\n          callback()\n        $(\"#modal\").modal(\"hide\"))\n\n    $(\"#modal\").modal(\"show\")\n\n\n  hide : ->\n\n    $(\"#modal\").modal(\"hide\")\n\nmodule.exports = Modal\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/modal.coffee\n **/","app        = require(\"app\")\nBackbone   = require(\"backbone\")\n$          = require(\"jquery\")\nTWEEN      = require(\"tween.js\")\nDimensions = require(\"../model/dimensions\")\nToast      = require(\"../../libs/toast\")\nconstants  = require(\"../constants\")\nmodal      = require(\"./modal\")\nTHREE      = require(\"three\")\n\nclass PlaneView\n\n  constructor : (@model, @view) ->\n\n    _.extend(this, Backbone.Events)\n\n    { @renderer, @scene } = @view\n    @running = false\n\n    # The \"render\" div serves as a container for the canvas, that is\n    # attached to it once a renderer has been initalized.\n    container = $(\"#render\")\n\n    # Create a 4x4 grid\n    @curWidth = WIDTH = HEIGHT = constants.VIEWPORT_WIDTH\n    @scaleFactor = 1\n    @deviceScaleFactor = window.devicePixelRatio || 1\n\n    # Initialize main THREE.js components\n    @camera   = new Array(4)\n    @lights   = new Array(3)\n\n    for i in constants.ALL_VIEWPORTS\n      # Let's set up cameras\n      # No need to set any properties, because the camera controller will deal with that\n      @camera[i]   = new THREE.OrthographicCamera(0, 0, 0, 0)\n      @scene.add @camera[i]\n\n    @camera[constants.PLANE_XY].position.z = -1\n    @camera[constants.PLANE_YZ].position.x =  1\n    @camera[constants.PLANE_XZ].position.y =  1\n    @camera[constants.TDView].position    = new THREE.Vector3(10, 10, -10)\n    @camera[constants.PLANE_XY].up        = new THREE.Vector3( 0, -1,  0)\n    @camera[constants.PLANE_YZ].up        = new THREE.Vector3( 0, -1,  0)\n    @camera[constants.PLANE_XZ].up        = new THREE.Vector3( 0,  0, -1)\n    @camera[constants.TDView].up          = new THREE.Vector3( 0,  0, -1)\n    for cam in @camera\n      cam.lookAt(new THREE.Vector3( 0, 0, 0))\n\n    # Because the voxel coordinates do not have a cube shape but are distorted,\n    # we need to distort the entire scene to provide an illustration that is\n    # proportional to the actual size in nm.\n    # For some reason, all objects have to be put into a group object. Changing\n    # scene.scale does not have an effect.\n    @group = new THREE.Object3D\n    # The dimension(s) with the highest resolution will not be distorted\n    @group.scale = app.scaleInfo.getNmPerVoxelVector()\n    # Add scene to the group, all Geometries are than added to group\n    @scene.add(@group)\n\n    @scene.add( new THREE.AmbientLight(0x333333) )\n    directionalLight = new THREE.DirectionalLight(0xffffff, 0.3)\n    directionalLight.position.set(1, 1, -1).normalize()\n    @scene.add( directionalLight )\n    directionalLight = new THREE.DirectionalLight(0xffffff, 0.3)\n    directionalLight.position.set(-1, -1, -1).normalize()\n    @scene.add( directionalLight )\n\n    # Attach the canvas to the container\n    @renderer.setSize 2 * WIDTH + 20, 2 * HEIGHT + 20\n    $(@renderer.domElement).attr(\"id\": \"render-canvas\")\n    container.append @renderer.domElement\n\n    @setActiveViewport( constants.PLANE_XY )\n\n    @first = true\n    @newTextures = [true, true, true, true]\n\n    @needsRerender = true\n    app.vent.on(\"rerender\", => @needsRerender = true)\n\n\n  animate : ->\n\n    return unless @running\n\n    @renderFunction()\n\n    window.requestAnimationFrame => @animate()\n\n  renderFunction : ->\n    # This is the main render function.\n    # All 3D meshes and the trianglesplane are rendered here.\n\n    TWEEN.update()\n\n    # skip rendering if nothing has changed\n    # This prevents you the GPU/CPU from constantly\n    # working and keeps your lap cool\n    # ATTENTION: this limits the FPS to 30 FPS (depending on the keypress update frequence)\n\n    modelChanged = false\n    for name, binary of @model.binary\n      for plane in binary.planes\n        modelChanged |= plane.hasChanged()\n\n    if @needsRerender or modelChanged\n\n      @trigger(\"render\")\n\n      viewport = [\n        [0, @curWidth + 20],\n        [@curWidth + 20, @curWidth + 20],\n        [0, 0],\n        [@curWidth + 20, 0]\n      ]\n      @renderer.autoClear = true\n\n      setupRenderArea = (x, y, width, color) =>\n        @renderer.setViewport x, y, width, width\n        @renderer.setScissor  x, y, width, width\n        @renderer.enableScissorTest true\n        @renderer.setClearColor color, 1\n\n      setupRenderArea( 0, 0, @renderer.domElement.width, 0xffffff )\n      @renderer.clear()\n\n      for i in constants.ALL_VIEWPORTS\n        @trigger(\"renderCam\", i)\n        setupRenderArea(\n          viewport[i][0] * @deviceScaleFactor,\n          viewport[i][1] * @deviceScaleFactor,\n          @curWidth * @deviceScaleFactor,\n          constants.PLANE_COLORS[i]\n        )\n        @renderer.render(@scene, @camera[i])\n\n      @needsRerender = false\n\n  addGeometry : (geometry) ->\n    # Adds a new Three.js geometry to the scene.\n    # This provides the public interface to the GeometryFactory.\n\n    @group.add geometry\n\n\n  removeGeometry : (geometry) ->\n\n    @group.remove geometry\n\n\n  draw : ->\n    app.vent.trigger(\"rerender\")\n\n\n  resizeThrottled : ->\n\n    # throttle resize to avoid annoying flickering\n    @resizeThrottled = _.throttle(\n      =>\n        @resize()\n        app.vent.trigger(\"planes:resize\")\n      constants.RESIZE_THROTTLE_TIME\n    )\n    @resizeThrottled()\n\n\n  resize : =>\n\n    # Call this after the canvas was resized to fix the viewport\n    canvas = $(\"#render-canvas\")\n    WIDTH = (canvas.width() - 20 ) / 2\n    HEIGHT = (canvas.height() - 20 ) / 2\n\n    @renderer.setSize(2 * WIDTH + 20, 2 * HEIGHT + 20)\n    for i in constants.ALL_VIEWPORTS\n      @camera[i].aspect = WIDTH / HEIGHT\n      @camera[i].updateProjectionMatrix()\n    @draw()\n\n\n    # notify THREE.TrackballControls\n    TDView = $(\"#TDView\")\n    TDView.trigger($.Event('resizeCanvas'));\n\n\n  scaleTrianglesPlane : (scale) =>\n\n    @scaleFactor = scale\n    @curWidth = WIDTH = HEIGHT = Math.round(@scaleFactor * constants.VIEWPORT_WIDTH)\n    canvas = $(\"#render-canvas\")\n    canvas.width(2 * WIDTH + 20)\n    canvas.height(2 * HEIGHT + 20)\n\n    $('#TDViewControls button').outerWidth(@curWidth / 4 - 0.5)\n\n    $(\".inputcatcher\")\n      .css(\n        width : WIDTH\n        height : HEIGHT\n      )\n\n    @resizeThrottled()\n\n\n  setActiveViewport : (viewportID) =>\n\n    for i in [0..3]\n      if i == viewportID\n        $(\".inputcatcher\").eq(i).removeClass(\"inactive\").addClass(\"active\")\n      else\n        $(\".inputcatcher\").eq(i).removeClass(\"active\").addClass(\"inactive\")\n\n    @draw()\n\n\n  getCameras : =>\n\n    @camera\n\n\n  showBranchModal : (callback) ->\n\n    modal.show(\"You didn't add a node after jumping to this branchpoint, do you really want to jump again?\",\n      \"Jump again?\",\n      [{id: \"jump-button\", label: \"Jump again\", callback: callback},\n       {id: \"cancel-button\", label: \"Cancel\"}])\n\n\n  bindToEvents : ->\n\n    if @model.skeletonTracing\n      @listenTo(@model.skeletonTracing, \"doubleBranch\", @showBranchModal)\n      @listenTo(@model.skeletonTracing, \"mergeDifferentTrees\", ->\n        Toast.error(\"You can't merge nodes within the same tree\", false)\n      )\n\n    @listenTo(@model.user, \"change:scale\", (model, scale) ->\n      if @running then @scaleTrianglesPlane(scale)\n    )\n\n\n  stop : ->\n\n    $(\".inputcatcher\").hide()\n\n    @running = false\n\n\n  start : ->\n\n    @running = true\n\n    $(\".inputcatcher\").show()\n    @scaleTrianglesPlane(@model.user.get(\"scale\"))\n\n    @animate()\n\nmodule.exports = PlaneView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/plane_view.coffee\n **/","app        = require(\"app\")\nbackbone   = require(\"backbone\")\nDimensions = require(\"oxalis/model/dimensions\")\nconstants  = require(\"oxalis/constants\")\n\nclass SkeletonTracingController\n\n  # See comment in Controller class on general controller architecture.\n  #\n  # Skeleton Tracing Controller:\n  # Add Skeleton Tracing controls that are not specific to the view mode.\n  # Also, this would be the place to define general Skeleton Tracing\n  # functions that can be called by the specific view mode controller.\n\n\n  constructor : (@model, @skeletonTracingView, @sceneController) ->\n\n    _.extend(@, Backbone.Events)\n\n\n  setParticleSize : (delta) =>\n\n    particleSize = @model.user.get(\"particleSize\") + delta\n    particleSize = Math.min(constants.MAX_PARTICLE_SIZE, particleSize)\n    particleSize = Math.max(constants.MIN_PARTICLE_SIZE, particleSize)\n\n    @model.user.set(\"particleSize\", (Number) particleSize)\n\n\n  setRadius : (delta) ->\n\n    @model.skeletonTracing.setActiveNodeRadius(\n      @model.skeletonTracing.getActiveNodeRadius() * Math.pow(1.05 , delta)\n    )\n\n\n  toggleSkeletonVisibility : =>\n\n    @sceneController.skeleton.toggleVisibility()\n    # Show warning, if this is the first time to use\n    # this function for this user\n    if @model.user.get(\"firstVisToggle\")\n      @skeletonTracingView.showFirstVisToggle()\n      @model.user.set(\"firstVisToggle\", false)\n      @model.user.push()\n\n\n  setActiveNode : (nodeId, merge = false, centered = false) ->\n\n    @model.skeletonTracing.setActiveNode nodeId, merge\n    @model.skeletonTracing.centerActiveNode() if centered\n\n\n  centerActiveNode : =>\n\n    position = @model.skeletonTracing.getActiveNodePos()\n    if position\n      @model.flycam.setPosition(position)\n\nmodule.exports = SkeletonTracingController\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/controller/annotations/skeletontracing_controller.coffee\n **/","app        = require(\"app\")\nBackbone   = require(\"backbone\")\nDimensions = require(\"oxalis/model/dimensions\")\nInput      = require(\"libs/input\")\n\nclass VolumeTracingController\n\n  # See comment in Controller class on general controller architecture.\n  #\n  # Volume Tracing Controller:\n  # Add Volume Tracing controls that are not specific to the view mode.\n  # Also, this would be the place to define general Volume Tracing\n  # functions that can be called by the specific view mode controller.\n\n\n  MERGE_MODE_NORMAL : 0\n  MERGE_MODE_CELL1  : 1\n  MERGE_MODE_CELL2  : 2\n\n  constructor : (@model, @volumeTracingView, @sceneController) ->\n\n    @inDeleteMode = false\n\n    _.extend(@, Backbone.Events)\n\n    $('#create-cell-button').on(\"click\", =>\n      @model.volumeTracing.createCell()\n    )\n\n    # Keyboard shortcuts\n    new Input.KeyboardNoLoop(\n      \"w\" : => @model.volumeTracing.toggleMode()\n      \"1\" : => @model.volumeTracing.toggleMode()\n    )\n\n    # no merging for now\n    $(\"#btn-merge\").hide()\n\n    @mergeMode = @MERGE_MODE_NORMAL\n    isMergeVisible = ->\n      return $(\"#merge\").css(\"visibility\") == \"visible\"\n\n    $(\"#btn-merge\").on \"click\", ->\n      $(\"#merge\").css\n        visibility : if isMergeVisible() then \"hidden\" else \"visible\"\n      if isMergeVisible()\n        $(\"#merge-cell1\").focus()\n\n    inputModeMapping =\n      \"#merge-cell1\" : @MERGE_MODE_CELL1\n      \"#merge-cell2\" : @MERGE_MODE_CELL2\n\n    for input of inputModeMapping\n\n      do (input) =>\n        $(input).on \"focus\", =>\n          @mergeMode = inputModeMapping[input]\n          console.log @mergeMode\n        $(input).keypress (event) =>\n          if event.which == 13\n            @merge()\n\n\n  merge : ->\n\n    inputs = [ $(\"#merge-cell1\"), $(\"#merge-cell2\") ]\n    $(\"#merge\").css( visibility: \"hidden\")\n    console.log \"Merge:\", $(\"#merge-cell1\").val(), $(\"#merge-cell2\").val()\n\n    for input in inputs\n      input.blur()\n      input.val(\"\")\n\n\n  handleCellSelection : (cellId) ->\n\n    if cellId > 0\n      if @mergeMode == @MERGE_MODE_NORMAL\n        @model.volumeTracing.setActiveCell( cellId )\n      else if @mergeMode == @MERGE_MODE_CELL1\n        $(\"#merge-cell1\").val(cellId)\n        $(\"#merge-cell2\").focus()\n      else if @mergeMode == @MERGE_MODE_CELL2\n        $(\"#merge-cell2\").val(cellId)\n        @merge()\n\n\n\n  enterDeleteMode : ->\n\n    return if @inDeleteMode\n\n    @inDeleteMode = true\n\n    @prevActiveCell = @model.volumeTracing.getActiveCellId()\n    @model.volumeTracing.setActiveCell(0)\n\n\n  restoreAfterDeleteMode : ->\n\n    if @inDeleteMode\n      @model.volumeTracing.setActiveCell( @prevActiveCell )\n    @inDeleteMode = false\n\n\n  drawVolume : (pos) ->\n\n    @model.volumeTracing.addToLayer(pos)\n\nmodule.exports = VolumeTracingController\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/controller/annotations/volumetracing_controller.coffee\n **/","ArbitraryController = require(\"../viewmodes/arbitrary_controller\")\n\nclass SkeletonTracingArbitraryController extends ArbitraryController\n\n  # See comment in Controller class on general controller architecture.\n  #\n  # Skeleton Tracing Arbitrary Controller:\n  # Extends Arbitrary controller to add controls that are specific to Skeleton\n  # Tracing.\n\nmodule.exports = SkeletonTracingArbitraryController\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/controller/combinations/skeletontracing_arbitrary_controller.coffee\n **/","app             = require(\"app\")\nTHREE           = require(\"three\")\nTWEEN           = require(\"tween.js\")\n_               = require(\"lodash\")\nPlaneController = require(\"../viewmodes/plane_controller\")\nconstants       = require(\"../../constants\")\ndimensions      = require(\"../../model/dimensions\")\n\nclass SkeletonTracingPlaneController extends PlaneController\n\n  # See comment in Controller class on general controller architecture.\n  #\n  # Skeleton Tracing Plane Controller:\n  # Extends Plane controller to add controls that are specific to Skeleton\n  # Tracing.\n\n\n  constructor : (@model, @view, @sceneController, @skeletonTracingController) ->\n\n    super(@model, @view, @sceneController)\n\n\n  start : ->\n\n    super()\n    $('.skeleton-plane-controls').show()\n\n\n  stop : ->\n\n    super()\n    $('.skeleton-plane-controls').hide()\n\n\n  getPlaneMouseControls : (planeId) ->\n\n    return _.extend super(planeId),\n\n      leftClick : (pos, plane, event) =>\n\n        @onClick(pos, event.shiftKey, event.altKey, plane)\n\n\n      rightClick : (pos, plane, event) =>\n\n        @setWaypoint(@calculateGlobalPos( pos ), event.ctrlKey)\n\n\n  getTDViewMouseControls : ->\n\n    return _.extend super(),\n\n      leftClick : (position, plane, event) =>\n        @onClick(position, event.shiftKey, event.altKey, constants.TDView)\n\n\n  getKeyboardControls : ->\n\n    return _.extend super(),\n\n      \"1\" : => @skeletonTracingController.toggleSkeletonVisibility()\n      \"2\" : => @sceneController.skeleton.toggleInactiveTreeVisibility()\n\n      #Delete active node\n      \"delete\" : => @model.skeletonTracing.deleteActiveNode()\n      \"c\" : => @model.skeletonTracing.createNewTree()\n\n      #Branches\n      \"b\" : => @model.skeletonTracing.pushBranch()\n      \"j\" : => @popBranch()\n\n      \"s\" : =>\n        @skeletonTracingController.centerActiveNode()\n        @cameraController.centerTDView()\n\n\n  popBranch : =>\n\n    _.defer => @model.skeletonTracing.popBranch().then((id) =>\n      @skeletonTracingController.setActiveNode(id, false, true)\n    )\n\n\n  scrollPlanes : (delta, type) =>\n\n    super(delta, type)\n\n    if type == \"shift\"\n      @skeletonTracingController.setRadius(delta)\n\n\n  onClick : (position, shiftPressed, altPressed, plane) =>\n\n    unless shiftPressed # do nothing\n      return\n\n    scaleFactor = @planeView.scaleFactor\n    camera      = @planeView.getCameras()[plane]\n    # vector with direction from camera position to click position\n    vector = new THREE.Vector3((position.x / (384 * scaleFactor) ) * 2 - 1, - (position.y / (384 * scaleFactor)) * 2 + 1, 0.5)\n\n    # create a ray with the direction of this vector, set ray threshold depending on the zoom of the 3D-view\n    projector = new THREE.Projector()\n    raycaster = projector.pickingRay(vector, camera)\n    raycaster.ray.threshold = @model.flycam.getRayThreshold(plane)\n\n    raycaster.ray.__scalingFactors = app.scaleInfo.nmPerVoxel\n\n    # identify clicked object\n    intersects = raycaster.intersectObjects(@sceneController.skeleton.getAllNodes())\n\n    for intersect in intersects\n\n      index = intersect.index\n      geometry = intersect.object.geometry\n\n      # Raycaster also intersects with vertices that have an\n      # index larger than numItems\n      if geometry.nodeIDs.getLength() <= index\n        continue\n\n      nodeID = geometry.nodeIDs.getAllElements()[index]\n\n      posArray = geometry.attributes.position.array\n      intersectsCoord = [posArray[3 * index], posArray[3 * index + 1], posArray[3 * index + 2]]\n      globalPos = @model.flycam.getPosition()\n\n      # make sure you can't click nodes, that are clipped away (one can't see)\n      ind = dimensions.getIndices(plane)\n      if intersect.object.visible and\n        (plane == constants.TDView or\n          (Math.abs(globalPos[ind[2]] - intersectsCoord[ind[2]]) < @cameraController.getClippingDistance(ind[2])+1))\n\n        # set the active Node to the one that has the ID stored in the vertex\n        # center the node if click was in 3d-view\n        centered = plane == constants.TDView\n        @skeletonTracingController.setActiveNode(nodeID, shiftPressed and altPressed, centered)\n        break\n\n\n  setWaypoint : (position, ctrlPressed) =>\n\n    activeNode = @model.skeletonTracing.getActiveNode()\n    # set the new trace direction\n    if activeNode\n      @model.flycam.setDirection([\n        position[0] - activeNode.pos[0],\n        position[1] - activeNode.pos[1],\n        position[2] - activeNode.pos[2]\n      ])\n\n    rotation = @model.flycam.getRotation(@activeViewport)\n    @addNode(position, rotation, not ctrlPressed)\n\n    # Strg + Rightclick to set new not active branchpoint\n    if ctrlPressed and\n      @model.user.get(\"newNodeNewTree\") == false and\n        @model.skeletonTracing.getActiveNodeType() == constants.TYPE_USUAL\n\n      @model.skeletonTracing.pushBranch()\n      @skeletonTracingController.setActiveNode(activeNode.id)\n\n\n  addNode : (position, rotation, centered) =>\n\n    if @model.user.get(\"newNodeNewTree\") == true\n      @model.skeletonTracing.createNewTree()\n\n    if not @model.skeletonTracing.getActiveNode()?\n      centered = true\n\n    datasetConfig = @model.get(\"datasetConfiguration\")\n\n    @model.skeletonTracing.addNode(\n      position,\n      rotation,\n      constants.TYPE_USUAL,\n      @activeViewport,\n      @model.flycam.getIntegerZoomStep(),\n      if datasetConfig.get(\"fourBit\") then 4 else 8,\n      datasetConfig.get(\"interpolation\")\n    )\n\n    if centered\n      @centerPositionAnimated(@model.skeletonTracing.getActiveNodePos())\n\n\n  centerPositionAnimated : (position) ->\n\n    # Let the user still manipulate the \"third dimension\" during animation\n    dimensionToSkip = dimensions.thirdDimensionForPlane(@activeViewport)\n\n    curGlobalPos = @flycam.getPosition()\n\n    (new TWEEN.Tween({\n        globalPosX: curGlobalPos[0]\n        globalPosY: curGlobalPos[1]\n        globalPosZ: curGlobalPos[2]\n        flycam: @flycam\n        dimensionToSkip: dimensionToSkip\n    }))\n    .to({\n        globalPosX: position[0]\n        globalPosY: position[1]\n        globalPosZ: position[2]\n      }, 200)\n    .onUpdate( ->\n        position = [@globalPosX, @globalPosY, @globalPosZ]\n        position[@dimensionToSkip] = null\n        @flycam.setPosition(position)\n      )\n    .start()\n\n\nmodule.exports = SkeletonTracingPlaneController\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/controller/combinations/skeletontracing_plane_controller.coffee\n **/","_                       = require(\"lodash\")\nConstants               = require(\"oxalis/constants\")\nPlaneController         = require(\"../viewmodes/plane_controller\")\nVolumeTracingController = require(\"../annotations/volumetracing_controller\")\n\nclass VolumeTracingPlaneController extends PlaneController\n\n  # See comment in Controller class on general controller architecture.\n  #\n  # Volume Tracing Plane Controller:\n  # Extends Plane controller to add controls that are specific to Volume\n  # Tracing.\n\n\n  constructor : (@model, @view, @sceneController, @volumeTracingController) ->\n\n    super(@model, @view, @sceneController)\n\n    @listenTo(@model.flycam, \"positionChanged\", =>\n      @render3dCell @model.volumeTracing.getActiveCellId()\n    )\n    @listenTo(@model.flycam, \"zoomStepChanged\", =>\n      @render3dCell @model.volumeTracing.getActiveCellId()\n    )\n\n    @listenTo(@model.user, \"isosurfaceDisplayChanged\", -> @render3dCell @model.volumeTracing.getActiveCellId())\n    @listenTo(@model.user, \"isosurfaceBBsizeChanged\", -> @render3dCell @model.volumeTracing.getActiveCellId())\n    @listenTo(@model.user, \"isosurfaceResolutionChanged\", -> @render3dCell @model.volumeTracing.getActiveCellId())\n    @listenTo(@model.volumeTracing, \"newActiveCell\", (id) ->\n      id = @model.volumeTracing.getActiveCellId()\n      if id > 0\n        @render3dCell id)\n\n\n  simulateTracing : =>\n\n    @model.volumeTracing.setMode(Constants.VOLUME_MODE_TRACE)\n\n    controls = @getPlaneMouseControls()\n    pos = (x, y) -> {x, y}\n\n    controls.leftMouseDown(pos(100, 100), 0, {})\n\n    _.defer =>\n      controls.leftDownMove(null, pos(200, 100))\n      _.defer =>\n        controls.leftDownMove(null, pos(200, 200))\n        _.defer =>\n          controls.leftDownMove(null, pos(100, 200))\n          _.defer =>\n            controls.leftDownMove(null, pos(100, 100))\n            controls.leftMouseUp()\n            _.defer =>\n              pos = @model.flycam.getPosition()\n              pos[2]++\n              @model.flycam.setPosition(pos)\n              _.defer(@simulateTracing)\n\n\n  getPlaneMouseControls : (planeId) ->\n\n    return _.extend super(planeId),\n\n      leftDownMove : (delta, pos, plane, event) =>\n\n        if @model.volumeTracing.mode == Constants.VOLUME_MODE_MOVE\n          @move [\n            delta.x * @model.user.getMouseInversionX() / @planeView.scaleFactor\n            delta.y * @model.user.getMouseInversionY() / @planeView.scaleFactor\n            0\n          ]\n        else\n          @model.volumeTracing.addToLayer( @calculateGlobalPos(pos))\n\n      leftMouseDown : (pos, plane, event) =>\n\n        if event.shiftKey\n          @volumeTracingController.enterDeleteMode()\n        @model.volumeTracing.startEditing(plane)\n        @adjustSegmentationOpacity()\n\n      leftMouseUp : =>\n\n        @model.volumeTracing.finishLayer()\n        @volumeTracingController.restoreAfterDeleteMode()\n\n      rightDownMove : (delta, pos, plane, event) =>\n\n        @model.volumeTracing.addToLayer( @calculateGlobalPos(pos))\n\n      rightMouseDown : (pos, plane, event) =>\n\n        @volumeTracingController.enterDeleteMode()\n        @model.volumeTracing.startEditing(plane)\n        @adjustSegmentationOpacity()\n\n      rightMouseUp : =>\n\n        @model.volumeTracing.finishLayer()\n        @volumeTracingController.restoreAfterDeleteMode()\n\n      leftClick : (pos, plane, event) =>\n\n        cellId = @model.getSegmentationBinary().cube.getDataValue(\n                  @calculateGlobalPos( pos ))\n\n        @volumeTracingController.handleCellSelection( cellId )\n\n\n  adjustSegmentationOpacity : ->\n\n    if @model.user.get(\"segmentationOpacity\") < 10\n      @model.user.set(\"segmentationOpacity\", 50)\n\n\n  getKeyboardControls : ->\n\n    _.extend super(),\n\n      \"c\" : =>\n        @model.volumeTracing.createCell()\n\n\n  render3dCell : (id) ->\n\n    unless @model.user.get(\"isosurfaceDisplay\")\n      @sceneController.removeShapes()\n    else\n      bb = @model.flycam.getViewportBoundingBox()\n      res = @model.user.get(\"isosurfaceResolution\")\n      @sceneController.showShapes(@scaleIsosurfaceBB(bb), res, id)\n\n  scaleIsosurfaceBB : (bb) ->\n    factor = @model.user.get(\"isosurfaceBBsize\")\n    for i in [0..2]\n      width = bb.max[i] - bb.min[i]\n      diff = (factor - 1) * width / 2\n      bb.min[i] -= diff\n      bb.max[i] += diff\n    return bb\n\nmodule.exports = VolumeTracingPlaneController\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/controller/combinations/volumetracing_plane_controller.coffee\n **/","app                 = require(\"app\")\nInput               = require(\"libs/input\")\nArbitraryController = require(\"../viewmodes/arbitrary_controller\")\nConstants           = require(\"../../constants\")\n\nclass MinimalSkeletonTracingArbitraryController extends ArbitraryController\n\n  # See comment in Controller class on general controller architecture.\n  #\n  # Minimal Skeleton Tracing Arbitrary Controller:\n  # Extends Arbitrary controller to add controls that are specific to minimal Arbitrary mode.\n\n  constructor : (args...) ->\n\n    super args...\n\n    @setRecord(true)\n\n\n  initKeyboard : ->\n\n    getVoxelOffset  = (timeFactor) =>\n\n      return @model.user.get(\"moveValue3d\") * timeFactor / app.scaleInfo.baseVoxel / Constants.FPS\n\n    @input.keyboard = new Input.Keyboard(\n\n      \"space\"         : (timeFactor) =>\n        @cam.move [0, 0, getVoxelOffset(timeFactor)]\n        @moved()\n      \"ctrl + space\"   : (timeFactor) => @cam.move [0, 0, -getVoxelOffset(timeFactor)]\n\n      #Zoom in/out\n      \"i\"             : (timeFactor) => @cam.zoomIn()\n      \"o\"             : (timeFactor) => @cam.zoomOut()\n\n      #Change move value\n      \"h\"             : (timeFactor) => @changeMoveValue(25)\n      \"g\"             : (timeFactor) => @changeMoveValue(-25)\n\n      #Rotate in distance\n      \"left\"          : (timeFactor) => @cam.yaw @model.user.get(\"rotateValue\") * timeFactor, @mode == Constants.MODE_ARBITRARY\n      \"right\"         : (timeFactor) => @cam.yaw -@model.user.get(\"rotateValue\") * timeFactor, @mode == Constants.MODE_ARBITRARY\n      \"up\"            : (timeFactor) => @cam.pitch -@model.user.get(\"rotateValue\") * timeFactor, @mode == Constants.MODE_ARBITRARY\n      \"down\"          : (timeFactor) => @cam.pitch @model.user.get(\"rotateValue\") * timeFactor, @mode == Constants.MODE_ARBITRARY\n    )\n\n    @input.keyboardNoLoop = new Input.KeyboardNoLoop(\n      #Recenter active node\n      \"y\" : => @centerActiveNode()\n    )\n\n    @input.keyboardOnce = new Input.Keyboard(\n\n      #Delete active node and recenter last node\n      \"shift + space\" : =>\n        @model.skeletonTracing.deleteActiveNode()\n        @centerActiveNode()\n\n    , -1)\n\n\nmodule.exports = MinimalSkeletonTracingArbitraryController\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/controller/combinations/minimal_skeletontracing_arbitrary_controller.coffee\n **/","app             = require(\"app\")\nBackbone        = require(\"backbone\")\nPlane           = require(\"../geometries/plane\")\nSkeleton        = require(\"../geometries/skeleton\")\nCube            = require(\"../geometries/cube\")\nContourGeometry = require(\"../geometries/contourgeometry\")\nVolumeGeometry  = require(\"../geometries/volumegeometry\")\nDimensions      = require(\"../model/dimensions\")\nconstants       = require(\"../constants\")\nPolygonFactory  = require(\"../view/polygons/polygon_factory\")\nTHREE           = require(\"three\")\n\nclass SceneController\n\n  # This class collects all the meshes displayed in the Skeleton View and updates position and scale of each\n  # element depending on the provided flycam.\n\n  CUBE_COLOR : 0x999999\n\n  constructor : (@upperBoundary, @flycam, @model) ->\n\n    _.extend(this, Backbone.Events)\n\n    @current          = 0\n    @displayPlane     = [true, true, true]\n    @planeShift       = [0, 0, 0]\n    @pingBinary       = true\n    @pingBinarySeg    = true\n\n    @volumeMeshes   = []\n\n    @createMeshes()\n    @bindToEvents()\n\n\n  createMeshes : ->\n    # Cubes\n    @cube = new Cube(@model, {\n      max : @upperBoundary\n      color : @CUBE_COLOR\n      showCrossSections : true })\n    @bb = new Cube(@model, {\n      max : [0, 0, 0]\n      color : 0xffaa00\n      showCrossSections : true })\n\n    if @model.boundingBox?\n      @bb2 = new Cube(@model, {\n        min : @model.boundingBox.min\n        max : _.map @model.boundingBox.max, (e) -> e + 1\n        color : 0x00ff00\n        showCrossSections : true })\n\n    # TODO: Implement text\n\n    if @model.volumeTracing?\n      @contour = new ContourGeometry(@model.volumeTracing, @model.flycam)\n\n    if @model.skeletonTracing?\n      @skeleton = new Skeleton(@model)\n\n    # create Meshes\n    @planes = new Array(3)\n    for i in [constants.PLANE_XY, constants.PLANE_YZ, constants.PLANE_XZ]\n      @planes[i] = new Plane(constants.PLANE_WIDTH, constants.TEXTURE_WIDTH, @flycam, i, @model)\n\n    @planes[constants.PLANE_XY].setRotation(new THREE.Euler( Math.PI , 0, 0))\n    @planes[constants.PLANE_YZ].setRotation(new THREE.Euler( Math.PI, 1/2 * Math.PI, 0))\n    @planes[constants.PLANE_XZ].setRotation(new THREE.Euler( - 1/2 * Math.PI, 0, 0))\n\n\n  removeShapes : ->\n\n    @trigger(\"removeGeometries\", @volumeMeshes)\n\n\n  showShapes : (bb, resolution, id) ->\n\n    return unless @model.getSegmentationBinary()?\n\n    if @polygonFactory?\n      @polygonFactory.cancel()\n\n    @polygonFactory = new PolygonFactory(\n      @model.getSegmentationBinary().cube\n      resolution\n      bb.min, bb.max, id\n    )\n\n    @polygonFactory.getTriangles().then (triangles) =>\n\n      @removeShapes()\n      @volumeMeshes = []\n\n      for id of triangles\n        mappedId = @model.getSegmentationBinary().cube.mapId(parseInt(id))\n        volume = new VolumeGeometry(triangles[id], mappedId)\n        @volumeMeshes = @volumeMeshes.concat(volume.getMeshes())\n\n      @trigger(\"newGeometries\", @volumeMeshes)\n      app.vent.trigger(\"rerender\")\n      @polygonFactory = null\n\n\n  updateSceneForCam : (id) =>\n\n    # This method is called for each of the four cams. Even\n    # though they are all looking at the same scene, some\n    # things have to be changed for each cam.\n\n    @cube.updateForCam(id)\n    @bb.updateForCam(id)\n    @bb2?.updateForCam(id)\n    @skeleton?.updateForCam(id)\n\n    if id in constants.ALL_PLANES\n      for mesh in @volumeMeshes\n        mesh.visible = false\n      for i in constants.ALL_PLANES\n        if i == id\n          @planes[i].setOriginalCrosshairColor()\n          @planes[i].setVisible(true)\n          pos = @flycam.getPosition().slice()\n          ind = Dimensions.getIndices(i)\n          # Offset the plane so the user can see the skeletonTracing behind the plane\n          pos[ind[2]] += if i==constants.PLANE_XY then @planeShift[ind[2]] else -@planeShift[ind[2]]\n          @planes[i].setPosition(new THREE.Vector3(pos...))\n        else\n          @planes[i].setVisible(false)\n    else\n      for mesh in @volumeMeshes\n        mesh.visible = true\n      for i in constants.ALL_PLANES\n        pos = @flycam.getPosition()\n        @planes[i].setPosition(new THREE.Vector3(pos[0], pos[1], pos[2]))\n        @planes[i].setGrayCrosshairColor()\n        @planes[i].setVisible(true)\n        @planes[i].plane.visible = @displayPlane[i]\n\n\n  update : =>\n\n    gPos         = @flycam.getPosition()\n    globalPosVec = new THREE.Vector3(gPos...)\n    planeScale   = @flycam.getPlaneScalingFactor()\n    for i in constants.ALL_PLANES\n\n      @planes[i].updateTexture()\n\n      # Update plane position\n      @planes[i].setPosition(globalPosVec)\n\n      # Update plane scale\n      @planes[i].setScale(planeScale)\n\n\n  setTextRotation : (rotVec) ->\n\n    # TODO: Implement\n\n\n  setDisplayCrosshair : (value) ->\n\n    for plane in @planes\n      plane.setDisplayCrosshair value\n    app.vent.trigger(\"rerender\")\n\n\n  setClippingDistance : (value) ->\n\n    # convert nm to voxel\n    for i in constants.ALL_PLANES\n      @planeShift[i] = value * app.scaleInfo.voxelPerNM[i]\n    app.vent.trigger(\"rerender\")\n\n\n  setInterpolation : (value) ->\n\n    for plane in @planes\n      plane.setLinearInterpolationEnabled(value)\n    app.vent.trigger(\"rerender\")\n\n\n  setDisplayPlanes : (value) =>\n\n    for i in [0..2]\n      @displayPlane[i] = value\n    app.vent.trigger(\"rerender\")\n\n\n  getMeshes : =>\n\n    result = []\n    for plane in @planes\n      result = result.concat(plane.getMeshes())\n\n    for geometry in [@skeleton, @contour, @cube, @bb, @bb2]\n      if geometry?\n        result = result.concat geometry.getMeshes()\n\n    return result\n\n\n  setBoundingBox : (bbArray) ->\n\n    @bb.setCorners([bbArray[0], bbArray[1], bbArray[2]],\n                    [bbArray[3], bbArray[4], bbArray[5]])\n\n\n  setSegmentationAlpha : (alpha) ->\n\n    for plane in @planes\n      plane.setSegmentationAlpha(alpha)\n    @pingBinarySeg = alpha != 0\n\n  pingDataLayer : (dataLayerName) ->\n\n    if @model.binary[dataLayerName].category == \"color\"\n      return @pingBinary\n    if @model.binary[dataLayerName].category == \"segmentation\"\n      return @pingBinarySeg\n    return false\n\n\n  stop : ->\n\n    for plane in @planes\n      plane.setVisible(false)\n    @cube.setVisibility(false)\n    @bb.setVisibility(false)\n    @bb2?.setVisibility(false)\n\n    @skeleton?.restoreVisibility()\n    @skeleton?.setSizeAttenuation(true)\n\n\n  start : ->\n\n    for plane in @planes\n      plane.setVisible(true)\n    @cube.setVisibility(true)\n    @bb.setVisibility(true)\n    @bb2?.setVisibility(true)\n\n    @skeleton?.setSizeAttenuation(false)\n\n\n  bindToEvents : ->\n\n    user = @model.user\n    @listenTo(@model, \"newBoundingBox\", (bb) -> @setBoundingBox(bb))\n    @listenTo(user, \"change:segmentationOpacity\", (model, opacity) ->\n      @setSegmentationAlpha(opacity)\n    )\n    @listenTo(user, \"change:clippingDistance\", (model, value) -> @setClippingDistance(value))\n    @listenTo(user, \"change:displayCrosshair\", (model, value) -> @setDisplayCrosshair(value))\n    @listenTo(@model.datasetConfiguration, \"change:interpolation\", (model, value) ->\n      @setInterpolation(value)\n    )\n    @listenTo(user, \"change:tdViewDisplayPlanes\", (model, value) -> @setDisplayPlanes(value))\n\nmodule.exports = SceneController\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/controller/scene_controller.coffee\n **/","app                  = require(\"app\")\nModel                = require(\"../model\")\nView                 = require(\"../view\")\nDimensions           = require(\"../model/dimensions\")\nconstants            = require(\"../constants\")\nTHREE                = require(\"three\")\nPlaneMaterialFactory = require(\"./materials/plane_material_factory\")\n\nclass Plane\n\n  # This class is supposed to collect all the Geometries that belong to one single plane such as\n  # the plane itself, its texture, borders and crosshairs.\n\n  CROSSHAIR_COLORS : [[0x0000ff, 0x00ff00], [0xff0000, 0x00ff00], [0x0000ff, 0xff0000]]\n  GRAY_CH_COLOR    : 0x222222\n\n\n  constructor : (planeWidth, textureWidth, flycam, planeID, model) ->\n\n    @flycam          = flycam\n    @planeID         = planeID\n    @model           = model\n    @planeWidth      = planeWidth\n    @textureWidth    = textureWidth\n    @displayCosshair = true\n\n    # planeWidth means that the plane should be that many voxels wide in the\n    # dimension with the highest resolution. In all other dimensions, the plane\n    # is smaller in voxels, so that it is squared in nm.\n    # --> app.scaleInfo.baseVoxel\n    scaleArray = Dimensions.transDim(app.scaleInfo.baseVoxelFactors, @planeID)\n    @scaleVector = new THREE.Vector3(scaleArray...)\n\n    @createMeshes(planeWidth, textureWidth)\n\n  createMeshes : (pWidth, tWidth) ->\n\n    # create plane\n    planeGeo = new THREE.PlaneGeometry(pWidth, pWidth, 1, 1)\n    textureMaterial = new PlaneMaterialFactory(@model, tWidth).getMaterial()\n    @plane = new THREE.Mesh( planeGeo, textureMaterial )\n\n    # create crosshair\n    crosshairGeometries = new Array(2)\n    @crosshair          = new Array(2)\n    for i in [0..1]\n      crosshairGeometries[i] = new THREE.Geometry()\n      crosshairGeometries[i].vertices.push(new THREE.Vector3(-pWidth/2*i, -pWidth/2*(1-i), 0))\n      crosshairGeometries[i].vertices.push(new THREE.Vector3( -25*i,  -25*(1-i), 0))\n      crosshairGeometries[i].vertices.push(new THREE.Vector3( 25*i, 25*(1-i), 0))\n      crosshairGeometries[i].vertices.push(new THREE.Vector3( pWidth/2*i,  pWidth/2*(1-i), 0))\n      @crosshair[i] = new THREE.Line(crosshairGeometries[i], new THREE.LineBasicMaterial({color: @CROSSHAIR_COLORS[@planeID][i], linewidth: 1}), THREE.LinePieces)\n\n    # create borders\n    TDViewBordersGeo = new THREE.Geometry()\n    TDViewBordersGeo.vertices.push(new THREE.Vector3( -pWidth/2, -pWidth/2, 0))\n    TDViewBordersGeo.vertices.push(new THREE.Vector3( -pWidth/2,  pWidth/2, 0))\n    TDViewBordersGeo.vertices.push(new THREE.Vector3(  pWidth/2,  pWidth/2, 0))\n    TDViewBordersGeo.vertices.push(new THREE.Vector3(  pWidth/2, -pWidth/2, 0))\n    TDViewBordersGeo.vertices.push(new THREE.Vector3( -pWidth/2, -pWidth/2, 0))\n    @TDViewBorders = new THREE.Line(TDViewBordersGeo, new THREE.LineBasicMaterial({color: constants.PLANE_COLORS[@planeID], linewidth: 1}))\n\n\n  setDisplayCrosshair : (value) =>\n\n    @displayCosshair = value\n\n\n  setOriginalCrosshairColor : =>\n\n    for i in [0..1]\n      @crosshair[i].material = new THREE.LineBasicMaterial({color: @CROSSHAIR_COLORS[@planeID][i], linewidth: 1})\n\n\n  setGrayCrosshairColor : =>\n\n    for i in [0..1]\n      @crosshair[i].material = new THREE.LineBasicMaterial({color: @GRAY_CH_COLOR, linewidth: 1})\n\n\n  updateTexture : =>\n\n      globalPos = @flycam.getPosition()\n\n      area = @flycam.getArea(@planeID)\n      tPos = @flycam.getTexturePosition(@planeID).slice()\n      if @model?\n        for name, binary of @model.binary\n\n          dataBuffer = binary.planes[@planeID].get(\n            position : @flycam.getTexturePosition(@planeID)\n            zoomStep : @flycam.getIntegerZoomStep()\n            area : @flycam.getArea(@planeID)\n          )\n\n          if dataBuffer\n            @plane.material.setData name, dataBuffer\n            app.vent.trigger(\"rerender\")\n\n      @plane.material.setScaleParams(\n        repeat :\n          x : (area[2] -  area[0]) / @textureWidth\n          y : (area[3] -  area[1]) / @textureWidth\n        offset :\n          x : area[0] / @textureWidth\n          y : 1 - area[3] / @textureWidth\n      )\n\n\n  setScale : (factor) =>\n\n    scaleVec = new THREE.Vector3().multiplyVectors(new THREE.Vector3(factor, factor, factor), @scaleVector)\n    @plane.scale = @TDViewBorders.scale = @crosshair[0].scale = @crosshair[1].scale = scaleVec\n\n\n  setRotation : (rotVec) =>\n\n    for mesh in [ @plane, @TDViewBorders, @crosshair[0], @crosshair[1] ]\n      mesh.setRotationFromEuler rotVec\n\n\n  setPosition : (posVec) =>\n\n    @TDViewBorders.position = @crosshair[0].position = @crosshair[1].position = posVec\n\n    offset = new THREE.Vector3(0, 0, 0)\n    if      @planeID == constants.PLANE_XY then offset.z =  1\n    else if @planeID == constants.PLANE_YZ then offset.x = -1\n    else if @planeID == constants.PLANE_XZ then offset.y = -1\n    @plane.position = offset.addVectors(posVec, offset)\n\n\n  setVisible : (visible) =>\n\n    @plane.visible = @TDViewBorders.visible = visible\n    @crosshair[0].visible = @crosshair[1].visible = visible and @displayCosshair\n\n\n  setSegmentationAlpha : (alpha) ->\n    @plane.material.setSegmentationAlpha alpha\n    app.vent.trigger(\"rerender\")\n\n\n  getMeshes : =>\n\n    [@plane, @TDViewBorders, @crosshair[0], @crosshair[1]]\n\n\n  setLinearInterpolationEnabled : (enabled) =>\n\n    @plane.material.setColorInterpolation(\n      if enabled then THREE.LinearFilter else THREE.NearestFilter\n    )\n\nmodule.exports = Plane\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/geometries/plane.coffee\n **/","THREE                        = require(\"three\")\nAbstractPlaneMaterialFactory = require(\"./abstract_plane_material_factory\")\n\nclass PlaneMaterialFactory extends AbstractPlaneMaterialFactory\n\n\n  setupAttributesAndUniforms : ->\n\n    super()\n\n    @uniforms = _.extend @uniforms,\n      offset :\n        type : \"v2\"\n        value : new THREE.Vector2(0, 0)\n      repeat :\n        type : \"v2\"\n        value : new THREE.Vector2(1, 1)\n      alpha :\n        type : \"f\"\n        value : 0\n\n\n  convertColor : (color) ->\n\n    return _.map color, (e) -> e / 255\n\n\n  createTextures : ->\n\n    # create textures\n    @textures = {}\n    for name, binary of @model.binary\n      bytes = binary.targetBitDepth >> 3\n      shaderName = @sanitizeName(name)\n      @textures[shaderName] = @createDataTexture(@tWidth, bytes)\n      @textures[shaderName].binaryCategory = binary.category\n      @textures[shaderName].binaryName = binary.name\n\n    for shaderName, texture of @textures\n      @uniforms[shaderName + \"_texture\"] = {\n        type : \"t\"\n        value : texture\n      }\n      unless texture.binaryCategory == \"segmentation\"\n        color = @convertColor(@model.datasetConfiguration.get(\"layers.#{texture.binaryName}.color\"))\n        @uniforms[shaderName + \"_weight\"] = {\n          type : \"f\"\n          value : 1\n        }\n        @uniforms[shaderName + \"_color\"] = {\n          type : \"v3\"\n          value : new THREE.Vector3(color...)\n        }\n\n\n  makeMaterial : (options) ->\n\n    super(options)\n\n    @material.setColorInterpolation = (interpolation) =>\n      for name, texture of @textures\n        if texture.binaryCategory == \"color\"\n          texture.magFilter = interpolation\n          texture.needsUpdate = true\n\n    @material.setScaleParams = ({offset, repeat}) =>\n      @uniforms.offset.value.set offset.x, offset.y\n      @uniforms.repeat.value.set repeat.x, repeat.y\n\n    @material.setSegmentationAlpha = (alpha) =>\n      @uniforms.alpha.value = alpha / 100\n\n    @material.side = THREE.DoubleSide\n\n\n  setupChangeListeners : ->\n\n    super()\n\n    @listenTo(@model.datasetConfiguration, \"change\" , (model) ->\n      for binaryName, changes of model.changed.layers or {}\n        name = @sanitizeName(binaryName)\n        if changes.color?\n          color = @convertColor(changes.color)\n          @uniforms[name + \"_color\"].value = new THREE.Vector3(color...)\n\n      app.vent.trigger(\"rerender\")\n    )\n\n\n  getFragmentShader : ->\n\n    colorLayerNames = _.map @model.getColorBinaries(), (b) => @sanitizeName(b.name)\n    segmentationBinary = @model.getSegmentationBinary()\n\n    return _.template(\n      \"\"\"\n      <% _.each(layers, function(name) { %>\n        uniform sampler2D <%= name %>_texture;\n        uniform float <%= name %>_brightness;\n        uniform float <%= name %>_contrast;\n        uniform vec3 <%= name %>_color;\n        uniform float <%= name %>_weight;\n      <% }) %>\n      <% if (hasSegmentation) { %>\n        uniform sampler2D <%= segmentationName %>_texture;\n      <% } %>\n      uniform vec2 offset, repeat;\n      uniform float alpha;\n      varying vec2 vUv;\n      /* Inspired from: http://lolengine.net/blog/2013/07/27/rgb-to-hsv-in-glsl */\n      vec3 hsv_to_rgb(vec4 HSV)\n      {\n        vec4 K;\n        vec3 p;\n        K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n        p = abs(fract(HSV.xxx + K.xyz) * 6.0 - K.www);\n        return HSV.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), HSV.y);\n      }\n      void main() {\n        float golden_ratio = 0.618033988749895;\n        float color_value  = 0.0;\n        <% if (hasSegmentation) { %>\n          vec4 volume_color = texture2D(<%= segmentationName %>_texture, vUv * repeat + offset);\n          float id = (volume_color.r * 255.0);\n        <% } else { %>\n          float id = 0.0;\n        <% } %>\n        /* Get Color Value(s) */\n        <% if (isRgb) { %>\n          vec3 data_color = texture2D( <%= layers[0] %>_texture, vUv * repeat + offset).xyz;\n          data_color = (data_color + <%= layers[0] %>_brightness - 0.5) * <%= layers[0] %>_contrast + 0.5;\n        <% } else { %>\n          vec3 data_color = vec3(0.0, 0.0, 0.0);\n          <% _.each(layers, function(name){ %>\n            /* Get grayscale value */\n            color_value = texture2D( <%= name %>_texture, vUv * repeat + offset).r;\n            /* Brightness / Contrast Transformation */\n            color_value = (color_value + <%= name %>_brightness - 0.5) * <%= name %>_contrast + 0.5;\n\n            /* Multiply with color and weight */\n            data_color += color_value * <%= name %>_weight * <%= name %>_color;\n          <% }) %> ;\n          data_color = clamp(data_color, 0.0, 1.0);\n        <% } %>\n        /* Color map (<= to fight rounding mistakes) */\n        if ( id > 0.1 ) {\n          vec4 HSV = vec4( mod( id * golden_ratio, 1.0), 1.0, 1.0, 1.0 );\n          gl_FragColor = vec4(mix( data_color, hsv_to_rgb(HSV), alpha ), 1.0);\n        } else {\n          gl_FragColor = vec4(data_color, 1.0);\n        }\n      }\n      \"\"\"\n    )({\n        layers : colorLayerNames\n        hasSegmentation : segmentationBinary?\n        segmentationName : @sanitizeName( segmentationBinary?.name )\n        isRgb : @model.binary[\"color\"]?.targetBitDepth == 24\n      }\n    )\n\nmodule.exports = PlaneMaterialFactory\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/geometries/materials/plane_material_factory.coffee\n **/","app             = require(\"app\")\nBackbone        = require(\"backbone\")\nErrorHandling   = require(\"libs/error_handling\")\nModel           = require(\"../model\")\nDimensions      = require(\"../model/dimensions\")\nconstants       = require(\"../constants\")\nTree            = require(\"./tree\")\n\nclass Skeleton\n\n  # This class is supposed to collect all the Geometries that belong to the skeleton, like\n  # nodes, edges and trees\n\n  COLOR_ACTIVE : 0xff0000\n\n  constructor : (@model) ->\n\n    _.extend(this, Backbone.Events)\n\n    @skeletonTracing    = @model.skeletonTracing\n    @treeGeometries = []\n    @isVisible      = true\n\n    @showInactiveTrees = true\n\n    @reset()\n\n    @listenTo(@skeletonTracing, \"newActiveNode\", (nodeId) ->\n      @setActiveNode()\n      @setInactiveTreeVisibility(@showInactiveTrees)\n    )\n    @listenTo(@skeletonTracing, \"newActiveNodeRadius\", @setActiveNodeRadius)\n    @listenTo(@skeletonTracing, \"newTree\", (treeId, treeColor) ->\n      @createNewTree(treeId, treeColor)\n      @setInactiveTreeVisibility(@showInactiveTrees)\n    )\n    @listenTo(@skeletonTracing, \"deleteTree\", @deleteTree)\n    @listenTo(@skeletonTracing, \"deleteActiveNode\", @deleteNode)\n    @listenTo(@skeletonTracing, \"mergeTree\", @mergeTree)\n    @listenTo(@skeletonTracing, \"newNode\", @setWaypoint)\n    @listenTo(@skeletonTracing, \"setBranch\", @setBranch)\n    @listenTo(@skeletonTracing, \"newTreeColor\", @updateTreeColor)\n    @listenTo(@skeletonTracing, \"reloadTrees\", @loadSkeletonFromModel)\n\n    @listenTo(@model.user, \"particleSizeChanged\", @setParticleSize)\n    @listenTo(@model.user, \"overrideNodeRadiusChanged\", (overrideNodeRadius) =>\n      for tree in @treeGeometries\n        tree.showRadius(not @model.user.get(\"overrideNodeRadius\"))\n    )\n\n  createNewTree : (treeId, treeColor) ->\n\n    @treeGeometries.push( tree = new Tree(treeId, treeColor, @model) )\n    @setActiveNode()\n    @trigger(\"newGeometries\", tree.getMeshes())\n\n\n  # Will completely reload the trees from model.\n  # This needs to be done at initialization\n\n  reset : ->\n\n    for tree in @treeGeometries\n      @trigger(\"removeGeometries\", tree.getMeshes())\n      tree.dispose()\n\n    @treeGeometries = []\n\n    for tree in @skeletonTracing.getTrees()\n      @createNewTree(tree.treeId, tree.color)\n\n    @loadSkeletonFromModel()\n\n\n  loadSkeletonFromModel : (trees) ->\n\n    unless trees? then trees = @model.skeletonTracing.getTrees()\n\n    for tree in trees\n\n      treeGeometry = @getTreeGeometry(tree.treeId)\n      treeGeometry.clear()\n      treeGeometry.addNodes( tree.nodes )\n\n    for branchpoint in @skeletonTracing.branchStack\n      treeGeometry = @getTreeGeometry(branchpoint.treeId)\n      treeGeometry.updateNodeColor(branchpoint.id, null, true)\n\n    @setActiveNode()\n\n    app.vent.trigger(\"rerender\")\n\n\n  setBranch : (isBranchPoint, node) ->\n\n    treeGeometry = @getTreeGeometry( node.treeId )\n    treeGeometry.updateNodeColor(node.id, null, isBranchPoint)\n\n    app.vent.trigger(\"rerender\")\n\n\n  updateTreeColor : (treeId) ->\n\n    @getTreeGeometry(treeId).updateTreeColor()\n    app.vent.trigger(\"rerender\")\n\n\n  getMeshes : =>\n\n    meshes = []\n    for tree in @treeGeometries\n      meshes = meshes.concat(tree.getMeshes())\n    return meshes\n\n  setWaypoint : (centered) =>\n\n    treeGeometry = @getTreeGeometry(@skeletonTracing.getTree().treeId)\n\n    treeGeometry.addNode(@skeletonTracing.getActiveNode())\n    app.vent.trigger(\"rerender\")\n\n\n  deleteNode : (node, treeId) ->\n\n    ErrorHandling.assertEquals(node.neighbors.length, 1, \"Node needs to have exactly 1 neighbor.\")\n\n    treeGeometry = @getTreeGeometry(treeId)\n    treeGeometry.deleteNode(node)\n\n    app.vent.trigger(\"rerender\")\n\n\n  mergeTree : (lastTreeID, lastNode, activeNode) ->\n\n    lastTree   = @getTreeGeometry(lastTreeID)\n    activeTree = @getTreeGeometry(@skeletonTracing.getTree().treeId)\n\n    activeTree.mergeTree(lastTree, lastNode, activeNode)\n\n\n  deleteTree : (index) ->\n\n    treeGeometry = @treeGeometries[index]\n\n    @trigger(\"removeGeometries\", treeGeometry.getMeshes())\n    treeGeometry.dispose()\n    @treeGeometries.splice(index, 1)\n\n    app.vent.trigger(\"rerender\")\n\n\n  setActiveNode : ->\n\n    if @lastActiveNode?\n      treeGeometry = @getTreeGeometry(@lastActiveNode.treeId)\n      treeGeometry?.updateNodeColor(@lastActiveNode.id, false)\n\n    if (activeNode = @model.skeletonTracing.getActiveNode())?\n      treeGeometry = @getTreeGeometry(activeNode.treeId)\n      treeGeometry?.updateNodeColor(activeNode.id, true)\n      treeGeometry?.startNodeHighlightAnimation(activeNode.id)\n\n    @lastActiveNode = activeNode\n\n\n  setActiveNodeRadius : ->\n\n    if (activeNode = @model.skeletonTracing.getActiveNode())?\n      treeGeometry = @getTreeGeometry( activeNode.treeId )\n      treeGeometry?.updateNodeRadius( activeNode.id, activeNode.radius )\n      app.vent.trigger(\"rerender\")\n\n\n  getAllNodes : ->\n\n    return (tree.nodes for tree in @treeGeometries)\n\n\n  getTreeGeometry : (treeId) ->\n\n    unless treeId\n      treeId = @skeletonTracing.getTree().treeId\n    for tree in @treeGeometries\n      if tree.id == treeId\n        return tree\n    return null\n\n\n  setVisibilityTemporary : (isVisible) ->\n\n    for mesh in @getMeshes()\n      mesh.visible = isVisible && (if mesh.isVisible? then mesh.isVisible else true)\n    app.vent.trigger(\"rerender\")\n\n\n  setVisibility : (@isVisible) ->\n\n    app.vent.trigger(\"rerender\")\n\n\n  restoreVisibility : ->\n\n    @setVisibilityTemporary( @isVisible )\n\n\n  toggleVisibility : ->\n\n    @setVisibility( not @isVisible )\n\n\n  updateForCam : (id) ->\n\n    for tree in @treeGeometries\n      tree.showRadius( id != constants.TDView and\n        not @model.user.get(\"overrideNodeRadius\") )\n\n    if id in constants.ALL_PLANES\n      @setVisibilityTemporary( @isVisible )\n    else\n      @setVisibilityTemporary( true )\n\n\n  toggleInactiveTreeVisibility : ->\n\n    @showInactiveTrees = not @showInactiveTrees\n    @setInactiveTreeVisibility(@showInactiveTrees)\n\n\n  setInactiveTreeVisibility : (visible) ->\n\n    for mesh in @getMeshes()\n      mesh.isVisible = visible\n    treeGeometry = @getTreeGeometry(@skeletonTracing.getTree().treeId)\n    treeGeometry.edges.isVisible = true\n    treeGeometry.nodes.isVisible = true\n    app.vent.trigger(\"rerender\")\n\n\n  setSizeAttenuation : (sizeAttenuation) ->\n\n    for tree in @treeGeometries\n      tree.setSizeAttenuation(sizeAttenuation)\n\nmodule.exports = Skeleton\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/geometries/skeleton.coffee\n **/","app                     = require(\"app\")\nResizableBuffer         = require(\"libs/resizable_buffer\")\nErrorHandling           = require(\"libs/error_handling\")\nTHREE                   = require(\"three\")\nTWEEN                   = require(\"tween.js\")\nColorConverter          = require(\"three.color\")\nParticleMaterialFactory = require(\"./materials/particle_material_factory\")\n\nclass Tree\n\n  constructor : (treeId, treeColor, @model) ->\n    # create skeletonTracing to show in TDView and pre-allocate buffers\n\n    edgeGeometry = new THREE.BufferGeometry()\n    nodeGeometry = new THREE.BufferGeometry()\n\n    edgeGeometry.addAttribute('position', Float32Array, 0, 3)\n    nodeGeometry.addAttribute('position', Float32Array, 0, 3)\n    nodeGeometry.addAttribute('sizeNm', Float32Array, 0, 1)\n    nodeGeometry.addAttribute('nodeScaleFactor', Float32Array, 0, 1)\n    nodeGeometry.addAttribute('color', Float32Array, 0, 3)\n\n    @nodeIDs = nodeGeometry.nodeIDs = new ResizableBuffer(1, 100, Int32Array)\n    edgeGeometry.dynamic = true\n    nodeGeometry.dynamic = true\n\n    @edgesBuffer = edgeGeometry.attributes.position._rBuffer = new ResizableBuffer(6)\n    @nodesBuffer = nodeGeometry.attributes.position._rBuffer = new ResizableBuffer(3)\n    @sizesBuffer = nodeGeometry.attributes.sizeNm._rBuffer = new ResizableBuffer(1)\n    @scalesBuffer = nodeGeometry.attributes.nodeScaleFactor._rBuffer = new ResizableBuffer(1)\n    @nodesColorBuffer = nodeGeometry.attributes.color._rBuffer = new ResizableBuffer(3)\n\n    @edges = new THREE.Line(\n      edgeGeometry,\n      new THREE.LineBasicMaterial({\n        color: @darkenHex( treeColor ),\n        linewidth: @getLineWidth()}),\n      THREE.LinePieces\n    )\n\n    @particleMaterial = new ParticleMaterialFactory(@model).getMaterial()\n    @nodes = new THREE.ParticleSystem(nodeGeometry, @particleMaterial)\n\n    @id = treeId\n\n\n  clear : ->\n\n    @nodesBuffer.clear()\n    @edgesBuffer.clear()\n    @sizesBuffer.clear()\n    @scalesBuffer.clear()\n    @nodeIDs.clear()\n    @updateNodesColors()\n\n\n  isEmpty : ->\n\n    return @nodesBuffer.getLength() == 0\n\n\n  addNode : (node) ->\n\n    @nodesBuffer.push(node.pos)\n    @sizesBuffer.push([node.radius * 2])\n    @scalesBuffer.push([1.0])\n    @nodeIDs.push([node.id])\n    @nodesColorBuffer.push(@getColor(node.id))\n\n    # Add any edge from smaller IDs to the node\n    # ASSUMPTION: if this node is new, it should have a\n    #             greater id as its neighbor\n    for neighbor in node.neighbors\n      if neighbor.id < node.id\n        @edgesBuffer.push(neighbor.pos.concat(node.pos))\n\n    @updateGeometries()\n\n\n  addNodes : (nodeList) ->\n\n    for node in nodeList\n      @addNode(node)\n\n\n  deleteNode : (node) ->\n\n    swapLast = (array, index) =>\n      lastElement = array.pop()\n      for i in [0...array.elementLength]\n        array.getAllElements()[index * array.elementLength + i] = lastElement[i]\n\n    nodesIndex = @getNodeIndex(node.id)\n    ErrorHandling.assert(nodesIndex?, \"No node found.\", { id : node.id, @nodeIDs })\n\n    # swap IDs and nodes\n    swapLast( @nodeIDs, nodesIndex )\n    swapLast( @nodesBuffer, nodesIndex )\n    swapLast( @sizesBuffer, nodesIndex )\n    swapLast( @scalesBuffer, nodesIndex )\n    swapLast( @nodesColorBuffer, nodesIndex )\n\n    # Delete Edge by finding it in the array\n    edgeArray = @getEdgeArray(node, node.neighbors[0])\n\n    for i in [0...@edgesBuffer.getLength()]\n      found = true\n      for j in [0..5]\n        found &= Math.abs(@edges.geometry.attributes.position.array[6 * i + j] - edgeArray[j]) < 0.5\n      if found\n        edgesIndex = i\n        break\n\n    ErrorHandling.assert(found, \"No edge found.\", { found, edgeArray, nodesIndex })\n\n    swapLast(@edgesBuffer, edgesIndex)\n\n    @updateGeometries()\n\n  mergeTree : (otherTree, lastNode, activeNode) ->\n\n    merge = (property) =>\n      @[property].pushSubarray(otherTree[property].getAllElements())\n\n    # merge IDs, nodes and edges\n    merge(\"nodeIDs\")\n    merge(\"nodesBuffer\")\n    merge(\"edgesBuffer\")\n    merge(\"sizesBuffer\")\n    merge(\"scalesBuffer\")\n    @edgesBuffer.push(@getEdgeArray(lastNode, activeNode))\n\n    @updateNodesColors()\n    @updateGeometries()\n\n\n  getEdgeArray : (node1, node2) ->\n    # ASSUMPTION: edges always go from smaller ID to bigger ID\n\n    if node1.id < node2.id\n      return node1.pos.concat(node2.pos)\n    else\n      return node2.pos.concat(node1.pos)\n\n\n  setSizeAttenuation : (sizeAttenuation) ->\n\n    @nodes.material.sizeAttenuation = sizeAttenuation\n    @updateGeometries()\n\n\n  updateTreeColor : ->\n\n    newColor = @model.skeletonTracing.getTree(@id).color\n    @edges.material.color = new THREE.Color(@darkenHex(newColor))\n\n    @updateNodesColors()\n    @updateGeometries()\n\n\n  getMeshes : ->\n\n    return [ @edges, @nodes ]\n\n\n  dispose : ->\n\n    for geometry in @getMeshes()\n\n      geometry.geometry.dispose()\n      geometry.material.dispose()\n\n\n  updateNodesColors : ->\n\n    @nodesColorBuffer.clear()\n    for i in [0...@nodeIDs.length]\n      @nodesColorBuffer.push(@getColor(@nodeIDs.get(i)))\n\n    @updateGeometries()\n\n\n  updateNodeColor : (id, isActiveNode, isBranchPoint) ->\n\n    @doWithNodeIndex(id, (index) =>\n      @nodesColorBuffer.set(@getColor(id, isActiveNode, isBranchPoint), index)\n    )\n\n    @updateGeometries()\n\n\n  updateNodeRadius : (id, radius) ->\n\n    @doWithNodeIndex(id, (index) =>\n      @sizesBuffer.set([radius * 2], index)\n    )\n\n    @updateGeometries()\n\n\n  startNodeHighlightAnimation : (nodeId) ->\n\n    normal = 1.0\n    highlighted = 2.0\n\n    @doWithNodeIndex(nodeId, (index) =>\n      @animateNodeScale(normal, highlighted, index, =>\n        @animateNodeScale(highlighted, normal, index)\n      )\n    )\n\n\n  animateNodeScale : (from, to, index, onComplete = ->) ->\n\n    setScaleFactor = (factor) =>\n      @scalesBuffer.set([factor], index)\n    redraw = =>\n      @updateGeometries()\n      app.vent.trigger(\"rerender\")\n    onUpdate = ->\n      setScaleFactor(@scaleFactor)\n      redraw()\n\n    (new TWEEN.Tween({scaleFactor : from}))\n      .to({scaleFactor : to}, 100)\n      .onUpdate(onUpdate)\n      .onComplete(onComplete)\n      .start()\n\n\n  getColor : (id, isActiveNode, isBranchPoint) ->\n\n    color = @model.skeletonTracing.getTree(@id).color\n    if id?\n\n      isActiveNode  = isActiveNode  || @model.skeletonTracing.getActiveNodeId() == id\n      isBranchPoint = isBranchPoint || @model.skeletonTracing.isBranchPoint(id)\n\n      if isActiveNode\n        color = @shiftHex(color, 1/4)\n      else\n        color = @darkenHex(color)\n\n      if isBranchPoint\n        color = @invertHex(color)\n\n    return @hexToRGB(color)\n\n\n  showRadius : (show) ->\n\n    @edges.material.linewidth = @getLineWidth()\n    @particleMaterial.setShowRadius(show)\n\n\n  updateGeometries : ->\n\n    for mesh in [ @edges, @nodes ]\n      for attr of mesh.geometry.attributes\n        a = mesh.geometry.attributes[attr]\n        a.array       = a._rBuffer.getBuffer()\n        a.numItems    = a._rBuffer.getBufferLength()\n        a.needsUpdate = true\n\n\n  logState : (title) ->\n\n    console.log \" +++ \" + title + \" +++ \"\n    console.log \"nodeIDs\", @nodeIDs.toString()\n    console.log \"nodesBuffer\", @nodesBuffer.toString()\n    console.log \"edgesBuffer\", @edgesBuffer.toString()\n    console.log \"sizesBuffer\", @sizesBuffer.toString()\n\n\n  getNodeIndex : (nodeId) ->\n\n    for i in [0..@nodeIDs.length]\n      if @nodeIDs.get(i) == nodeId\n        return i\n\n\n  doWithNodeIndex : (nodeId, f) ->\n\n    index = @getNodeIndex(nodeId)\n    return unless index?\n    f(index)\n\n\n  getLineWidth : ->\n\n    return @model.user.get(\"particleSize\") / 4\n\n\n  #### Color utility methods\n\n  hexToRGB : (hexColor) ->\n\n    rgbColor = new THREE.Color().setHex(hexColor)\n    [rgbColor.r, rgbColor.g, rgbColor.b]\n\n\n  darkenHex : (hexColor) ->\n\n    hsvColor = ColorConverter.getHSV(new THREE.Color().setHex(hexColor))\n    hsvColor.v = 0.6\n    ColorConverter.setHSV(new THREE.Color(), hsvColor.h, hsvColor.s, hsvColor.v).getHex()\n\n\n  shiftHex : (hexColor, shiftValue) ->\n\n    hsvColor = ColorConverter.getHSV(new THREE.Color().setHex(hexColor))\n    hsvColor.h = (hsvColor.h + shiftValue) % 1\n    ColorConverter.setHSV(new THREE.Color(), hsvColor.h, hsvColor.s, hsvColor.v).getHex()\n\n\n  invertHex : (hexColor) ->\n\n    @shiftHex(hexColor, 0.5)\n\nmodule.exports = Tree\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/geometries/tree.coffee\n **/","\n\nclass ResizableBuffer\n\n  GROW_MULTIPLIER : 1.3\n\n  constructor : (@elementLength, initialCapacity = 100, @bufferType = Float32Array) ->\n\n    @capacity = initialCapacity * @elementLength\n    @buffer = new @bufferType(@capacity)\n\n    @length = 0\n\n\n  clear : ->\n\n    @length = 0\n\n\n  isEmpty : -> @length == 0\n\n  isFull : -> @length == @capacity\n\n  getLength : -> @length/@elementLength\n\n  getBufferLength : -> @length\n\n  getBuffer : -> @buffer\n\n  getAllElements : -> @buffer.subarray(0, @length)\n\n  get : (i) -> @buffer[i]\n\n  set : (element, i) ->\n\n    @buffer.set(element, i * @elementLength)\n\n\n  push : (element) ->\n\n    @ensureCapacity()\n\n    { buffer, elementLength, length } = this\n\n    buffer.set(element, length)\n\n    @length += elementLength\n\n\n  pushMany : (elements) ->\n\n    @ensureCapacity(@length + elements.length * @elementLength)\n\n    { buffer, elementLength, length } = this\n\n    for element in elements\n      buffer.set(element, length)\n      length += elementLength\n\n    @length += elements.length * elementLength\n\n  pushSubarray : (subarray) ->\n\n    @ensureCapacity(@length + subarray.length)\n\n    { buffer, elementLength, length } = this\n\n    buffer.set(subarray, length)\n\n    @length += subarray.length\n\n\n  pop : (r = new Array(@elementLength)) ->\n\n    return unless @length\n\n    { buffer, elementLength, length } = this\n\n    for i in [(elementLength - 1)..0] by -1\n      r[i] = buffer[--length]\n\n    @length -= elementLength\n\n    r\n\n\n  top : (r = new Array(@elementLength)) ->\n\n    return unless @length\n\n    { buffer, elementLength, length } = this\n\n    for i in [(elementLength - 1)..0] by -1\n      r[i] = buffer[--length]\n\n    r\n\n\n  ensureCapacity : (newCapacity = @length + @elementLength) ->\n\n    if @capacity < newCapacity\n\n      { buffer } = this\n\n      while @capacity < newCapacity\n\n        @capacity = Math.floor(@capacity * @GROW_MULTIPLIER)\n        @capacity -= @capacity % @elementLength\n\n      newBuffer = new @bufferType(@capacity)\n\n      newBuffer.set(buffer)\n\n      @buffer = newBuffer\n\n\n  toString : ->\n\n    length = @getLength()\n    result = []\n\n    for i in [0...length]\n      element = []\n      for j in [0...@elementLength]\n        element.push( @buffer[ i * @elementLength + j ] )\n      result.push( \"[ \" + element.join(\", \") + \" ]\" )\n\n    return \"(\" + length + \") { \" + result.join(\", \") + \" }\"\n\n\nmodule.exports = ResizableBuffer\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/libs/resizable_buffer.coffee\n **/","app                     = require(\"app\")\nTHREE                   = require(\"three\")\nAbstractMaterialFactory = require(\"./abstract_material_factory\")\n\nclass ParticleMaterialFactory extends AbstractMaterialFactory\n\n\n  setupAttributesAndUniforms : ->\n\n    super()\n\n    @uniforms = _.extend @uniforms,\n      zoomFactor :\n        type : \"f\"\n        value : @model.flycam.getPlaneScalingFactor()\n      baseVoxel :\n        type : \"f\"\n        value : app.scaleInfo.baseVoxel\n      particleSize :\n        type : \"f\"\n        value : @model.user.get(\"particleSize\")\n      scale :\n        type : \"f\"\n        value : @model.user.get(\"scale\")\n      showRadius :\n        type : \"i\"\n        value : 1\n      devicePixelRatio :\n        type : \"f\"\n        value : window.devicePixelRatio || 1\n\n    @attributes = _.extend @attributes,\n      sizeNm :\n        type : \"f\"\n      nodeScaleFactor :\n        type : \"f\"\n\n\n  makeMaterial : ->\n\n    super( vertexColors : true )\n\n    @material.setShowRadius = (showRadius) =>\n      @uniforms.showRadius.value = if showRadius then 1 else 0\n\n\n  setupChangeListeners : ->\n\n    super()\n\n    @listenTo(@model.user, \"change:particleSize\", (model, size) ->\n      @uniforms.particleSize.value = size\n      app.vent.trigger(\"rerender\")\n    )\n    @listenTo(@model.user, \"change:scale\", (model, scale) ->\n      @uniforms.scale.value = scale\n      app.vent.trigger(\"rerender\")\n    )\n    @listenTo(@model.user, \"change:overrideNodeRadius\", ->\n      app.vent.trigger(\"rerender\")\n    )\n\n    @listenTo(@model.flycam, \"zoomStepChanged\", ->\n      @uniforms.zoomFactor.value = @model.flycam.getPlaneScalingFactor()\n      app.vent.trigger(\"rerender\")\n    )\n\n\n  getVertexShader : ->\n\n    return \"\"\"\n      uniform float zoomFactor;\n      uniform float baseVoxel;\n      uniform float particleSize;\n      uniform float scale;\n      uniform int   showRadius;\n      uniform float devicePixelRatio;\n      varying vec3 vColor;\n      attribute float sizeNm;\n      attribute float nodeScaleFactor;\n\n      void main()\n      {\n          vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n          vColor = color;\n          if (showRadius == 1)\n            gl_PointSize = max(\n                sizeNm / zoomFactor / baseVoxel,\n                particleSize\n              ) * devicePixelRatio * scale * nodeScaleFactor;\n          else\n            gl_PointSize = particleSize * nodeScaleFactor;\n          gl_Position = projectionMatrix * mvPosition;\n      }\n    \"\"\"\n\n\n  getFragmentShader : ->\n\n    return \"\"\"\n      varying vec3 vColor;\n\n      void main()\n      {\n          gl_FragColor = vec4( vColor, 1.0 );\n      }\n    \"\"\"\n\nmodule.exports = ParticleMaterialFactory\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/geometries/materials/particle_material_factory.coffee\n **/","app        = require(\"app\")\nbackbone   = require(\"backbone\")\nconstants  = require(\"../constants\")\ndimensions = require(\"../model/dimensions\")\nTHREE      = require(\"three\")\n\nclass Cube\n\n  constructor : (@model, properties) ->\n\n    @min               = properties.min               || [0, 0, 0]\n    @max               = properties.max\n    lineWidth          = properties.lineWidth         || 1\n    color              = properties.color             || 0x000000\n    @showCrossSections = properties.showCrossSections || false\n\n    _.extend(@, Backbone.Events)\n\n    @initialized = false\n    @visible     = true\n\n    @listenTo(@model.flycam, \"positionChanged\", (pos) => @updatePosition(pos))\n\n    lineProperties = {color: color, linewidth: lineWidth}\n\n    @cube = new THREE.Line(\n      new THREE.Geometry(),\n      new THREE.LineBasicMaterial( lineProperties ))\n\n    @crossSections = []\n    for i in constants.ALL_PLANES\n      @crossSections.push(\n        new THREE.Line(\n          new THREE.Geometry(),\n          new THREE.LineBasicMaterial( lineProperties )))\n\n\n    if @min? and @max?\n      @setCorners(@min, @max)\n\n  setCorners : (@min, @max) ->\n\n    { min, max } = this\n\n    vec = (x, y, z) ->\n      new THREE.Vector3(x, y, z)\n\n    v = (@cube.geometry.vertices = [])\n    v.push( vec( min[0], min[1], min[2] ));      v.push( vec( min[0], max[1], min[2] ))\n    v.push( vec( max[0], max[1], min[2] ));      v.push( vec( max[0], min[1], min[2] ))\n    v.push( vec( max[0], min[1], max[2] ));      v.push( vec( max[0], max[1], max[2] ))\n    v.push( vec( min[0], max[1], max[2] ));      v.push( vec( min[0], min[1], max[2] ))\n    v.push( vec( min[0], min[1], min[2] ));      v.push( vec( max[0], min[1], min[2] ))\n    v.push( vec( max[0], max[1], min[2] ));      v.push( vec( max[0], max[1], max[2] ))\n    v.push( vec( max[0], min[1], max[2] ));      v.push( vec( min[0], min[1], max[2] ))\n    v.push( vec( min[0], max[1], max[2] ));      v.push( vec( min[0], max[1], min[2] ))\n\n    v = (@crossSections[constants.PLANE_XY].geometry.vertices = [])\n    v.push( vec( min[0], min[1], 0 ));     v.push( vec( min[0], max[1], 0 ))\n    v.push( vec( max[0], max[1], 0 ));     v.push( vec( max[0], min[1], 0 ))\n    v.push( vec( min[0], min[1], 0 ))\n\n    v = (@crossSections[constants.PLANE_YZ].geometry.vertices = [])\n    v.push( vec( 0, min[1], min[2] ));     v.push( vec( 0, min[1], max[2] ))\n    v.push( vec( 0, max[1], max[2] ));     v.push( vec( 0, max[1], min[2] ))\n    v.push( vec( 0, min[1], min[2] ))\n\n    v = (@crossSections[constants.PLANE_XZ].geometry.vertices = [])\n    v.push( vec( min[0], 0, min[2] ));     v.push( vec( min[0], 0, max[2] ))\n    v.push( vec( max[0], 0, max[2] ));     v.push( vec( max[0], 0, min[2] ))\n    v.push( vec( min[0], 0, min[2] ))\n\n    for mesh in @crossSections.concat( [@cube] )\n      mesh.geometry.verticesNeedUpdate = true\n\n    @initialized = true\n    @updatePosition(@model.flycam.getPosition())\n    app.vent.trigger(\"rerender\")\n\n  updatePosition : (position) ->\n\n    if not @initialized\n      return\n\n    for i in constants.ALL_PLANES\n\n      thirdDim = dimensions.thirdDimensionForPlane(i)\n      geo = @crossSections[i].geometry\n      for j in [0...geo.vertices.length]\n        array = geo.vertices[j].toArray()\n        array[thirdDim] = position[thirdDim]\n        geo.vertices[j] = new THREE.Vector3(array...)\n\n      geo.verticesNeedUpdate = true\n\n  getMeshes : ->\n\n    return [ @cube ].concat( @crossSections )\n\n  updateForCam : (id) ->\n\n    if not @initialized\n      return\n\n    for i in [0..2]\n\n      thirdDim = dimensions.thirdDimensionForPlane(i)\n      position = @model.flycam.getPosition()\n      if position[thirdDim] >= @min[thirdDim] and position[thirdDim] <= @max[thirdDim]\n        @crossSections[i].visible = @visible and (i == id) and @showCrossSections\n      else\n        @crossSections[i].visible = false\n\n    @cube.visible = @visible and (id == constants.TDView)\n\n  setVisibility : (visible) ->\n\n    @visible = visible\n\n\nmodule.exports = Cube\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/geometries/cube.coffee\n **/","app             = require(\"app\")\nBackbone        = require(\"backbone\")\nResizableBuffer = require(\"libs/resizable_buffer\")\nTHREE           = require(\"three\")\nDimensions      = require(\"../model/dimensions\")\nconstants       = require(\"../constants\")\n\nclass ContourGeometry\n\n  COLOR_NORMAL : new THREE.Color(0x000000)\n  COLOR_DELETE : new THREE.Color(0xff0000)\n\n  constructor : (@volumeTracing, @flycam) ->\n\n    _.extend(this, Backbone.Events)\n\n    @color = @COLOR_NORMAL\n\n    @listenTo(@volumeTracing, \"volumeAnnotated\", @reset)\n    @listenTo(@volumeTracing, \"updateLayer\", (cellId, contourList) ->\n      @color = if cellId == 0 then @COLOR_DELETE else @COLOR_NORMAL\n      @reset()\n      for p in contourList\n        @addEdgePoint(p)\n    )\n\n    @createMeshes()\n\n\n  createMeshes : ->\n\n    edgeGeometry = new THREE.BufferGeometry()\n    edgeGeometry.addAttribute( 'position', Float32Array, 0, 3 )\n    edgeGeometry.dynamic = true\n\n    @edge = new THREE.Line(edgeGeometry, new THREE.LineBasicMaterial({linewidth: 2}), THREE.LineStrip)\n    @edge.vertexBuffer = new ResizableBuffer(3)\n\n    @reset()\n\n\n  reset : ->\n\n    @edge.material.color = @color\n    @edge.vertexBuffer.clear()\n    @finalizeMesh(@edge)\n\n\n  getMeshes : ->\n\n    return [@edge]\n\n\n  addEdgePoint : (pos) ->\n\n    # pos might be integer, but the third dimension needs to be exact.\n    globalPos = @flycam.getPosition()\n    edgePoint = pos.slice()\n    edgePoint[@thirdDimension] = globalPos[@thirdDimension]\n\n    @edge.vertexBuffer.push(edgePoint)\n    @finalizeMesh(@edge)\n\n    app.vent.trigger(\"rerender\")\n\n\n  finalizeMesh : (mesh) ->\n\n    positionAttribute = mesh.geometry.attributes.position\n\n    positionAttribute.array       = mesh.vertexBuffer.getBuffer()\n    positionAttribute.numItems    = mesh.vertexBuffer.getLength() * 3\n    positionAttribute.needsUpdate = true\n\nmodule.exports = ContourGeometry\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/geometries/contourgeometry.coffee\n **/","THREE          = require(\"three\")\nColorGenerator = require(\"libs/color_generator\")\n\nclass VolumeGeometry\n\n\n  constructor : (triangles, @id) ->\n\n    geo = new THREE.Geometry()\n    color = ColorGenerator.distinctColorForId( @id % 256 )\n\n    i = 0\n    for triangle in triangles\n      for vertex in triangle\n        geo.vertices.push( new THREE.Vector3(vertex...) )\n      normal = @getTriangleNormal( triangle )\n      geo.faces.push( new THREE.Face3(i++, i++, i++, normal) )\n\n    @mesh = new THREE.Mesh( geo,\n      new THREE.MeshPhongMaterial({\n        color : color\n      }))\n    @mesh.oberdraw = true\n\n\n  getTriangleNormal : (triangle) ->\n\n    v1 = new THREE.Vector3( triangle[1][0] - triangle[0][0],\n                            triangle[1][1] - triangle[0][1],\n                            triangle[1][2] - triangle[0][2] )\n\n    v2 = new THREE.Vector3( triangle[2][0] - triangle[0][0],\n                            triangle[2][1] - triangle[0][1],\n                            triangle[2][2] - triangle[0][2] )\n\n    v1.cross(v2)\n    v1.normalize()\n    return v1\n\n\n  getMeshes : ->\n\n    return [@mesh]\n\n\nmodule.exports = VolumeGeometry\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/geometries/volumegeometry.coffee\n **/","tlt = require(\"./tlt\")\n_   = require(\"lodash\")\nDeferred = require(\"../../../libs/deferred\")\n\n# This class is capable of turning voxel data into triangles\n# Based on the marching cubes algorithm\nclass PolygonFactory\n\n  constructor : (@modelCube, resolution, min, max, @id) ->\n\n    @voxelsToSkip = Math.ceil((max[0] - min[0]) / resolution) || 1\n    @chunkSize  = 10000\n\n    round = (number) =>\n      Math.floor(number / @voxelsToSkip) * @voxelsToSkip\n\n    [@startX, @endX] = [round(min[0]), round(max[0]) + @voxelsToSkip]\n    [@startY, @endY] = [round(min[1]), round(max[1]) + @voxelsToSkip]\n    [@startZ, @endZ] = [round(min[2]), round(max[2]) + @voxelsToSkip]\n\n\n  getTriangles : () ->\n\n    result    = {}\n    @deferred = new Deferred()\n    @isCancelled = false\n\n    _.defer(@calculateTrianglesAsync, result)\n    return @deferred.promise()\n\n\n  cancel : ->\n\n    @isCancelled = true\n\n\n  calculateTrianglesAsync : (result, lastPosition) =>\n\n    if @isCancelled\n      return\n\n    i = 0\n    position = @getNextPosition(lastPosition)\n\n    while @isPositionInBoundingBox(position)\n      @updateTriangles(result, position)\n\n      # If chunk size is reached, pause execution\n      if i == @chunkSize\n        _.defer(@calculateTrianglesAsync, result, position)\n        return\n      i++\n\n      position = @getNextPosition(position)\n\n    @deferred.resolve(result)\n\n\n  isPositionInBoundingBox : (position) ->\n\n    if position?\n      [x, y, z] = position\n      return (x >= @startX and y >= @startY and z >= @startZ) and\n        (x <= @endX and y <= @endY and z <= @endZ)\n    return false\n\n\n  getNextPosition : (lastPosition) ->\n\n    unless lastPosition?\n      return [@startX, @startY, @startZ]\n\n    else\n      [oldX, oldY, oldZ] = lastPosition\n\n      if oldX + @voxelsToSkip < @endX\n        return [oldX + @voxelsToSkip, oldY, oldZ]\n      if oldY + @voxelsToSkip < @endY\n        return [@startX, oldY + @voxelsToSkip, oldZ]\n      else\n        # For z coordinate, always sample in maximal resolution\n        return [@startX, @startY, oldZ + 1]\n\n\n  updateTriangles : (result, position) ->\n\n    cubeIndices = @getCubeIndices(position)\n\n    for cellId, cubeIndex of cubeIndices\n      unless result[cellId]?\n        result[cellId] = []\n      unless cubeIndex == 0 or cubeIndex == 256\n        @addNewTriangles(result[cellId], cubeIndex, position)\n\n\n  getCubeIndices : ([x, y, z]) ->\n\n    labels = [\n      @modelCube.getDataValue([x, y, z]                                                ),\n      @modelCube.getDataValue([x + @voxelsToSkip, y, z]                                ),\n      @modelCube.getDataValue([x + @voxelsToSkip, y, z + @voxelsToSkip]                ),\n      @modelCube.getDataValue([x, y, z + @voxelsToSkip]                                ),\n      @modelCube.getDataValue([x, y + @voxelsToSkip, z]                                ),\n      @modelCube.getDataValue([x + @voxelsToSkip, y + @voxelsToSkip, z]                ),\n      @modelCube.getDataValue([x + @voxelsToSkip, y + @voxelsToSkip, z + @voxelsToSkip]),\n      @modelCube.getDataValue([x, y + @voxelsToSkip, z + @voxelsToSkip]                ) ]\n\n    cellIds = []\n    for label in labels\n      unless label in cellIds or label == 0 or (@id? and @id != label)\n        cellIds.push(label)\n\n    result = {}\n    for cellId in cellIds\n      cubeIndex = 0\n\n      for i in [0..7]\n        bit = if cellId == labels[i] then 1 else 0\n        cubeIndex |= bit << i\n\n      result[cellId] = cubeIndex\n\n    return result\n\n\n  addNewTriangles : (triangleList, cubeIndex, [x, y, z]) ->\n\n      for triangle in tlt[cubeIndex]\n        vertices = []\n\n        for vertex in triangle\n          vertices.push( [ vertex[0] * @voxelsToSkip + x,\n                          vertex[1] * @voxelsToSkip + y,\n                          vertex[2] * @voxelsToSkip + z ] )\n\n        triangleList.push(vertices)\n\nmodule.exports = PolygonFactory\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/polygons/polygon_factory.coffee\n **/","#### Triangle Lookup Table\n\n# The marching cube algorithm requires a\n# Triangle Lookup Table that holds the\n# triangles for each of the cube's\n# 2^8 = 256 possible states\n\n# Generated from https://dl.dropboxusercontent.com/u/26034024/scm/tlt_coffee.c\n\ntlt = [\n  [],  # 0\n  [[[0.5, 0, 0], [0, 0.5, 0], [0, 0, 0.5]]],  # 1\n  [[[0.5, 0, 0], [1, 0, 0.5], [1, 0.5, 0]]],  # 2\n  [[[1, 0, 0.5], [0, 0.5, 0], [0, 0, 0.5]], [[1, 0.5, 0], [0, 0.5, 0], [1, 0, 0.5]]],  # 3\n  [[[1, 0, 0.5], [0.5, 0, 1], [1, 0.5, 1]]],  # 4\n  [[[0.5, 0, 0], [0, 0.5, 0], [0, 0, 0.5]], [[1, 0, 0.5], [0.5, 0, 1], [1, 0.5, 1]]],  # 5\n  [[[1, 0.5, 0], [0.5, 0, 1], [1, 0.5, 1]], [[0.5, 0, 0], [0.5, 0, 1], [1, 0.5, 0]]],  # 6\n  [[[0.5, 0, 1], [0, 0.5, 0], [0, 0, 0.5]], [[0.5, 0, 1], [1, 0.5, 1], [0, 0.5, 0]], [[1, 0.5, 1], [1, 0.5, 0], [0, 0.5, 0]]],  # 7\n  [[[0, 0, 0.5], [0, 0.5, 1], [0.5, 0, 1]]],  # 8\n  [[[0.5, 0, 0], [0, 0.5, 1], [0.5, 0, 1]], [[0, 0.5, 0], [0, 0.5, 1], [0.5, 0, 0]]],  # 9\n  [[[1, 0, 0.5], [1, 0.5, 0], [0.5, 0, 0]], [[0.5, 0, 1], [0, 0, 0.5], [0, 0.5, 1]]],  # 10\n  [[[1, 0, 0.5], [0, 0.5, 1], [0.5, 0, 1]], [[1, 0, 0.5], [1, 0.5, 0], [0, 0.5, 1]], [[1, 0.5, 0], [0, 0.5, 0], [0, 0.5, 1]]],  # 11\n  [[[0, 0, 0.5], [1, 0.5, 1], [1, 0, 0.5]], [[0, 0.5, 1], [1, 0.5, 1], [0, 0, 0.5]]],  # 12\n  [[[0.5, 0, 0], [1, 0.5, 1], [1, 0, 0.5]], [[0.5, 0, 0], [0, 0.5, 0], [1, 0.5, 1]], [[0, 0.5, 0], [0, 0.5, 1], [1, 0.5, 1]]],  # 13\n  [[[0, 0, 0.5], [1, 0.5, 0], [0.5, 0, 0]], [[0, 0, 0.5], [0, 0.5, 1], [1, 0.5, 0]], [[0, 0.5, 1], [1, 0.5, 1], [1, 0.5, 0]]],  # 14\n  [[[1, 0.5, 0], [0, 0.5, 0], [1, 0.5, 1]], [[1, 0.5, 1], [0, 0.5, 0], [0, 0.5, 1]]],  # 15\n  [[[0.5, 1, 0], [0, 1, 0.5], [0, 0.5, 0]]],  # 16\n  [[[0.5, 1, 0], [0, 0, 0.5], [0.5, 0, 0]], [[0, 1, 0.5], [0, 0, 0.5], [0.5, 1, 0]]],  # 17\n  [[[0.5, 0, 0], [1, 0, 0.5], [1, 0.5, 0]], [[0, 0.5, 0], [0.5, 1, 0], [0, 1, 0.5]]],  # 18\n  [[[0.5, 1, 0], [1, 0, 0.5], [1, 0.5, 0]], [[0.5, 1, 0], [0, 1, 0.5], [1, 0, 0.5]], [[0, 1, 0.5], [0, 0, 0.5], [1, 0, 0.5]]],  # 19\n  [[[1, 0, 0.5], [0.5, 0, 1], [1, 0.5, 1]], [[0, 0.5, 0], [0.5, 1, 0], [0, 1, 0.5]]],  # 20\n  [[[0, 0, 0.5], [0.5, 1, 0], [0, 1, 0.5]], [[0, 0, 0.5], [0.5, 0, 0], [0.5, 1, 0]], [[1, 0, 0.5], [0.5, 0, 1], [1, 0.5, 1]]],  # 21\n  [[[1, 0.5, 0], [0.5, 0, 1], [1, 0.5, 1]], [[1, 0.5, 0], [0.5, 0, 0], [0.5, 0, 1]], [[0, 0.5, 0], [0.5, 1, 0], [0, 1, 0.5]]],  # 22\n  [[[0.5, 0, 1], [1, 0.5, 1], [1, 0.5, 0]], [[0.5, 0, 1], [1, 0.5, 0], [0, 1, 0.5]], [[0.5, 0, 1], [0, 1, 0.5], [0, 0, 0.5]], [[0, 1, 0.5], [1, 0.5, 0], [0.5, 1, 0]]],  # 23\n  [[[0, 0.5, 0], [0.5, 1, 0], [0, 1, 0.5]], [[0, 0, 0.5], [0, 0.5, 1], [0.5, 0, 1]]],  # 24\n  [[[0, 0.5, 1], [0.5, 1, 0], [0, 1, 0.5]], [[0, 0.5, 1], [0.5, 0, 1], [0.5, 1, 0]], [[0.5, 0, 1], [0.5, 0, 0], [0.5, 1, 0]]],  # 25\n  [[[1, 0.5, 0], [0.5, 0, 0], [1, 0, 0.5]], [[0, 0.5, 0], [0.5, 1, 0], [0, 1, 0.5]], [[0.5, 0, 1], [0, 0, 0.5], [0, 0.5, 1]]],  # 26\n  [[[0.5, 1, 0], [0, 1, 0.5], [0, 0.5, 1]], [[1, 0.5, 0], [0.5, 1, 0], [0, 0.5, 1]], [[1, 0.5, 0], [0, 0.5, 1], [0.5, 0, 1]], [[1, 0.5, 0], [0.5, 0, 1], [1, 0, 0.5]]],  # 27\n  [[[0, 0, 0.5], [1, 0.5, 1], [1, 0, 0.5]], [[0, 0, 0.5], [0, 0.5, 1], [1, 0.5, 1]], [[0, 1, 0.5], [0, 0.5, 0], [0.5, 1, 0]]],  # 28\n  [[[1, 0, 0.5], [0, 0.5, 1], [1, 0.5, 1]], [[1, 0, 0.5], [0.5, 1, 0], [0, 0.5, 1]], [[1, 0, 0.5], [0.5, 0, 0], [0.5, 1, 0]], [[0, 1, 0.5], [0, 0.5, 1], [0.5, 1, 0]]],  # 29\n  [[[0.5, 1, 0], [0, 1, 0.5], [0, 0.5, 0]], [[1, 0.5, 0], [0.5, 0, 0], [0, 0.5, 1]], [[1, 0.5, 0], [0, 0.5, 1], [1, 0.5, 1]], [[0, 0.5, 1], [0.5, 0, 0], [0, 0, 0.5]]],  # 30\n  [[[0.5, 1, 0], [0, 1, 0.5], [0, 0.5, 1]], [[0.5, 1, 0], [0, 0.5, 1], [1, 0.5, 0]], [[1, 0.5, 0], [0, 0.5, 1], [1, 0.5, 1]]],  # 31\n  [[[1, 0.5, 0], [1, 1, 0.5], [0.5, 1, 0]]],  # 32\n  [[[1, 0.5, 0], [1, 1, 0.5], [0.5, 1, 0]], [[0.5, 0, 0], [0, 0.5, 0], [0, 0, 0.5]]],  # 33\n  [[[0.5, 0, 0], [1, 1, 0.5], [0.5, 1, 0]], [[1, 0, 0.5], [1, 1, 0.5], [0.5, 0, 0]]],  # 34\n  [[[0, 0.5, 0], [1, 1, 0.5], [0.5, 1, 0]], [[0, 0.5, 0], [0, 0, 0.5], [1, 1, 0.5]], [[0, 0, 0.5], [1, 0, 0.5], [1, 1, 0.5]]],  # 35\n  [[[1, 0, 0.5], [0.5, 0, 1], [1, 0.5, 1]], [[1, 0.5, 0], [1, 1, 0.5], [0.5, 1, 0]]],  # 36\n  [[[0, 0, 0.5], [0.5, 0, 0], [0, 0.5, 0]], [[1, 0, 0.5], [0.5, 0, 1], [1, 0.5, 1]], [[0.5, 1, 0], [1, 0.5, 0], [1, 1, 0.5]]],  # 37\n  [[[1, 1, 0.5], [0.5, 0, 1], [1, 0.5, 1]], [[1, 1, 0.5], [0.5, 1, 0], [0.5, 0, 1]], [[0.5, 1, 0], [0.5, 0, 0], [0.5, 0, 1]]],  # 38\n  [[[0.5, 0, 1], [1, 0.5, 1], [1, 1, 0.5]], [[0, 0, 0.5], [0.5, 0, 1], [1, 1, 0.5]], [[0, 0, 0.5], [1, 1, 0.5], [0.5, 1, 0]], [[0, 0, 0.5], [0.5, 1, 0], [0, 0.5, 0]]],  # 39\n  [[[1, 0.5, 0], [1, 1, 0.5], [0.5, 1, 0]], [[0.5, 0, 1], [0, 0, 0.5], [0, 0.5, 1]]],  # 40\n  [[[0.5, 0, 0], [0, 0.5, 1], [0.5, 0, 1]], [[0.5, 0, 0], [0, 0.5, 0], [0, 0.5, 1]], [[0.5, 1, 0], [1, 0.5, 0], [1, 1, 0.5]]],  # 41\n  [[[0.5, 0, 0], [1, 1, 0.5], [0.5, 1, 0]], [[0.5, 0, 0], [1, 0, 0.5], [1, 1, 0.5]], [[0.5, 0, 1], [0, 0, 0.5], [0, 0.5, 1]]],  # 42\n  [[[0.5, 0, 1], [1, 0, 0.5], [1, 1, 0.5]], [[0.5, 0, 1], [1, 1, 0.5], [0, 0.5, 0]], [[0.5, 0, 1], [0, 0.5, 0], [0, 0.5, 1]], [[0.5, 1, 0], [0, 0.5, 0], [1, 1, 0.5]]],  # 43\n  [[[1, 0.5, 1], [0, 0, 0.5], [0, 0.5, 1]], [[1, 0.5, 1], [1, 0, 0.5], [0, 0, 0.5]], [[1, 0.5, 0], [1, 1, 0.5], [0.5, 1, 0]]],  # 44\n  [[[0.5, 1, 0], [1, 0.5, 0], [1, 1, 0.5]], [[0.5, 0, 0], [0, 0.5, 0], [1, 0, 0.5]], [[0, 0.5, 0], [1, 0.5, 1], [1, 0, 0.5]], [[0, 0.5, 0], [0, 0.5, 1], [1, 0.5, 1]]],  # 45\n  [[[1, 1, 0.5], [0.5, 1, 0], [0.5, 0, 0]], [[1, 1, 0.5], [0.5, 0, 0], [0, 0.5, 1]], [[1, 1, 0.5], [0, 0.5, 1], [1, 0.5, 1]], [[0, 0.5, 1], [0.5, 0, 0], [0, 0, 0.5]]],  # 46\n  [[[1, 1, 0.5], [0.5, 1, 0], [0, 0.5, 0]], [[1, 1, 0.5], [0, 0.5, 0], [1, 0.5, 1]], [[1, 0.5, 1], [0, 0.5, 0], [0, 0.5, 1]]],  # 47\n  [[[1, 0.5, 0], [0, 1, 0.5], [0, 0.5, 0]], [[1, 1, 0.5], [0, 1, 0.5], [1, 0.5, 0]]],  # 48\n  [[[1, 0.5, 0], [0, 0, 0.5], [0.5, 0, 0]], [[1, 0.5, 0], [1, 1, 0.5], [0, 0, 0.5]], [[1, 1, 0.5], [0, 1, 0.5], [0, 0, 0.5]]],  # 49\n  [[[0.5, 0, 0], [0, 1, 0.5], [0, 0.5, 0]], [[0.5, 0, 0], [1, 0, 0.5], [0, 1, 0.5]], [[1, 0, 0.5], [1, 1, 0.5], [0, 1, 0.5]]],  # 50\n  [[[1, 0, 0.5], [1, 1, 0.5], [0, 0, 0.5]], [[0, 0, 0.5], [1, 1, 0.5], [0, 1, 0.5]]],  # 51\n  [[[1, 0.5, 0], [0, 1, 0.5], [0, 0.5, 0]], [[1, 0.5, 0], [1, 1, 0.5], [0, 1, 0.5]], [[1, 0.5, 1], [1, 0, 0.5], [0.5, 0, 1]]],  # 52\n  [[[1, 0.5, 1], [1, 0, 0.5], [0.5, 0, 1]], [[1, 0.5, 0], [1, 1, 0.5], [0.5, 0, 0]], [[1, 1, 0.5], [0, 0, 0.5], [0.5, 0, 0]], [[1, 1, 0.5], [0, 1, 0.5], [0, 0, 0.5]]],  # 53\n  [[[0, 0.5, 0], [0.5, 0, 0], [0.5, 0, 1]], [[0, 0.5, 0], [0.5, 0, 1], [1, 1, 0.5]], [[0, 0.5, 0], [1, 1, 0.5], [0, 1, 0.5]], [[1, 0.5, 1], [1, 1, 0.5], [0.5, 0, 1]]],  # 54\n  [[[0.5, 0, 1], [1, 0.5, 1], [1, 1, 0.5]], [[0.5, 0, 1], [1, 1, 0.5], [0, 0, 0.5]], [[0, 0, 0.5], [1, 1, 0.5], [0, 1, 0.5]]],  # 55\n  [[[0, 1, 0.5], [1, 0.5, 0], [1, 1, 0.5]], [[0, 1, 0.5], [0, 0.5, 0], [1, 0.5, 0]], [[0, 0, 0.5], [0, 0.5, 1], [0.5, 0, 1]]],  # 56\n  [[[1, 0.5, 0], [1, 1, 0.5], [0, 1, 0.5]], [[1, 0.5, 0], [0, 1, 0.5], [0.5, 0, 1]], [[1, 0.5, 0], [0.5, 0, 1], [0.5, 0, 0]], [[0.5, 0, 1], [0, 1, 0.5], [0, 0.5, 1]]],  # 57\n  [[[0.5, 0, 1], [0, 0, 0.5], [0, 0.5, 1]], [[0.5, 0, 0], [1, 0, 0.5], [0, 0.5, 0]], [[1, 0, 0.5], [0, 1, 0.5], [0, 0.5, 0]], [[1, 0, 0.5], [1, 1, 0.5], [0, 1, 0.5]]],  # 58\n  [[[0, 0.5, 1], [0.5, 0, 1], [1, 0, 0.5]], [[0, 0.5, 1], [1, 0, 0.5], [0, 1, 0.5]], [[0, 1, 0.5], [1, 0, 0.5], [1, 1, 0.5]]],  # 59\n  [[[1, 0.5, 0], [1, 1, 0.5], [0, 0.5, 0]], [[0, 0.5, 0], [1, 1, 0.5], [0, 1, 0.5]], [[1, 0.5, 1], [1, 0, 0.5], [0, 0, 0.5]], [[1, 0.5, 1], [0, 0, 0.5], [0, 0.5, 1]]],  # 60\n  [[[1, 1, 0.5], [0, 1, 0.5], [0.5, 0, 0]], [[1, 1, 0.5], [0.5, 0, 0], [1, 0.5, 0]], [[0, 1, 0.5], [0, 0.5, 1], [0.5, 0, 0]], [[1, 0, 0.5], [0.5, 0, 0], [1, 0.5, 1]], [[0, 0.5, 1], [1, 0.5, 1], [0.5, 0, 0]]],  # 61\n  [[[0, 0.5, 1], [1, 0.5, 1], [0.5, 0, 0]], [[0, 0.5, 1], [0.5, 0, 0], [0, 0, 0.5]], [[1, 0.5, 1], [1, 1, 0.5], [0.5, 0, 0]], [[0, 0.5, 0], [0.5, 0, 0], [0, 1, 0.5]], [[1, 1, 0.5], [0, 1, 0.5], [0.5, 0, 0]]],  # 62\n  [[[0, 0.5, 1], [1, 0.5, 1], [1, 1, 0.5]], [[0, 1, 0.5], [0, 0.5, 1], [1, 1, 0.5]]],  # 63\n  [[[1, 0.5, 1], [0.5, 1, 1], [1, 1, 0.5]]],  # 64\n  [[[0.5, 0, 0], [0, 0.5, 0], [0, 0, 0.5]], [[1, 1, 0.5], [1, 0.5, 1], [0.5, 1, 1]]],  # 65\n  [[[1, 0.5, 0], [0.5, 0, 0], [1, 0, 0.5]], [[1, 1, 0.5], [1, 0.5, 1], [0.5, 1, 1]]],  # 66\n  [[[1, 0, 0.5], [0, 0.5, 0], [0, 0, 0.5]], [[1, 0, 0.5], [1, 0.5, 0], [0, 0.5, 0]], [[1, 1, 0.5], [1, 0.5, 1], [0.5, 1, 1]]],  # 67\n  [[[1, 0, 0.5], [0.5, 1, 1], [1, 1, 0.5]], [[0.5, 0, 1], [0.5, 1, 1], [1, 0, 0.5]]],  # 68\n  [[[1, 0, 0.5], [0.5, 1, 1], [1, 1, 0.5]], [[1, 0, 0.5], [0.5, 0, 1], [0.5, 1, 1]], [[0, 0, 0.5], [0.5, 0, 0], [0, 0.5, 0]]],  # 69\n  [[[1, 0.5, 0], [0.5, 1, 1], [1, 1, 0.5]], [[1, 0.5, 0], [0.5, 0, 0], [0.5, 1, 1]], [[0.5, 0, 0], [0.5, 0, 1], [0.5, 1, 1]]],  # 70\n  [[[1, 1, 0.5], [1, 0.5, 0], [0, 0.5, 0]], [[1, 1, 0.5], [0, 0.5, 0], [0.5, 0, 1]], [[1, 1, 0.5], [0.5, 0, 1], [0.5, 1, 1]], [[0, 0, 0.5], [0.5, 0, 1], [0, 0.5, 0]]],  # 71\n  [[[0.5, 0, 1], [0, 0, 0.5], [0, 0.5, 1]], [[1, 0.5, 1], [0.5, 1, 1], [1, 1, 0.5]]],  # 72\n  [[[0, 0.5, 1], [0.5, 0, 0], [0, 0.5, 0]], [[0, 0.5, 1], [0.5, 0, 1], [0.5, 0, 0]], [[1, 0.5, 1], [0.5, 1, 1], [1, 1, 0.5]]],  # 73\n  [[[0.5, 0, 0], [1, 0, 0.5], [1, 0.5, 0]], [[0.5, 0, 1], [0, 0, 0.5], [0, 0.5, 1]], [[1, 1, 0.5], [1, 0.5, 1], [0.5, 1, 1]]],  # 74\n  [[[1, 1, 0.5], [1, 0.5, 1], [0.5, 1, 1]], [[1, 0, 0.5], [1, 0.5, 0], [0.5, 0, 1]], [[1, 0.5, 0], [0, 0.5, 1], [0.5, 0, 1]], [[1, 0.5, 0], [0, 0.5, 0], [0, 0.5, 1]]],  # 75\n  [[[0.5, 1, 1], [0, 0, 0.5], [0, 0.5, 1]], [[0.5, 1, 1], [1, 1, 0.5], [0, 0, 0.5]], [[1, 1, 0.5], [1, 0, 0.5], [0, 0, 0.5]]],  # 76\n  [[[0.5, 0, 0], [0, 0.5, 0], [0, 0.5, 1]], [[0.5, 0, 0], [0, 0.5, 1], [1, 1, 0.5]], [[0.5, 0, 0], [1, 1, 0.5], [1, 0, 0.5]], [[1, 1, 0.5], [0, 0.5, 1], [0.5, 1, 1]]],  # 77\n  [[[0, 0, 0.5], [0, 0.5, 1], [0.5, 1, 1]], [[0.5, 0, 0], [0, 0, 0.5], [0.5, 1, 1]], [[0.5, 0, 0], [0.5, 1, 1], [1, 1, 0.5]], [[0.5, 0, 0], [1, 1, 0.5], [1, 0.5, 0]]],  # 78\n  [[[0.5, 1, 1], [1, 1, 0.5], [1, 0.5, 0]], [[0.5, 1, 1], [1, 0.5, 0], [0, 0.5, 1]], [[0, 0.5, 1], [1, 0.5, 0], [0, 0.5, 0]]],  # 79\n  [[[1, 1, 0.5], [1, 0.5, 1], [0.5, 1, 1]], [[0.5, 1, 0], [0, 1, 0.5], [0, 0.5, 0]]],  # 80\n  [[[0.5, 1, 0], [0, 0, 0.5], [0.5, 0, 0]], [[0.5, 1, 0], [0, 1, 0.5], [0, 0, 0.5]], [[0.5, 1, 1], [1, 1, 0.5], [1, 0.5, 1]]],  # 81\n  [[[1, 0, 0.5], [1, 0.5, 0], [0.5, 0, 0]], [[1, 1, 0.5], [1, 0.5, 1], [0.5, 1, 1]], [[0, 0.5, 0], [0.5, 1, 0], [0, 1, 0.5]]],  # 82\n  [[[1, 0.5, 1], [0.5, 1, 1], [1, 1, 0.5]], [[1, 0, 0.5], [1, 0.5, 0], [0, 1, 0.5]], [[1, 0, 0.5], [0, 1, 0.5], [0, 0, 0.5]], [[0, 1, 0.5], [1, 0.5, 0], [0.5, 1, 0]]],  # 83\n  [[[0.5, 1, 1], [1, 0, 0.5], [0.5, 0, 1]], [[0.5, 1, 1], [1, 1, 0.5], [1, 0, 0.5]], [[0.5, 1, 0], [0, 1, 0.5], [0, 0.5, 0]]],  # 84\n  [[[1, 0, 0.5], [0.5, 0, 1], [1, 1, 0.5]], [[1, 1, 0.5], [0.5, 0, 1], [0.5, 1, 1]], [[0, 0, 0.5], [0.5, 0, 0], [0.5, 1, 0]], [[0, 0, 0.5], [0.5, 1, 0], [0, 1, 0.5]]],  # 85\n  [[[0, 0.5, 0], [0.5, 1, 0], [0, 1, 0.5]], [[1, 0.5, 0], [0.5, 0, 0], [1, 1, 0.5]], [[0.5, 0, 0], [0.5, 1, 1], [1, 1, 0.5]], [[0.5, 0, 0], [0.5, 0, 1], [0.5, 1, 1]]],  # 86\n  [[[0, 1, 0.5], [0, 0, 0.5], [1, 0.5, 0]], [[0, 1, 0.5], [1, 0.5, 0], [0.5, 1, 0]], [[0, 0, 0.5], [0.5, 0, 1], [1, 0.5, 0]], [[1, 1, 0.5], [1, 0.5, 0], [0.5, 1, 1]], [[0.5, 0, 1], [0.5, 1, 1], [1, 0.5, 0]]],  # 87\n  [[[0, 0, 0.5], [0, 0.5, 1], [0.5, 0, 1]], [[0, 1, 0.5], [0, 0.5, 0], [0.5, 1, 0]], [[1, 0.5, 1], [0.5, 1, 1], [1, 1, 0.5]]],  # 88\n  [[[1, 1, 0.5], [1, 0.5, 1], [0.5, 1, 1]], [[0.5, 1, 0], [0, 1, 0.5], [0.5, 0, 1]], [[0.5, 1, 0], [0.5, 0, 1], [0.5, 0, 0]], [[0.5, 0, 1], [0, 1, 0.5], [0, 0.5, 1]]],  # 89\n  [[[0.5, 0, 0], [1, 0, 0.5], [1, 0.5, 0]], [[0.5, 1, 0], [0, 1, 0.5], [0, 0.5, 0]], [[0.5, 0, 1], [0, 0, 0.5], [0, 0.5, 1]], [[1, 1, 0.5], [1, 0.5, 1], [0.5, 1, 1]]],  # 90\n  [[[1, 0.5, 0], [0.5, 0, 1], [1, 0, 0.5]], [[1, 0.5, 0], [0, 0.5, 1], [0.5, 0, 1]], [[1, 0.5, 0], [0.5, 1, 0], [0, 0.5, 1]], [[0, 1, 0.5], [0, 0.5, 1], [0.5, 1, 0]], [[1, 1, 0.5], [1, 0.5, 1], [0.5, 1, 1]]],  # 91\n  [[[0, 0.5, 0], [0.5, 1, 0], [0, 1, 0.5]], [[0, 0, 0.5], [0, 0.5, 1], [1, 1, 0.5]], [[0, 0, 0.5], [1, 1, 0.5], [1, 0, 0.5]], [[1, 1, 0.5], [0, 0.5, 1], [0.5, 1, 1]]],  # 92\n  [[[1, 1, 0.5], [1, 0, 0.5], [0, 0.5, 1]], [[1, 1, 0.5], [0, 0.5, 1], [0.5, 1, 1]], [[1, 0, 0.5], [0.5, 0, 0], [0, 0.5, 1]], [[0, 1, 0.5], [0, 0.5, 1], [0.5, 1, 0]], [[0.5, 0, 0], [0.5, 1, 0], [0, 0.5, 1]]],  # 93\n  [[[0.5, 0, 0], [1, 1, 0.5], [1, 0.5, 0]], [[0.5, 0, 0], [0.5, 1, 1], [1, 1, 0.5]], [[0.5, 0, 0], [0, 0, 0.5], [0.5, 1, 1]], [[0, 0.5, 1], [0.5, 1, 1], [0, 0, 0.5]], [[0, 0.5, 0], [0.5, 1, 0], [0, 1, 0.5]]],  # 94\n  [[[0.5, 1, 1], [1, 1, 0.5], [1, 0.5, 0]], [[0.5, 1, 1], [1, 0.5, 0], [0, 0.5, 1]], [[0.5, 1, 0], [0, 1, 0.5], [1, 0.5, 0]], [[0, 1, 0.5], [0, 0.5, 1], [1, 0.5, 0]]],  # 95\n  [[[1, 0.5, 1], [0.5, 1, 0], [1, 0.5, 0]], [[0.5, 1, 1], [0.5, 1, 0], [1, 0.5, 1]]],  # 96\n  [[[0.5, 1, 0], [1, 0.5, 1], [0.5, 1, 1]], [[0.5, 1, 0], [1, 0.5, 0], [1, 0.5, 1]], [[0.5, 0, 0], [0, 0.5, 0], [0, 0, 0.5]]],  # 97\n  [[[1, 0.5, 1], [0.5, 0, 0], [1, 0, 0.5]], [[1, 0.5, 1], [0.5, 1, 1], [0.5, 0, 0]], [[0.5, 1, 1], [0.5, 1, 0], [0.5, 0, 0]]],  # 98\n  [[[0, 0.5, 0], [0, 0, 0.5], [1, 0, 0.5]], [[0, 0.5, 0], [1, 0, 0.5], [0.5, 1, 1]], [[0, 0.5, 0], [0.5, 1, 1], [0.5, 1, 0]], [[0.5, 1, 1], [1, 0, 0.5], [1, 0.5, 1]]],  # 99\n  [[[1, 0, 0.5], [0.5, 1, 0], [1, 0.5, 0]], [[1, 0, 0.5], [0.5, 0, 1], [0.5, 1, 0]], [[0.5, 0, 1], [0.5, 1, 1], [0.5, 1, 0]]],  # 100\n  [[[0, 0, 0.5], [0.5, 0, 0], [0, 0.5, 0]], [[1, 0, 0.5], [0.5, 0, 1], [1, 0.5, 0]], [[0.5, 0, 1], [0.5, 1, 0], [1, 0.5, 0]], [[0.5, 0, 1], [0.5, 1, 1], [0.5, 1, 0]]],  # 101\n  [[[0.5, 0, 0], [0.5, 0, 1], [0.5, 1, 0]], [[0.5, 1, 0], [0.5, 0, 1], [0.5, 1, 1]]],  # 102\n  [[[0, 0.5, 0], [0, 0, 0.5], [0.5, 0, 1]], [[0, 0.5, 0], [0.5, 0, 1], [0.5, 1, 0]], [[0.5, 1, 0], [0.5, 0, 1], [0.5, 1, 1]]],  # 103\n  [[[1, 0.5, 1], [0.5, 1, 0], [1, 0.5, 0]], [[1, 0.5, 1], [0.5, 1, 1], [0.5, 1, 0]], [[0, 0.5, 1], [0.5, 0, 1], [0, 0, 0.5]]],  # 104\n  [[[0.5, 0, 0], [0, 0.5, 0], [0.5, 0, 1]], [[0.5, 0, 1], [0, 0.5, 0], [0, 0.5, 1]], [[0.5, 1, 0], [1, 0.5, 0], [1, 0.5, 1]], [[0.5, 1, 0], [1, 0.5, 1], [0.5, 1, 1]]],  # 105\n  [[[0, 0, 0.5], [0, 0.5, 1], [0.5, 0, 1]], [[0.5, 0, 0], [1, 0, 0.5], [0.5, 1, 1]], [[0.5, 0, 0], [0.5, 1, 1], [0.5, 1, 0]], [[0.5, 1, 1], [1, 0, 0.5], [1, 0.5, 1]]],  # 106\n  [[[0.5, 1, 1], [0.5, 1, 0], [1, 0, 0.5]], [[0.5, 1, 1], [1, 0, 0.5], [1, 0.5, 1]], [[0.5, 1, 0], [0, 0.5, 0], [1, 0, 0.5]], [[0.5, 0, 1], [1, 0, 0.5], [0, 0.5, 1]], [[0, 0.5, 0], [0, 0.5, 1], [1, 0, 0.5]]],  # 107\n  [[[1, 0.5, 0], [0.5, 1, 1], [0.5, 1, 0]], [[1, 0.5, 0], [0, 0, 0.5], [0.5, 1, 1]], [[1, 0.5, 0], [1, 0, 0.5], [0, 0, 0.5]], [[0, 0.5, 1], [0.5, 1, 1], [0, 0, 0.5]]],  # 108\n  [[[0, 0.5, 0], [0, 0.5, 1], [1, 0, 0.5]], [[0, 0.5, 0], [1, 0, 0.5], [0.5, 0, 0]], [[0, 0.5, 1], [0.5, 1, 1], [1, 0, 0.5]], [[1, 0.5, 0], [1, 0, 0.5], [0.5, 1, 0]], [[0.5, 1, 1], [0.5, 1, 0], [1, 0, 0.5]]],  # 109\n  [[[0, 0, 0.5], [0, 0.5, 1], [0.5, 1, 1]], [[0, 0, 0.5], [0.5, 1, 1], [0.5, 0, 0]], [[0.5, 0, 0], [0.5, 1, 1], [0.5, 1, 0]]],  # 110\n  [[[0.5, 1, 1], [0.5, 1, 0], [0, 0.5, 0]], [[0, 0.5, 1], [0.5, 1, 1], [0, 0.5, 0]]],  # 111\n  [[[0, 1, 0.5], [1, 0.5, 1], [0.5, 1, 1]], [[0, 1, 0.5], [0, 0.5, 0], [1, 0.5, 1]], [[0, 0.5, 0], [1, 0.5, 0], [1, 0.5, 1]]],  # 112\n  [[[0.5, 0, 0], [0, 1, 0.5], [0, 0, 0.5]], [[0.5, 0, 0], [1, 0.5, 1], [0, 1, 0.5]], [[0.5, 0, 0], [1, 0.5, 0], [1, 0.5, 1]], [[0.5, 1, 1], [0, 1, 0.5], [1, 0.5, 1]]],  # 113\n  [[[1, 0.5, 1], [0.5, 1, 1], [0, 1, 0.5]], [[1, 0, 0.5], [1, 0.5, 1], [0, 1, 0.5]], [[1, 0, 0.5], [0, 1, 0.5], [0, 0.5, 0]], [[1, 0, 0.5], [0, 0.5, 0], [0.5, 0, 0]]],  # 114\n  [[[1, 0.5, 1], [0.5, 1, 1], [0, 1, 0.5]], [[1, 0.5, 1], [0, 1, 0.5], [1, 0, 0.5]], [[1, 0, 0.5], [0, 1, 0.5], [0, 0, 0.5]]],  # 115\n  [[[1, 0, 0.5], [0.5, 0, 1], [0.5, 1, 1]], [[1, 0, 0.5], [0.5, 1, 1], [0, 0.5, 0]], [[1, 0, 0.5], [0, 0.5, 0], [1, 0.5, 0]], [[0, 0.5, 0], [0.5, 1, 1], [0, 1, 0.5]]],  # 116\n  [[[0.5, 0, 1], [0.5, 1, 1], [1, 0.5, 0]], [[0.5, 0, 1], [1, 0.5, 0], [1, 0, 0.5]], [[0.5, 1, 1], [0, 1, 0.5], [1, 0.5, 0]], [[0.5, 0, 0], [1, 0.5, 0], [0, 0, 0.5]], [[0, 1, 0.5], [0, 0, 0.5], [1, 0.5, 0]]],  # 117\n  [[[0, 1, 0.5], [0, 0.5, 0], [0.5, 0, 0]], [[0, 1, 0.5], [0.5, 0, 0], [0.5, 1, 1]], [[0.5, 1, 1], [0.5, 0, 0], [0.5, 0, 1]]],  # 118\n  [[[0, 1, 0.5], [0, 0, 0.5], [0.5, 0, 1]], [[0.5, 1, 1], [0, 1, 0.5], [0.5, 0, 1]]],  # 119\n  [[[0.5, 0, 1], [0, 0, 0.5], [0, 0.5, 1]], [[1, 0.5, 1], [0.5, 1, 1], [0, 0.5, 0]], [[1, 0.5, 1], [0, 0.5, 0], [1, 0.5, 0]], [[0, 0.5, 0], [0.5, 1, 1], [0, 1, 0.5]]],  # 120\n  [[[0.5, 0, 1], [0.5, 0, 0], [0, 1, 0.5]], [[0.5, 0, 1], [0, 1, 0.5], [0, 0.5, 1]], [[0.5, 0, 0], [1, 0.5, 0], [0, 1, 0.5]], [[0.5, 1, 1], [0, 1, 0.5], [1, 0.5, 1]], [[1, 0.5, 0], [1, 0.5, 1], [0, 1, 0.5]]],  # 121\n  [[[1, 0, 0.5], [0, 0.5, 0], [0.5, 0, 0]], [[1, 0, 0.5], [0, 1, 0.5], [0, 0.5, 0]], [[1, 0, 0.5], [1, 0.5, 1], [0, 1, 0.5]], [[0.5, 1, 1], [0, 1, 0.5], [1, 0.5, 1]], [[0.5, 0, 1], [0, 0, 0.5], [0, 0.5, 1]]],  # 122\n  [[[0, 0.5, 1], [0.5, 0, 1], [1, 0, 0.5]], [[0, 0.5, 1], [1, 0, 0.5], [0, 1, 0.5]], [[1, 0.5, 1], [0.5, 1, 1], [1, 0, 0.5]], [[0.5, 1, 1], [0, 1, 0.5], [1, 0, 0.5]]],  # 123\n  [[[0, 0.5, 0], [1, 0.5, 0], [0.5, 1, 1]], [[0, 0.5, 0], [0.5, 1, 1], [0, 1, 0.5]], [[1, 0.5, 0], [1, 0, 0.5], [0.5, 1, 1]], [[0, 0.5, 1], [0.5, 1, 1], [0, 0, 0.5]], [[1, 0, 0.5], [0, 0, 0.5], [0.5, 1, 1]]],  # 124\n  [[[0.5, 0, 0], [1, 0.5, 0], [1, 0, 0.5]], [[0, 0.5, 1], [0.5, 1, 1], [0, 1, 0.5]]],  # 125\n  [[[0, 1, 0.5], [0, 0.5, 0], [0.5, 0, 0]], [[0, 1, 0.5], [0.5, 0, 0], [0.5, 1, 1]], [[0, 0, 0.5], [0, 0.5, 1], [0.5, 0, 0]], [[0, 0.5, 1], [0.5, 1, 1], [0.5, 0, 0]]],  # 126\n  [[[0, 1, 0.5], [0, 0.5, 1], [0.5, 1, 1]]],  # 127\n  [[[0, 1, 0.5], [0.5, 1, 1], [0, 0.5, 1]]],  # 128\n  [[[0, 0, 0.5], [0.5, 0, 0], [0, 0.5, 0]], [[0, 0.5, 1], [0, 1, 0.5], [0.5, 1, 1]]],  # 129\n  [[[0.5, 0, 0], [1, 0, 0.5], [1, 0.5, 0]], [[0, 0.5, 1], [0, 1, 0.5], [0.5, 1, 1]]],  # 130\n  [[[0, 0.5, 0], [1, 0, 0.5], [1, 0.5, 0]], [[0, 0.5, 0], [0, 0, 0.5], [1, 0, 0.5]], [[0, 0.5, 1], [0, 1, 0.5], [0.5, 1, 1]]],  # 131\n  [[[1, 0.5, 1], [1, 0, 0.5], [0.5, 0, 1]], [[0.5, 1, 1], [0, 0.5, 1], [0, 1, 0.5]]],  # 132\n  [[[1, 0, 0.5], [0.5, 0, 1], [1, 0.5, 1]], [[0, 0, 0.5], [0.5, 0, 0], [0, 0.5, 0]], [[0.5, 1, 1], [0, 0.5, 1], [0, 1, 0.5]]],  # 133\n  [[[0.5, 0, 1], [1, 0.5, 0], [0.5, 0, 0]], [[0.5, 0, 1], [1, 0.5, 1], [1, 0.5, 0]], [[0.5, 1, 1], [0, 0.5, 1], [0, 1, 0.5]]],  # 134\n  [[[0.5, 1, 1], [0, 0.5, 1], [0, 1, 0.5]], [[0.5, 0, 1], [1, 0.5, 1], [0, 0, 0.5]], [[1, 0.5, 1], [0, 0.5, 0], [0, 0, 0.5]], [[1, 0.5, 1], [1, 0.5, 0], [0, 0.5, 0]]],  # 135\n  [[[0, 1, 0.5], [0.5, 0, 1], [0, 0, 0.5]], [[0.5, 1, 1], [0.5, 0, 1], [0, 1, 0.5]]],  # 136\n  [[[0, 1, 0.5], [0.5, 0, 0], [0, 0.5, 0]], [[0, 1, 0.5], [0.5, 1, 1], [0.5, 0, 0]], [[0.5, 1, 1], [0.5, 0, 1], [0.5, 0, 0]]],  # 137\n  [[[0.5, 0, 1], [0, 1, 0.5], [0.5, 1, 1]], [[0.5, 0, 1], [0, 0, 0.5], [0, 1, 0.5]], [[0.5, 0, 0], [1, 0, 0.5], [1, 0.5, 0]]],  # 138\n  [[[1, 0, 0.5], [0.5, 1, 1], [0.5, 0, 1]], [[1, 0, 0.5], [0, 0.5, 0], [0.5, 1, 1]], [[1, 0, 0.5], [1, 0.5, 0], [0, 0.5, 0]], [[0, 0.5, 0], [0, 1, 0.5], [0.5, 1, 1]]],  # 139\n  [[[1, 0.5, 1], [0, 1, 0.5], [0.5, 1, 1]], [[1, 0.5, 1], [1, 0, 0.5], [0, 1, 0.5]], [[1, 0, 0.5], [0, 0, 0.5], [0, 1, 0.5]]],  # 140\n  [[[1, 0.5, 1], [0, 1, 0.5], [0.5, 1, 1]], [[1, 0, 0.5], [0, 1, 0.5], [1, 0.5, 1]], [[1, 0, 0.5], [0, 0.5, 0], [0, 1, 0.5]], [[1, 0, 0.5], [0.5, 0, 0], [0, 0.5, 0]]],  # 141\n  [[[0.5, 0, 0], [0, 0, 0.5], [0, 1, 0.5]], [[0.5, 0, 0], [0, 1, 0.5], [1, 0.5, 1]], [[0.5, 0, 0], [1, 0.5, 1], [1, 0.5, 0]], [[0.5, 1, 1], [1, 0.5, 1], [0, 1, 0.5]]],  # 142\n  [[[0, 1, 0.5], [0.5, 1, 1], [1, 0.5, 1]], [[0, 1, 0.5], [1, 0.5, 1], [0, 0.5, 0]], [[0, 0.5, 0], [1, 0.5, 1], [1, 0.5, 0]]],  # 143\n  [[[0.5, 1, 1], [0, 0.5, 0], [0.5, 1, 0]], [[0, 0.5, 1], [0, 0.5, 0], [0.5, 1, 1]]],  # 144\n  [[[0, 0, 0.5], [0.5, 1, 1], [0, 0.5, 1]], [[0, 0, 0.5], [0.5, 0, 0], [0.5, 1, 1]], [[0.5, 0, 0], [0.5, 1, 0], [0.5, 1, 1]]],  # 145\n  [[[0, 0.5, 0], [0.5, 1, 1], [0, 0.5, 1]], [[0, 0.5, 0], [0.5, 1, 0], [0.5, 1, 1]], [[1, 0.5, 0], [0.5, 0, 0], [1, 0, 0.5]]],  # 146\n  [[[1, 0.5, 0], [0.5, 1, 0], [0.5, 1, 1]], [[1, 0.5, 0], [0.5, 1, 1], [0, 0, 0.5]], [[1, 0.5, 0], [0, 0, 0.5], [1, 0, 0.5]], [[0, 0.5, 1], [0, 0, 0.5], [0.5, 1, 1]]],  # 147\n  [[[0.5, 1, 1], [0, 0.5, 0], [0.5, 1, 0]], [[0.5, 1, 1], [0, 0.5, 1], [0, 0.5, 0]], [[0.5, 0, 1], [1, 0.5, 1], [1, 0, 0.5]]],  # 148\n  [[[1, 0, 0.5], [0.5, 0, 1], [1, 0.5, 1]], [[0, 0, 0.5], [0.5, 0, 0], [0, 0.5, 1]], [[0.5, 0, 0], [0.5, 1, 1], [0, 0.5, 1]], [[0.5, 0, 0], [0.5, 1, 0], [0.5, 1, 1]]],  # 149\n  [[[0.5, 1, 0], [0, 0.5, 1], [0, 0.5, 0]], [[0.5, 1, 0], [0.5, 1, 1], [0, 0.5, 1]], [[0.5, 0, 0], [0.5, 0, 1], [1, 0.5, 0]], [[0.5, 0, 1], [1, 0.5, 1], [1, 0.5, 0]]],  # 150\n  [[[1, 0.5, 1], [1, 0.5, 0], [0, 0, 0.5]], [[1, 0.5, 1], [0, 0, 0.5], [0.5, 0, 1]], [[1, 0.5, 0], [0.5, 1, 0], [0, 0, 0.5]], [[0, 0.5, 1], [0, 0, 0.5], [0.5, 1, 1]], [[0.5, 1, 0], [0.5, 1, 1], [0, 0, 0.5]]],  # 151\n  [[[0, 0.5, 0], [0.5, 0, 1], [0, 0, 0.5]], [[0, 0.5, 0], [0.5, 1, 0], [0.5, 0, 1]], [[0.5, 1, 0], [0.5, 1, 1], [0.5, 0, 1]]],  # 152\n  [[[0.5, 0, 0], [0.5, 1, 0], [0.5, 0, 1]], [[0.5, 1, 0], [0.5, 1, 1], [0.5, 0, 1]]],  # 153\n  [[[1, 0, 0.5], [1, 0.5, 0], [0.5, 0, 0]], [[0.5, 0, 1], [0, 0, 0.5], [0.5, 1, 0]], [[0.5, 0, 1], [0.5, 1, 0], [0.5, 1, 1]], [[0.5, 1, 0], [0, 0, 0.5], [0, 0.5, 0]]],  # 154\n  [[[1, 0, 0.5], [1, 0.5, 0], [0.5, 1, 0]], [[1, 0, 0.5], [0.5, 1, 0], [0.5, 0, 1]], [[0.5, 0, 1], [0.5, 1, 0], [0.5, 1, 1]]],  # 155\n  [[[0, 0.5, 0], [1, 0, 0.5], [0, 0, 0.5]], [[0, 0.5, 0], [0.5, 1, 1], [1, 0, 0.5]], [[0, 0.5, 0], [0.5, 1, 0], [0.5, 1, 1]], [[0.5, 1, 1], [1, 0.5, 1], [1, 0, 0.5]]],  # 156\n  [[[1, 0.5, 1], [1, 0, 0.5], [0.5, 0, 0]], [[1, 0.5, 1], [0.5, 0, 0], [0.5, 1, 1]], [[0.5, 1, 1], [0.5, 0, 0], [0.5, 1, 0]]],  # 157\n  [[[0.5, 1, 0], [0.5, 1, 1], [0, 0, 0.5]], [[0.5, 1, 0], [0, 0, 0.5], [0, 0.5, 0]], [[0.5, 1, 1], [1, 0.5, 1], [0, 0, 0.5]], [[0.5, 0, 0], [0, 0, 0.5], [1, 0.5, 0]], [[1, 0.5, 1], [1, 0.5, 0], [0, 0, 0.5]]],  # 158\n  [[[1, 0.5, 1], [1, 0.5, 0], [0.5, 1, 0]], [[0.5, 1, 1], [1, 0.5, 1], [0.5, 1, 0]]],  # 159\n  [[[0.5, 1, 0], [1, 0.5, 0], [1, 1, 0.5]], [[0, 1, 0.5], [0.5, 1, 1], [0, 0.5, 1]]],  # 160\n  [[[0.5, 0, 0], [0, 0.5, 0], [0, 0, 0.5]], [[0.5, 1, 0], [1, 0.5, 0], [1, 1, 0.5]], [[0, 0.5, 1], [0, 1, 0.5], [0.5, 1, 1]]],  # 161\n  [[[1, 1, 0.5], [0.5, 0, 0], [1, 0, 0.5]], [[1, 1, 0.5], [0.5, 1, 0], [0.5, 0, 0]], [[0, 1, 0.5], [0.5, 1, 1], [0, 0.5, 1]]],  # 162\n  [[[0, 0.5, 1], [0, 1, 0.5], [0.5, 1, 1]], [[0, 0.5, 0], [0, 0, 0.5], [0.5, 1, 0]], [[0, 0, 0.5], [1, 1, 0.5], [0.5, 1, 0]], [[0, 0, 0.5], [1, 0, 0.5], [1, 1, 0.5]]],  # 163\n  [[[1, 0.5, 0], [1, 1, 0.5], [0.5, 1, 0]], [[1, 0.5, 1], [1, 0, 0.5], [0.5, 0, 1]], [[0, 1, 0.5], [0.5, 1, 1], [0, 0.5, 1]]],  # 164\n  [[[0.5, 1, 1], [0, 0.5, 1], [0, 1, 0.5]], [[1, 0, 0.5], [0.5, 0, 1], [1, 0.5, 1]], [[0.5, 0, 0], [0, 0.5, 0], [0, 0, 0.5]], [[0.5, 1, 0], [1, 0.5, 0], [1, 1, 0.5]]],  # 165\n  [[[0, 1, 0.5], [0.5, 1, 1], [0, 0.5, 1]], [[1, 1, 0.5], [0.5, 1, 0], [1, 0.5, 1]], [[0.5, 1, 0], [0.5, 0, 1], [1, 0.5, 1]], [[0.5, 1, 0], [0.5, 0, 0], [0.5, 0, 1]]],  # 166\n  [[[0, 0, 0.5], [0.5, 1, 0], [0, 0.5, 0]], [[0, 0, 0.5], [1, 1, 0.5], [0.5, 1, 0]], [[0, 0, 0.5], [0.5, 0, 1], [1, 1, 0.5]], [[1, 0.5, 1], [1, 1, 0.5], [0.5, 0, 1]], [[0, 0.5, 1], [0, 1, 0.5], [0.5, 1, 1]]],  # 167\n  [[[0, 1, 0.5], [0.5, 0, 1], [0, 0, 0.5]], [[0, 1, 0.5], [0.5, 1, 1], [0.5, 0, 1]], [[1, 1, 0.5], [0.5, 1, 0], [1, 0.5, 0]]],  # 168\n  [[[1, 0.5, 0], [1, 1, 0.5], [0.5, 1, 0]], [[0.5, 0, 0], [0, 0.5, 0], [0.5, 1, 1]], [[0.5, 0, 0], [0.5, 1, 1], [0.5, 0, 1]], [[0.5, 1, 1], [0, 0.5, 0], [0, 1, 0.5]]],  # 169\n  [[[0, 0, 0.5], [0.5, 1, 1], [0.5, 0, 1]], [[0, 0, 0.5], [0, 1, 0.5], [0.5, 1, 1]], [[1, 0, 0.5], [1, 1, 0.5], [0.5, 0, 0]], [[1, 1, 0.5], [0.5, 1, 0], [0.5, 0, 0]]],  # 170\n  [[[0.5, 1, 1], [0.5, 0, 1], [0, 0.5, 0]], [[0.5, 1, 1], [0, 0.5, 0], [0, 1, 0.5]], [[0.5, 0, 1], [1, 0, 0.5], [0, 0.5, 0]], [[0.5, 1, 0], [0, 0.5, 0], [1, 1, 0.5]], [[1, 0, 0.5], [1, 1, 0.5], [0, 0.5, 0]]],  # 171\n  [[[1, 0.5, 0], [1, 1, 0.5], [0.5, 1, 0]], [[1, 0.5, 1], [1, 0, 0.5], [0.5, 1, 1]], [[1, 0, 0.5], [0, 1, 0.5], [0.5, 1, 1]], [[1, 0, 0.5], [0, 0, 0.5], [0, 1, 0.5]]],  # 172\n  [[[1, 0, 0.5], [0.5, 1, 1], [1, 0.5, 1]], [[1, 0, 0.5], [0, 1, 0.5], [0.5, 1, 1]], [[1, 0, 0.5], [0.5, 0, 0], [0, 1, 0.5]], [[0, 0.5, 0], [0, 1, 0.5], [0.5, 0, 0]], [[1, 0.5, 0], [1, 1, 0.5], [0.5, 1, 0]]],  # 173\n  [[[0.5, 1, 0], [0.5, 0, 0], [1, 0.5, 1]], [[0.5, 1, 0], [1, 0.5, 1], [1, 1, 0.5]], [[0.5, 0, 0], [0, 0, 0.5], [1, 0.5, 1]], [[0.5, 1, 1], [1, 0.5, 1], [0, 1, 0.5]], [[0, 0, 0.5], [0, 1, 0.5], [1, 0.5, 1]]],  # 174\n  [[[0, 1, 0.5], [0.5, 1, 1], [1, 0.5, 1]], [[0, 1, 0.5], [1, 0.5, 1], [0, 0.5, 0]], [[1, 1, 0.5], [0.5, 1, 0], [1, 0.5, 1]], [[0.5, 1, 0], [0, 0.5, 0], [1, 0.5, 1]]],  # 175\n  [[[0.5, 1, 1], [1, 0.5, 0], [1, 1, 0.5]], [[0.5, 1, 1], [0, 0.5, 1], [1, 0.5, 0]], [[0, 0.5, 1], [0, 0.5, 0], [1, 0.5, 0]]],  # 176\n  [[[0, 0, 0.5], [0.5, 1, 1], [0, 0.5, 1]], [[0.5, 0, 0], [0.5, 1, 1], [0, 0, 0.5]], [[0.5, 0, 0], [1, 1, 0.5], [0.5, 1, 1]], [[0.5, 0, 0], [1, 0.5, 0], [1, 1, 0.5]]],  # 177\n  [[[0.5, 0, 0], [0, 0.5, 1], [0, 0.5, 0]], [[0.5, 0, 0], [1, 1, 0.5], [0, 0.5, 1]], [[0.5, 0, 0], [1, 0, 0.5], [1, 1, 0.5]], [[1, 1, 0.5], [0.5, 1, 1], [0, 0.5, 1]]],  # 178\n  [[[0.5, 1, 1], [0, 0.5, 1], [0, 0, 0.5]], [[0.5, 1, 1], [0, 0, 0.5], [1, 1, 0.5]], [[1, 1, 0.5], [0, 0, 0.5], [1, 0, 0.5]]],  # 179\n  [[[1, 0, 0.5], [0.5, 0, 1], [1, 0.5, 1]], [[1, 0.5, 0], [1, 1, 0.5], [0, 0.5, 1]], [[1, 0.5, 0], [0, 0.5, 1], [0, 0.5, 0]], [[0, 0.5, 1], [1, 1, 0.5], [0.5, 1, 1]]],  # 180\n  [[[0.5, 0, 0], [0, 0.5, 1], [0, 0, 0.5]], [[0.5, 0, 0], [0.5, 1, 1], [0, 0.5, 1]], [[0.5, 0, 0], [1, 0.5, 0], [0.5, 1, 1]], [[1, 1, 0.5], [0.5, 1, 1], [1, 0.5, 0]], [[1, 0, 0.5], [0.5, 0, 1], [1, 0.5, 1]]],  # 181\n  [[[0, 0.5, 1], [0, 0.5, 0], [1, 1, 0.5]], [[0, 0.5, 1], [1, 1, 0.5], [0.5, 1, 1]], [[0, 0.5, 0], [0.5, 0, 0], [1, 1, 0.5]], [[1, 0.5, 1], [1, 1, 0.5], [0.5, 0, 1]], [[0.5, 0, 0], [0.5, 0, 1], [1, 1, 0.5]]],  # 182\n  [[[0.5, 1, 1], [0, 0.5, 1], [0, 0, 0.5]], [[0.5, 1, 1], [0, 0, 0.5], [1, 1, 0.5]], [[0.5, 0, 1], [1, 0.5, 1], [0, 0, 0.5]], [[1, 0.5, 1], [1, 1, 0.5], [0, 0, 0.5]]],  # 183\n  [[[1, 1, 0.5], [0, 0.5, 0], [1, 0.5, 0]], [[1, 1, 0.5], [0.5, 0, 1], [0, 0.5, 0]], [[1, 1, 0.5], [0.5, 1, 1], [0.5, 0, 1]], [[0, 0, 0.5], [0, 0.5, 0], [0.5, 0, 1]]],  # 184\n  [[[1, 0.5, 0], [1, 1, 0.5], [0.5, 1, 1]], [[1, 0.5, 0], [0.5, 1, 1], [0.5, 0, 0]], [[0.5, 0, 0], [0.5, 1, 1], [0.5, 0, 1]]],  # 185\n  [[[1, 0, 0.5], [1, 1, 0.5], [0, 0.5, 0]], [[1, 0, 0.5], [0, 0.5, 0], [0.5, 0, 0]], [[1, 1, 0.5], [0.5, 1, 1], [0, 0.5, 0]], [[0, 0, 0.5], [0, 0.5, 0], [0.5, 0, 1]], [[0.5, 1, 1], [0.5, 0, 1], [0, 0.5, 0]]],  # 186\n  [[[1, 0, 0.5], [1, 1, 0.5], [0.5, 1, 1]], [[0.5, 0, 1], [1, 0, 0.5], [0.5, 1, 1]]],  # 187\n  [[[1, 0, 0.5], [0, 0, 0.5], [0.5, 1, 1]], [[1, 0, 0.5], [0.5, 1, 1], [1, 0.5, 1]], [[0, 0, 0.5], [0, 0.5, 0], [0.5, 1, 1]], [[1, 1, 0.5], [0.5, 1, 1], [1, 0.5, 0]], [[0, 0.5, 0], [1, 0.5, 0], [0.5, 1, 1]]],  # 188\n  [[[1, 0.5, 1], [1, 0, 0.5], [0.5, 0, 0]], [[1, 0.5, 1], [0.5, 0, 0], [0.5, 1, 1]], [[1, 0.5, 0], [1, 1, 0.5], [0.5, 0, 0]], [[1, 1, 0.5], [0.5, 1, 1], [0.5, 0, 0]]],  # 189\n  [[[0.5, 0, 0], [0, 0, 0.5], [0, 0.5, 0]], [[1, 1, 0.5], [0.5, 1, 1], [1, 0.5, 1]]],  # 190\n  [[[1, 0.5, 1], [1, 1, 0.5], [0.5, 1, 1]]],  # 191\n  [[[0, 0.5, 1], [1, 1, 0.5], [1, 0.5, 1]], [[0, 1, 0.5], [1, 1, 0.5], [0, 0.5, 1]]],  # 192\n  [[[0, 0.5, 1], [1, 1, 0.5], [1, 0.5, 1]], [[0, 0.5, 1], [0, 1, 0.5], [1, 1, 0.5]], [[0, 0.5, 0], [0, 0, 0.5], [0.5, 0, 0]]],  # 193\n  [[[1, 1, 0.5], [0, 0.5, 1], [0, 1, 0.5]], [[1, 1, 0.5], [1, 0.5, 1], [0, 0.5, 1]], [[1, 0, 0.5], [1, 0.5, 0], [0.5, 0, 0]]],  # 194\n  [[[1, 0.5, 1], [0, 1, 0.5], [1, 1, 0.5]], [[1, 0.5, 1], [0, 0.5, 1], [0, 1, 0.5]], [[1, 0.5, 0], [0, 0.5, 0], [1, 0, 0.5]], [[0, 0.5, 0], [0, 0, 0.5], [1, 0, 0.5]]],  # 195\n  [[[0, 0.5, 1], [1, 0, 0.5], [0.5, 0, 1]], [[0, 0.5, 1], [0, 1, 0.5], [1, 0, 0.5]], [[0, 1, 0.5], [1, 1, 0.5], [1, 0, 0.5]]],  # 196\n  [[[0.5, 0, 0], [0, 0.5, 0], [0, 0, 0.5]], [[1, 0, 0.5], [0.5, 0, 1], [0, 1, 0.5]], [[1, 0, 0.5], [0, 1, 0.5], [1, 1, 0.5]], [[0, 1, 0.5], [0.5, 0, 1], [0, 0.5, 1]]],  # 197\n  [[[1, 0.5, 0], [0, 1, 0.5], [1, 1, 0.5]], [[1, 0.5, 0], [0.5, 0, 1], [0, 1, 0.5]], [[1, 0.5, 0], [0.5, 0, 0], [0.5, 0, 1]], [[0.5, 0, 1], [0, 0.5, 1], [0, 1, 0.5]]],  # 198\n  [[[0, 1, 0.5], [1, 1, 0.5], [0.5, 0, 1]], [[0, 1, 0.5], [0.5, 0, 1], [0, 0.5, 1]], [[1, 1, 0.5], [1, 0.5, 0], [0.5, 0, 1]], [[0, 0, 0.5], [0.5, 0, 1], [0, 0.5, 0]], [[1, 0.5, 0], [0, 0.5, 0], [0.5, 0, 1]]],  # 199\n  [[[0.5, 0, 1], [1, 1, 0.5], [1, 0.5, 1]], [[0.5, 0, 1], [0, 0, 0.5], [1, 1, 0.5]], [[0, 0, 0.5], [0, 1, 0.5], [1, 1, 0.5]]],  # 200\n  [[[0, 0.5, 0], [0.5, 0, 1], [0.5, 0, 0]], [[0, 0.5, 0], [1, 1, 0.5], [0.5, 0, 1]], [[0, 0.5, 0], [0, 1, 0.5], [1, 1, 0.5]], [[1, 0.5, 1], [0.5, 0, 1], [1, 1, 0.5]]],  # 201\n  [[[1, 0.5, 0], [0.5, 0, 0], [1, 0, 0.5]], [[1, 1, 0.5], [1, 0.5, 1], [0, 0, 0.5]], [[1, 1, 0.5], [0, 0, 0.5], [0, 1, 0.5]], [[0, 0, 0.5], [1, 0.5, 1], [0.5, 0, 1]]],  # 202\n  [[[1, 0.5, 0], [0, 0.5, 0], [0.5, 0, 1]], [[1, 0.5, 0], [0.5, 0, 1], [1, 0, 0.5]], [[0, 0.5, 0], [0, 1, 0.5], [0.5, 0, 1]], [[1, 0.5, 1], [0.5, 0, 1], [1, 1, 0.5]], [[0, 1, 0.5], [1, 1, 0.5], [0.5, 0, 1]]],  # 203\n  [[[1, 0, 0.5], [0, 0, 0.5], [1, 1, 0.5]], [[0, 0, 0.5], [0, 1, 0.5], [1, 1, 0.5]]],  # 204\n  [[[0.5, 0, 0], [0, 0.5, 0], [0, 1, 0.5]], [[0.5, 0, 0], [0, 1, 0.5], [1, 0, 0.5]], [[1, 0, 0.5], [0, 1, 0.5], [1, 1, 0.5]]],  # 205\n  [[[1, 0.5, 0], [0.5, 0, 0], [0, 0, 0.5]], [[1, 0.5, 0], [0, 0, 0.5], [1, 1, 0.5]], [[1, 1, 0.5], [0, 0, 0.5], [0, 1, 0.5]]],  # 206\n  [[[1, 0.5, 0], [0, 0.5, 0], [0, 1, 0.5]], [[1, 1, 0.5], [1, 0.5, 0], [0, 1, 0.5]]],  # 207\n  [[[1, 1, 0.5], [0, 0.5, 0], [0.5, 1, 0]], [[1, 1, 0.5], [1, 0.5, 1], [0, 0.5, 0]], [[1, 0.5, 1], [0, 0.5, 1], [0, 0.5, 0]]],  # 208\n  [[[1, 1, 0.5], [0.5, 0, 0], [0.5, 1, 0]], [[1, 1, 0.5], [0, 0.5, 1], [0.5, 0, 0]], [[1, 1, 0.5], [1, 0.5, 1], [0, 0.5, 1]], [[0, 0.5, 1], [0, 0, 0.5], [0.5, 0, 0]]],  # 209\n  [[[0.5, 0, 0], [1, 0, 0.5], [1, 0.5, 0]], [[0, 0.5, 0], [0.5, 1, 0], [1, 0.5, 1]], [[0, 0.5, 0], [1, 0.5, 1], [0, 0.5, 1]], [[1, 0.5, 1], [0.5, 1, 0], [1, 1, 0.5]]],  # 210\n  [[[1, 0.5, 1], [0, 0.5, 1], [0.5, 1, 0]], [[1, 0.5, 1], [0.5, 1, 0], [1, 1, 0.5]], [[0, 0.5, 1], [0, 0, 0.5], [0.5, 1, 0]], [[1, 0.5, 0], [0.5, 1, 0], [1, 0, 0.5]], [[0, 0, 0.5], [1, 0, 0.5], [0.5, 1, 0]]],  # 211\n  [[[0.5, 0, 1], [1, 1, 0.5], [1, 0, 0.5]], [[0.5, 0, 1], [0, 0.5, 0], [1, 1, 0.5]], [[0.5, 0, 1], [0, 0.5, 1], [0, 0.5, 0]], [[0.5, 1, 0], [1, 1, 0.5], [0, 0.5, 0]]],  # 212\n  [[[0.5, 0, 0], [0.5, 1, 0], [0, 0.5, 1]], [[0.5, 0, 0], [0, 0.5, 1], [0, 0, 0.5]], [[0.5, 1, 0], [1, 1, 0.5], [0, 0.5, 1]], [[0.5, 0, 1], [0, 0.5, 1], [1, 0, 0.5]], [[1, 1, 0.5], [1, 0, 0.5], [0, 0.5, 1]]],  # 213\n  [[[0.5, 0, 0], [0.5, 0, 1], [1, 1, 0.5]], [[0.5, 0, 0], [1, 1, 0.5], [1, 0.5, 0]], [[0.5, 0, 1], [0, 0.5, 1], [1, 1, 0.5]], [[0.5, 1, 0], [1, 1, 0.5], [0, 0.5, 0]], [[0, 0.5, 1], [0, 0.5, 0], [1, 1, 0.5]]],  # 214\n  [[[1, 0.5, 0], [0.5, 1, 0], [1, 1, 0.5]], [[0.5, 0, 1], [0, 0.5, 1], [0, 0, 0.5]]],  # 215\n  [[[0.5, 0, 1], [1, 1, 0.5], [1, 0.5, 1]], [[0, 0, 0.5], [1, 1, 0.5], [0.5, 0, 1]], [[0, 0, 0.5], [0.5, 1, 0], [1, 1, 0.5]], [[0, 0, 0.5], [0, 0.5, 0], [0.5, 1, 0]]],  # 216\n  [[[1, 1, 0.5], [1, 0.5, 1], [0.5, 0, 1]], [[1, 1, 0.5], [0.5, 0, 1], [0.5, 1, 0]], [[0.5, 1, 0], [0.5, 0, 1], [0.5, 0, 0]]],  # 217\n  [[[0, 0, 0.5], [1, 0.5, 1], [0.5, 0, 1]], [[0, 0, 0.5], [1, 1, 0.5], [1, 0.5, 1]], [[0, 0, 0.5], [0, 0.5, 0], [1, 1, 0.5]], [[0.5, 1, 0], [1, 1, 0.5], [0, 0.5, 0]], [[0.5, 0, 0], [1, 0, 0.5], [1, 0.5, 0]]],  # 218\n  [[[1, 1, 0.5], [1, 0.5, 1], [0.5, 0, 1]], [[1, 1, 0.5], [0.5, 0, 1], [0.5, 1, 0]], [[1, 0, 0.5], [1, 0.5, 0], [0.5, 0, 1]], [[1, 0.5, 0], [0.5, 1, 0], [0.5, 0, 1]]],  # 219\n  [[[0, 0.5, 0], [0.5, 1, 0], [1, 1, 0.5]], [[0, 0.5, 0], [1, 1, 0.5], [0, 0, 0.5]], [[0, 0, 0.5], [1, 1, 0.5], [1, 0, 0.5]]],  # 220\n  [[[0.5, 0, 0], [0.5, 1, 0], [1, 1, 0.5]], [[1, 0, 0.5], [0.5, 0, 0], [1, 1, 0.5]]],  # 221\n  [[[0, 0.5, 0], [0.5, 1, 0], [1, 1, 0.5]], [[0, 0.5, 0], [1, 1, 0.5], [0, 0, 0.5]], [[1, 0.5, 0], [0.5, 0, 0], [1, 1, 0.5]], [[0.5, 0, 0], [0, 0, 0.5], [1, 1, 0.5]]],  # 222\n  [[[1, 0.5, 0], [0.5, 1, 0], [1, 1, 0.5]]],  # 223\n  [[[0.5, 1, 0], [0, 0.5, 1], [0, 1, 0.5]], [[0.5, 1, 0], [1, 0.5, 0], [0, 0.5, 1]], [[1, 0.5, 0], [1, 0.5, 1], [0, 0.5, 1]]],  # 224\n  [[[0.5, 0, 0], [0, 0.5, 0], [0, 0, 0.5]], [[0.5, 1, 0], [1, 0.5, 0], [0, 1, 0.5]], [[1, 0.5, 0], [0, 0.5, 1], [0, 1, 0.5]], [[1, 0.5, 0], [1, 0.5, 1], [0, 0.5, 1]]],  # 225\n  [[[1, 0, 0.5], [1, 0.5, 1], [0, 0.5, 1]], [[1, 0, 0.5], [0, 0.5, 1], [0.5, 1, 0]], [[1, 0, 0.5], [0.5, 1, 0], [0.5, 0, 0]], [[0, 1, 0.5], [0.5, 1, 0], [0, 0.5, 1]]],  # 226\n  [[[0, 0, 0.5], [1, 0, 0.5], [0.5, 1, 0]], [[0, 0, 0.5], [0.5, 1, 0], [0, 0.5, 0]], [[1, 0, 0.5], [1, 0.5, 1], [0.5, 1, 0]], [[0, 1, 0.5], [0.5, 1, 0], [0, 0.5, 1]], [[1, 0.5, 1], [0, 0.5, 1], [0.5, 1, 0]]],  # 227\n  [[[0.5, 1, 0], [0, 0.5, 1], [0, 1, 0.5]], [[1, 0.5, 0], [0, 0.5, 1], [0.5, 1, 0]], [[1, 0.5, 0], [0.5, 0, 1], [0, 0.5, 1]], [[1, 0.5, 0], [1, 0, 0.5], [0.5, 0, 1]]],  # 228\n  [[[1, 0.5, 0], [0, 1, 0.5], [0.5, 1, 0]], [[1, 0.5, 0], [0, 0.5, 1], [0, 1, 0.5]], [[1, 0.5, 0], [1, 0, 0.5], [0, 0.5, 1]], [[0.5, 0, 1], [0, 0.5, 1], [1, 0, 0.5]], [[0.5, 0, 0], [0, 0.5, 0], [0, 0, 0.5]]],  # 229\n  [[[0, 0.5, 1], [0, 1, 0.5], [0.5, 1, 0]], [[0, 0.5, 1], [0.5, 1, 0], [0.5, 0, 1]], [[0.5, 0, 1], [0.5, 1, 0], [0.5, 0, 0]]],  # 230\n  [[[0, 0.5, 1], [0, 1, 0.5], [0.5, 1, 0]], [[0, 0.5, 1], [0.5, 1, 0], [0.5, 0, 1]], [[0, 0.5, 0], [0, 0, 0.5], [0.5, 1, 0]], [[0, 0, 0.5], [0.5, 0, 1], [0.5, 1, 0]]],  # 231\n  [[[0.5, 0, 1], [1, 0.5, 0], [1, 0.5, 1]], [[0.5, 0, 1], [0, 1, 0.5], [1, 0.5, 0]], [[0.5, 0, 1], [0, 0, 0.5], [0, 1, 0.5]], [[0, 1, 0.5], [0.5, 1, 0], [1, 0.5, 0]]],  # 232\n  [[[1, 0.5, 0], [1, 0.5, 1], [0, 1, 0.5]], [[1, 0.5, 0], [0, 1, 0.5], [0.5, 1, 0]], [[1, 0.5, 1], [0.5, 0, 1], [0, 1, 0.5]], [[0, 0.5, 0], [0, 1, 0.5], [0.5, 0, 0]], [[0.5, 0, 1], [0.5, 0, 0], [0, 1, 0.5]]],  # 233\n  [[[0, 0, 0.5], [0, 1, 0.5], [1, 0.5, 1]], [[0, 0, 0.5], [1, 0.5, 1], [0.5, 0, 1]], [[0, 1, 0.5], [0.5, 1, 0], [1, 0.5, 1]], [[1, 0, 0.5], [1, 0.5, 1], [0.5, 0, 0]], [[0.5, 1, 0], [0.5, 0, 0], [1, 0.5, 1]]],  # 234\n  [[[1, 0, 0.5], [1, 0.5, 1], [0.5, 0, 1]], [[0, 0.5, 0], [0, 1, 0.5], [0.5, 1, 0]]],  # 235\n  [[[0.5, 1, 0], [1, 0.5, 0], [1, 0, 0.5]], [[0.5, 1, 0], [1, 0, 0.5], [0, 1, 0.5]], [[0, 1, 0.5], [1, 0, 0.5], [0, 0, 0.5]]],  # 236\n  [[[0.5, 1, 0], [1, 0.5, 0], [1, 0, 0.5]], [[0.5, 1, 0], [1, 0, 0.5], [0, 1, 0.5]], [[0.5, 0, 0], [0, 0.5, 0], [1, 0, 0.5]], [[0, 0.5, 0], [0, 1, 0.5], [1, 0, 0.5]]],  # 237\n  [[[0.5, 1, 0], [0.5, 0, 0], [0, 0, 0.5]], [[0, 1, 0.5], [0.5, 1, 0], [0, 0, 0.5]]],  # 238\n  [[[0.5, 1, 0], [0, 0.5, 0], [0, 1, 0.5]]],  # 239\n  [[[1, 0.5, 0], [1, 0.5, 1], [0, 0.5, 0]], [[1, 0.5, 1], [0, 0.5, 1], [0, 0.5, 0]]],  # 240\n  [[[0, 0, 0.5], [0.5, 0, 0], [1, 0.5, 0]], [[0, 0, 0.5], [1, 0.5, 0], [0, 0.5, 1]], [[0, 0.5, 1], [1, 0.5, 0], [1, 0.5, 1]]],  # 241\n  [[[0.5, 0, 0], [1, 0, 0.5], [1, 0.5, 1]], [[0.5, 0, 0], [1, 0.5, 1], [0, 0.5, 0]], [[0, 0.5, 0], [1, 0.5, 1], [0, 0.5, 1]]],  # 242\n  [[[0, 0, 0.5], [1, 0, 0.5], [1, 0.5, 1]], [[0, 0.5, 1], [0, 0, 0.5], [1, 0.5, 1]]],  # 243\n  [[[1, 0, 0.5], [0.5, 0, 1], [0, 0.5, 1]], [[1, 0, 0.5], [0, 0.5, 1], [1, 0.5, 0]], [[1, 0.5, 0], [0, 0.5, 1], [0, 0.5, 0]]],  # 244\n  [[[0, 0, 0.5], [0.5, 0, 0], [1, 0.5, 0]], [[0, 0, 0.5], [1, 0.5, 0], [0, 0.5, 1]], [[1, 0, 0.5], [0.5, 0, 1], [1, 0.5, 0]], [[0.5, 0, 1], [0, 0.5, 1], [1, 0.5, 0]]],  # 245\n  [[[0.5, 0, 0], [0.5, 0, 1], [0, 0.5, 1]], [[0, 0.5, 0], [0.5, 0, 0], [0, 0.5, 1]]],  # 246\n  [[[0, 0, 0.5], [0.5, 0, 1], [0, 0.5, 1]]],  # 247\n  [[[0.5, 0, 1], [0, 0, 0.5], [0, 0.5, 0]], [[0.5, 0, 1], [0, 0.5, 0], [1, 0.5, 1]], [[1, 0.5, 1], [0, 0.5, 0], [1, 0.5, 0]]],  # 248\n  [[[1, 0.5, 0], [1, 0.5, 1], [0.5, 0, 1]], [[0.5, 0, 0], [1, 0.5, 0], [0.5, 0, 1]]],  # 249\n  [[[0.5, 0, 1], [0, 0, 0.5], [0, 0.5, 0]], [[0.5, 0, 1], [0, 0.5, 0], [1, 0.5, 1]], [[0.5, 0, 0], [1, 0, 0.5], [0, 0.5, 0]], [[1, 0, 0.5], [1, 0.5, 1], [0, 0.5, 0]]],  # 250\n  [[[1, 0, 0.5], [1, 0.5, 1], [0.5, 0, 1]]],  # 251\n  [[[1, 0, 0.5], [0, 0, 0.5], [0, 0.5, 0]], [[1, 0.5, 0], [1, 0, 0.5], [0, 0.5, 0]]],  # 252\n  [[[0.5, 0, 0], [1, 0.5, 0], [1, 0, 0.5]]],  # 253\n  [[[0.5, 0, 0], [0, 0, 0.5], [0, 0.5, 0]]],  # 254\n  []  # 255\n]\n\nmodule.exports = tlt\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/polygons/tlt.coffee\n **/","app       = require(\"app\")\nbackbone  = require(\"backbone\")\nconstants = require(\"../constants\")\n{V3}      = require(\"libs/mjs\")\n\nclass UrlManager\n\n\n  MAX_UPDATE_INTERVAL : 1000\n\n  constructor : (@model) ->\n\n    @baseUrl      = document.location.pathname + document.location.search\n    @initialState = @parseUrl()\n\n    @update = _.throttle(\n      => location.replace(@buildUrl())\n      @MAX_UPDATE_INTERVAL\n    )\n\n    _.extend(@, Backbone.Events)\n\n\n  parseUrl : ->\n\n    # State string format:\n    # x,y,z,mode,zoomStep[,rotX,rotY,rotZ][,activeNode]\n\n    stateString = location.hash.slice(1)\n    state = {}\n\n    if stateString\n\n      stateArray = stateString.split(\",\")\n      if stateArray.length >= 5\n\n        state.position = _.map stateArray.slice(0, 3), (e) -> +e\n        state.mode     = +stateArray[3]\n        state.zoomStep = +stateArray[4]\n\n        if stateArray.length >= 8\n          state.rotation = _.map stateArray.slice(5, 8), (e) -> +e\n\n          if stateArray[8]?\n            state.activeNode = +stateArray[8]\n\n        else\n          if stateArray[5]?\n            state.activeNode = +stateArray[5]\n\n    return state\n\n\n  startUrlUpdater : ->\n\n    @listenTo(@model.flycam, \"changed\", @update)\n    @listenTo(@model.flycam3d, \"changed\", @update)\n    @listenTo(@model, \"change:mode\", @update)\n\n    if @model.skeletonTracing\n      @listenTo(@model.skeletonTracing, \"newActiveNode\", @update)\n\n\n  buildUrl : ->\n\n    { flycam, flycam3d } = @model\n    state = V3.floor(flycam.getPosition())\n    state.push( @model.mode )\n\n    if @model.mode in constants.MODES_ARBITRARY\n      state = state\n        .concat( [flycam3d.getZoomStep().toFixed(2)] )\n        .concat( _.map flycam3d.getRotation(), (e) -> e.toFixed(2) )\n\n    else\n      state = state.concat( [flycam.getZoomStep().toFixed(2)] )\n\n    if @model.skeletonTracing?.getActiveNodeId()?\n      state.push(@model.skeletonTracing.getActiveNodeId())\n\n    return @baseUrl + \"#\" + state.join(\",\")\n\nmodule.exports = UrlManager\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/controller/url_manager.coffee\n **/","$     = require(\"jquery\")\n_     = require(\"lodash\")\nToast = require(\"libs/toast\")\nmodal = require(\"../modal\")\nView  = require(\"../../view\")\n\nclass SkeletonTracingView extends View\n\n  constructor : (@model) ->\n\n    super(@model)\n    _.extend(@, Backbone.Events)\n\n\n    @listenTo(@model.skeletonTracing, \"emptyBranchStack\", ->\n      Toast.error(\"No more branchpoints\", false))\n    @listenTo(@model.skeletonTracing, \"noBranchPoints\", ->\n      Toast.error(\"Setting branchpoints isn't necessary in this tracing mode.\", false))\n    @listenTo(@model.skeletonTracing, \"wrongDirection\", ->\n      Toast.error(\"You're tracing in the wrong direction\"))\n\n\n    autoSaveFailureMessage = \"Auto-Save failed!\"\n    @listenTo(@model.skeletonTracing.stateLogger, \"pushFailed\", ->\n      if @reloadDenied\n        Toast.error(autoSaveFailureMessage,  true)\n      else\n        modal.show(\n          \"Several attempts to reach our server have failed. You should\n          reload the page to make sure that your work won't be lost.\",\n          \"Connection error\",\n          [\n            {\n              id : \"reload-button\",\n              label : \"OK, reload\",\n              callback : ->\n                app.router.off(\"beforeunload\")\n                app.router.reload()\n            },\n            {\n              id : \"cancel-button\",\n              label : \"Cancel\",\n              callback : => @reloadDenied = true\n            }\n          ]\n        )\n    )\n    @listenTo(@model.skeletonTracing.stateLogger, \"pushDone\", ->\n      Toast.delete(\"danger\", autoSaveFailureMessage))\n\n\n  showFirstVisToggle : ->\n\n    modal.show(\"You just toggled the skeleton visibility. To toggle back, just hit the 1-Key.\",\n      \"Skeleton visibility\",\n      [{id: \"ok-button\", label: \"OK, Got it.\"}]\n    )\n\nmodule.exports = SkeletonTracingView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/skeletontracing/skeletontracing_view.coffee\n **/","$    = require(\"jquery\")\nView = require(\"../../view\")\n\nclass VolumeTracingView extends View\n\n  constructor : (@model) ->\n\n    super(@model)\n\n    $(\".skeleton-controls\").hide()\n    $(\".skeleton-plane-controls\").hide()\n    $(\".skeleton-arbitrary-controls\").hide()\n\nmodule.exports = VolumeTracingView\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/assets/javascripts/oxalis/view/volumetracing/volumetracing_view.coffee\n **/"],"sourceRoot":""}