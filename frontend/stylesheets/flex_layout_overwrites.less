.flexlayout__tab,
.flexlayout__tabset,
.flexlayout__tabset_tabbar_outer,
.flexlayout__border {
  background-color: transparent;
  color: unset;
}

.flexlayout__tab_border,
.flexlayout__tabset_tabbar_outer_top,
.flexlayout__tabset-selected {
  background-color: var(--ant-color-bg-base) !important;
}

.flexlayout__tabset_tabbar_outer_top {
  // Use an inset shadow instead of a real border so the active tab can visually "cut" the line.
  // Borders live outside the box and can't be masked by children; shadows are inside and can be covered.
  border-bottom: 0;
  box-shadow: inset 0 -1px 0 var(--ant-color-border);
}

.flexlayout__tabset_tabbar_inner_tab_container_top {
  border: none !important;
}

// The horizontal/vertical splitter is the UI element that is used to resize the borders between the tabs/viewports. 
.flexlayout__splitter:hover,
.flexlayout__splitter_drag {
  background-color: var(--ant-color-border-secondary)
}

.flexlayout__splitter {
  z-index: 21;
  background-color: var(--ant-color-border);

  &::before {
    content: "";
    background-color: transparent;
  }
}

// We configure the splitter to be almost invisible in code (just 1px) and use CSS transparent ::before pseudo to increase to mouse click/drag target instead. 
.flexlayout__splitter_vert::before {
  width: 11px;
  display: inline-block;
  height: 100%;
  position: relative;
  left: -5px;
}

// remove a 1px line of white pixel at the very left/right side of the screen
.flexlayout__border_left {
  border-right: none;
}

.flexlayout__border_right {
  border-left: none;
}


.flexlayout__splitter_horz::before {
  height: 11px;
  display: inline-block;
  width: 100%;
  position: relative;
  // Somehow the before content is 10px below the splitter.
  top: -15px;
}

.flexlayout__tabset_tabbar_outer {
  // On Safari, this ensures that the "maximize/minimize viewport"-button is easily clickable and a tab header/name can be grabbed for repositioning. 
  // (otherwise, the resizer becomes the default target for some reason).
  z-index: 100;
}

.flexlayout__popup_menu {
  // These properties are copied from antd's styling:
  font-family: @font-family;
  font-weight: 400;
  font-size: 14px;
}

// Fix min/max window button in dark mode
.flexlayout__tab_toolbar_button:hover {
  background-color: var(--ant-color-bg-base);
  position: relative;

  cursor: pointer;

  svg {
    fill: var(--ant-color-link);
  }
}

.flexlayout__tab_button {
  margin: 0;
  padding: 0px 5px;
  // These properties are copied from antd's styling:
  font-size: 14px;
  font-weight: 400;
  font-family: @font-family;
  box-sizing: border-box;

  border-left: 1px solid transparent;
  border-right: 1px solid transparent;
  border-top: 1px solid transparent;
  border-bottom: 1px solid var(--ant-color-border);
  // Draw the 1px underline on all tabs so the tabbar line looks continuous.
  // The active tab will mask this line to create the "interrupt" effect.

  &:hover {
    cursor: move;
  }

  background-color: var(--ant-color-bg-base);

  .flexlayout__tab_button_content {
    background-color: var(--ant-color-bg-base);
    color: var(--ant-color-text-secondary);
    // Keep borders defined at all times to avoid layout shifts on hover.
    border-left: 1px solid transparent;
    border-right: 1px solid transparent;
    border-top: 1px solid transparent;
    border-bottom: 1px solid transparent;
    box-sizing: border-box;

  }

  &.flexlayout__tab_button--selected {
    background-color: var(--ant-color-bg-base);
    // Minimalist active tab: only left/right/top borders, no bottom.
    border-left: 1px solid var(--ant-color-border);
    border-right: 1px solid var(--ant-color-border);
    border-top: 1px solid var(--ant-color-border);
    border-bottom: 1px solid var(--ant-color-bg-base);
    position: relative;
    z-index: 200;
    margin-bottom: -1px;

    .flexlayout__tab_button_content {
      background-color: var(--ant-color-bg-base);
      color: var(--ant-color-text);

    }

    // Mask the tabbar underline (an inset shadow) so the active tab "cuts" the line.
    &::after {
      content: "";
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      height: 1px;
      background-color: var(--ant-color-bg-base);
    }
  }

  &:hover {
    background-color: var(--ant-color-primary-bg-hover);

    .flexlayout__tab_button_content {
      background-color: var(--ant-color-primary-bg-hover);
      color: var(--ant-color-text-secondary);
    }
  }
}

.flexlayout-dont-overflow {
  overflow: hidden;
  height: 100%;
}

.flexlayout__outline_rect,
.flexlayout__outline_rect_edge {
  border-color: var(--color-wk-blue) !important;
}

// Reverse the direction of the buttons in the tabset bar to be able to position elements on the right.
.flexlayout__tab_toolbar {
  flex-direction: row-reverse;
}

// Select the first vertical border splitter and ignore all its pointer events to disable resizing of the border.
// This is only active when the left border is open and therefore only disables the splitter of the left border.
// More info about this css trick: https://stackoverflow.com/questions/2717480/css-selector-for-first-element-with-class.
.hide_first_splitter_border {
  pointer-events: none;
}

// This re-enables all pointer event for all other border splitters that are not the first (left most).
.hide_first_splitter_border~.hide_first_splitter_border {
  pointer-events: all;
}