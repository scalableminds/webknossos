@( conf: utils.WkConf, selectedTheme: String )
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <meta name="commit-hash" content="@(webknossos.BuildInfo.commitHash)" />
    <title>@(conf.WebKnossos.tabTitle)</title>
    @if(conf.Features.isDemoInstance){
    <meta
      name="description"
      content="Annotate and explore large 3D datasets with webKnossos. Fast neurite skeletonization. 3D voxel painting. Collaboration, sharing and crowdsourcing."
    />
    <meta
      name="keywords"
      content="connectomics, data annotation, image segmentation, electron microscopy, light microscopy, fluorescence microscopy, skeletonization, webknossos"
    />
    } else {
    <meta name="robot" content="noindex" />
    }
    <link rel="shortcut icon" type="image/png" href="/assets/images/favicon.png" />
    <link
      rel="stylesheet"
      type="text/css"
      media="screen"
      href="/assets/bundle/vendors~dark~light.css?nocache=@(webknossos.BuildInfo.commitHash)"
    />
    <link
      rel="stylesheet"
      type="text/css"
      media="screen"
      href="/assets/fonts/titillium-web.css?nocache=@(webknossos.BuildInfo.commitHash)"
    />
    <script>
      let initialTheme = "@(selectedTheme)";
      if (initialTheme === "auto") {
        initialTheme = 
          window.matchMedia('(prefers-color-scheme: dark)').media !== "not all" && 
          window.matchMedia('(prefers-color-scheme: dark)').matches ? 
            "dark" : 
            "light";
      }
      document.documentElement.style.display = 'none';
      document.head.insertAdjacentHTML(
        'beforeend',
        '<link ' +
          'id="primary-stylesheet" ' +
          'rel="stylesheet" ' +
          'type="text/css" ' +
          'media="screen" ' +
          'href="/assets/bundle/' + initialTheme + '.css?nocache=@(webknossos.BuildInfo.commitHash)" ' +
          'onload="document.documentElement.style.display = \'\'" ' + 
        '/>');
    </script>
    <script
      data-airbrake-project-id="@(conf.Airbrake.projectID)"
      data-airbrake-project-key="@(conf.Airbrake.projectKey)"
      data-airbrake-environment-name="@(conf.Airbrake.environment)"
    ></script>
    <script src="/assets/bundle/vendors~main.js?nocache=@(webknossos.BuildInfo.commitHash)"></script>
    <script src="/assets/bundle/main.js?nocache=@(webknossos.BuildInfo.commitHash)"></script>
  </head>
  <body>
    <main id="main-container"></main>

    @if(conf.GoogleAnalytics.trackingId.nonEmpty) {
    <script>
      (function(i, s, o, g, r, a, m) {
        i["GoogleAnalyticsObject"] = r;
        (i[r] =
          i[r] ||
          function() {
            (i[r].q = i[r].q || []).push(arguments);
          }),
          (i[r].l = 1 * new Date());
        (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
      })(window, document, "script", "https://www.google-analytics.com/analytics.js", "ga");

      ga("create", "@(conf.GoogleAnalytics.trackingId)", "auto");
      ga("set", "anonymizeIp", true);
      ga("send", "pageview");
    </script>
    }
  </body>
</html>
